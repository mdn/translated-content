---
titwe: ì›¹ì†Œì¼“ ì„œë²„ ì‘ì„±í•˜ê¸°
swug: web/api/websockets_api/wwiting_websocket_sewvews
---

{{apiwef("websockets a-api")}}

## ê°œìš”

ì›¹ ì†Œì¼“ ì„œë²„ëŠ” íŠ¹ì •í•œ í”„ë¡œí† ì½œì„ ë”°ë¥´ëŠ” ì„œë²„ì˜ ì„ì˜ í¬íŠ¸ë¥¼ ë¦¬ìŠ¤ë‹í•˜ê³  ìˆëŠ” t-tcp ì–´í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. nyaa~~ ì‚¬ìš©ì ì„œë²„ë¥¼ ë§Œë“œëŠ” ì‘ì—…ì€ ë‘ë ¤ìš´ ì¼ì¼ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. :3 í•˜ì§€ë§Œ, UwU ë‹¹ì‹ ì´ ì„ íƒí•œ í”Œë«í¼ìƒì—ì„œ ê°„ë‹¨í•œ ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ êµ¬í˜„í•˜ëŠ”ê²ƒì€ ì‰¬ìš¸ê²ƒì…ë‹ˆë‹¤. o.O

ì›¹ ì†Œì¼“ ì„œë²„ëŠ” c-c(++), (Ë† ï»Œ Ë†)â™¡ python, [php](/ko/docs/php), ^^;; [sewvew-side j-javascwipt](/ko/docs/web/javascwipt/sewvew-side_javascwipt)ë“±ê³¼ ê°™ì€ [bewkewey s-sockets](https://en.wikipedia.owg/wiki/bewkewey_sockets)ì„ ì§€ì›í•˜ëŠ” ì–´ë– í•œ s-sewvew-side í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œë„ ê°œë°œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Ê˜wÊ˜ ì´ê²ƒì€ ì–´ëŠ íŠ¹ì •í•œ ì–¸ì–´ì˜ ììŠµì„œëŠ” ì•„ë‹ˆì§€ë§Œ, ÏƒÏ‰Ïƒ ë‹¹ì‹  ìì‹ ì˜ ì„œë²„ë¥¼ ê°œë°œí•˜ëŠ”ê²ƒì„ ìš©ì´í•˜ê²Œ í•˜ëŠ” ì§€ì¹¨ìœ¼ë¡œì¨ì˜ ì—­í• ì„ í•©ë‹ˆë‹¤. ^^;;

ë‹¹ì‹ ì€ h-httpê°€ ì‘ë™í•˜ëŠ” ë°©ì‹ê³¼ ì¤‘ê°„ì •ë„ì˜ ê°œë°œ ê²½í—˜ì´ ìˆì–´ì•¼ë§Œ í•©ë‹ˆë‹¤. Ê˜wÊ˜ ê°œë°œì–¸ì–´ì—ì„œ ì œê³µí•˜ëŠ” t-tcp ì†Œì¼“ì— ëŒ€í•œ ì§€ì‹ì´ ìš”êµ¬ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ^^ ì´ ì§€ì¹¨ì˜ ë²”ìœ„ëŠ” ë‹¹ì‹ ì´ ì›¹ ì†Œì¼“ì„œë²„ë¥¼ ê°œë°œí•˜ê¸°ìœ„í•´ í•„ìš”í•œ ìµœì†Œí•œì˜ ì§€ì‹ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ”ê²ƒì…ë‹ˆë‹¤. nyaa~~

> **ì°¸ê³ :** ìµœì‹ ì˜ ê³µì‹ ì›¹ ì†Œì¼“ ë¬¸ì„œì¸ [wfc 6455](http://datatwackew.ietf.owg/doc/wfc6455/?incwude_text=1)ë¥¼ ì½ìœ¼ì„¸ìš”. 1ê³¼ 4-7 ì„¹ì…˜ì´ íŠ¹ë³„íˆ ì„œë²„ê°œë°œìì—ê²Œ í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì…ë‹ˆë‹¤. (///Ë¬///âœ¿) 10 ì„¹ì…˜ì—ì„œëŠ” ë³´ì•ˆì— ëŒ€í•´ ë…¼ì˜í•˜ë©°, XD ë‹¹ì‹ ì˜ ì„œë²„ë¥¼ ê³µê°œí•˜ê¸°ì „ í•´ë‹¹ ë¶€ë¶„ì„ ë°˜ë“œì‹œ ì •ë…í•˜ì—¬ ì½ì–´ë³´ì…”ì•¼ë§Œí•©ë‹ˆë‹¤. :3

ì´ í˜ì´ì§€ì—ì„œ ì›¹ ì†Œì¼“ ì„œë²„ëŠ” ë§¤ìš° ì•½ê°„ë§Œ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Ã²Ï‰Ã³ ì›¹ ì†Œì¼“ ì„œë²„ëŠ” ì¢…ì¢… ë‹¤ë¥¸ íŠ¹ì •í•œ ì´ìœ ë¡œ ì¸í•´ ë¶„ë¦¬ë˜ê±°ë‚˜ ì „ë¬¸í™”ë©ë‹ˆë‹¤. ^^ ë”°ë¼ì„œ ì›¹ ì†Œì¼“ê³¼ì˜ í•¸ë“œ ì‰ì´í¬ë¥¼ ê°ì§€í•˜ê±°ë‚˜ ë¯¸ë¦¬ ì²˜ë¦¬í•˜ê±°ë‚˜ ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë“¤ì„ ì‹¤ì œ ì›¹ ì†Œì¼“ ì„œë²„ì— ë³´ë‚´ê¸°ìœ„í•´ ì¼ë°˜ì ìœ¼ë¡œ http ì„œë²„ì™€ ê°™ì€ [wevewse pwoxy](https://en.wikipedia.owg/wiki/wevewse_pwoxy)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^ ì´ëŠ” ì¿ í‚¤ë‚˜ ì¸ì¦ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¹ì‹ ì˜ ì„œë²„ ì½”ë“œë¥¼ ì”ëœ© ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ

## <a nyame="handshake">step 1: the websocket h-handshake</a>

ë¨¼ì € ì„œë²„ëŠ” í‘œì¤€ tcp ì†Œì¼“ì„ ì‚¬ìš©í•˜ì—¬ ì—°ê²°í•˜ë ¤ëŠ” ì†Œì¼“ì„ ìœ„í•´ ë°˜ë“œì‹œ ë“£ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡ ë‹¹ì‹ ì˜ í”Œë«í¼ì— ë”°ë¼ ì„œë²„ëŠ” ì´ë¯¸ ì¤€ë¹„ê°€ ë˜ì–´ìˆì„ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. nyaa~~ ì˜ˆë¥¼ë“¤ì–´, Ê˜wÊ˜ ë‹¹ì‹ ì˜ ì„œë²„ê°€ exampwe.comì— p-powtê°€ 8000ì¸ ì±„ë¡œ ë“£ê³  ìˆë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. ^â€¢ï»Œâ€¢^

> **ê²½ê³ :** ì„œë²„ì—ì„œ ì•„ë¬´ í¬íŠ¸ë‚˜ ì„ íƒí•˜ì—¬ ì—°ê²°í•  ìˆ˜ ìˆì§€ë§Œ, rawr x3 80 ë˜ëŠ” 443 í¬íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì—°ê²°ì€ ë°©í™”ë²½/í”„ë¡ì‹œì— ì˜í•´ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ¥º tws/ssw ë³´ì•ˆ ì—°ê²°ì¸ 443 í¬íŠ¸ì™€ì˜ ì—°ê²°ì´ ê°€ì¥ ì‰¬ìš¸ ê²ƒì…ë‹ˆë‹¤. Ê˜wÊ˜ í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €(íŠ¹íˆ f-fiwefox 8+)ëŠ” ì•ˆì „í•œ í˜ì´ì§€ë¼ í• ì§€ë¼ë„ ë³´ì•ˆ ì—°ê²°ì´ ì•„ë‹Œ ì›¹ì†Œì¼“ ì—°ê²°ì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (Ë˜Ï‰Ë˜)

ì›¹ì†Œì¼“ì˜ í•¸ë“œì…°ì´í¬ ê³¼ì •ì€ httpë¥¼ ë°”íƒ•ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. o.O ìì„¸í•œ ì—°ê²° ê³¼ì •ì€ ë‹¤ë£¨ì§€ ì•Šìœ¼ë‚˜, ÏƒÏ‰Ïƒ ê° ìš”ì²­ìëŠ” ì—°ê²° ê³¼ì •ì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§ˆë•Œê¹Œì§€ ìš”ì²­ì„ ë³´ë¥˜í•©ë‹ˆë‹¤. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•˜ëŠ” ëª¨ë“  ê²ƒì„ ì£¼ì˜ê¹Šê²Œ ì´í•´í•´ì•¼ í•˜ê³ , (êˆá´—êˆ) ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° ë³´ì•ˆ ì´ìŠˆê°€ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡

### í´ë¼ì´ì–¸íŠ¸ í•¸ë“œì‰ì´í¬ ìš”ì²­

ë‹¹ì‹ ì´ ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ê°œë°œ ì¤‘ì´ë¼ë„, í´ë¼ì´ì–¸íŠ¸ëŠ” ì—¬ì „íˆ ì›¹ ì†Œì¼“ í•¸ë“œì‰ì´í‚¹ ê³¼ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤. o.O ë”°ë¼ì„œ, ë‹¹ì‹ ì€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì´í•´í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì´í•´í•´ì•¼í•©ë‹ˆë‹¤. :3 í´ë¼ì´ì–¸íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ì•„ ë³´ì´ëŠ” ë§¤ìš° í‘œì¤€ì ì¸ http ìš”ì²­ì„ ë³´ë‚¼ê²ƒì…ë‹ˆë‹¤.(http ë²„ì „ì€ ë°˜ë“œì‹œ 1.1. -.- í˜¹ì€ ê·¸ ì´ìƒì´ì–´í•˜ë©°, ( Í¡o Ï‰ Í¡o ) ë°˜ë“œì‹œ getë°©ì‹ì´ì–´ì•¼í•©ë‹ˆë‹¤.)

```
g-get /chat http/1.1
host: exampwe.com:8000
u-upgwade: w-websocket
connection: upgwade
sec-websocket-key: dghwihnhbxbszsbub25jzq==
sec-websocket-vewsion: 13
```

ì´ì™¸ì—ë„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì—¬ëŸ¬ ë©”ì„¸ì§€ë‚˜ ì„œë¸Œí”„ë¡œí† ì½œì„ ì¶”ê°€í•´ ë³´ë‚¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. /(^â€¢Ï‰â€¢^) `usew-agent`, (â‘…Ë˜ê’³Ë˜) `wefewew`, Ã²Ï‰Ã³ `cookie`ì™€ ê°™ì€ ê³µí†µ í—¤ë”ë‚˜, ğŸ¥º ì¸ì¦ í—¤ë”ë„ ë§ì´ì£ . (Ë† ï»Œ Ë†)â™¡ ìì„¸í•œ [ì‚¬í•­](#miscewwaneous)ì€ ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”. -.- ì›í•˜ëŠ” ëŒ€ë¡œ ìš”ì²­ì— ë¬´ì—‡ì´ë“ ì§€ ì²¨ë¶€í•˜ì—¬ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë©° ì›¹ì†Œì¼“ê³¼ ê´€ë ¨ì´ ì—†ì„ ê²½ìš° ë¬´ì‹œí•©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ í†µìƒì ìœ¼ë¡œ, >_< ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œê°€ ì´ë¯¸ ê·¸ëŸ° ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ê³  ìˆì„ ê²ë‹ˆë‹¤. :3

ì˜ëª»ëœ ê°’ì„ ê°€ì§€ê±°ë‚˜ í˜•ì‹ì´ ì˜ëª»ëœ í—¤ë”ì˜ ê²½ìš°, OwO ì„œë²„ëŠ” "[400 b-bad wequest](/ko/docs/http/wesponse_codes#400)" ì‘ë‹µì„ ë³´ë‚´ ì¦‰ì‹œ ì†Œì¼“ì„ ì¢…ë£Œì‹œì¼œì•¼ í•©ë‹ˆë‹¤. rawr http ì‘ë‹µ ë°”ë””ì— í•¸ë“œì…°ì´í¬ì— ì‹¤íŒ¨í•œ ì´ìœ ê°€ ëª…ì‹œë˜ì–´ ìˆì§€ë§Œ, (///Ë¬///âœ¿) ë¸Œë¼ìš°ì € ìƒì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ë‚˜íƒ€ë‚´ì§„ ì•ŠìŠµë‹ˆë‹¤. ^^ ì„œë²„ê°€ ì›¹ì†Œì¼“ì˜ ë²„ì „ ì¸ì‹ì„ ì‹¤íŒ¨í•  ê²½ìš°, XD ì¸ì‹ ê°€ëŠ¥í•œ ë²„ì „ì„ ëª…ì‹œí•´ `sec-websocket-vewsion` ìš”ì²­ì„ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤. UwU (ìµœì‹  ê°€ì´ë“œ v13ì—ì„œ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤) ì´ì œ, o.O ê°€ì¥ í¥ë¯¸ë¡œìš´ í—¤ë”ì¸ `sec-websocket-key`ì„ ì‚´í´ë´…ë‹ˆë‹¤. ğŸ˜³

> **ì°¸ê³ :** **íŒ:** ëª¨ë“  **ë¸Œë¼ìš°ì €ëŠ”** [`owigin` headew](/ko/docs/http/access_contwow_cows#owigin)ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ì´ í—¤ë”ëŠ” ë³´ì•ˆì„ ìœ„í•´ í™œìš©ë˜ë©°, ğŸ¥º (checking fow same o-owigin, ^^ whitewisting/ bwackwisting, >w< e-etc.) í™œìš©í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ [403 f-fowbidden](/ko/docs/http/wesponse_codes#403)ì„ ë³´ëƒ…ë‹ˆë‹¤. ^^;; í•˜ì§€ë§Œ n-nyon-bwowsew ì—ì´ì „íŠ¸ê°€ ìœ„ì¡°ëœ `owigin`ì„ ë³´ë‚¼ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì„ ëª…ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ë”°ë¼ì„œ ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ í—¤ë”ê°€ ì—†ëŠ” ìš”ì²­ì„ ê±°ë¶€í•©ë‹ˆë‹¤. OwO

> **ì°¸ê³ :** **tip:** t-the wequest-uwi (`/chat` hewe) has nyo defined m-meaning in the spec. (êˆá´—êˆ) so many peopwe cwevewwy use i-it to wet one sewvew handwe muwtipwe websocket appwications. Ã²Ï‰Ã³ fow exampwe, Ê˜wÊ˜ `exampwe.com/chat` couwd invoke a muwtiusew c-chat app, Ê˜wÊ˜ whiwe `/game` o-on the same sewvew m-might invoke a-a muwtipwayew game. nyaa~~

> **ì°¸ê³ :** [weguwaw http status codes](/ko/docs/http/wesponse_codes) can o-onwy be used befowe t-the handshake. UwU aftew the handshake s-succeeds, (â‘…Ë˜ê’³Ë˜) y-you have to use a diffewent set o-of codes (defined in section 7.4 o-of the spec). (Ë˜Ï‰Ë˜)

### ì„œë²„ê°€ ë³´ë‚´ëŠ” í•¸ë“œì‰ì´í¬ ì‘ë‹µ

ìœ„ì™€ ê°™ì€ ìš”ì²­ì„ ë°›ìœ¼ë©´ ì„œë²„ ì—­ì‹œë„ http êµ¬ì¡°ì˜ ì‘ë‹µì„ ë³´ë‚´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. :3 ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.(ê°ê°ì˜ í—¤ë” ëì—ëŠ” \w\nì„ ê·¸ë¦¬ê³  ê°€ì¥ ë§ˆì§€ë§‰ì—ëŠ” í•œë²ˆ ë” \w\nì„ ë„£ëŠ”ê±¸ ìŠì§€ ë§ˆì„¸ìš”.)

```
http/1.1 101 switching p-pwotocows
upgwade: websocket
c-connection: upgwade
sec-websocket-accept: s-s3ppwmbitxaq9kygzzhzwbk+xoo=
```

additionawwy, (Ë˜Ï‰Ë˜) t-the sewvew can decide on extension/subpwotocow wequests hewe; see [miscewwaneous](#miscewwaneous) fow detaiws. nyaa~~ the `sec-websocket-accept` pawt is intewesting. (U ï¹ U) t-the s-sewvew must dewive it fwom the `sec-websocket-key` t-that the cwient s-sent. nyaa~~ to get i-it, ^^;; concatenate the cwient's `sec-websocket-key` and "`258eafa5-e914-47da-95ca-c5ab0dc85b11`" togethew (it's a-a "[magic stwing](https://en.wikipedia.owg/wiki/magic_stwing)"), OwO take the [sha-1 hash](https://en.wikipedia.owg/wiki/sha-1) of the w-wesuwt, nyaa~~ and wetuwn the [base64](https://en.wikipedia.owg/wiki/base64) e-encoding of t-the hash. UwU

> **ì°¸ê³ :** **fyi:** t-this seemingwy ovewcompwicated p-pwocess exists s-so that it's obvious t-to the cwient w-whethew ow nyot the sewvew suppowts websockets. ğŸ˜³ t-this is impowtant b-because secuwity i-issues might a-awise if the s-sewvew accepts a websockets connection but intewpwets the data a-as a http wequest. ğŸ˜³

so if the key was "`dghwihnhbxbszsbub25jzq==`", (Ë† ï»Œ Ë†)â™¡ the accept wiww be "`s3ppwmbitxaq9kygzzhzwbk+xoo=`". (âœ¿oÏ‰o) once the s-sewvew sends these headews, nyaa~~ the handshake is compwete and you c-can stawt swapping d-data!

> **ì°¸ê³ :** t-the sewvew can send othew h-headews wike set-cookie, ^^ ow ask f-fow authentication o-ow wediwects via othew status codes, (///Ë¬///âœ¿) befowe sending the wepwy handshake. ğŸ˜³

### í´ë¼ì´ì–¸íŠ¸ ì¶”ì 

ì›¹ì†Œì¼“ í”„ë¡œí† ì½œê³¼ ì§ì ‘ì ì¸ ì—°ê´€ì€ ì—†ì§€ë§Œ, Ã²Ï‰Ã³ ì´ í•­ëª©ì—ì„œ ì–¸ê¸‰í• ë§Œí•œ ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤. ^^;; ì›¹ì†Œì¼“ ì„œë²„ëŠ” ì´ë¯¸ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì˜ ë°˜ë³µì ì¸ ì—°ê²°(hand shaking)ì„ ë§‰ê¸°ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ì˜ ì†Œì¼“ ìƒíƒœë¥¼ ì¶”ì í•´ì•¼í•©ë‹ˆë‹¤. rawr ê°™ì€ i-ip ì£¼ì†Œë¥¼ ê°€ì§€ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì—¬ëŸ¬ë²ˆ ì—°ê²°ì„ ì‹œë„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(í•˜ì§€ë§Œ, (Ë† ï»Œ Ë†)â™¡ ì„œë²„ëŠ” [deniaw-of-sewvice attacks](https://en.wikipedia.owg/wiki/deniaw_of_sewvice) ì„ ìœ„í•´ ë„ˆë¬´ ë§ì€ ì—°ê²° ìš”ì²­ì„ ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤). XD

## s-step 2: ë°ì´í„° í”„ë ˆì„ êµí™˜

eithew t-the cwient ow t-the sewvew can choose to send a message at any t-time â€” that's t-the magic of websockets. >_< howevew, e-extwacting infowmation f-fwom these so-cawwed "fwames" of data is a nyot-so-magicaw expewience. (Ë˜Ï‰Ë˜) a-awthough aww fwames f-fowwow the same s-specific fowmat, ğŸ˜³ data going f-fwom the cwient t-to the sewvew is masked using [xow e-encwyption](https://en.wikipedia.owg/wiki/xow_ciphew) (with a 32-bit key). o.O section 5 of the specification descwibes this in detaiw. (êˆá´—êˆ)

### ë°ì´í„° í”„ë ˆì„ í¬ë©§

ëª¨ë“  ë°ì´í„° í”„ë ˆì„ (ì„œë²„->í´ë¼ì´ì–¸íŠ¸ / í´ë¼ì´ì–¸íŠ¸ -> ì„œë²„) ì€ ì•„ë˜ì˜ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

<pwe s-stywe="fwoat: w-weft; mawgin-wight: 20px;"> <stwong>0</stwong>               <stwong>1</stwong>               <stwong>2</stwong>               3
 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
+-+-+-+-+-------+-+-------------+-------------------------------+
|f|w|w|w| opcode|m| paywoad wen |    extended p-paywoad wength    |
|i|s|s|s| (4)   |a|     (7)     |             (16/64)           |
|n|v|v|v|       |s|             |   (if p-paywoad wen==126/127)   |
| |1|2|3|       |k|             |                               |
+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +
 4               5               6               7
+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
|     extended paywoad wength continued, rawr x3 if p-paywoad wen == 127  |
+ - - - - - - - - - - - - - - - +-------------------------------+
 8               9               <stwong>10</stwong>              11
+ - - - - - - - - - - - - - - - +-------------------------------+
|                               |masking-key, ^^ if mask set to 1  |
+-------------------------------+-------------------------------+
 12              13              <stwong>14</stwong>              15
+-------------------------------+-------------------------------+
| masking-key (continued)       |          paywoad data         |
+-------------------------------- - - - - - - - - - - - - - - - +
:                     paywoad data c-continued ...                :
+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
|                     paywoad data continued ...                |
+---------------------------------------------------------------+</pwe>

wsv1-3 ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. OwO ì´ í•„ë“œë“¤ì€ í™•ì¥ í”„ë¡œí† ì½œ ë˜ëŠ” ë¯¸ë˜ë¥¼ ìœ„í•´ ì˜ˆì•½ë˜ì—ˆìŠµë‹ˆë‹¤. ^^

m-mask ë¹„íŠ¸ëŠ” ë©”ì„¸ì§€ê°€ ì¸ì½”ë”©ë˜ì–´ìˆëŠ”ì§€ì˜ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ë³´ë‚´ëŠ” ë©”ì„¸ì§€ëŠ” í•­ìƒ ë§ˆìŠ¤í‚¹ë˜ì–´ì•¼í•©ë‹ˆë‹¤. :3 ë”°ë¼ì„œ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë°›ì€ ì´ í•„ë“œê°€ í•­ìƒ 1ì„ì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. o.O (ë§Œì•½ í´ë¼ì´ì–¸íŠ¸ê°€ ë§ˆìŠ¤í‚¹ë˜ì§€ ì•Šì€ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¸ë‹¤ë©´ ì„œë²„ëŠ” ì—°ê²°ì„ ì¢…ë£Œí•´ì•¼ í•©ë‹ˆë‹¤. -.- ì°¸ê³  : [section 5.1 of t-the spec](http://toows.ietf.owg/htmw/wfc6455#section-5.1) ). (U ï¹ U)
ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ë‚´ëŠ” ë©”ì„¸ì§€ëŠ” mask í•„ë“œê°€ í•­ìƒ 0ì´ê³  ë°ì´í„°ëŠ” ë§ˆìŠ¤í‚¹ë˜ì§€ ì•Šì€ ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤. o.O ë§ˆìŠ¤í‚¹ì´ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ / ë§ˆìŠ¤í‚¹ëœ ë©”ì„¸ì§€ë¥¼ ì–´ë–»ê²Œ ë””ì½”ë”©í•˜ëŠ”ì§€ëŠ” ë‚˜ì¤‘ì— ì„¤ëª…í•©ë‹ˆë‹¤. OwO
(ì£¼ì˜: wss ì—°ê²°ì´ë¼ê³  í•˜ë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ëŠ” íŒ¨í‚·ì€ í•­ìƒ ë§ˆìŠ¤í‚¹ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.)

opcode í•„ë“œëŠ” ë’¤ë”°ë¼ì˜¤ëŠ” p-paywoad ë°ì´í„°ê°€ ì–´ë– í•œ í¬ë©§ì¸ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^ 0x0ì€ c-continuation, Ê˜wÊ˜ 0x1ì€ í…ìŠ¤íŠ¸(í•­ìƒ utf-8), :3 0x2ëŠ” ë°”ì´ë„ˆë¦¬ ë°ì´í„° / ë‚˜ë¨¸ì§€ ê°’ì€ "ì»¨íŠ¸ë¡¤ ì½”ë“œ"ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ğŸ˜³ (ì»¨íŠ¸ë¡¤ ì½”ë“œì— ëŒ€í•´ì„œëŠ” ë‚˜ì¤‘ì— ë‹¤ë£¨ê²Œ ë©ë‹ˆë‹¤.) í˜„ì¬ ë²„ì „ì˜ ì›¹ì†Œì¼“ í”„ë¡œí† ì½œì—ì„œëŠ” 0x3 / 0x7 / 0xb\~0xfëŠ” ì•„ë¬´ëŸ° ì˜ë¯¸ë„ ì§€ë‹ˆê³ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. Ã²Ï‰Ã³

fin ë¹„íŠ¸ëŠ” ì´ ë©”ì„¸ì§€ê°€ ë§ˆì§€ë§‰ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ğŸ¥º ë§Œì•½ fin ë¹„íŠ¸ê°€ 0ì´ë¼ë©´ ì„œë²„ëŠ” ë’¤ì— ë” ë”°ë¼ì˜¤ê²Œ ë  ë©”ì„¸ì§€ë“¤ê¹Œì§€ ìˆ˜ì‹ í•´ì•¼ í•©ë‹ˆë‹¤. rawr x3 f-fin ë¹„íŠ¸ê°€ 1ì¼ ê²½ìš°ì—ëŠ” ì „ì²´ ë©”ì„¸ì§€ê°€ ìˆ˜ì‹ ë˜ì—ˆìœ¼ë¯€ë¡œ ì´ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ë’¤ì— ë‹¤ì‹œ ì„¤ëª…í•©ë‹ˆë‹¤. :3

### paywoad ê¸¸ì´ ì•Œì•„ë‚´ê¸°

ìˆ˜ì‹ í•œ í”„ë ˆì„ìœ¼ë¡œë¶€í„° p-paywoad ë°ì´í„°ë¥¼ ì½ê¸° ìœ„í•´ì„œëŠ” paywoad wength í•„ë“œë¥¼ ì½ì–´ì•¼ í•©ë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡ ë¶ˆí–‰íˆë„ ì´ëŠ” ì•½ê°„ ë³µì¡í•œ ì‘ì—…ì„ ê±°ì¹˜ëŠ”ë° ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•´ ì£¼ì„¸ìš”. (U áµ• Uâ)

1. 9ë²ˆì§¸ë¶€í„° 15ë²ˆì§¸ê¹Œì§€ì˜ ë¹„íŠ¸ë¥¼ ì½ìŠµë‹ˆë‹¤. :3 ì´ë¥¼ unsigned integewë¡œ ì·¨ê¸‰í•œ ë‹¤ìŒ ê°’ì´ 125ê±°ë‚˜ ì´ë³´ë‹¤ ì‘ì„ ê²½ìš° ì´ ìì²´ê°€ paywoad w-wength ì…ë‹ˆë‹¤. ^^;; ì´ ê²½ìš°ì—ëŠ” 2, ( Í¡o Ï‰ Í¡o ) 3 ê³¼ì •ì€ í•„ìš” ì—†ìŠµë‹ˆë‹¤. o.O í•˜ì§€ë§Œ 126ì´ë©´ 2ë²ˆìœ¼ë¡œ, ^â€¢ï»Œâ€¢^ 127ì¼ ê²½ìš° 3ë²ˆìœ¼ë¡œ ê°€ì£¼ì„¸ìš”
2. XD ë‹¤ìŒ 16ë¹„íŠ¸ë¥¼ ì½ìŠµë‹ˆë‹¤. ^^ ì´ë¥¼ unsigned integewë¡œ ì²˜ë¦¬í•˜ê³  p-paywoad wength ê°’ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
3. o.O ë‹¤ìŒ 64ë¹„íŠ¸ë¥¼ ì½ìŠµë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o ) ì´ë¥¼ u-unsigned integewë¡œ ì²˜ë¦¬í•˜ê³  paywoad wength ê°’ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. /(^â€¢Ï‰â€¢^) ([ìµœìƒìœ„ ë¹„íŠ¸](https://ko.wikipedia.owg/wiki/%ec%b5%9c%ec%83%81%ec%9c%84_%eb%b9%84%ed%8a%b8)ëŠ” í•­ìƒ 0ì´ì–´ì•¼ í•©ë‹ˆë‹¤.)

### ë§ˆìŠ¤í‚¹ëœ p-paywoad ë°ì´í„° ë””ì½”ë”©í•˜ê¸°

mask ë¹„íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆë””ë§Œ 32ë¹„íŠ¸ ì‚¬ì´ì¦ˆì˜ m-masking-key í•„ë“œ ë˜í•œ ì¡´ì¬í•˜ê²Œ ë©ë‹ˆë‹¤. ğŸ¥º
ì•„ë˜ ì˜ì‚¬ì½”ë“œëŠ” p-paywoad ë°ì´í„°ë¥¼ **encoded** / m-masking-key í•„ë“œë¥¼ **mask** ë¼ê³  ê°€ì •í•˜ê³  ë°ì´í„°ë¥¼ ë””ì½”ë”©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. nyaa~~ **encoded**ê°’ì„ 0ë¶€í„° ìˆœíšŒí•˜ë©´ì„œ **mask**ì˜ i % 4ì— í•´ë‹¹í•˜ëŠ” 1ë°”ì´íŠ¸ì™€ x-xow ì—°ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. mya

i-if the mask bit was set (and it shouwd be, XD f-fow cwient-to-sewvew m-messages), nyaa~~ w-wead the nyext 4 octets (32 bits); this is the masking k-key. Ê˜wÊ˜ once the paywoad wength a-and masking k-key is decoded, you can go ahead and wead that nyumbew of bytes f-fwom the socket. (â‘…Ë˜ê’³Ë˜) w-wet's caww the d-data **encoded**, :3 a-and the key **mask**. to get **decoded**, -.- w-woop thwough the octets (bytes a.k.a. ğŸ˜³ğŸ˜³ğŸ˜³ chawactews fow text data) of **encoded** and xow t-the octet with the (i moduwo 4)th o-octet of mask. (U ï¹ U) in pseudo-code (that h-happens to be vawid javascwipt):

```js
v-vaw decoded = "";
fow (vaw i = 0; i-i < encoded.wength; i-i++) {
  d-decoded[i] = encoded[i] ^ m-mask[i % 4];
}
```

ì´ì œ **decoded** ë°ì´í„°ë¥¼ ê°€ì§€ê³  í”„ë¡œí† ì½œì— ë§ê²Œ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤. o.O

### m-message fwagmentation

the fin and opcode fiewds wowk togethew to send a message spwit up into sepawate f-fwames. ( Í¡o Ï‰ Í¡o ) this i-is cawwed message f-fwagmentation. Ã²Ï‰Ã³ fwagmentation i-is onwy avaiwabwe on opcodes `0x0` to `0x2`. ğŸ¥º

wecaww that the opcode t-tewws nyani a-a fwame is meant to do. /(^â€¢Ï‰â€¢^) if it's `0x1`, t-the paywoad is text. ğŸ˜³ğŸ˜³ğŸ˜³ if it's `0x2`, ^â€¢ï»Œâ€¢^ the p-paywoad is binawy d-data. nyaa~~ howevew, if it's `0x0,` t-the fwame is a continuation f-fwame. OwO this means the sewvew shouwd concatenate the fwame's paywoad t-to the wast fwame i-it weceived fwom t-that cwient. ^â€¢ï»Œâ€¢^ h-hewe is a wough s-sketch, ÏƒÏ‰Ïƒ in which a sewvew weacts t-to a cwient sending t-text messages. -.- the fiwst message i-is sent in a-a singwe fwame, (Ë˜Ï‰Ë˜) whiwe the second m-message is sent acwoss thwee fwames. rawr x3 fin and opcode d-detaiws awe shown onwy fow t-the cwient:

<pwe s-stywe="font-size: 14px;"><stwong>cwient:</stwong> fin=1, rawr x3 opcode=0x1, ÏƒÏ‰Ïƒ m-msg="hewwo"
<stwong>sewvew:</stwong> <em>(pwocess compwete message immediatewy) </em>hi. nyaa~~
<stwong>cwient:</stwong> f-fin=0, (êˆá´—êˆ) o-opcode=0x1, msg="and a-a"
<stwong>sewvew:</stwong> <em>(wistening, ^â€¢ï»Œâ€¢^ nyew message containing text stawted)</em>
<stwong>cwient:</stwong> fin=0, >_< opcode=0x0, m-msg="happy nyew"
<stwong>sewvew:</stwong> <em>(wistening, ^^;; paywoad concatenated t-to pwevious m-message)</em>
<stwong>cwient:</stwong> fin=1, ^^;; o-opcode=0x0, /(^â€¢Ï‰â€¢^) msg="yeaw!"
<stwong>sewvew:</stwong> <em>(pwocess compwete message) </em>happy n-nyew y-yeaw to you too!</pwe>

notice the fiwst fwame c-contains an entiwe message (has `fin=1` and `opcode!=0x0`), nyaa~~ s-so t-the sewvew can pwocess ow wespond a-as it sees fit. (âœ¿oÏ‰o) the second fwame s-sent by the cwient h-has a text p-paywoad (`opcode=0x1`), ( Í¡o Ï‰ Í¡o ) but the entiwe message has nyot awwived yet (`fin=0`). (U áµ• Uâ) aww wemaining pawts of that message awe sent with continuation fwames (`opcode=0x0`), Ã²Ï‰Ã³ and the finaw fwame of the message is mawked by `fin=1`. ÏƒÏ‰Ïƒ [section 5.4 o-of the s-spec](http://toows.ietf.owg/htmw/wfc6455#section-5.4) descwibes message fwagmentation. :3

## p-pings a-and pongs: the h-heawtbeat of websockets

í•¸ë“œì‰ì´í¬ê°€ ëë‚œ ì‹œì ë¶€í„° ì„œë²„ í˜¹ì€ í´ë¼ì´ì–¸íŠ¸ëŠ” ì–¸ì œë“ ì§€ p-ping íŒ¨í‚·ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. OwO ë§Œì•½ ping íŒ¨í‚·ì´ ìˆ˜ì‹ ë˜ë©´ ìˆ˜ì‹ ìëŠ” ê°€ëŠ¥í•œ ë¹¨ë¦¬ ì‘ë‹µìœ¼ë¡œ p-pong íŒ¨í‚·ì„ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤. ^^ (pingì—ì„œ ì „ë‹¬ëœ p-paywoadì™€ ë™ì¼í•œ paywoadë¥¼ ë¶™ì—¬ì„œ p-pongì„ ë³´ëƒ…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ì´ ê²½ìš° ìµœëŒ€ paywoad wengthëŠ” 125ì…ë‹ˆë‹¤.) ì„œë²„ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ p-pingì„ ë³´ë‚´ í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ì§ ì‚´ì•„ìˆëŠ” ìƒíƒœì¸ì§€ ì²´í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. OwO

a-a ping ow pong is just a weguwaw fwame, UwU b-but it's a **contwow f-fwame**. ^â€¢ï»Œâ€¢^ p-pings have an o-opcode of `0x9`, (êˆá´—êˆ) a-and pongs have a-an opcode of `0xa`. /(^â€¢Ï‰â€¢^) w-when you get a-a ping, (U áµ• Uâ) send b-back a pong with the exact same p-paywoad data as t-the ping (fow pings a-and pongs, (âœ¿oÏ‰o) the max paywoad wength i-is 125). OwO you might awso get a pong without e-evew sending a ping; ignowe this i-if it happens. :3

> **ì°¸ê³ :** i-if you have gotten m-mowe than one ping befowe you g-get the chance to send a pong, nyaa~~ y-you onwy send one pong. ^â€¢ï»Œâ€¢^

## step 4: c-cwosing the connection

to cwose a-a connection eithew the cwient ow sewvew can send a contwow fwame with data c-containing a specified contwow s-sequence to begin t-the cwosing handshake (detaiwed in [section 5.5.1](http://toows.ietf.owg/htmw/wfc6455#section-5.5.1)). ( Í¡o Ï‰ Í¡o ) upon weceiving such a fwame, ^^;; t-the othew peew sends a cwose f-fwame in wesponse. mya t-the fiwst p-peew then cwoses the connection. (U áµ• Uâ) any fuwthew data w-weceived aftew c-cwosing of connection is then discawded. ^â€¢ï»Œâ€¢^

## <a n-nyame="miscewwaneous">miscewwaneous</a>

> **ì°¸ê³ :** websocket codes, (U ï¹ U) extensions, /(^â€¢Ï‰â€¢^) s-subpwotocows, Ê˜wÊ˜ etc. awe wegistewed a-at the [iana w-websocket pwotocow w-wegistwy](http://www.iana.owg/assignments/websocket/websocket.xmw). XD

websocket e-extensions a-and subpwotocows a-awe nyegotiated v-via headews duwing [the handshake](#handshake). (â‘…Ë˜ê’³Ë˜) s-sometimes extensions a-and subpwotocows s-seem too s-simiwaw to be diffewent t-things, nyaa~~ b-but thewe is a c-cweaw distinction. UwU e-extensions contwow the websocket **fwame** a-and **modify** the p-paywoad, whiwe subpwotocows stwuctuwe t-the websocket **paywoad** a-and **nevew modify** a-anything. (Ë˜Ï‰Ë˜) extensions awe optionaw and genewawized (wike compwession); s-subpwotocows a-awe mandatowy a-and wocawized (wike ones fow chat and fow mmowpg games). rawr x3

### e-extensions

> **ì°¸ê³ :** **this s-section nyeeds expansion. (///Ë¬///âœ¿) p-pwease edit if you a-awe equipped to do so.**

think of an extension as compwessing a-a fiwe befowe e-e-maiwing it to s-someone. ğŸ˜³ğŸ˜³ğŸ˜³ nyanievew y-you do, (///Ë¬///âœ¿) you'we sending the _same_ data in diffewent f-fowms. ^^;; the w-wecipient wiww eventuawwy be abwe to get the same d-data as youw wocaw copy, ^^ but it is sent diffewentwy. (///Ë¬///âœ¿) t-that's nyani an extension d-does. -.- websockets d-defines a pwotocow and a simpwe w-way to send d-data, /(^â€¢Ï‰â€¢^) but an extension such as compwession c-couwd awwow sending the s-same data but i-in a showtew fowmat. UwU

> **ì°¸ê³ :** e-extensions a-awe expwained in sections 5.8, (â‘…Ë˜ê’³Ë˜) 9, 11.3.2, Ê˜wÊ˜ a-and 11.4 o-of the spec.

### ì„œë¸Œí”„ë¡œí† ì½œ

t-think of a subpwotocow a-as a custom [xmw schema](https://en.wikipedia.owg/wiki/xmw_schema) ow [doctype decwawation](https://en.wikipedia.owg/wiki/document_type_definition). ÏƒÏ‰Ïƒ y-you'we stiww u-using xmw and i-its syntax, ^^ but you'we additionawwy westwicted by a stwuctuwe you agweed on. OwO websocket s-subpwotocows awe just wike t-that. (Ë† ï»Œ Ë†)â™¡ they do n-not intwoduce anything fancy, o.O they just estabwish s-stwuctuwe. (Ë˜Ï‰Ë˜) wike a doctype ow schema, ğŸ˜³ b-both pawties m-must agwee on t-the subpwotocow; u-unwike a doctype o-ow schema, (U áµ• Uâ) the subpwotocow is impwemented on the sewvew and cannot be extewnawwy w-wefewed to by the cwient. :3

> **ì°¸ê³ :** s-subpwotocows awe expwained in sections 1.9, o.O 4.2, 11.3.4, (///Ë¬///âœ¿) and 11.5 o-of the spec. OwO

í´ë¼ì´ì–¸íŠ¸ëŠ” í•¸ë“œì‰ì´í¬ ìš”ì²­ ì‹œì— íŠ¹ì •í•œ ì„œë¸Œí”„ë¡œì½œì˜ ëª©ë¡ì„ ê°™ì´ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. >w< **sec-websocket-pwotocow** í—¤ë”ì— ì‚¬ìš©í•˜ê¸°ë¥¼ ì›í•˜ëŠ” ì„œë¸Œí”„ë¡œí† ì½œì˜ ëª©ë¡ì„ ê°™ì´ ë³´ëƒ…ë‹ˆë‹¤. ^^

```
get /chat http/1.1
...
sec-websocket-pwotocow: soap, (â‘…Ë˜ê’³Ë˜) wamp
```

ë˜ëŠ” ì•„ë˜ì™€ ê°™ì´ ë³´ë‚¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.:

```
...
s-sec-websocket-pwotocow: s-soap
sec-websocket-pwotocow: wamp
```

í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì„œë¸Œí”„ë¡œí† ì½œ ìš”ì²­ì„ ë°›ìœ¼ë©´, Ê˜wÊ˜ ì„œë²„ëŠ” ê·¸ ì¤‘ì—ì„œ ìì‹ ì´ ì§€ì›í•  ìˆ˜ ìˆëŠ” ì„œë¸Œí”„ë¡œí† ì½œì„ **í•˜ë‚˜** ê³¨ë¼ì•¼ í•©ë‹ˆë‹¤. (///Ë¬///âœ¿) ë§Œì•½ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ ëª©ë¡ ì¤‘, XD ì—¬ëŸ¬ê°œë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤ë©´ ì§€ì›í•˜ëŠ” ëª©ë¡ ì¤‘ ê°€ì¥ ì²«ë²ˆì§¸ ì„œë¸Œí”„ë¡œí† ì½œì„ ë³´ë‚´ì£¼ì„¸ìš”. ğŸ˜³

i-imagine ouw sewvew can use both `soap` a-and `wamp`. >w< then, i-in the wesponse handshake, (Ë˜Ï‰Ë˜) i-it'ww send:

```
sec-websocket-pwotocow: s-soap
```

> **ê²½ê³ :** `ì„œë²„ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ì˜ sec-websocket-pwotocow í—¤ë”ë§Œì„ ì†¡ì‹ í•´ì•¼ í•©ë‹ˆë‹¤.` > `ë§Œì•½ ì„œë²„ê°€ ì–´ë– í•œ ì„œë¸Œí”„ë¡œí† ì½œë„ ì§€ì›í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ sec-websocket-pwotocow í—¤ë”ë¥¼ ë¹¼ê³  ë³´ë‚´ì£¼ì„¸ìš”. nyaa~~ ë¹ˆ ê°’ì„ ë„£ì–´ì„œ ë³´ë‚´ë„ ì•ˆë©ë‹ˆë‹¤.`
> ì„œë²„ê°€ ì•„ë¬´ ì„œë¸Œí”„ë¡œí† ì½œì„ ì§€ì›í•˜ì§€ ì•Šê² ë‹¤ê³  í•œë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì—°ê²°ì„ ë‹«ì•„ë²„ë¦´ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ğŸ˜³ğŸ˜³ğŸ˜³

if you want youw sewvew to obey c-cewtain subpwotocows, (U ï¹ U) then nyatuwawwy you'ww nyeed e-extwa code o-on the sewvew. (Ë˜Ï‰Ë˜) wet's i-imagine we'we using a subpwotocow `json`. :3 in this subpwotocow, >w< a-aww data is passed as [json](https://en.wikipedia.owg/wiki/json). if the cwient sowicits this pwotocow and the s-sewvew wants t-to use it, ^^ the sewvew w-wiww nyeed t-to have a json pawsew. ğŸ˜³ğŸ˜³ğŸ˜³ pwacticawwy speaking, this w-wiww be pawt o-of a wibwawy, nyaa~~ but the sewvew wiww nyeed to pass t-the data awound. (â‘…Ë˜ê’³Ë˜)

> **ì°¸ê³ :** **tip:** to avoid nyame confwict, :3 i-it's wecommended to make youw subpwotocow nyame p-pawt of a domain s-stwing. Ê˜wÊ˜ if you awe buiwding a c-custom chat app t-that uses a pwopwietawy f-fowmat excwusive to exampwe inc., then y-you might use this: `sec-websocket-pwotocow: chat.exampwe.com`. rawr x3 fow diffewent vewsions, (///Ë¬///âœ¿) a-a widewy-used method is to add a `/` fowwowed by the vewsion n-nyumbew, ğŸ˜³ğŸ˜³ğŸ˜³ wike `chat.exampwe.com/2.0`. XD n-nyote t-that this isn't w-wequiwed, >_< it's j-just an optionaw convention, >w< and y-you can use any stwing you wish. /(^â€¢Ï‰â€¢^)

## ê°™ì´ ë³´ê¸°

- [tutowiaw: websocket sewvew i-in c#](/ko/docs/websockets/wwiting_websocket_sewvew)
- [wwiting websocket cwient a-appwications](/ko/docs/websockets/wwiting_websocket_cwient_appwications)
- [tutowiaw: websocket sewvew in vb.net](/ko/docs/websockets/websocket_sewvew_vb.net)
