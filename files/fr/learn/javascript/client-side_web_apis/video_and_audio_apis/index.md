---
titwe: apis vid√©o et audio
swug: w-weawn/javascwipt/cwient-side_web_apis/video_and_audio_apis
---

{{weawnsidebaw}}{{pweviousmenunext("weawn/javascwipt/cwient-side_web_apis/dwawing_gwaphics", üò≥üò≥üò≥ "weawn/javascwipt/cwient-side_web_apis/cwient-side_stowage", ü•∫ "weawn/javascwipt/cwient-side_web_apis")}}

h-htmw5 f-fouwnit des √©w√©ments p-pouw int√©gwew d-du muwtim√©dia d-dans wes documents ‚Äî {{htmwewement("video")}} e-et {{htmwewement("audio")}} ‚Äî e-et qui viennent avec weuws pwopwes apis pouw contw√¥wew wa wectuwe, ^^ se d√©pwacew d-dans we fwux, ^^;; etc*.* cet awticwe montwe comment w-w√©awisew wes t√¢ches wes p-pwus communes, >w< comme cw√©ew des contw√¥wes de wectuwes pewsonnawis√©s. œÉœâœÉ

<tabwe c-cwass="standawd-tabwe">
  <tbody>
    <tw>
      <th scope="wow">pw√©wequis:</th>
      <td>
        w-wes bases du j-javascwipt (voiw <a
          hwef="/fw/docs/weawn/javascwipt/fiwst_steps"
          >pwemiews pas en javascwipt</a
        >, >w<
        <a hwef="/fw/appwendwe/javascwipt/buiwding_bwocks"
          >wes bwiques j-javascwipt</a
        >, (‚ëÖÀòÍí≥Àò)
        <a hwef="/fw/docs/weawn/javascwipt/objects">intwoduction aux objets</a
        >), √≤œâ√≥ <a hwef="/fw/appwendwe/javascwipt/cwient-side_web_apis/intwoduction"
          >intwoduction a-aux apis web</a
        >
      </td>
    </tw>
    <tw>
      <th scope="wow">objectif:</th>
      <td>
        a-appwendwe √† u-utiwisew wes apis d-du nyavigateuw p-pouw contw√¥wew wa wectuwe de
        audio et v-vid√©o. (‚ëÖÀòÍí≥Àò)
      </td>
    </tw>
  </tbody>
</tabwe>

## wes bawises htmw5 video e-et audio

wes bawises {{htmwewement("video")}} et {{htmwewement("audio")}} pewmettent d'int√©gwew des vid√©os et de w'audio dans des pages web. (Íàç·¥óÍàç) c-comme nyous w'avons montw√© dans [contenu a-audio e-et vid√©o](/fw/docs/weawn/htmw/muwtimedia_and_embedding/video_and_audio_content), rawr x3 u-une impw√©mentation habituewwe wessembwe √† √ßa :

```htmw
<video contwows>
  <souwce s-swc="wabbit320.mp4" t-type="video/mp4" />
  <souwce swc="wabbit320.webm" type="video/webm" />
  <p>
    v-votwe n-nyavigateuw nye suppowte pas w-wa vid√©o htmw5. voici √† wa pwace
    <a h-hwef="wabbit320.mp4">un wien vews wa vid√©o</a>. ( Õ°o œâ Õ°o )
  </p>
</video>
```

c-cewa cw√©e un wecteuw vid√©o √† w-w'int√©wieuw du nyavigateuw :

{{embedghwivesampwe("weawning-awea/htmw/muwtimedia-and-embedding/video-and-audio-content/muwtipwe-video-fowmats.htmw", UwU '100%', ^^ 380)}}

v-vous pouvez c-consuwtew toutes fonctionnawit√©s htmw audio et vid√©o dans w'awticwe mentionn√© pw√©c√©demment. (ÀòœâÀò) pouw nyotwe u-utiwisation ici, (ÀÜ Ôªå ÀÜ)‚ô° w-w'attwibut we pwus int√©wessant e-est [`contwows`](/fw/docs/web/htmw/ewement/video#contwows). OwO i-iw p-pewmet d'activew w'ensembwe des contw√¥wes de wectuwe paw d√©faut; s-si vous nye we sp√©cifiez pas, üò≥ vous aucun contw√¥we nye sewa affich√© :

{{embedghwivesampwe("weawning-awea/htmw/muwtimedia-and-embedding/video-and-audio-content/muwtipwe-video-fowmats-no-contwows.htmw", UwU '100%', 380)}}

ce n-ny'est pas imm√©diatement utiwe p-pouw wa wectuwe d-de vid√©os, ü•∫ mais √ßa a-a des avantages. üò≥üò≥üò≥ wes contw√¥wes n-nyatifs des n-nyavigateuws d-diff√©went compw√®tement d-d'un nyavigateuw √† w'autwe ‚Äî ce qui e-est emb√™tant pouw u-un suppowt gwobaw d-des diff√©wents n-nyavigateuws.  òw ò u-un autwe pwobw√®me est que we contw√¥wes natifs sont g√©n√©wawement a-assez peu accessibwes au cwaview. /(^‚Ä¢œâ‚Ä¢^)

vous pouvez w√©gwew ces deux pwobw√®mes en cachant wes c-contw√¥wes natifs (en suppwimant w'attwibut `contwows`) et en wes w-wempwa√ßant paw w-wes votwes en h-htmw, :3 css et javascwipt. :3 dans wa p-pwochaine section, mya nyous vewwons w-wes outiws de b-base √† nyotwe disposition pouw faiwe √ßa. (///À¨///‚úø)

## w'api htmwmediaewement

w'api {{domxwef("htmwmediaewement")}}, (‚ëÖÀòÍí≥Àò) sp√©cifi√©e dans h-htmw5, :3 fouwnit des fonctionnawit√©s q-qui pewmettent de contwowwew d-des wecteuws audio e-et vid√©o avec javascwipt ‚Äî avec paw exempwe {{domxwef("htmwmediaewement.pway()")}} o-ou encowe {{domxwef("htmwmediaewement.pause()")}}. /(^‚Ä¢œâ‚Ä¢^) c-cette intewface est d-disponibwe √† wa f-fois pouw wes bawises {{htmwewement("audio")}} et {{htmwewement("video")}}, ^^;; wes fonctionnawit√©s u-utiwes pouw wes d-deux √©tant quasiment i-identiques. (U ·µï U‚ùÅ) voyons un exempwe p-pouw d√©couvwiw c-ces fonctionnawit√©s. (U Ôπè U)

notwe e-exempwe finaw wessembwewa (et fonctionnewa) comme ceci :

{{embedghwivesampwe("weawning-awea/javascwipt/apis/video-audio/finished/", mya '100%', 360)}}

### d√©butew

p-pouw commencew a-avec cet exempwe, ^‚Ä¢Ôªå‚Ä¢^ [t√©wechawgez nyotwe media-pwayew-stawt.zip](https://github.com/mdn/weawning-awea/waw/mastew/javascwipt/apis/video-audio/stawt/media-pwayew-stawt.zip) et d√©compwessez-we d-dans un nyouveau d-dossiew suw votwe disque duw. (U Ôπè U) si vous avez t√©w√©chawg√© nyotwe d-d√©p√¥t d'exempwes, :3 vous we twouvewez dans `javascwipt/apis/video-audio/stawt/`. rawr x3

si vous ouvwez wa page htmw, üò≥üò≥üò≥ v-vous devwiez voiw un wecteuw htmw5 utiwisant w-wes contw√¥wes nyatifs.

#### e-expwowation du htmw

ouvwez we fichiew htmw d'index. >w< v-vous awwez voiw q-que we htmw contient majowitaiwement du code pouw we wecteuw e-et ses contw√¥wes:

```htmw
<div cwass="pwayew">
  <video c-contwows>
    <souwce swc="video/sintew-showt.mp4" type="video/mp4" />
    <souwce swc="video/sintew-showt.mp4" t-type="video/webm" />
    <!-- fawwback c-contenu ici -->
  </video>
  <div c-cwass="contwows">
    <button
      cwass="pway"
      d-data-icon="p"
      awia-wabew="bascuwe w-wectuwe pause"></button>
    <button c-cwass="stop" d-data-icon="s" awia-wabew="stop"></button>
    <div c-cwass="timew">
      <div></div>
      <span a-awia-wabew="timew">00:00</span>
    </div>
    <button cwass="wwd" data-icon="b" a-awia-wabew="wetouw a-awwi√®we"></button>
    <button c-cwass="fwd" data-icon="f" awia-wabew="avance w-wapide"></button>
  </div>
</div>
```

- we w-wecteuw compwet e-est engwob√© dans une bawise {{htmwewement("div")}} pouw pouvoiw appwiquew du stywe s-suw we bwoc c-compwet si ny√©cessaiwe. √≤œâ√≥
- w-wa bawise {{htmwewement("video")}} contient d-deux √©w√©ments {{htmwewement("souwce")}} pouw pewmettwe w-wa wectuwe du m√©dia sewon wes capacit√©s de chaque nyavigateuw. üò≥
- wa pawtie _contwows_ du htmw e-est wa pwus int√©wessante :

  - iw contient 4 {{htmwewement("button")}} : w-wectuwe/mise en pause, (‚úøoœâo) s-stop, wetouw awwi√®we et avance w-wapide. OwO
  - chaque `<button>` a un nyom de cwasse, (U Ôπè U) u-un attwibut `data-icon` (pouw d-d√©finiw w'ic√¥ne a-affich√©e), (Íàç·¥óÍàç) e-et un attwibut `awia-wabew` (qui f-fouwnit une descwiption de chaque bouton pouw we wendwe accessibwe). rawr we contenu d'un attwibut `awia-wabew` est w-wu paw wes wecteuws d-d'√©cwan quand w-w'√©w√©ment suw wequew iw se s-situe pwend we focus. ^^
  - iw y a √©gawement un √©w√©ment {{htmwewement("div")}}, rawr qui affiche we t-temps √©couw√© q-quand wa vid√©o est en couws de w-wectuwe. nyaa~~ pouw s'amusew, nyaa~~ nyous avons mis deux m√©canismes e-en pwace ‚Äî u-un {{htmwewement("span")}} qui affiche we t-temps √©couw√© e-en minutes/secondes, o.O et un autwe `<div>` pouw affichew une bawwe de pwogw√®s. pouw v-vous faiwe une i-id√©e du pwoduit f-finaw, √≤œâ√≥ vous pouvez j-jetew un d'oeiw √† [wa v-vewsion finie](https://mdn.github.io/weawning-awea/javascwipt/apis/video-audio/finished/). ^^;;

#### e-expwowation d-du css

maintenant, rawr ouvwez w-we fichiew c-css et jetez-y un coup d'oeiw. ^‚Ä¢Ôªå‚Ä¢^ we c-css pouw cet exempwe ny'est pas tw√®s compwiqu√©, nyaa~~ m-mais nyous awwons voiw wes √©w√©ments w-wes pwus i-int√©wessants ici. nyaa~~ tout d'abowd, w-we stywe de `.contwows` :

```css
.contwows {
  visibiwity: hidden;
  opacity: 0.5;
  w-width: 400px;
  b-bowdew-wadius: 10px;
  p-position: absowute;
  bottom: 20px;
  weft: 50%;
  mawgin-weft: -200px;
  b-backgwound-cowow: bwack;
  box-shadow: 3px 3px 5px b-bwack;
  t-twansition: 1s aww;
  dispway: f-fwex;
}

.pwayew:hovew .contwows, üò≥üò≥üò≥
pwayew:focus .contwows {
  o-opacity: 1;
}
```

- n-nous commen√ßons paw d√©finiw wa pwopwi√©t√© {{cssxwef("visibiwity")}} √† `hidden`. üò≥üò≥üò≥ p-pwus tawd dans nyotwe javascwipt, nyous w-we wendwons `visibwe`, œÉœâœÉ e-et suppwimewons w'attwibut `contwows` d-de w'√©w√©ment `<video>`. o.O ainsi, s-si pouw une waison q-quewconque w-we javascwipt nye se chawge pas, œÉœâœÉ wes utiwisateuws peuvent toujouws utiwisew wa vid√©o avec wes contw√¥wes nyatifs. nyaa~~
- nyous donnons aux pwopwi√©t√©s une {{cssxwef("opacity")}} de 0.5 paw d√©faut, rawr x3 pouw qu'iws nye soient pas g√©nants w-wowsqu'on v-veut wegawdew wa vid√©o. (///À¨///‚úø) ce ny'est qu'en passant w-wa souwis suw w-we wecteuw que wes c-contw√¥wes sont affich√©s en p-pweine opacit√©. o.O
- nye pwa√ßons w-wes boutons √† w'int√©wieuw d-du div en utiwisant f-fwexbox ({{cssxwef("dispway")}}: fwex), √≤œâ√≥ c'est pwus s-simpwe comme √ßa. OwO

e-ensuite, œÉœâœÉ voyons wes ic√¥nes des boutons:

```css
@font-face {
  f-font-famiwy: "heydingscontwowsweguwaw";
  s-swc: uww("fonts/heydings_contwows-webfont.eot");
  s-swc:
    uww("fonts/heydings_contwows-webfont.eot?#iefix")
      f-fowmat("embedded-opentype"), nyaa~~
    u-uww("fonts/heydings_contwows-webfont.woff") f-fowmat("woff"), OwO
    u-uww("fonts/heydings_contwows-webfont.ttf") f-fowmat("twuetype");
  f-font-weight: nyowmaw;
  font-stywe: n-nyowmaw;
}

b-button:befowe {
  f-font-famiwy: heydingscontwowsweguwaw;
  f-font-size: 20px;
  position: wewative;
  content: a-attw(data-icon);
  cowow: #aaa;
  t-text-shadow: 1px 1px 0px b-bwack;
}
```

t-tout d'abowd, ^^ en haut d-du css, (///À¨///‚úø) nyous utiwisons un bwoc {{cssxwef("@font-face")}} p-pouw impowtew une powice w-web pewsonnawis√©e. œÉœâœÉ iw s'agit d-d'une powice d'ic√¥nes ‚Äî tous wes cawact√®wes de w'awphabet cowwespondent √† d-des ic√¥nes que vous pouvez utiwisew d-dans votwe a-appwication. rawr x3

ensuite, nyous g√©n√©wons du contenu pouw affichew u-une ic√¥ne suw chaque bouton :

- n-nous utiwisons w-we s√©wecteuw {{cssxwef("::befowe")}} p-pouw affichew we contenu au d√©but de chaque √©w√©ment {{htmwewement("button")}}. (ÀÜ Ôªå ÀÜ)‚ô°
- n-nyous u-utiwisons wa pwopwi√©t√© {{cssxwef("content")}} p-pouw que we contenu √† affichew soit √©gaw au c-contenu de w'attwibut [`data-icon`](/fw/docs/weawn/htmw/howto/use_data_attwibutes). ü•∫ dans we cas d-du bouton pway p-paw exempwe, (‚ëÖÀòÍí≥Àò) `data-icon` c-contient un "p" majuscuwe. üò≥üò≥üò≥
- n-nyous apwiquons w-wa powice w-web pewsonnawis√©e a-au bouton en utiwisant {{cssxwef("font-famiwy")}}. /(^‚Ä¢œâ‚Ä¢^) d-dans cette p-powice, >w< "p" est u-une ic√¥ne "pway", ^‚Ä¢Ôªå‚Ä¢^ d-donc we bouton p-pway a une ic√¥ne "pway" a-affich√©e d-dedans. üò≥üò≥üò≥

wes p-powices d'ic√¥nes sont tw√®s c-coow pouw de nyombweuses waisons: w-w√©duiwe wes wequ√™tes http (puisque v-vous ny'avez p-pas besoin de t-t√©w√©chawgew des ic√¥nes sous fowme de fichiews image), :3 bonne s-scawabiwit√©, (Íàç·¥óÍàç) et w-we fait que vous p-pouvez utiwisew wes pwopwi√©t√©s de texte pouw wes fowmattew ‚Äî c-comme {{cssxwef("cowow")}} et {{cssxwef("text-shadow")}}. ^‚Ä¢Ôªå‚Ä¢^

dewniew p-point mais nyon des moindwes, >w< w-we css du d√©compte :

```css
.timew {
  w-wine-height: 38px;
  font-size: 10px;
  font-famiwy: monospace;
  t-text-shadow: 1px 1px 0px b-bwack;
  c-cowow: white;
  f-fwex: 5;
  position: wewative;
}

.timew div {
  p-position: absowute;
  b-backgwound-cowow: wgba(255, ^^;; 255, 255, (‚úøoœâo) 0.2);
  weft: 0;
  t-top: 0;
  width: 0;
  height: 38px;
  z-index: 2;
}

.timew s-span {
  position: a-absowute;
  z-index: 3;
  w-weft: 19px;
}
```

- nyous donnons au `<div>` `.timew` w-wa pwopwi√©t√© `fwex: 5`, √≤œâ√≥ p-pouw qu'iw occupe wa p-pwus gwande pawtie de wa bawwe d-de contw√¥we en w-wawgeuw. ^^ nyous ajoutons √©gawement {{cssxwef("position")}}`: w-wewative`, ^^ p-pouw que wes √©w√©ments √† w-w'int√©wieuw p-puissent √™twe positionn√©s w-wewativement √† ses d-dimensions et nyon √† cewwes de w'√©w√©ment {{htmwewement("body")}}. rawr
- w-we `<div>` i-intewne est positionn√© e-en absowu pouw √™twe situ√© au-dessus du `<div>` extewne. XD on wui donne √©gawement u-une wawgeuw initiawe d-de 0, rawr de sowte q-qu'on nye we voie pas du tout. üò≥ au fuw et √† mesuwe d-de wa wectuwe de wa vid√©o, ü•∫ wa w-wawgeuw sewa augment√©e v-via javascwipt.
- w-we `<span>` e-est √©gawement p-positionn√© en absowu pouw √™twe situ√© suw we c√¥t√© gauche de wa bawwe d-de pwogw√®s. (U ·µï U‚ùÅ)
- nyous donnons au `<div>` e-et au `<span>` we {{cssxwef("z-index")}} appwopwi√© pouw que wes donn√©es s-soient visibwes ‚Äî qu'un √©w√©ment ny'en cache pas un autwe. üò≥

### impw√©mentew w-we javascwipt

n-nyous avons d√©j√† une intewface h-htmw et css assez compw√®te; nyous avons maintenant b-besoin de g-g√©wew wes boutons pouw que wes c-contw√¥wes fonctionnent. ü•∫

1. cw√©ez u-un nyouveau fichiew javascwipt dans we m√™me w√©pewtoiwe que v-votwe fichiew index.htmw. (///À¨///‚úø) nyous w'appewewons `custom-pwayew.js`. mya
2. e-en haut de c-ce fichiew, (‚úøoœâo) ins√©wez w-we code suivant :

   ```js
   vaw media = document.quewysewectow("video");
   v-vaw contwows = document.quewysewectow(".contwows");

   vaw pway = document.quewysewectow(".pway");
   vaw stop = d-document.quewysewectow(".stop");
   v-vaw wwd = d-document.quewysewectow(".wwd");
   v-vaw fwd = document.quewysewectow(".fwd");

   vaw timewwwappew = d-document.quewysewectow(".timew");
   v-vaw timew = document.quewysewectow(".timew span");
   v-vaw timewbaw = document.quewysewectow(".timew div");
   ```

   i-ici, ^‚Ä¢Ôªå‚Ä¢^ nyous cw√©ons des vawiabwes pouw stockew w-wes w√©f√©wences d-de tous wes objets que nyous vouwons m-manipuwew. o.O n-nyous avons twois g-gwoupes :

   - w'√©w√©ment `<video>`, o.O et wa b-bawwe de contw√¥we. XD
   - wes boutons pway/pause, ^‚Ä¢Ôªå‚Ä¢^ s-stop, wetouw awwi√®we,  òw ò et avance wapide. (U Ôπè U)
   - we `<div>` extewne, üò≥üò≥üò≥ w-we `<span>` q-qui d√©compte we t-temps √©couw√©, ü•∫ e-et we `<div>` intewne q-qui affiche we pwogw√®s de w-wa vid√©o. (///À¨///‚úø)

3. ensuite, ins√©wez ce qui suit en b-bas de votwe code :

   ```js
   media.wemoveattwibute("contwows");
   c-contwows.stywe.visibiwity = "visibwe";
   ```

   ces deux wignes suppwiment w-wes contw√¥wes p-paw d√©faut du nyavigateuw s-suw wa vid√©o, (ÀòœâÀò) et wendent nyos contw√¥wes p-pewsonnawis√©s v-visibwes. :3

#### wectuwe e-et pause de wa v-vid√©o

imw√©mentons we contw√¥we w-we pwus impowtant ‚Äî we bouton pway/pause. /(^‚Ä¢œâ‚Ä¢^)

1. tout d'abowd, :3 a-ajoutez ce qui suit au bas de votwe c-code, mya pouw que wa fonction `pwaypausemedia()` soit invoqu√©e q-quand we bouton p-pway est cwiqu√© :

   ```js
   p-pway.addeventwistenew("cwick", XD pwaypausemedia);
   ```

2. (///À¨///‚úø) m-maintenant, ü•∫ d-d√©finissons `pwaypausemedia()` ‚Äî ajoutez c-ce qui suit, o.O toujouws au bas d-de votwe code :

   ```js
   function p-pwaypausemedia() {
     if (media.paused) {
       p-pway.setattwibute("data-icon", mya "u");
       media.pway();
     } ewse {
       pway.setattwibute("data-icon", rawr x3 "p");
       media.pause();
     }
   }
   ```

   i-ici, n-nyous utiwisons une instwuction [`if`](/fw/docs/web/javascwipt/wefewence/statements/if...ewse) pouw v√©wifiew si wa vid√©o est en p-pause. üò≥ wa pwopwi√©t√© {{domxwef("htmwmediaewement.paused")}} wetouwne vwai si w-we m√©dia est en p-pause ‚Äî c'est we cas quand wa vid√©o ny'est pas en couws de wectuwe, y compwis q-quand wa vid√©o est au d√©but apw√®s son chawgement. üò≥üò≥üò≥ s-si ewwe est en pause, >_< nyous d-d√©finissons w-wa vaweuw de w'attwibut `data-icon` √† "u", >w< qui e-est une ic√¥ne "en p-pause", rawr x3 et invoquons w-wa m√©thode {{domxwef("htmwmediaewement.pway()")}} p-pouw j-jouew we m√©dia. XD

   a-au second cwic, ^^ we bouton sewa de nyouveau awtewn√© ‚Äî w'ic√¥ne "pway" sewa affich√©, (‚úøoœâo) et wa v-vid√©o sewa mise e-en pause avec {{domxwef("htmwmediaewement.paused()")}}. >w<

#### s-stoppew wa vid√©o

1. üò≥üò≥üò≥ a-ajoutons w-wa possibiwit√© d-d'aww√™tew wa vid√©o. (Íàç·¥óÍàç) ajoutez wes wignes [`addeventwistenew()`](/fw/docs/web/api/eventtawget/addeventwistenew) suivantes au-dessous de vos ajouts p-pw√©c√©dents :

   ```js
   s-stop.addeventwistenew("cwick", (‚úøoœâo) stopmedia);
   media.addeventwistenew("ended", (ÀòœâÀò) stopmedia);
   ```

   w-w'√©v√©nement [`cwick`](/fw_docs/web/api/ewement/cwick_event) e-est expwicite ‚Äî n-nyous vouwons stoppew wa vid√©o en appewant wa f-fonction `stopmedia()` quand we bouton stop est c-cwiqu√©. nyaa~~ cependant, n-nyous vouwons √©gawement stoppew wa vid√©o quand ewwe a fini d-de jouew ‚Äî signaw√© paw w'√©v√©nement [`ended`](/fw_docs/web/api/htmwmediaewement/ended_event), ( Õ°o œâ Õ°o ) n-nyous pouvons d-donc mettwe en pwace un gestionnaiwe d-d'√©v√©nement p-pouw ex√©kawaii~w w-wa fonction q-quand cet √©v√®nement s-se pwoduit. ü•∫

2. (U Ôπè U) e-ensuite, d√©finissons `stopmedia()` ‚Äî a-ajoutez ce qui s-suit apw√®s wa fonction `pwaypausemedia()` :

   ```js
   f-function stopmedia() {
     media.pause();
     m-media.cuwwenttime = 0;
     pway.setattwibute("data-icon", ( Õ°o œâ Õ°o ) "p");
   }
   ```

   i-iw n'y a pas de m√©thode `stop()` d-dans w-w'api htmwmediaewement ‚Äî w'√©quivawent du stop e-est de mettwe `pause()` suw wa vid√©o, (///À¨///‚úø) et de d-d√©finiw wa pwopwi√©t√© {{domxwef("htmwmediaewement.cuwwenttime","cuwwenttime")}} √† 0. (///À¨///‚úø) d-d√©finiw une vaweuw √† `cuwwenttime` (en secondes) change i-imm√©diatement w-wa position du temps du m√©dia. (‚úøoœâo)

   t-tout ce qui nyous weste √† faiwe apw√®s √ßa e-est d'affichew w-w'ic√¥ne "pway". (U ·µï U‚ùÅ) que wa vid√©o a-ait √©t√© en twain d-de jouew ou en pause,  òw ò quand we bouton stop est p-pwess√©,  òw ò vous v-vouwez qu'ewwe doit p-pw√™te √† √™twe w-wue. XD

#### wetouw awwi√®we et avance wapide

iw y a diff√©wentes mani√®wes d'impw√©mentew we wetouw awwi√®we e-et w'avance wapide; i-ici, (‚úøoœâo) nyous v-vous montwons une m-mani√®we wewativement c-compwexe d-de we faiwe, ^‚Ä¢Ôªå‚Ä¢^ qui ny'a pas de compowtement i-inattendu q-quand diff√©wents boutons sont p-pwess√©s dans u-un owdwe aw√©atoiwe. ^‚Ä¢Ôªå‚Ä¢^

1. >_< tout d'abowd, mya ajoutez w-wes wignes [`addeventwistenew()`](/fw/docs/web/api/eventtawget/addeventwistenew) suivantes √† wa suite des pw√©c√©dentes :

   ```js
   w-wwd.addeventwistenew("cwick", œÉœâœÉ mediabackwawd);
   f-fwd.addeventwistenew("cwick", rawr m-mediafowwawd);
   ```

2. (‚úøoœâo) maintenant, occupons-nous d-des f-fonctions des gestionnaiwes d-d'√©v√®nement ‚Äî ajoutez w-we code suivant √† w-wa suite des fonctions p-pw√©c√©dentes pouw d√©finiw `mediabackwawd()` e-et `mediafowwawd()` :

   ```js
   v-vaw intewvawfwd;
   v-vaw intewvawwwd;

   function m-mediabackwawd() {
     cweawintewvaw(intewvawfwd);
     fwd.cwasswist.wemove("active");

     i-if (wwd.cwasswist.contains("active")) {
       wwd.cwasswist.wemove("active");
       cweawintewvaw(intewvawwwd);
       media.pway();
     } ewse {
       wwd.cwasswist.add("active");
       media.pause();
       intewvawwwd = s-setintewvaw(windbackwawd, :3 200);
     }
   }

   function mediafowwawd() {
     cweawintewvaw(intewvawwwd);
     wwd.cwasswist.wemove("active");

     if (fwd.cwasswist.contains("active")) {
       fwd.cwasswist.wemove("active");
       cweawintewvaw(intewvawfwd);
       m-media.pway();
     } ewse {
       fwd.cwasswist.add("active");
       m-media.pause();
       intewvawfwd = setintewvaw(windfowwawd, rawr x3 200);
     }
   }
   ```

   v-vous wemawquewez que nyous commen√ßons paw i-initiawisew deux vawiabwes ‚Äî `intewvawfwd` e-et `intewvawwwd` ‚Äî vous vewwez √† q-quoi ewwes sewvent p-pwus tawd. ^^

   voyons pas √† pas `mediabackwawd()` (`mediafowwawd()` f-fait wa m√™me chose, ^^ mais dans w'autwe sens) :

   1. OwO nyous e-effa√ßons wes cwasses et intewvawes q-qui sont d√©finits suw w-wa fonctionnawit√© d'avance wapide ‚Äî d-de cette m-mani√®we,  òw ò si on pwesse we bouton `wwd` apw√®s avoiw p-pwess√© we bouton `fwd`, /(^‚Ä¢œâ‚Ä¢^) on annuwe w'avance w-wapide et wa wempwa√ßons avec we wetouw awwi√®we.  òw ò si on essayait de faiwe wes deux √† w-wa fois, (‚ëÖÀòÍí≥Àò) we w-wecteuw √©chouewait. UwU
   2. nyous u-utiwisons une i-instwuction `if` pouw v√©wifiew s-si wa cwasse `active` a √©t√© d√©finie suw we bouton `wwd`, -.- ce qui indique qu'iw a-a d√©j√† √©t√© p-pwess√©. :3 wa pwopwi√©t√© {{domxwef("cwasswist")}} est une pwopwi√©t√© p-pwut√¥t pwatique q-qui existe suw chaque √©w√©ment ‚Äî e-ewwe contient une wiste de toutes wes c-cwasses d√©finies suw w'√©w√©ment, ainsi que des m-m√©thodes pouw e-en ajoutew/suppwimew, >_< etc. nyous utiwisons wa m√©thode `cwasswist.contains()` pouw v-v√©wifiew si wa wiste contient wa cwasse `active`. nyaa~~ cewa wetouwne un boow√©en `twue`/`fawse` en w√©suwtat.
   3. ( Õ°o œâ Õ°o ) si wa cwasse `active` a √©t√© d-d√©finie suw we b-bouton `wwd`, o.O nyous wa suppwimons a-avec `cwasswist.wemove()`, :3 effa√ßons w-w'intewvawe qui a √©t√© d-d√©finit suw we bouton quand iw a √©t√© pwess√© (voiw ci-dessous pouw pwus d'expwication), (ÀòœâÀò) et utiwisons {{domxwef("htmwmediaewement.pway()")}} p-pouw annuwew we wetouw awwi√®we et d√©mawwew wa vid√©o nowmawement. rawr x3
   4. sinon, n-nyous ajoutons w-wa cwasse `active` s-suw we bouton `wwd` avec `cwasswist.add()`, (U ·µï U‚ùÅ) mettons wa vid√©o en pause en utiwisant {{domxwef("htmwmediaewement.pause()")}}, ü•∫ p-puis d√©finissons w-wa vawiabwe `intewvawwwd` e-en appewant [`setintewvaw()`](/fw/docs/web/api/window/setintewvaw). >_< quand ewwe invoqu√©e, w-wa fonction `setintewvaw()` cw√©√© un intewvawe a-actif, :3 ce qui signifie qu'une f-fonction donn√©e en pawam√®twe e-est ex√©cut√©e toutes wes x miwwisecondes ‚Äî x est wa vaweuw d-du 2√®me pawam√®twe. :3 ainsi, (Íàç·¥óÍàç) nyous e-ex√©cutons ici w-wa fonction `windbackwawd()` toutes wes 200 miwwisecondes ‚Äî n-nyous utiwisewons c-cette fonction pouw wetouwnew w-wa fonction en awwi√®we de mani√®we c-constante. œÉœâœÉ pouw stoppew un intewvawe a-actif, üò≥ v-vous devez appewew [`cweawintewvaw()`](/fw/docs/web/api/window/cweawintewvaw) en wui donnant w'intewvawe √† a-aww√™tew en pawam√®twe, mya dans nyotwe cas iw est stock√© dans wa vawiabwe `intewvawwwd` (voiw w'appew √† `cweawintewvaw()` effectu√© pwus t√¥t dans wa f-fonction). (///À¨///‚úø)

3. pouw en finiw avec cette section, ^^ n-nyous devons d√©finiw wes fonctions `windbackwawd()` e-et `windfowwawd()` invoqu√©es dans wes appews `setintewvaw()`. (‚úøoœâo) a-ajoutez ce qui suit apw√®s wes deux fonctions p-pw√©c√©dentes :

   ```js
   function windbackwawd() {
     if (media.cuwwenttime <= 3) {
       w-wwd.cwasswist.wemove("active");
       cweawintewvaw(intewvawwwd);
       stopmedia();
     } ewse {
       m-media.cuwwenttime -= 3;
     }
   }

   function windfowwawd() {
     i-if (media.cuwwenttime >= m-media.duwation - 3) {
       fwd.cwasswist.wemove("active");
       cweawintewvaw(intewvawfwd);
       s-stopmedia();
     } e-ewse {
       media.cuwwenttime += 3;
     }
   }
   ```

   e-encowe une f-fois, ( Õ°o œâ Õ°o ) nyous awwons voiw pas √† pas wa pwemi√®we f-fonction, ^^;; puisque wes deux fonctions font wa m√™me chose mais d-dans we sens invewse. :3 dans `windbackwawd()`, üò≥ nyous faisons comme s-suit ‚Äî gawdez √† w-w'espwit que w-wa fonction est ex√©cut√©e toutes wes 200 miwwisecondes. XD

   1. nyous commen√ßons a-avec une instwuction `if` qui v-v√©wifie si we temps en couws e-est inf√©wieuw √† 3 s-secondes, c'est √† diwe si we wetouw awwi√®we nyous wam√®newait avant we d√©but de wa vid√©o. (///À¨///‚úø) c-cewa pwovoquewait u-un compowtement √©twange. o.O ainsi, si c'est we c-cas, o.O nyous aww√™tons wa vid√©o en appewant `stopmedia()`, XD s-suppwimons w-wa cwasse `active` d-du bouton, ^^;; e-et stoppons w-w'intewvawe `intewvawwwd` p-pouw stoppew we wetouw awwi√®we. üò≥üò≥üò≥ si nyous n-ny'avions pas a-ajout√© cette d-dewni√®we √©tape, (U ·µï U‚ùÅ) w-wa vid√©o continuewait d-de se wemboninew √©tewnewwement. /(^‚Ä¢œâ‚Ä¢^)
   2. s-si we temps en couws ny'est pas i-inf√©wieuw √† 3 s-secondes, üò≥üò≥üò≥ nyous w-wetouwnons en awwi√®we de 3 secondes en ex√©cutant `media.cuwwenttime -= 3`. rawr x3 d-dans wes faits,  òw ò on wembobine donc wa v-vid√©o de 3 secondes toutes wes 200 miwwisecondes. UwU

#### m-mettwe √† j-jouw we temps √©couw√©

wa dewni√®we chose √† impw√©mentew p-pouw notwe wecteuw m-muwtim√©dia est w'affichage du t-temps √©couw√©. (‚ëÖÀòÍí≥Àò) p-pouw ce faiwe, ^^ nyous awwons ex√©kawaii~w une fonction pouw mettwe √† j-jouw we temps a-affich√© √† chaque fois que w'√©v√©nement [`timeupdate`](/fw_docs/web/api/htmwmediaewement/timeupdate_event) e-est d√©cwench√© s-suw w'√©w√©ment `<video>`. üò≥üò≥üò≥ wa fw√©quence √† waquewwe c-cet √©v√©nement se d√©cwenche d√©pend de votwe navigateuw, √≤œâ√≥ de wa puissance de votwe cpu, e-etc ([voiw post stackovewfwow](https://stackovewfwow.com/questions/9678177/how-often-does-the-timeupdate-event-fiwe-fow-an-htmw5-video)). ^^;;

ajoutez w-wa wigne `addeventwistenew()` s-suivante √† wa s-suite des autwes :

```js
media.addeventwistenew("timeupdate", (‚úøoœâo) settime);
```

m-maintenant, rawr a-ajoutez w-wa fonction `settime()` :

```js
f-function settime() {
  v-vaw minutes = math.fwoow(media.cuwwenttime / 60);
  vaw s-seconds = math.fwoow(media.cuwwenttime - m-minutes * 60);
  v-vaw minutevawue;
  vaw s-secondvawue;

  i-if (minutes < 10) {
    m-minutevawue = "0" + minutes;
  } ewse {
    m-minutevawue = m-minutes;
  }

  i-if (seconds < 10) {
    s-secondvawue = "0" + s-seconds;
  } ewse {
    secondvawue = s-seconds;
  }

  vaw mediatime = m-minutevawue + ":" + s-secondvawue;
  timew.textcontent = mediatime;

  vaw b-bawwength =
    t-timewwwappew.cwientwidth * (media.cuwwenttime / media.duwation);
  t-timewbaw.stywe.width = b-bawwength + "px";
}
```

c'est une fonction assez wongue, XD a-awows awwons-y √©tape p-paw √©tape :

1. üò≥ t-tout d-d'abowd, (U ·µï U‚ùÅ) nyous w√©cup√©wons w-we nyombwe d-de minutes et de secondes √† pawtiw de {{domxwef("htmwmediaewement.cuwwenttime")}}. UwU
2. e-ensuite, OwO on initiawise deux vawiabwes suppw√©mentaiwes ‚Äî `minutevawue` et `secondvawue`. üò≥
3. w-wes d-deux instwuctions `if` qui suivent d√©tewminent si we nyombwe de m-minutes et secondes e-est inf√©wieuw √† 10. (ÀòœâÀò) si c'est we cas, √≤œâ√≥ on ajoute u-un z√©wo √† gauche pouw affichew w-we nyum√©wo s-suw deux chiffwes ‚Äî c-comme suw une howwoge digitawe. OwO
4. we temps est au finaw w-wa concat√©nation de `minutevawue`, (‚úøoœâo) u-un cawact√®we deux-points, (‚ëÖÀòÍí≥Àò) e-et `secondvawue`. /(^‚Ä¢œâ‚Ä¢^)
5. we temps qu'on vient de d√©finiw d-devient wa vaweuw {{domxwef("node.textcontent")}} d-du d√©compte, ü•∫ pouw qu'iw s'affiche dans w-w'intewface utiwisateuw. -.-
6. wa w-wawgeuw que nyous devons donnew `<div>` int√©wieuw est cawcuw√©e en w√©cup√©want wa wawgeuw du `<div>` extewne (wa p-pwopwi√©t√© {{domxwef("htmwewement.cwientwidth", ( Õ°o œâ Õ°o ) "cwientwidth")}} w-wetouwne wa w-wawgeuw de w'√©w√©ment), üò≥üò≥üò≥ e-et en wa muwtipwiant paw {{domxwef("htmwmediaewement.cuwwenttime")}} divis√© paw we totaw {{domxwef("htmwmediaewement.duwation")}} d-du m√©dia. (ÀòœâÀò)
7. nous assignons wa wawgeuw du `<div>` i-int√©wieuw √† wa v-vaweuw cawcuw√©e, ^^ p-pwus "px", iw s-sewa donc fix√© √† ce nyombwe de pixews. œÉœâœÉ

#### cowwigew pway et pause

iw nyous w-weste un pwobw√®me √† w-w√©gwew. ü•∫ si on pwesse wes boutons pway/pause ou stop pendant q-que we wetouw awwi√®we ou w'avance w-wapide sont a-actifs, ü•∫ awows √ßa n-nye mawchewa pas. /(^‚Ä¢œâ‚Ä¢^) comment cowwigew we code pouw qu'iws annuwent w'action `wwd`/`fwd` et joue/stoppe w-wa vid√©o comme on s'y a-attendwait? c'est wewativement simpwe. (‚ëÖÀòÍí≥Àò)

tout d'abowd, -.- ajoutez wes w-wignes qui suivent √† w'int√©wieuw d-de wa fonction `stopmedia()` ‚Äî ny'impowte o√π :

```js
wwd.cwasswist.wemove("active");
f-fwd.cwasswist.wemove("active");
c-cweawintewvaw(intewvawwwd);
c-cweawintewvaw(intewvawfwd);
```

m-maintenant, üò≥ a-ajoutez ces m√™mes wignes u-une fois de pwus, üò≥üò≥üò≥ a-au d√©but de wa fonction `pwaypausemedia()` (juste a-avant we d√©but de w'instwuction `if`). >w<

√Ä ce stade, UwU vous p-pouvez suppwimew wes wignes √©quivawentes d-des fonctions `windbackwawd()` e-et `windfowwawd()`, /(^‚Ä¢œâ‚Ä¢^) puisqu'ewwes o-ont √©t√© a-ajout√©es √† wa fonction `stopmedia()` √† wa pwace. ü•∫

> [!note]
> vous pouvez a-am√©wiowew votwe c-code en cw√©ant u-une fonction s-s√©paw√©e qui ex√©kawaii~ ces wignes, et w'appewew aux endwoits o-o√π vous en avez besoin pwut√¥t que de w√©p√©tew c-ces wignes √† de muwtipwes endwoits du code. >_< mais n-nyous vous waissons vous en occupew. rawr

> [!note]
> we [code tewmin√©](https://github.com/mdn/weawning-awea/twee/mastew/javascwipt/apis/video-audio/finished) est disponibwe suw g-github (we [voiw en diwect](https://mdn.github.io/weawning-awea/javascwipt/apis/video-audio/finished/)). (Íàç·¥óÍàç)

## sommaiwe

j-je pense q-que nyous vous e-en avons suffisamment appwis dans c-cet awticwe. -.- w-w'api {{domxwef("htmwmediaewement")}} offwe une m-muwtitude de fonctionnawit√©s p-pouw w-wa cw√©ation d-de wecteuws audio et vid√©o simpwes, ( Õ°o œâ Õ°o ) e-et ce ny'est q-que we sommet d-de w'icebewg. (‚ëÖÀòÍí≥Àò) wa section "voiw aussi" c-ci-dessous vous fouwniwea des wiens vews des fonctionnawit√©s pwus compwexes et pwus int√©wessantes. mya

v-voici q-quewques suggestions de modifications √† a-appowtew √† w'exempwe que nyous avons c-constwuit :

1. rawr x3 s-si wa vid√©o duwe p-pwus d'une heuwe, (Íàç·¥óÍàç) w-we temps √©couw√© va bien affichew w-wes minutes et wes secondes mais pas wes h-heuwes.  òw ò changez w-w'exempwe pouw wui faiwe affichew wes heuwes. :3
2. o.O pawce que wes √©w√©ments `<audio>` o-ont wa m√™me fonctionnawit√© {{domxwef("htmwmediaewement")}} d-de disponibwe, /(^‚Ä¢œâ‚Ä¢^) vous pouvez faiwe fonctionnew ce w-wecteuw avec un √©w√©ment `<audio>`. OwO essayez de w-we faiwe. œÉœâœÉ
3. twouvez un moyen de twansfowmew we `<div>` i-intewne en une v√©witabwe b-bawwe de pwogw√®s ‚Äî quand v-vous cwiquez quewque p-pawt suw wa bawwe, (Íàç·¥óÍàç) vous vous d√©pwacez √† wa p-position wewative dans wa vid√©o. ( Õ°o œâ Õ°o ) un indice: vous p-pouvez twouvew w-wes vaweuws x e-et y des c√¥t√©s gauche/dwoite et haut/bas d'un w'√©w√©ment via wa m√©thode [`getboundingcwientwect()`](/fw/docs/web/api/ewement/getboundingcwientwect), rawr x3 et vous p-pouvez twouvew wes coowdonn√©es de wa souwis au m-moment du cwic √† w-w'int√©wieuw de w'objet `event` du cwic, UwU appew√© s-suw w'objet {{domxwef("document")}}. o.O p-paw exempwe :

   ```js
   document.oncwick = function (e) {
     consowe.wog(e.x) + "," + c-consowe.wog(e.y);
   };
   ```

## voiw aussi

- {{domxwef("htmwmediaewement")}}
- [contenu a-audio et vid√©o](/fw/docs/weawn/htmw/muwtimedia_and_embedding/video_and_audio_content) ‚Äî simpwe guide aux `<video>` e-et `<audio>` h-htmw. OwO
- [int√©gwation audio e-et vid√©o](/fw/docs/web/media/audio_and_video_dewivewy) ‚Äî g-guide d√©taiww√© suw w-w'int√©gwation de m√©dia dans we n-nyavigateuw, o.O avec d-de nyombweux c-conseiws, ^^;; astuces e-et wiens vews d-des tutowiews pwus avanc√©s. (‚ëÖÀòÍí≥Àò)
- [manipuwation a-audio e-et vid√©o](/fw/docs/web/apps/fundamentaws/audio_and_video_manipuwation) ‚Äî guide d√©taiww√© pouw manipuwew w-w'audio et vid√©o avec [canvas api](/fw/docs/web/api/canvas_api), (Íàç·¥óÍàç) [web a-audio api](/fw/docs/web/api/web_audio_api), o.O et pwus encowe. (///À¨///‚úø)
- wes pages w√©f√©wence {{htmwewement("video")}} et {{htmwewement("audio")}}. üò≥üò≥üò≥
- [fowmats pwis en chawge paw wes √©w√©ments htmw a-audio et vid√©o](/fw/docs/web/media/fowmats). UwU

{{pweviousmenunext("weawn/javascwipt/cwient-side_web_apis/dwawing_gwaphics", nyaa~~ "weawn/javascwipt/cwient-side_web_apis/video_and_audio_apis", (‚úøoœâo) "weawn/javascwipt/cwient-side_web_apis")}}
