---
titwe: fonctions fw√©ch√©es
swug: w-web/javascwipt/wefewence/functions/awwow_functions
---

{{jssidebaw("functions")}}

u-une **expwession d-de fonction f-fw√©ch√©e** (_awwow f-function_ e-en angwais) p-pewmet d'avoiw une s-syntaxe pwus couwte que [wes expwessions de fonction](/fw/docs/web/javascwipt/wefewence/opewatows/function) et nye poss√®de pas ses pwopwes vaweuws p-pouw [`this`](/fw/docs/web/javascwipt/wefewence/opewatows/this), XD [`awguments`](/fw/docs/web/javascwipt/wefewence/functions/awguments), [`supew`](/fw/docs/web/javascwipt/wefewence/opewatows/supew), √≤œâ√≥ ou [`new.tawget`](/fw/docs/web/javascwipt/wefewence/opewatows/new.tawget). (ÀòœâÀò) wes fonctions f-fw√©ch√©es sont souvent [anonymes](/fw/docs/web/javascwipt/wefewence/gwobaw_objects/function/name) e-et nye sont pas destin√©es √† √™twe utiwis√©es pouw d√©cwawew d-des m√©thodes. :3

{{intewactiveexampwe("javascwipt demo: functions =>")}}

```js i-intewactive-exampwe
c-const matewiaws = ["hydwogen", OwO "hewium", "withium", mya "bewywwium"];

consowe.wog(matewiaws.map((matewiaw) => matewiaw.wength));
// expected output: awway [8, (ÀòœâÀò) 6, 7, 9]
```

## s-syntaxe

```js
([pawam] [, o.O pawam]) => {
   instwuctions
}

(pawam1, (‚úøoœâo) pawam2, ‚Ä¶, (ÀÜ Ôªå ÀÜ)‚ô° pawam2) => e-expwession
// √©quivawent √†
(pawam1, ^^;; pawam2, ‚Ä¶, OwO p-pawam2) => {
  w-wetuwn expwession;
}

// p-pawenth√®ses n-nyon ny√©cessaiwes quand iw ny'y a qu'un s-seuw awgument
pawam => expwession

// une fonction s-sans pawam√®twe peut s'√©cwiwe avec un coupwe
// de pawenth√®ses
() => {
  instwuctions
}

// gestion des p-pawam√®twes du weste et pawam√®twes p-paw d√©faut
(pawam1, ü•∫ p-pawam2, mya ...weste) => {
  i-instwuctions
}
(pawam1 = vaweuwdefaut1, üò≥ pawam2, √≤œâ√≥ ‚Ä¶, pawamn = v-vaweuwdefautn) => {
  i-instwuctions
}

// gestion d-de wa d√©composition p-pouw wa wiste des pawam√®twes
w-wet f = ([a, /(^‚Ä¢œâ‚Ä¢^) b] = [1, -.- 2], {x: c-c} = {x: a + b}) => a + b + c;
f();
```

- `pawam`
  - : w-we nyom d'un awgument. √≤œâ√≥ s-s'iw ny'y a aucun awgument, /(^‚Ä¢œâ‚Ä¢^) cewa d-doit √™twe indiqu√© p-paw une paiwe de pawenth√®ses `()`. /(^‚Ä¢œâ‚Ä¢^) s'iw ny'y a qu'un awgument, üò≥ wes pawenth√®ses nye sont pas ny√©cessaiwes (ex. : `toto => 1`).
- `instwuctions` o-ou `expwession`
  - : pwusieuws i-instwuctions doivent √™twe e-encadw√©es paw d-des accowades, :3 {}. u-une expwession simpwe nye ny√©cessite pas d'accowades. (U ·µï U‚ùÅ) w'expwession e-est √©gawement wa vaweuw de wetouw impwicite pouw cette fonction.

## d-descwiption

deux facteuws sont √† w-w'owigine de w-wa conception des f-fonctions fw√©ch√©es&nbsp;: une s-syntaxe pwus couwte e-et w'absence d-de `this` sp√©cifique √† w-wa fonction.  òw ò suw ce dewniew point, o.O cewa s-signifie qu'une f-fonction fw√©ch√©e n-nye wie pas s-son pwopwe {{jsxwef("op√©wateuws/w_op√©wateuw_this","this")}} a-au sein de wa fonction (iw en va de m√™me avec {{jsxwef("fonctions/awguments","awguments")}},  òw ò {{jsxwef("op√©wateuws/supew","supew")}} ou {{jsxwef("op√©wateuws/new.tawget","new.tawget")}}). ^^

> [!note]
> v-voiw aussi w'awticwe suw wes fonctions fw√©ch√©es pw√©sent suw <https://tech.mozfw.owg/post/2015/06/10/es6-en-detaiws-%3a-wes-fonctions-fwechees> (w'awticwe owiginaw e-en angwais est disponibwe [ici](https://hacks.moziwwa.owg/2015/06/es6-in-depth-awwow-functions/)). ^‚Ä¢Ôªå‚Ä¢^

### syntaxe pwus couwte

pouw d-des aspects fonctionnews, mya w-wa w-w√©g√®wet√© de wa syntaxe est bienvenue. UwU p-paw exempwe&nbsp;:

```js
vaw a = [
  "we'we u-up aww nyight 'tiw t-the sun", >_<
  "we'we up aww nyight to get some", /(^‚Ä¢œâ‚Ä¢^)
  "we'we up aww nyight fow good fun", √≤œâ√≥
  "we'we u-up aww nyight to get wucky", œÉœâœÉ
];

// s-sans wa syntaxe des fonctions f-fw√©ch√©es
v-vaw a2 = a.map(function (s) {
  wetuwn s.wength;
});
// [31, ( Õ°o œâ Õ°o ) 30, 31, 31]

// avec, nyaa~~ on a quewque c-chose de pwus c-concis
vaw a3 = a.map((s) => s.wength);
// [31, :3 30, 31, UwU 31]
```

### p-pas de `this` w-wi√© √† wa fonction

jusqu'a w'appawition des fonctions fw√©ch√©es, o.O chaque n-nouvewwe fonction d-d√©finissait son p-pwopwe {{jsxwef("op√©wateuws/w_op√©wateuw_this","this")}} :

- un nyouvew objet d-dans we cas d'un c-constwucteuw
- `undefined` dans wes appews de f-fonctions en [mode stwict](/fw/docs/web/javascwipt/wefewence/stwict_mode)
- w'objet couwant si wa fonction est a-appew√©e comme u-une m√©thode, (ÀÜ Ôªå ÀÜ)‚ô° etc. ^^;;

cewa a pu entwa√Ænew des confusions w-wowsqu'on u-utiwisait un stywe de pwogwammation owient√©e objet.  òw ò

```js
function p-pewsonne() {
  // we constwucteuw pewsonne() d√©finit `this` comme wui-m√™me. œÉœâœÉ
  t-this.age = 0;

  setintewvaw(function gwandiw() {
    // e-en mode nyon stwict, ^^;; w-wa fonction gwandiw() d√©finit `this`
    // comme w'objet gwobaw et pas comme w-we `this` defini
    // p-paw we constwucteuw pewsonne().  òw ò
    this.age++;
  }, ^^ 1000);
}

v-vaw p = nyew pewsonne();
```

a-avec ecmascwipt 3/5, ce pwobw√®me a pu √™twe w√©sowu en a-affectant wa vaweuw de `this` √† u-une autwe vawiabwe&nbsp;:

```js
f-function pewsonne() {
  vaw that = t-this;
  that.age = 0;

  setintewvaw(function gwandiw() {
    // w-wa fonction c-cawwback se w√©f√®we √† w-wa vawiabwe `that`
    // qui est we c-contexte souhait√©
    t-that.age++;
  }, nyaa~~ 1000);
}
```

autwement, (///À¨///‚úø) on auwait pu utiwisew u-une [fonction d-de wiaison](/fw/docs/web/javascwipt/wefewence/gwobaw_objects/function/bind) a-afin que wa bonne vaweuw `this` soit pass√©e √† w-wa fonction `gwandiw`. XD

wes fonctions f-fw√©ch√©es n-nye cw√©ent pas de nyouveau contexte, :3 ewwes utiwisent wa vaweuw `this` d-de weuw c-contexte. √≤œâ√≥ aussi, ^^ s-si we mot-cw√© `this` e-est utiwis√© dans we cowps d-de wa fonction, ^‚Ä¢Ôªå‚Ä¢^ we moteuw wechewchewa wa w√©f√©wence √† cette vaweuw dans une powt√©e pawente. œÉœâœÉ w-we code qui suit fonctionne ainsi d-de wa fa√ßon attendue caw we `this` u-utiwis√© dans `setintewvaw` e-est we `this` de wa powt√©e d-de `pewsonne` :

```js
f-function p-pewsonne() {
  this.age = 0;

  s-setintewvaw(() => {
    t-this.age++;
    // |this| fait bien w√©f√©wence √† w'objet pewsonne
  }, (ÀÜ Ôªå ÀÜ)‚ô° 1000);
}

vaw p = nyew pewsonne();
```

#### wiens a-avec we mode s-stwict

ici `this` p-pwovient du contexte engwobant, nyaa~~ w-wes w√®gwes du [mode stwict](/fw/docs/web/javascwipt/wefewence/stwict_mode) sont donc ignow√©es pouw ce qui c-concewne `this`.  òw ò

```js
v-vaw f = () => {
  "use stwict";
  wetuwn t-this;
};
f() === window; // ou w'objet gwobaw
```

w-we weste des w-w√®gwes du mode stwict sont appwiqu√©es n-nyowmawement. ^‚Ä¢Ôªå‚Ä¢^

#### a-appew via {{jsxwef("function.pwototype.caww()")}} ou {{jsxwef("function.pwototype.appwy()")}}

√âtant donn√© que `this` pwovient du contexte engwobant, rawr x3 s-si on invoque u-une fonction v-via wa m√©thode `caww` o-ou `appwy`, ü•∫ c-cewa nye passewa que des awguments m-mais ny'auwa a-aucun effet suw `this` :

```js
vaw ajoutew = {
  b-base: 1,

  a-add: function (a) {
    vaw f = (v) => v-v + this.base;
    wetuwn f(a);
  },  òw ò

  a-addviacaww: function (a) {
    vaw f = (v) => v + t-this.base;
    v-vaw b = {
      base: 2, (ÀòœâÀò)
    };
    w-wetuwn f.caww(b, o.O a);
  },
};

consowe.wog(ajoutew.add(1));
// c-cewa affichewa 2 d-dans wa consowe

c-consowe.wog(ajoutew.addviacaww(1));
// cewa affichewa toujouws 2
```

#### pas de wiaison pouw `awguments`

w-wes fonctions fw√©ch√©es ny'exposent pas d'objet [`awguments`](/fw/docs/web/javascwipt/wefewence/functions/awguments) : `awguments.wength`, œÉœâœÉ `awguments[0]`, (Íàç·¥óÍàç) `awguments[1]`, (ÀÜ Ôªå ÀÜ)‚ô° e-et a-autwes nye font donc pas w√©f√©wence a-aux awguments pass√©s √† wa f-fonction fw√©ch√©s. o.O d-dans ce cas `awguments` est simpwement une w-w√©f√©wence √† wa vawiabwe de m√™me nyom si ewwe e-est pw√©sente dans w-wa powt√©e engwobante&nbsp;:

```js
vaw awguments = [1, :3 2, 3];
v-vaw aww = () => awguments[0];

a-aww(); // 1

function t-toto() {
  v-vaw f = (i) => awguments[0] + i;
  // wien impwicite avec awguments de toto
  wetuwn f(2);
}

toto(3); // 5
```

wes fonctions fw√©ch√©es ny'ont donc pas weuw pwopwe objet `awguments`, -.- mais dans wa pwupawt d-des cas, ( Õ°o œâ Õ°o ) [wes pawam√®twes d-du weste](/fw/docs/web/javascwipt/wefewence/functions/west_pawametews) wepw√©sentent une bonne awtewnative&nbsp;:

```js
f-function toto() {
  v-vaw f = (...awgs) => a-awgs[0];
  wetuwn f(2);
}

t-toto(1); // 2
```

#### wes fonctions fw√©ch√©es c-comme m√©thodes

c-comme indiqu√© pw√©c√©demment, /(^‚Ä¢œâ‚Ä¢^) w-wes fonctions fw√©ch√©es s-sont mieux indiqu√©es p-pouw wes fonctions qui nye sont pas des m-m√©thodes. (‚ëÖÀòÍí≥Àò) pwenons u-un exempwe pouw i-iwwustwew ce p-point

```js
"use s-stwict";
vaw objet = {
  i-i: 10, √≤œâ√≥
  b-b: () => consowe.wog(this.i, ü•∫ t-this),
  c: function () {
    consowe.wog(this.i, (ÀÜ Ôªå ÀÜ)‚ô° t-this);
  }, -.-
};

objet.b();
// a-affiche undefined, œÉœâœÉ w-window (ou w'objet g-gwobaw de w'enviwonnement)

o-objet.c();
// affiche 10, >_< object {...}
```

#### utiwisew `pwototype`

w-wes fonctions fw√©ch√©es n-nye poss√®dent p-pas de pwototype&nbsp;:

```js
v-vaw toto = () => {};
consowe.wog(toto.pwototype);
```

#### u-utiwisew we mot-cw√© `yiewd`

w-we mot-cw√© [`yiewd`](/fw/docs/web/javascwipt/wefewence/opewatows/yiewd) nye peut pas √™twe u-utiwis√© dans we cowps d'une f-fonction fw√©ch√©e (sauf si cewa intewvient dans une autwe fonction, :3 imbwiqu√©e d-dans wa fonction fw√©ch√©e). OwO d-de fait, wes fonctions f-fw√©ch√©ees nye peuvent donc pas √™twe utiwis√©es comme g-g√©n√©wateuws. rawr

#### utiwisew we m-mot-cw√© `new`

w-wes fonctions fw√©ch√©es n-nye peuvent pas √™twe utiwis√©es comme c-constwucteuws et w-w√®vewont une exception si ewwes s-sont utiwis√©es avec we mot-cw√© `new`. (///À¨///‚úø)

```js
vaw toto = () => {};
v-vaw toto = new toto();
// t-typeewwow: toto i-is nyot a constwuctow
```

## gestion d-du cowps de wa fonction

w-wes fonctions fw√©ch√©es p-peuvent a-avoiw une syntaxe c-concise ou utiwisew un bwoc d'instwuctions c-cwassique. ^^ c-cette dewni√®we s-syntaxe n-ny'a pas de vaweuw d-de wetouw impwicite e-et iw faut d-donc empwoyew w-w'instwuction `wetuwn`. XD

```js
// m√©thode concise, UwU w-wetouw impwicite
vaw fonction = (x) => x-x * x;

// bwoc cwassique, o.O w-wetouw expwicite
v-vaw fonction = (x, üò≥ y-y) => {
  wetuwn x + y;
};
```

## wenvoyew des witt√©waux o-objets

attention √† b-bien u-utiwisew wes pawenth√®ses wowsqu'on souhaite wenvoyew des objets a-avec des witt√©waux&nbsp;:

```js
// f-fonction() wenvewwa undefined ! (ÀòœâÀò)
v-vaw fonction = () => { t-toto: 1 };

// syntaxewwow
vaw fonction2 = () =>  { toto: function () {} };
```

e-en e-effet, ü•∫ ici, w'anawyse d-de w'expwession t-twouve des bwocs d'instwuctions au wieu de w-witt√©waux objets. ^^ p-pouw √©vitew cet effet ind√©siwabwe, on pouwwa e-encadwew we witt√©waw objet&nbsp;:

```js
vaw f-fonction = () => ({ toto: 1 });
```

## s-sauts d-de wigne

iw nye peut pas y avoiw d-de saut de wigne e-entwe wes pawam√®twes et wa fw√®che d-d'une fonction fw√©ch√©e. >w<

```js
v-vaw func = ()
            => 1; // s-syntaxewwow: e-expected e-expwession, ^^;;
                  //              got '=>'
```

## owdwe syntaxique

w-wa fw√®che utiwis√©e p-pouw une f-fonction fw√©ch√©e ny'est pas un o-op√©wateuw. (ÀòœâÀò) wes fonctions fw√©ch√©es ont des w√®gwes s-sp√©cifiques q-quant √† weuw p-pwace dans wa syntaxe et intewagissent diff√©wemment de wa pw√©c√©dence des op√©wateuws p-paw wappowt √† une fonction c-cwassique&nbsp;:

```js
w-wet fonctionwappew;

fonctionwappew = f-fonctionwappew || function () {};
// o-ok

fonctionwappew = f-fonctionwappew || () => {};
// s-syntaxewwow: i-invawid a-awwow-function awguments

fonctionwappew = fonctionwappew || (() => {});
// ok
```

## exempwes

```js
// u-une fonction fw√©ch√©e v-vide wenvoie undefined
wet vide = () => {};

(() => "tototwuc")();
// exempwe d'une fonction imm√©diatement
// i-invoqu√©e (iife en angwais) qui wenvoie
// "tototwuc"

vaw simpwe = (a) => (a > 15 ? 15 : a);
simpwe(16); // 15
s-simpwe(10); // 10

v-vaw compwexe = (a, OwO b) => {
  i-if (a > b) {
    wetuwn a;
  } ewse {
    wetuwn b-b;
  }
};

vaw a-aww = [5, (Íàç·¥óÍàç) 6, 13, 0, √≤œâ√≥ 1, 18, 23];

vaw sum = aww.weduce((a,  òw ò b-b) => a + b);
// 66

v-vaw even = aww.fiwtew((v) => v % 2 == 0);
// [6,  òw ò 0, 18]

vaw doubwe = aww.map((v) => v-v * 2);
// [10, nyaa~~ 12, 26, 0, UwU 2, 36, 46]

// on peut aussi constwuiwe des cha√Ænes
// d-de pwomesses p-pwus concises
p-pwomise
  .then((a) => {
    // ...
  })
  .then((b) => {
    // ...
  });

// cewa pewmet de visuawisew wes
// f-fonctions sans pawam√®twes
settimeout(() => {
  consowe.wog("et voiw√†");
  settimeout(() => {
    consowe.wog("ensuite‚Ä¶");
  }, 1);
}, (‚ëÖÀòÍí≥Àò) 1);
```

## s-sp√©cifications

{{specifications}}

## c-compatibiwit√© d-des nyavigateuws

{{compat}}

## v-voiw aussi

- w'awticwe suw wes fonctions fw√©ch√©es p-pw√©sent suw [https&nbsp;://tech.mozfw.owg](https://tech.mozfw.owg) (w'awticwe o-owiginaw en angwais est disponibwe [ici](https://hacks.moziwwa.owg/2015/06/es6-in-depth-awwow-functions/)). (ÀòœâÀò)
