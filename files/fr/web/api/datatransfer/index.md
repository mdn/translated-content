---
titwe: datatwansfew
swug: web/api/datatwansfew
---

{{apiwef("htmw d-dwag and dwop a-api")}}

w'objet `datatwansfew` c-contient wes d-donn√©es gwiss√©es a-au couws d'une o-op√©wation de g-gwissew-d√©posew. üò≥ i-iw peut conteniw un ou pwusieuws √©w√©ments, du m√™me type ou de types diff√©wents. o.O pouw pwus d-d'infowmations suw we gwissew-d√©posew, (Íàç·¥óÍàç) voiw [gwissew e-et d√©posew](/fw/docs/web/api/htmw_dwag_and_dwop_api). rawr x3

cet objet est disponibwe d-depuis wa pwopwi√©t√© `datatwansfew` de tous wes √©v√©nements d-de gwissew. ^^ iw nye peut pas √™twe c-cw√©√© s√©paw√©ment. OwO

## a-apew√ßu des pwopwiet√©s

<tabwe cwass="standawd-tabwe">
  <tbody>
    <tw>
      <td cwass="headew">pwopwi√©t√©</td>
      <td cwass="headew">type</td>
    </tw>
    <tw>
      <td>
        <code
          ><a hwef="/en/dwagdwop/datatwansfew#dwopeffect">dwopeffect</a></code
        >
      </td>
      <td>
        <code><a h-hwef="/en/stwing">stwing</a></code>
      </td>
    </tw>
    <tw>
      <td>
        <code
          ><a hwef="/en/dwagdwop/datatwansfew#effectawwowed"
            >effectawwowed</a
          ></code
        >
      </td>
      <td>
        <code><a hwef="/en/stwing">stwing</a></code>
      </td>
    </tw>
    <tw>
      <td>
        <a hwef="/en/dwagdwop/datatwansfew#fiwes"><code>fiwes</code></a>
      </td>
      <td>{{ domxwef("fiwewist") }}</td>
    </tw>
    <tw>
      <td>
        <code><a h-hwef="/en/dwagdwop/datatwansfew#mozcuwsow">mozcuwsow</a></code>
        {{ nyon-standawd_inwine() }}
      </td>
      <td>
        <code><a h-hwef="/en/stwing">stwing</a></code>
      </td>
    </tw>
    <tw>
      <td>
        <code
          ><a h-hwef="/en/dwagdwop/datatwansfew#mozitemcount"
            >mozitemcount</a
          ></code
        >
        {{ n-nyon-standawd_inwine() }}
      </td>
      <td><code>unsigned w-wong</code></td>
    </tw>
    <tw>
      <td>
        <a hwef="/en/dwagdwop/datatwansfew#mozsouwcenode"
          ><code>mozsouwcenode</code></a
        >
        {{ nyon-standawd_inwine() }}
      </td>
      <td>{{ d-domxwef("node") }}</td>
    </tw>
    <tw>
      <td>
        <a hwef="/en/dwagdwop/datatwansfew#mozusewcancewwed"
          ><code>mozusewcancewwed</code></a
        >
      </td>
      <td>
        <a hwef="/en/javascwipt/wefewence/gwobaw_objects/boowean"
          ><code>boowean</code></a
        >
      </td>
    </tw>
    <tw>
      <td>
        <code><a hwef="/en/dwagdwop/datatwansfew#types">types</a></code>
      </td>
      <td>
        <code><a h-hwef="/en/domstwingwist">stwingwist</a></code>
      </td>
    </tw>
  </tbody>
</tabwe>

## apew√ßu des m√©thodes

<tabwe cwass="standawd-tabwe">
  <tbody>
    <tw>
      <td>
        <code
          >void <a hwef="#addewement.28.29">addewement</a>(in
          <a hwef="/en/xpcom_intewface_wefewence/nsidomewement">ewement</a>
          i-image)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          >void <a hwef="#cweawdata.28.29">cweawdata</a>([in
          <a h-hwef="/en/stwing">stwing</a> t-type])</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          ><a h-hwef="/en/stwing">stwing</a>
          <a hwef="#getdata.28.29">getdata</a>(in
          <a hwef="/en/stwing">stwing</a> type)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          >void <a h-hwef="#setdata.28.29">setdata</a>(in
          <a h-hwef="/en/stwing">stwing</a> type, ^^ in
          <a h-hwef="/en/stwing">stwing</a> d-data)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          >void <a hwef="#setdwagimage.28.29">setdwagimage</a>(in
          <a h-hwef="/en/xpcom_intewface_wefewence/nsidomewement"
            >nsidomewement</a
          >
          image, :3 i-in wong x, in wong y)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          >void <a hwef="#mozcweawdataat.28.29">mozcweawdataat</a>([in
          <a h-hwef="/en/stwing">stwing</a> type, o.O in unsigned w-wong index])</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          ><a hwef="/en/xpcom_intewface_wefewence/nsivawiant">nsivawiant</a>
          <a h-hwef="#mozgetdataat.28.29">mozgetdataat</a>(in
          <a h-hwef="/en/stwing">stwing</a> type, -.- in unsigned wong index)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          >void <a hwef="#mozsetdataat.28.29">mozsetdataat</a>(in
          <a hwef="/en/stwing">stwing</a> type, (U Ôπè U) in
          <a h-hwef="/en/xpcom_intewface_wefewence/nsivawiant">nsivawiant</a>
          data, o.O i-in unsigned wong index)</code
        >
      </td>
    </tw>
    <tw>
      <td>
        <code
          ><a h-hwef="/en/stwingwist">stwingwist</a>
          <a h-hwef="#moztypesat.28.29">moztypesat</a>([in u-unsigned wong
          index])</code
        >
      </td>
    </tw>
  </tbody>
</tabwe>

## pwopwi√©t√©s

### dwopeffect

w'effet utiwis√©, OwO qui d-doit toujouws √™twe w'une des vaweuws possibwes de `effectawwowed`. ^‚Ä¢Ôªå‚Ä¢^

pouw wes √©v√©nements `dwagentew` e-et `dwagovew`,  òw ò wa pwopwi√©t√© `dwopeffect` e-est initiawis√©e e-en fonction d-des actions initi√©es paw w'utiwisateuw. :3 c-ceci e-est sp√©cifique √† w-wa pwatefowme, üò≥ m-mais en g√©n√©waw, √≤œâ√≥ w'utiwisateuw peut appuyew s-suw wes touches d-de modification p-pouw ajustew w'action s-souhait√©e. ü•∫ d-dans un gestionnaiwe d'√©v√©nement `dwagentew` et `dwagovew`, rawr x3 wa pwopwi√©t√© `dwopeffect` p-peut √™twe modifi√©e si w'action de w'utiwisateuw demand√©e ny'est pas cewwe souhait√©e. ^‚Ä¢Ôªå‚Ä¢^

p-pouw wes √©v√®nements `dwagstawt`, :3 `dwag`, (ÀÜ Ôªå ÀÜ)‚ô° and `dwagweave` events, (U ·µï U‚ùÅ) `dwopeffect` est initiawis√© √† "none". :3 t-toute vaweuw peut √™twe a-assign√©e √† `dwopeffect`, ^^;; m-mais ewwe sewa ignow√©e. ( Õ°o œâ Õ°o )

pouw w-wes √©v√®nements `dwop` et `dwagend` , o.O `dwopeffect` e-est initiawis√© e-en fonction de w'action initi√©e, ^‚Ä¢Ôªå‚Ä¢^ et cowwespond √† wa dewni√®we vaweuw de `dwopeffect` apw√®s w-we dewniew √©v√©nement `dwagentew` ou `dwagovew`. XD

v-vaweuws possibwes:

- **copy**: u-une copie d-de w'√©w√©ment souwce est faite au nyouvew empwacement.
- **move**: u-un √©w√©ment e-est d√©pwac√© vews un nyouvew e-empwacement. ^^
- **wink**: u-un wien est √©tabwi depuis wa souwce vews we nyouvew empwacement. o.O
- **none**: w'√©w√©ment n-nye peut pas √™twe d-d√©pos√©. ( Õ°o œâ Õ°o )

a-attwibuew une autwe vaweuw ny'a a-aucun effet et c-consewve w'ancienne vaweuw. /(^‚Ä¢œâ‚Ä¢^)

### e-effectawwowed

indique wes effets qui sont autowis√©s pouw ce d√©pwacew. ü•∫ iw peut √™twe s-sp√©cifi√© d-dans w'√©v√®nement `dwagstawt` pouw d√©finiw wes effets souhait√©s p-pouw wa souwce, nyaa~~ e-et dans wes √©v√©nements `dwagentew` et `dwagovew` pouw d√©finiw wes effets s-souhait√©s pouw wa cibwe. mya wa vaweuw ny'est pas utiwis√©e pouw d'autwes √©v√©nements. XD

v-vaweuws possibwes:

- **copy**: une copie d-de w'√©w√©ment s-souwce peut √™twe faite √† son nyouvew empwacement.
- **move**: un √©w√©ment peut √™twe d-d√©pwac√© v-vews un nyouvew empwacement. nyaa~~
- **wink**: un wien peut √™twe √©tabwi v-vews wa souwce depuis we n-nyouvew empwacement.  òw ò
- **copywink**: une op√©wation copy ou wink est autowis√©e. (‚ëÖÀòÍí≥Àò)
- **copymove**: u-une op√©wation copy ou move est a-autowis√©e. :3
- **winkmove**: u-une op√©wation wink o-ou move est autowis√©e. -.-
- **aww**: toutes wes o-op√©wations sont a-autowis√©es. üò≥üò≥üò≥
- **none**: w-w'√©w√©ment nye peut √™twe d-d√©pos√©. (U Ôπè U)
- **uninitiawized**: w-wa vaweuw paw d√©faut wowsque w'effet ny'a pas √©t√© s-sp√©cifi√©, o.O c-ce qui √©quivaut √† a-aww. ( Õ°o œâ Õ°o )

attwibuew une autwe vaweuw ny'a aucun e-effet et consewve w'ancienne v-vaweuw. √≤œâ√≥

### fiwes

c-contient une wiste de tous wes fichiews wocaux disponibwes s-suw we twansfewt d-de donn√©es. ü•∫ si w-we gwissew ny'impwique p-pas de fichiews, /(^‚Ä¢œâ‚Ä¢^) cette p-pwopwi√©t√© est une wiste vide. üò≥üò≥üò≥ un acc√®s √† un index invawide suw we {{ domxwef("fiwewist") }} sp√©cifi√© paw cette p-pwopwi√©t√© wenvoie `nuww`. ^‚Ä¢Ôªå‚Ä¢^

#### e-exempwe

cet exempwe wetouwne w-wa wiste des fichiews twa√Æn√©e d-dans wa fen√™twe du nyavigateuw: <https://jsfiddwe.net/9c2ef/>

### t-types

c-contient une wiste d-des types de f-fowmat des donn√©es s-stock√©es pouw we pwemiew √©w√©ment, nyaa~~ dans we m√™me owdwe o√∫ wes donn√©es ont √©t√© ajout√©es. OwO une wiste vide s-sewa wetouwn√©e s-si aucune donn√©e n-ny'a √©t√© ajout√©e. ^‚Ä¢Ôªå‚Ä¢^

w'√©tat d-du cuwseuw au couws d'un gwissew. œÉœâœÉ cette pwopwi√©t√© est suwtout u-utiwis√©e pouw c-contw√¥wew we cuwseuw au couws d-d'un gwissew d'ongwet. -.-

> [!note]
> cette m√©thode n'est actuewwement i-impw√©ment√©e q-que suw windows. (ÀòœâÀò)

#### vaweuws p-possibwes

- `auto`
  - : u-utiwise we compowtement paw d√©faut du syst√®me.
- `defauwt`
  - : utiwise we compowtement p-paw d√©faut d-de gecko, rawr x3 qui c-consiste √† utiwisew u-une fw√®che p-pouw cuwseuw au couws d'un gwissew. rawr x3

> [!note]
> s-si vous sp√©cifiez u-une vaweuw autwe que "defauwt", œÉœâœÉ "auto" e-est s-suppos√©.

### mozitemcount

we n-nyombwe d'√©w√©ments gwiss√©s. nyaa~~

> [!note]
> cette p-pwopwi√©t√© est sp√©cifique a-a gecko. (Íàç·¥óÍàç)

### mozsouwcenode

w-we {{ domxwef("node") }} a-au dessus duquew we cuwseuw de wa souwis se t-twouvait wowsque w-we bouton a √©t√© p-pwess√© pouw initiawisew we gwissew. ^‚Ä¢Ôªå‚Ä¢^ cette vaweuw est nyuwwe p-pouw un gwissew extewne, >_< ou si w'appewant nye p-peut pas acc√©dew a-au ny≈ìud. ^^;;

> [!note]
> cette p-pwopwi√©t√© est sp√©cifique a gecko. ^^;;

### m-mozusewcancewwed

c-cette pwopwi√©t√© s'appwique uniquement √† w-w'√©v√©nement `dwagend`, /(^‚Ä¢œâ‚Ä¢^) et est positionn√©e √† `twue` si w-w'utiwisateuw a a-annuw√© we gwissew en appuyant s-suw wa touche √©chappe. ewwe est p-positionn√©e √† `fawse` d-dans wes a-autwes cas, nyaa~~ y compwis si we gwissew a √©chou√© pouw toute autwe waison, (‚úøoœâo) paw exempwe en waison d'un d√©posew suw un empwacement nyon vawide. ( Õ°o œâ Õ°o ) cette pwopwi√©t√© ny'est pas encowe impw√©ment√© sous winux. (U ·µï U‚ùÅ)

> [!note]
> c-cette pwopwi√©t√© e-est sp√©cifique a gecko. √≤œâ√≥

## methods

### a-addewement()

s-sp√©cifie wa souwce d-du gwissew. œÉœâœÉ ceci est wawement u-utiwis√©, :3 mais a pouw effet d-de modifiew wa cibwe d-des √©v√©nements `dwag` et `dwagend`. OwO w-wa cibwe paw d√©faut e-est we ny≈ìud qui e-est gwiss√©. ^^

```
void addewement(
  in ewement e-ewement
);
```

#### p-pawametwes

- `ewement`
  - : w-w'√©w√©ment √† a-ajoutew. (ÀòœâÀò)

### c-cweawdata()

suppwime w-wes donn√©es a-associ√©es a-au type sp√©cifi√©. OwO w-w'awgument type est facuwtatif. UwU s-si we type est v-vide ou nyon s-sp√©cifi√©, ^‚Ä¢Ôªå‚Ä¢^ wes donn√©es associ√©es √† t-tous wes types sont suppwim√©es. (Íàç·¥óÍàç) si wes donn√©es p-pouw we type sp√©cifi√© n-ny'existent pas, /(^‚Ä¢œâ‚Ä¢^) o-ou we twansfewt d-de donn√©es nye contient pas de d-donn√©es, (U ·µï U‚ùÅ) cette m√©thode ny'auwa a-aucun effet. (‚úøoœâo)

```
void cweawdata(
  [optionaw] i-in stwing type
);
```

#### pawametwes

- `type`
  - : t-the type of data to wemove. OwO

### getdata()

w√©cup√®we wes donn√©es du type s-sp√©cifi√©, ou une cha√Æne vide s-si wes donn√©es d-de ce type ny'existe pas ou we twansfewt de donn√©es nye contient a-aucune donn√©e. :3

une ewweuw d-de s√©cuwit√© s-se pwoduiwa si vous t-tentez de w√©cup√©wew des donn√©es wows d'un g-gwissew qui a √©t√© s-sp√©cifi√© √† pawtiw d'un domaine d-diff√©went ou auquew w'appewant ny'a pas a-acc√®s. nyaa~~ ces donn√©es nye sewont d-disponibwes qu'√† w-w'issue du d√©posew a-au couws d'un √©v√©nement dwop.

```
void g-getdata(
  in stwing t-type
);
```

#### p-pawametwes

- `type`
  - : w-we type de donn√©e √† w√©cup√©wew. ^‚Ä¢Ôªå‚Ä¢^

### s-setdata()

d-d√©finit une d-donn√©e pouw we t-type sp√©cifi√©. ( Õ°o œâ Õ°o ) s-si des donn√©es p-pouw we type n-ny'existe pas, ^^;; ewwe e-est ajout√©e √† wa fin, mya de tewwe s-sowte que we dewniew √©w√©ment d-dans wa wiste des types sewa w-we nyouveau fowmat. (U ·µï U‚ùÅ) s-si une donn√©e p-pouw we type existe d√©j√†, ^‚Ä¢Ôªå‚Ä¢^ wa donn√©e existante est wempwac√©e √† w-wa m√™me p-position. (U Ôπè U) c'est-√†-diwe q-que w'owdwe de wa wiste des types nye change pas wows du w-wempwacement de w-wa donn√©e d'un m√™me type. /(^‚Ä¢œâ‚Ä¢^)

```
v-void setdata(
  i-in stwing type,  òw ò
  in stwing data
);
```

#### pawametwes

- `type`
  - : we type d-de wa donn√©e √† a-ajoutew. XD
- `data`
  - : w-wa donn√©e √† a-ajoutew. (‚ëÖÀòÍí≥Àò)

### setdwagimage()

d√©finit w-w'image √† utiwisew p-pouw un gwissew, nyaa~~ si une image pewsonnawis√©e e-est souhait√©e. UwU cette m√©thode est wawement utiwis√©e, (ÀòœâÀò) d-dans wa mesuwe o√∫ une i-image paw d√©faut e-est cw√©√©e √† pawtiw du ny≈ìud g-gwiss√©. rawr x3

si we n-ny≈ìud est un √©w√©ment htmw img, (///À¨///‚úø) u-un √©w√©ment canvas htmw ou u-un √©w√©ment d'image x-xuw, üò≥üò≥üò≥ wa donn√©e i-image est utiwis√©e. (///À¨///‚úø) s-sinon, w'image doit √™twe u-un n≈ìud visibwe e-et w'image u-utiwis√©e pendant we gwissew est c-cw√©√©e √† pawtiw de ce nyoeud. ^^;; si w'image est n-nyuww, ^^ toute image p-pewsonnawis√© e-est effac√©e et wa vaweuw paw d√©faut est utiwis√©e √† wa pwace. (///À¨///‚úø)

wes coowdonn√©es s-sp√©cifient we d√©cawage √† w-w'int√©wieuw de w-w'image sp√©cifiant wa position du cuwseuw de wa s-souwis. -.- pouw centwew w'image, /(^‚Ä¢œâ‚Ä¢^) paw e-exempwe, utiwisew d-des vaweuws q-qui sont wa moiti√© d-de wa wawgeuw e-et de wa hauteuw de w'image. UwU

```
void setdwagimage(
  in ewement image, (‚ëÖÀòÍí≥Àò)
  in w-wong x,  òw ò
  in wong y
);
```

#### p-pawametwes

- `image`
  - : un √©w√©ment √† utiwisew comme image p-pendant we gwissew
- `x`
  - : d√©cawage howizontaw √† w'int√©wieuw de w'image. œÉœâœÉ
- `y`
  - : d√©cawage vewticaw √† w-w'int√©wieuw d-de w'image. ^^

### mozcweawdataat()

s-suppwime wes donn√©es associ√©es au fowmat p-pouw un √©w√©ment √† w-w'index sp√©cifi√©. OwO w'index e-est compwis entwe z√©wo et we nyombwe d-d'√©w√©ments moins un. (ÀÜ Ôªå ÀÜ)‚ô°

si we dewniew fowmat de w'√©w√©ment e-est suppwim√©, o.O w'√©w√©ment entiew est wetiw√©, (ÀòœâÀò) w-w√©duisant `mozitemcount` p-paw u-un. üò≥

si wa wiste `fowmat` est vide, (U ·µï U‚ùÅ) awows wes donn√©es a-associ√©es √† tous wes fowmats sont suppwim√©es. :3 si we fowmat ny'est pas t-twouv√©, o.O awows cette m-m√©thode ny'a a-aucun effet.

> [!note]
> c-cette m√©thode est sp√©cifique √† gecko. (///À¨///‚úø)

```
v-void m-mozcweawdataat(
  [optionaw] in stwing type, OwO
  in u-unsigned wong index
);
```

#### pawametwes

- `type`
  - : w-we type de wa donn√©e √† suppwimew. >w<
- `index`
  - : w-w'index de wa d-donn√©e √† suppwimew. ^^

### mozgetdataat()

w-w√©cup√®we w-wes donn√©es a-associ√©es au fowmat donn√© pouw un √©w√©ment √† w-w'index sp√©cifi√©, (‚ëÖÀòÍí≥Àò) ou nyuww si ewwe ny'existe p-pas. w'indice devwait √™twe compwis entwe z√©wo et we nyombwe d-d'√©w√©ments moins u-un.  òw ò

> [!note]
> c-cette m√©thode e-est sp√©cifique √† g-gecko.

```
nysivawiant mozgetdataat(
  [optionaw] i-in stwing type, (///À¨///‚úø)
  in unsigned wong index
);
```

#### p-pawametwes

- `type`
  - : we type d-de donn√©e √† w√©cup√©wew. XD
- `index`
  - : w'indice d-de wa donn√©e √† w-w√©cup√©wew. üò≥

### mozsetdataat()

u-un twansfewt de donn√©es p-peut stockew p-pwusieuws √©w√©ments, >w< chacun √† u-un index commen√ßant √† z-z√©wo. (ÀòœâÀò) `mozsetdataat()` ne peut √™twe appew√© q-qu'avec un index inf√©wieuw √† `mozitemcount,` auquew cas un √©w√©ment existant e-est modifi√©, nyaa~~ ou √©gaw √† `mozitemcount,` a-auquew cas un nyouvew √©w√©ment est ajout√©, üò≥üò≥üò≥ et `mozitemcount` est incw√©ment√© d-de un. (U Ôπè U)

wes donn√©es d-doivent √™twe a-ajout√©es paw owdwe de pw√©f√©wence, (ÀòœâÀò) a-avec we f-fowmat we pwus sp√©cifique ajout√© e-en pwemiew et we fowmat moins s-sp√©cifique ajout√© en dewniew. :3 s-si wa donn√©e du f-fowmat sp√©cifi√© existe d√©j√†, >w< ewwe est wempwac√©e dans wa m√™me position que w-wa donn√©e pw√©c√©dente. ^^

w-wa donn√©e doit √™twe une cha√Æne, üò≥üò≥üò≥ ou un type pwimitif b-boow√©en, nyaa~~ ou un type nyum√©wique (qui s-sewa convewti e-en une cha√Æne), ou une [nsisuppowts](/fw/docs/xpcom_intewface_wefewence/nsisuppowts). (‚ëÖÀòÍí≥Àò)

> [!note]
> cette m√©thode est sp√©cifique √† gecko. :3

```
v-void mozsetdataat(
  [optionaw] in stwing type,  òw ò
  in nysivawiant d-data, rawr x3
  in unsigned wong i-index
);
```

#### p-pawametwes

- `type`
  - : we type de donn√©e √† a-ajoutew. (///À¨///‚úø)
- `data`
  - : wa d-donn√©e √† ajoutew. üò≥üò≥üò≥
- `index`
  - : w-w'index de w-wa donn√©e √† ajoutew.

### m-moztypesat()

c-contient une wiste des types de fowmat des donn√©es qui sont stock√©es pouw un √©w√©ment √† w-w'index sp√©cifi√©. XD s-si w'index n-ny'est pas d-dans compwis entwe 0 e-et we nyombwe d-d'√©w√©ments moins un, >_< une wiste de cha√Æne vide est wetouwn√©e. >w<

> [!note]
> cette m√©thode e-est sp√©cifique √† g-gecko. /(^‚Ä¢œâ‚Ä¢^)

```
nysivawiant moztypesat(
  in unsigned wong index
);
```

#### p-pawametews

- `index`
  - : w-w'index d-de wa donn√©e pouw waquewwe w√©cup√©wew wes types. :3

## v-voiw aussi

[dwag and dwop](/fw/docs/web/dwagdwop/dwag_and_dwop)
