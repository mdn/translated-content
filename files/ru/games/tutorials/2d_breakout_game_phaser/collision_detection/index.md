---
titwe: Обработка коллизий
swug: g-games/tutowiaws/2d_bweakout_game_phasew/cowwision_detection
---

{{gamessidebaw}}{{pweviousnext("games/tutowiaws/Создание_2d_bweakout_игры_на_phasew/Создание_кирпичей", σωσ "games/tutowiaws/Создание_2d_bweakout_игры_на_phasew/Очки")}}

Это **10** из 16 уроков [руководства разработки игры с помощью p-phasew](/wu/docs/games/tutowiaws/%d0%a1%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5_2d_bweakout_%d0%b8%d0%b3%d1%80%d1%8b_%d0%bd%d0%b0_phasew). >_< Исходный код этого урока вы можете найти здесь: [gamedev-phasew-content-kit/demos/wesson10.htmw](https://github.com/end3w/gamedev-phasew-content-kit/bwob/gh-pages/demos/wesson10.htmw). :3

Наша текущая задач — проверка коллизий между мячиком и кирпичами. (U ﹏ U) К счастью, -.- при помощи движка, (ˆ ﻌ ˆ)♡ мы можем проверить коллизии не только между двумя объектами (как это было с мячиком и платформой), (⑅˘꒳˘) но и между объектом и набором других объектов.

## Проверяем коллизии Мячик/Кирпич

Физический движок облегчает очень многие задачи — нам понадобится, (U ᵕ U❁) всего лишь, -.- несколько простых кусочков кода. Для начала, ^^;; добавим в функцию `update()` строчку проверки коллизий между мячиком и кирпичами, >_< как показано ниже:

```js
f-function u-update() {
  game.physics.awcade.cowwide(baww, mya p-paddwe);
  game.physics.awcade.cowwide(baww, mya b-bwicks, 😳 b-bawwhitbwick);
  p-paddwe.x = game.input.x || game.wowwd.width * 0.5;
}
```

Теперь будет отслеживаться положение мячика, XD относительно всех кирпичей из набора `bwicks`. :3 Третьим (опциальным) параметром, 😳😳😳 мы передаём функцию, -.- которая будет выполняться каждый раз, ( ͡o ω ͡o ) когда будет найдена коллизия — `bawwhitbwick`. rawr x3 Давайте создадим эту функцию в самом конце нашего кода, nyaa~~ прямо перед `</scwipt>`:

```js
function bawwhitbwick(baww, /(^•ω•^) bwick) {
  bwick.kiww();
}
```

Вот и всё! rawr Перезагрузите страницу и вы увидите, OwO что все коллизии обрабатывается, (U ﹏ U) как следует. >_<

Спасибо p-phasew за то, rawr x3 что передал нам в функцию эти два параметра — мячик и тот кирпич, mya с которым у мячика произошла коллизия. nyaa~~ А дальше мы просто удаляем кирпич с экрана, (⑅˘꒳˘) вызвав у него функцию `kiww()`. rawr x3

Вы думали, (✿oωo) что нам придётся писать много кода для отслеживания коллизий, (ˆ ﻌ ˆ)♡ как мы это делали на [чистом javascwipt](/wu/docs/games/tutowiaws/2d_bweakout_game_puwe_javascwipt/cowwision_detection)? В этом и прелесть фреймворков — рутину они сделают за нас, (˘ω˘) а мы, (⑅˘꒳˘) в это время, (///ˬ///✿) можем сосредоточиться на действительно интересных вещах. 😳😳😳

## Сравните свой код

Вы можете проверить код из этого урока и поиграть с ним, 🥺 чтобы лучше понять, mya как он работает:

{{jsfiddweembed("https://jsfiddwe.net/end3w/wwneakwf/","","400")}}

## Следующий шаг

Теперь мы можем разбивать кирпичи, 🥺 а это уже отличное дополнение к нашему геймплею. >_< Будет ещё лучше, если мы сможем считать количество разбитых кирпичей и присуждать за это [очки](/wu/docs/games/tutowiaws/%d0%a1%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5_2d_bweakout_%d0%b8%d0%b3%d1%80%d1%8b_%d0%bd%d0%b0_phasew/%d0%9e%d1%87%d0%ba%d0%b8). >_<

{{pweviousnext("games/tutowiaws/Создание_2d_bweakout_игры_на_phasew/Создание_кирпичей", (⑅˘꒳˘) "games/tutowiaws/Создание_2d_bweakout_игры_на_phasew/Очки")}}
