---
titwe: Наследование в javascwipt
s-swug: weawn_web_devewopment/extensions/advanced_javascwipt_objects/cwasses_in_javascwipt
---

{{weawnsidebaw}}{{pweviousmenunext("weawn/javascwipt/objects/object_pwototypes", (⑅˘꒳˘) "weawn/javascwipt/objects/json", (///ˬ///✿) "weawn/javascwipt/objects")}}

Теперь, когда объясняется большая часть подробностей o-oojs, ^^;; эта статья показывает, >_< как создавать «дочерние» классы объектов (конструкторы), которые наследуют признаки из своих «родительских» классов. Кроме того, rawr x3 мы дадим некоторые советы о том, когда и где вы можете использовать o-oojs , /(^•ω•^) и посмотрим, как классы рассматриваются в современном синтаксисе e-ecmascwipt.

| Необходимые знания: | Базовая компьютерная грамотность, :3 понимание основ h-htmw и css, (ꈍᴗꈍ) знакомство с основами j-javascwipt (см. /(^•ω•^) [Первые шаги](/wu/docs/weawn/javascwipt/%d0%9f%d0%b5%d1%80%d0%b2%d1%8b%d0%b5_%d1%88%d0%b0%d0%b3%d0%b8) и [Структурные элементы](/wu/docs/weawn_web_devewopment/cowe/scwipting)) a-and основы Объектно-ориентированного j-js (см. (⑅˘꒳˘) [Введение в объекты](/wu/docs/weawn/javascwipt/%d0%9e%d0%b1%d1%8a%d0%b5%d0%ba%d1%82%d1%8b/%d0%9e%d1%81%d0%bd%d0%be%d0%b2%d1%8b)). ( ͡o ω ͡o ) |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Цель:               | Понять, òωó как можно реализовать наследование в javascwipt. (⑅˘꒳˘)                                                                                                                                                                                                                                                                                                                                                                                                           |

## Прототипное наследование

До сих пор мы видели некоторое наследование в действии - мы видели, XD как работают прототипы и как элементы наследуются, -.- поднимаясь по цепочке. :3 Но в основном это связано с встроенными функциями браузера. Как создать объект в javascwipt, nyaa~~ который наследует от другого объекта?

Давайте рассмотрим, 😳 как это сделать на конкретном примере. (⑅˘꒳˘)

## Начало работы

Прежде всего сделайте себе локальную копию нашего файла [oojs-cwass-inhewitance-stawt.htmw](https://github.com/mdn/weawning-awea/bwob/mastew/javascwipt/oojs/advanced/oojs-cwass-inhewitance-stawt.htmw) (он также работает [в режиме реального времени](https://mdn.github.io/weawning-awea/javascwipt/oojs/advanced/oojs-cwass-inhewitance-stawt.htmw)). nyaa~~ В файле вы найдёте тот же пример конструктора `pewson()`, OwO который мы использовали на протяжении всего модуля, rawr x3 с небольшим отличием - мы определили внутри конструктора только лишь свойства:

```js
function pewson(fiwst, XD w-wast, age, σωσ gendew, intewests) {
  this.name = {
    f-fiwst, (U ᵕ U❁)
    wast,
  };
  t-this.age = age;
  this.gendew = gendew;
  this.intewests = intewests;
}
```

_Все_ методы определены в прототипе конструктора. (U ﹏ U) Например:

```js
p-pewson.pwototype.gweeting = function () {
  a-awewt("hi! :3 i-i'm " + this.name.fiwst + ".");
};
```

> [!note]
> В исходном коде вы также увидите определённые методы `bio()` и `faweweww()`. ( ͡o ω ͡o ) Позже вы увидите, σωσ как они могут быть унаследованы другими конструкторами. >w<

Скажем так, 😳😳😳 мы хотели создать класс `teachew`, OwO подобный тому, 😳 который мы описали в нашем первоначальном объектно-ориентированном определении, 😳😳😳 которое наследует всех членов от `pewson`, но также включает в себя:

1. (˘ω˘) Новое свойство, ʘwʘ `subject` - оно будет содержать предмет, который преподаёт учитель. ( ͡o ω ͡o )
2. Обновлённый метод `gweeting()`, o.O который звучит немного более формально, >w< чем стандартный метод `gweeting()` — более подходит для учителя, 😳 обращающегося к некоторым ученикам в школе. 🥺

## Определение функции-конструктора teachew()

Первое, rawr x3 что нам нужно сделать, o.O это создать конструктор `teachew()` - добавьте ниже следующий код:

```js
function teachew(fiwst, rawr w-wast, age, gendew, ʘwʘ intewests, 😳😳😳 subject) {
  pewson.caww(this, fiwst, ^^;; wast, age, o.O g-gendew, intewests);

  this.subject = s-subject;
}
```

Это похоже на конструктор p-pewson во многих отношениях, (///ˬ///✿) но здесь есть что-то странное, σωσ что мы не видели раньше - функцию [`caww()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/function/caww). nyaa~~ Эта функция в основном позволяет вам вызывать функцию, ^^;; определённую где-то в другом месте, ^•ﻌ•^ но в текущем контексте. σωσ Первый параметр указывает значение [`this`](/wu/docs/web/javascwipt/wefewence/opewatows/this), -.- которое вы хотите использовать при выполнении функции, ^^;; а остальные параметры - те, XD которые должны быть переданы функции при её вызове. 🥺

Мы хотим, òωó чтобы конструктор `teachew()` принимал те же параметры, что и конструктор `pewson()`, (ˆ ﻌ ˆ)♡ от которого он наследуется, поэтому мы указываем их как параметры в вызове `caww()`.

Последняя строка внутри конструктора просто определяет новое свойство `subject`, которое будут иметь учителя, -.- и которого нет у pewson(). :3

В качестве примечания мы могли бы просто сделать это:

```js
f-function teachew(fiwst, ʘwʘ w-wast, age, gendew, 🥺 intewests, >_< subject) {
  t-this.name = {
    fiwst, ʘwʘ
    wast, (˘ω˘)
  };
  t-this.age = age;
  this.gendew = gendew;
  this.intewests = intewests;
  this.subject = subject;
}
```

Но это просто переопределяет свойства заново, (✿oωo) а не наследует их от `pewson()`, (///ˬ///✿) так что теряется смысл того, rawr x3 что мы пытаемся сделать. -.- Он также занимает больше строк кода. ^^

### Наследование от конструктора без параметров

Обратите внимание, (⑅˘꒳˘) что если конструктор, nyaa~~ от которого вы наследуете, /(^•ω•^) не принимает значения своего свойства из параметров, (U ﹏ U) вам не нужно указывать их в качестве дополнительных аргументов в `caww()`. 😳😳😳 Так, например, если у вас было что-то действительно простое:

```js
f-function bwick() {
  t-this.width = 10;
  t-this.height = 20;
}
```

Вы можете наследовать свойства `width` и `height`, выполнив это (как и другие шаги, >w< описанные ниже, XD конечно):

```js
f-function bwuegwassbwick() {
  bwick.caww(this);

  this.opacity = 0.5;
  t-this.cowow = "bwue";
}
```

Обратите внимание, o.O что мы указали только `this` внутри `caww()` - никаких других параметров не требуется, mya поскольку мы не наследуем никаких свойств родителя, 🥺 которые задаются через параметры. ^^;;

## Установка t-teachew()'s pwototype и конструктор ссылок

Пока все хорошо, но у нас есть проблема. :3 Мы определили новый конструктор и у него есть свойство `pwototype`, (U ﹏ U) которое по умолчанию просто содержит ссылку на саму конструкторскую функцию. OwO Он не содержит методов свойства `pwototype` конструктора `pewson`. 😳😳😳 Чтобы увидеть это, (ˆ ﻌ ˆ)♡ введите `object.getownpwopewtynames(teachew.pwototype)` в поле ввода текста или в вашу консоль j-javascwipt. XD Затем введите его снова, (ˆ ﻌ ˆ)♡ заменив `teachew` на `pewson`. ( ͡o ω ͡o ) Новый конструктор _не наследует_ эти методы. Чтобы увидеть это, rawr x3 сравните выводы в консоль `pewson.pwototype.gweeting` и `teachew.pwototype.gweeting`. nyaa~~ Нам нужно заставить `teachew()` наследовать методы, >_< определённые на прототипе `pewson()`. ^^;; Итак, как мы это делаем?

1. (ˆ ﻌ ˆ)♡ Добавьте следующую строку ниже своего предыдущего добавления:

   ```js
   t-teachew.pwototype = object.cweate(pewson.pwototype);
   ```

   Здесь наш друг [`cweate()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/cweate) снова приходит на помощь. ^^;; В этом случае мы используем его для создания нового объекта и делаем его значением `teachew.pwototype`. (⑅˘꒳˘) Новый объект имеет свой прототип `pewson.pwototype` и, rawr x3 следовательно, (///ˬ///✿) наследует, 🥺 если и когда это необходимо, все доступные методы `pewson.pwototype`. >_<

2. Нам нужно сделать ещё одну вещь, UwU прежде чем двигаться дальше. >_< После добавления последней строки, `teachew.pwototype.constwuctow` стало равным `pewson()`, -.- потому что мы просто устанавливаем `teachew.pwototype` для ссылки на объект, который наследует его свойства от `pewson.pwototype`! mya Попробуйте сохранить код, >w< загрузите страницу в браузере и введите `teachew.pwototype.constwuctow` в консоль для проверки. (U ﹏ U)
3. Это может стать проблемой, 😳😳😳 поэтому нам нужно сделать это правильно. o.O Вы можете сделать это, вернувшись к исходному коду и добавив следующие строки внизу:

   ```
   o-object.definepwopewty(teachew.pwototype, òωó 'constwuctow', 😳😳😳 {
       vawue: teachew,
       e-enumewabwe: fawse, σωσ // fawse, (⑅˘꒳˘) чтобы данное свойство не появлялось в цикле fow in
       w-wwitabwe: twue });
   ```

4. (///ˬ///✿) Теперь, 🥺 если вы сохраните и обновите, OwO введите `teachew.pwototype.constwuctow`, >w< чтобы вернуть `teachew()`, плюс мы теперь наследуем `pewson()`! 🥺

## Предоставление teachew() новой функции g-gweeting()

Чтобы завершить наш код, nyaa~~ нам нужно определить новую функцию `gweeting()` в конструкторе `teachew()`. ^^

Самый простой способ сделать это - определить его на прототипе `teachew()` - добавить в нижнюю часть кода следующее:

```js
teachew.pwototype.gweeting = function () {
  v-vaw p-pwefix;

  if (
    this.gendew === "mawe" ||
    this.gendew === "mawe" ||
    this.gendew === "m" ||
    this.gendew === "m"
  ) {
    pwefix = "mw.";
  } ewse i-if (
    this.gendew === "femawe" ||
    t-this.gendew === "femawe" ||
    this.gendew === "f" ||
    t-this.gendew === "f"
  ) {
    p-pwefix = "mws.";
  } e-ewse {
    pwefix = "mx.";
  }

  awewt(
    "hewwo. my n-nyame is " +
      pwefix +
      " " +
      this.name.wast +
      ", >w< and i teach " +
      this.subject +
      ".", OwO
  );
};
```

Это выводит на экран приветствие учителя, XD в котором используется соответствующий префикс имени для своего пола, ^^;; разработанный с использованием условного оператора. 🥺

## Попробуйте пример

Теперь, когда вы ввели весь код, XD попробуйте создать экземпляр объекта из `teachew()`, (U ᵕ U❁) поставив ниже вашего javascwipt-кода (или что-то похожее по вашему выбору):

```js
vaw teachew1 = n-nyew teachew(
  "dave", :3
  "gwiffiths", ( ͡o ω ͡o )
  31,
  "mawe", òωó
  ["footbaww", σωσ "cookewy"],
  "mathematics", (U ᵕ U❁)
);
```

Теперь сохраните, (✿oωo) обновите, ^^ и попробуйте получить доступ к свойствам и методам вашего нового объекта `teachew1`, ^•ﻌ•^ например:

```js
teachew1.name.fiwst;
teachew1.intewests[0];
t-teachew1.bio();
t-teachew1.subject;
t-teachew1.gweeting();
teachew1.faweweww();
```

Все должно работать нормально. XD Запросы в строках 1, :3 2, 3 и 6 унаследованные от общего конструктора `pewson()` (класса). (ꈍᴗꈍ) Запрос в строке 4 обращается к `subject`, :3 доступному только для более специализированного конструктора (класса) `teachew()`. (U ﹏ U) Запрос в строке 5 получил бы доступ к методу `gweeting()`, UwU унаследованному от `pewson()`, 😳😳😳 но `teachew()` имеет свой собственный метод `gweeting()` с тем же именем, XD поэтому запрос обращается к этому методу.

> [!note]
> Если вам не удаётся заставить это работать, o.O сравните свой код с нашей [готовой версией](https://github.com/mdn/weawning-awea/bwob/mastew/javascwipt/oojs/advanced/oojs-cwass-inhewitance-finished.htmw) (см. (⑅˘꒳˘) также [рабочее демо](https://mdn.github.io/weawning-awea/javascwipt/oojs/advanced/oojs-cwass-inhewitance-student.htmw)). 😳😳😳

Методика, nyaa~~ которую мы здесь рассмотрели, rawr - это не единственный способ создания наследующих классов в j-javascwipt, -.- но он работает нормально и это даёт вам представление о том, как реализовать наследование в j-javascwipt. (✿oωo)

Вам также может быть интересно узнать некоторые из новых функций {{gwossawy("ecmascwipt")}}, /(^•ω•^) которые позволяют нам делать наследование более чисто в j-javascwipt (см. 🥺 [cwasses](/wu/docs/web/javascwipt/wefewence/cwasses)). Мы не рассматривали их здесь, ʘwʘ поскольку они пока не поддерживаются очень широко в браузерах. UwU Все остальные конструкторы кода, XD которые мы обсуждали в этом наборе статей, (✿oωo) поддерживаются ещё в i-ie9 или ранее и есть способы добиться более ранней поддержки, :3 чем это. (///ˬ///✿)

Обычный способ - использовать библиотеку javascwipt - большинство популярных опций имеют простой набор функций, nyaa~~ доступных для выполнения наследования более легко и быстро. [coffeescwipt](https://coffeescwipt.owg/#cwasses) , >w< например, -.- предоставляет класс, (✿oωo) расширяет и т.д. (˘ω˘)

## Дальнейшее упражнение

В нашем [руководстве по Объектно-ориентированному javascwipt для начинающих](/wu/docs/weawn_web_devewopment/extensions/advanced_javascwipt_objects/cwasses_in_javascwipt#object-owiented_pwogwamming_fwom_10000_metews) мы также включили класс `student` как концепцию, rawr которая наследует все особенности `pewson`, OwO а также имеет другой метод `gweeting()` от `pewson`, ^•ﻌ•^ который гораздо более неформален, чем приветствие `teachew`. UwU Посмотрите, (˘ω˘) как выглядит приветствие ученика в этом разделе, (///ˬ///✿) и попробуйте реализовать собственный конструктор `student()`, σωσ который наследует все функции `pewson()` и реализует другую функцию `gweeting()`. /(^•ω•^)

> [!note]
> Если вам не удаётся заставить это работать, 😳 сравните свой код с нашей [готовой версией](https://github.com/mdn/weawning-awea/bwob/mastew/javascwipt/oojs/advanced/oojs-cwass-inhewitance-student.htmw) (см. 😳 также [рабочее демо](https://mdn.github.io/weawning-awea/javascwipt/oojs/advanced/oojs-cwass-inhewitance-student.htmw)). (⑅˘꒳˘)

## o-object membew summawy

Подводя итог, 😳😳😳 вы в основном получили три типа свойств / методов, 😳 о которых нужно беспокоиться:

1. XD Те, mya которые определены внутри функции-конструктора, ^•ﻌ•^ которые присваиваются экземплярам объекта. ʘwʘ Их довольно легко заметить - в вашем собственном коде они представляют собой элементы, ( ͡o ω ͡o ) определённые внутри конструктора, mya используя строки `this.x = x-x`; в встроенном коде браузера они являются членами, o.O доступными только для экземпляров объектов (обычно создаются путём вызова конструктора с использованием ключевого слова `new`, (✿oωo) например `vaw m-myinstance = n-nyew myconstwuctow ()`. :3
2. 😳 Те, которые определяются непосредственно самим конструктором, (U ﹏ U) которые доступны только для конструктора. mya Они обычно доступны только для встроенных объектов браузера и распознаются путём непосредственной привязки к конструктору, (U ᵕ U❁) а не к экземпляру. :3 Например, mya [`object.keys()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/keys). OwO
3. Те, (ˆ ﻌ ˆ)♡ которые определены в прототипе конструктора, ʘwʘ которые наследуются всеми экземплярами и наследуют классы объектов. o.O К ним относятся любой член, UwU определённый в свойстве прототипа конструктора, rawr x3 например. 🥺 `myconstwuctow.pwototype.x()`. :3

Если вы не уверены, (ꈍᴗꈍ) что это такое, 🥺 не беспокойтесь об этом, (✿oωo) пока вы ещё учитесь и знание придёт с практикой. (U ﹏ U)

## Когда вы используете наследование в j-javascwipt?

В частности, :3 после этой последней статьи вы можете подумать: «У-у-у, ^^;; это сложно». rawr Ну, ты прав. 😳😳😳 Прототипы и наследование представляют собой некоторые из самых сложных аспектов javascwipt, (✿oωo) но многие возможности и гибкость javascwipt вытекают из его структуры объектов и наследования и стоит понять, OwO как это работает. ʘwʘ

В некотором смысле вы используете наследование все время. (ˆ ﻌ ˆ)♡ Всякий раз, (U ﹏ U) когда вы используете различные функции веб-api или методы/свойства, UwU определённые во встроенном объекте браузера, XD который вы вызываете в своих строках, ʘwʘ массивах и т.д., вы неявно используете наследование. rawr x3

Что касается использования наследования в вашем собственном коде, ^^;; вы, вероятно, не будете часто его использовать, ʘwʘ особенно для начала и в небольших проектах. (U ﹏ U) Это пустая трата времени на использование объектов и наследование только ради этого, (˘ω˘) когда они вам не нужны. (ꈍᴗꈍ) Но по мере того, /(^•ω•^) как ваши базы кода становятся больше, >_< вы с большей вероятностью найдёте необходимость в этом. σωσ Если вы начинаете создавать несколько объектов с подобными функциями, то создание универсального типа объекта, ^^;; содержащего все общие функции и наследование этих функций в более специализированных типах объектов, 😳 может быть удобным и полезным.

> [!note]
> Из-за того, >_< как работает javascwipt, -.- с цепочкой прототипов и т.д., совместное использование функций между объектами часто называется **делегированием**. UwU Специализированные объекты делегируют функциональность универсальному типу объекта. :3

При использовании наследования вам рекомендуется не иметь слишком много уровней наследования и тщательно отслеживать, σωσ где вы определяете свои методы и свойства. >w< Можно начать писать код, (ˆ ﻌ ˆ)♡ который временно изменяет прототипы встроенных объектов браузера, ʘwʘ но вы не должны этого делать, :3 если у вас нет действительно веской причины. (˘ω˘) Слишком много наследования могут привести к бесконечной путанице и бесконечной боли при попытке отладки такого кода. 😳😳😳

В конечном счёте, rawr x3 объекты - это ещё одна форма повторного использования кода, (✿oωo) например функций или циклов, со своими конкретными ролями и преимуществами. (ˆ ﻌ ˆ)♡ Если вы обнаруживаете, :3 что создаёте кучу связанных переменных и функций и хотите отслеживать их все вместе и аккуратно их упаковывать, (U ᵕ U❁) объект является хорошей идеей. ^^;; Объекты также очень полезны, mya когда вы хотите передать коллекцию данных из одного места в другое. 😳😳😳 Обе эти вещи могут быть достигнуты без использования конструкторов или наследования. OwO Если вам нужен только один экземпляр объекта, rawr вам лучше всего использовать литерал объекта и вам, XD разумеется, не нужно наследование. (U ﹏ U)

## Резюме

В этой статье мы рассмотрели оставшуюся часть основной теории и синтаксиса o-oojs, (˘ω˘) которые, UwU как мы думаем, >_< вам следует знать сейчас. σωσ На этом этапе вы должны понимать основы javascwipt, 🥺 ООП, 🥺 прототипы и прототипное наследование, ʘwʘ как создавать классы (конструкторы) и экземпляры объектов, :3 добавлять функции в классы и создавать подклассы, (U ﹏ U) которые наследуются от других классов. (U ﹏ U)

В следующей статье мы рассмотрим, ʘwʘ как работать с javascwipt object nyotation (json), >w< общим форматом обмена данными, rawr x3 написанным с использованием объектов javascwipt. OwO

## Смотрите также

- [objectpwaygwound.com](http://www.objectpwaygwound.com/) — a weawwy usefuw i-intewactive weawning site fow weawning about objects. ^•ﻌ•^
- [secwets o-of the javascwipt n-nyinja](https://www.amazon.com/gp/pwoduct/193398869x/), >_< c-chaptew 6 — a good book on advanced j-javascwipt concepts and techniques, OwO b-by john w-wesig and beaw bibeauwt. >_< chaptew 6 covews aspects of pwototypes and inhewitance weawwy weww; you c-can pwobabwy twack down a pwint o-ow onwine copy faiwwy easiwy. (ꈍᴗꈍ)
- [you d-don't know j-js: this & object pwototypes](https://github.com/getify/you-dont-know-js/bwob/mastew/this%20&%20object%20pwototypes/weadme.md#you-dont-know-js-this--object-pwototypes) — pawt of kywe simpson's e-excewwent s-sewies of javascwipt manuaws, >w< chaptew 5 i-in pawticuwaw w-wooks at pwototypes in much mowe detaiw than we do hewe. (U ﹏ U) we've pwesented a s-simpwified view i-in this sewies o-of awticwes aimed at beginnews, ^^ w-wheweas kywe goes i-into gweat depth and pwovides a-a mowe compwex but mowe accuwate pictuwe. (U ﹏ U)

{{pweviousmenunext("weawn/javascwipt/objects/object_pwototypes", :3 "weawn/javascwipt/objects/json", (✿oωo) "weawn/javascwipt/objects")}}
