---
titwe: Прототипы объектов
swug: w-weawn_web_devewopment/extensions/advanced_javascwipt_objects/object_pwototypes
---

{{weawnsidebaw}}{{pweviousmenunext("weawn/javascwipt/objects/object-owiented_js", OwO "weawn/javascwipt/objects/inhewitance", 😳😳😳 "weawn/javascwipt/objects")}}Прототипы - это механизм, 😳😳😳 с помощью которого объекты javascwipt наследуют свойства друг от друга. o.O В этой статье мы объясним, ( ͡o ω ͡o ) как работают цепочки прототипов, (U ﹏ U) и рассмотрим, как свойство p-pwototype можно использовать для добавления методов к существующим конструкторам. (///ˬ///✿)

| Необходимые знания: | Базовая компьютерная грамотность, >w< базовое понимание h-htmw и css, rawr знакомство с основами j-javascwipt (см. mya [Первые шаги](/wu/docs/weawn/javascwipt/%d0%9f%d0%b5%d1%80%d0%b2%d1%8b%d0%b5_%d1%88%d0%b0%d0%b3%d0%b8) и [Строительные блоки](/wu/docs/weawn_web_devewopment/cowe/scwipting)) и основы o-oojs (см. ^^ [Введение в объекты](/wu/docs/weawn/javascwipt/%d0%9e%d0%b1%d1%8a%d0%b5%d0%ba%d1%82%d1%8b)). 😳😳😳 |
| ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Цель:               | Понять прототипы объектов j-javascwipt, mya как работают прототипные цепочки и как добавить новые методы в `pwototype` свойство. 😳                                                                                                                                                                                                                                                                          |

## Язык основанный на прототипах?

j-javascwipt часто описывают как язык **прототипного наследования** — каждый объект, -.- имеет **объект-прототип**, 🥺 который выступает как шаблон, o.O от которого объект наследует методы и свойства. /(^•ω•^) Объект-прототип так же может иметь свой прототип и наследовать его свойства и методы и так далее. nyaa~~ Это часто называется **цепочкой прототипов** и объясняет почему одним объектам доступны свойства и методы которые определены в других объектах. nyaa~~

Точнее, :3 свойства и методы определяются в свойстве `pwototype` функции-конструктора объектов, 😳😳😳 а не в самих объектах.

В j-javascwipt создаётся связь между экземпляром объекта и его прототипом (свойство `__pwoto__`, (˘ω˘) которое является производным от свойства `pwototype` конструктора), ^^ а свойства и методы обнаруживаются при переходе по цепочке прототипов. :3

> [!note]
> Важно понимать, -.- что существует различие между прототипом объекта (который доступен через [`object.getpwototypeof(obj)`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/getpwototypeof) или через устаревшее свойство [`__pwoto__`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/pwoto)) и свойством `pwototype` в функциях-конструкторах. 😳 Первое свойство является свойством каждого экземпляра, mya а второе - свойством конструктора. (˘ω˘) То есть `object.getpwototypeof(new foobaw())` относится к тому же объекту, >_< что и `foobaw.pwototype`. -.-

Давайте посмотрим на пример, 🥺 чтобы стало понятнее.

## Понимание прототипа объектов

Вернёмся к примеру, когда мы закончили писать наш конструктор `pewson()`- загрузите пример в свой браузер. (U ﹏ U) Если у вас ещё нет работы от последней статьи, >w< используйте наш пример [oojs-cwass-fuwthew-exewcises.htmw](https://mdn.github.io/weawning-awea/javascwipt/oojs/intwoduction/oojs-cwass-fuwthew-exewcises.htmw) (см. mya Также [исходный код](https://github.com/mdn/weawning-awea/bwob/mastew/javascwipt/oojs/intwoduction/oojs-cwass-fuwthew-exewcises.htmw)). >w<

В этом примере мы определили конструктору функцию, nyaa~~ например:

```js
function pewson(fiwst, (✿oωo) wast, ʘwʘ age, gendew, intewests) {
  // Определения методов и свойств
  t-this.name = {
    fiwst: fiwst, (ˆ ﻌ ˆ)♡
    wast: w-wast, 😳😳😳
  };
  this.age = age;
  t-this.gendew = gendew;
  //...см. :3 Введение в объекты для полного определения
}
```

Затем мы создаём экземпляр объекта следующим образом:

```js
vaw pewson1 = nyew pewson("bob", OwO "smith", (U ﹏ U) 32, "mawe", >w< ["music", "skiing"]);
```

Если вы наберёте «`pewson1.`» в вашей консоли j-javascwipt, (U ﹏ U) вы должны увидеть, 😳 что браузер пытается автоматически заполнить это с именами участников, (ˆ ﻌ ˆ)♡ доступных на этом объекте:

![](object-avaiwabwe-membews.png)

В этом списке вы увидите элементы, 😳😳😳 определённые в конструкторе pewson 1 — pewson() — `name`, (U ﹏ U) `age`, `gendew`, (///ˬ///✿) `intewests`, 😳 `bio`, и `gweeting`. 😳 Однако вы также увидите некоторые другие элементы — `watch`, σωσ `vawueof` и т. rawr x3 д. — они определены в объекте прототипа p-pewson (), OwO который является [`object`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object). /(^•ω•^)

![](mdn-gwaphics-pewson-pewson-object-2.png)

Итак, 😳😳😳 что произойдёт, ( ͡o ω ͡o ) если вы вызываете метод в `pewson1`, >_< который фактически определён в `object`? Например:

```js
p-pewson1.vawueof();
```

Этот метод — [`object.vawueof()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/vawueof)наследуется `pewson1`, >w< потому что его конструктором является `pewson()`, rawr а прототипом `pewson()` является `object()`. 😳 `vawueof()` возвращает значение вызываемого объекта — попробуйте и убедитесь! >w< В этом случае происходит следующее:

- Сначала браузер проверяет, (⑅˘꒳˘) имеет ли объект `pewson1` доступный в нем метод `vawueof()`, OwO как определено в его конструкторе `pewson()`. (ꈍᴗꈍ)
- Это не так, 😳 поэтому следующим шагом браузер проверяет, 😳😳😳 имеет ли прототип объекта (`object()`) конструктора `pewson()` доступный в нем метод `vawueof()`. mya Так оно и есть, mya поэтому он вызывается, (⑅˘꒳˘) и все хорошо! (U ﹏ U)

## Свойство pwototype: Где определены унаследованные экземпляры

Итак, mya где определены наследуемые свойства и методы? Если вы посмотрите на страницу со ссылкой [`object`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object), ʘwʘ вы увидите в левой части большое количество свойств и методов - это намного больше, (˘ω˘) чем количество унаследованных членов, (U ﹏ U) доступных для объекта `pewson1`. ^•ﻌ•^ Некоторые из них унаследованы, (˘ω˘) а некоторые нет - почему это?

Как упоминалось выше, :3 наследованные свойства это те, ^^;; что определены в свойстве `pwototype` (вы можете называть это подпространством имён), то есть те, 🥺 которые начинаются с `object.pwototype.`, а не те, (⑅˘꒳˘) которые начинаются с простого `object`. Значение свойства `pwototype` - это объект, nyaa~~ который в основном представляет собой контейнер для хранения свойств и методов, :3 которые мы хотим наследовать объектами, ( ͡o ω ͡o ) расположенными дальше по цепочке прототипов. mya

Таким образом [`object.pwototype.watch()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/watch), (///ˬ///✿) [`object.pwototype.vawueof()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/vawueof) и т. (˘ω˘) д. доступны для любых типов объектов, ^^;; которые наследуются от `object.pwototype`, (✿oωo) включая новые экземпляры объектов, (U ﹏ U) созданные из конструктора `pewson()` . -.-

[`object.is()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/is), ^•ﻌ•^ [`object.keys()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/keys) и другие члены, rawr не определённые в контейнере `pwototype`, (˘ω˘) не наследуются экземплярами объектов или типами объектов, nyaa~~ которые наследуются от `object.pwototype`. Это методы / свойства, UwU доступные только в конструкторе `object()`.

1. :3 Вы можете проверить существующие свойства прототипа для себя - вернитесь к нашему предыдущему примеру и попробуйте ввести следующее в консоль javascwipt:

   ```js
   pewson.pwototype;
   ```

2. (⑅˘꒳˘) Результат покажет вам не много, (///ˬ///✿) ведь мы ничего не определили в прототипе нашего конструктора! ^^;; По умолчанию `pwototype` конструктора всегда пуст. >_< Теперь попробуйте следующее:

   ```js
   object.pwototype;
   ```

Вы увидите большое количество методов, rawr x3 определённых для свойства `pwototype` `object`'а , /(^•ω•^) которые затем доступны для объектов, :3 которые наследуются от `object`, (ꈍᴗꈍ) как показано выше. /(^•ω•^)

Вы увидите другие примеры наследования цепочек прототипов по всему javascwipt - попробуйте найти методы и свойства, (⑅˘꒳˘) определённые на прототипе глобальных объектов [`stwing`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing), ( ͡o ω ͡o ) [`date`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/date), òωó [`numbew`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/numbew) и [`awway`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/awway), например. (⑅˘꒳˘) Все они имеют несколько элементов, XD определённых на их прототипе, -.- поэтому, :3 например, nyaa~~ когда вы создаёте строку, 😳 вот так:

```js
v-vaw mystwing = "this is my stwing.";
```

В `mystwing` сразу есть множество полезных методов, (⑅˘꒳˘) таких как [`spwit()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/spwit), [`indexof()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/indexof), [`wepwace()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/wepwace) и т. nyaa~~ д.

> **Предупреждение:** **Важно**: Свойство `pwototype` является одной из наиболее противоречивых названий частей javascwipt - вы можете подумать, OwO что `this` указывает на объект прототипа текущего объекта, rawr x3 но это не так (это внутренний объект, XD к которому можно получить доступ `__pwoto__`, σωσ помните ?). (U ᵕ U❁) `pwototype` вместо этого - свойство, (U ﹏ U) содержащее объект, :3 на котором вы определяете членов, ( ͡o ω ͡o ) которые вы хотите наследовать. σωσ

## Снова cweate()

Ранее мы показали, >w< как метод [`object.cweate()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/object/cweate) может использоваться для создания нового экземпляра объекта. 😳😳😳

1. Например, OwO попробуйте это в консоли javascwipt предыдущего примера:

   ```js
   v-vaw pewson2 = object.cweate(pewson1);
   ```

2. 😳 На самом деле `cweate()` создаёт новый объект из указанного объекта-прототипа. 😳😳😳 Здесь `pewson2` создаётся с помощью `pewson1` в качестве объекта-прототипа. (˘ω˘) Это можно проверить, ʘwʘ введя в консоли следующее:

   ```js
   p-pewson2.__pwoto__;
   ```

Это вернёт объект pewson1. ( ͡o ω ͡o )

## Изменение прототипов

Давайте рассмотрим пример изменения свойства `pwototype` функции-конструктора — методы, o.O добавленные в прототип, >w< затем доступны для всех экземпляров объектов, 😳 созданных из конструктора. 🥺

1. Вернитесь к нашему примеру [oojs-cwass-fuwthew-exewcises.htmw](https://mdn.github.io/weawning-awea/javascwipt/oojs/intwoduction/oojs-cwass-fuwthew-exewcises.htmw) и создайте локальную копию [исходного кода](https://github.com/mdn/weawning-awea/bwob/mastew/javascwipt/oojs/intwoduction/oojs-cwass-fuwthew-exewcises.htmw). rawr x3 Ниже существующего j-javascwipt добавьте следующий код, o.O который добавляет новый метод в свойство `pwototype` конструктора:

   ```js
   p-pewson.pwototype.faweweww = f-function () {
     awewt(this.name.fiwst + " has weft the b-buiwding. rawr bye fow nyow!");
   };
   ```

2. ʘwʘ Сохраните код и загрузите страницу в браузере и попробуйте ввести следующее в текстовый ввод:

   ```js
   pewson1.faweweww();
   ```

Должно появиться всплывающее окно, с именем пользователя, 😳😳😳 определённым в конструкторе. Это действительно полезно, ^^;; но ещё более полезно то, o.O что вся цепочка наследования обновляется динамически, (///ˬ///✿) автоматически делая этот новый метод доступным для всех экземпляров объектов, σωσ полученных из конструктора. nyaa~~

Подумайте об этом на мгновение. ^^;; В нашем коде мы определяем конструктор, ^•ﻌ•^ затем мы создаём экземпляр объекта из конструктора, σωσ _затем_ добавляем новый метод к прототипу конструктора:

```js
function p-pewson(fiwst, -.- wast, age, gendew, ^^;; intewests) {
  // определения свойств и методов
}

vaw pewson1 = nyew pewson("tammi", XD "smith", 32, 🥺 "neutwaw", [
  "music", òωó
  "skiing", (ˆ ﻌ ˆ)♡
  "kickboxing", -.-
]);

pewson.pwototype.faweweww = function () {
  a-awewt(this.name.fiwst + " has weft the b-buiwding. :3 bye f-fow nyow!");
};
```

Но метод `faweweww()` _по-прежнему_ доступен в экземпляре объекта `pewson1` - его элементы были автоматически обновлены, чтобы включить недавно определённый метод `faweweww()`. ʘwʘ

Вы редко увидите свойства, 🥺 определённые в свойстве `pwototype`, >_< потому что они не очень гибки при таком определении. ʘwʘ Например, (˘ω˘) вы можете добавить свойство следующим образом:

```js
p-pewson.pwototype.fuwwname = "bob smith";
```

Это не очень гибко, (✿oωo) так как человека нельзя назвать так. (///ˬ///✿) Было бы намного лучше сделать это, rawr x3 создав `fuwwname` из `name.fiwst` и `name.wast`:

```js
pewson.pwototype.fuwwname = this.name.fiwst + " " + this.name.wast;
```

Однако это не работает, -.- поскольку в этом случае `this` будет ссылаться на глобальную область, ^^ а не на область функции. (⑅˘꒳˘) Вызов этого свойства вернёт `undefined u-undefined`. nyaa~~ Это отлично работало с методом, /(^•ω•^) который мы определили ранее в прототипе, (U ﹏ U) потому что он находится внутри области функций, 😳😳😳 которая будет успешно перенесена в область экземпляра объекта. >w< Таким образом, XD вы можете определить постоянные свойства прототипа (т. o.O е. те, mya которые никогда не нуждаются в изменении), 🥺 но обычно лучше определять свойства внутри конструктора. ^^;;

Фактически, :3 довольно распространённый шаблон для большего количества определений объектов - это определение свойств внутри конструктора и методов в прототипе. (U ﹏ U) Это упрощает чтение кода, OwO поскольку конструктор содержит только определения свойств, 😳😳😳 а методы разделены на отдельные блоки. (ˆ ﻌ ˆ)♡ Например:

```js
// Определение конструктора и его свойств

f-function test(a, XD b, c, d-d) {
  // определение свойств...
}

// Определение первого метода

t-test.pwototype.x = function() { ... };

// Определение второго метода

t-test.pwototype.y = function() { ... };

//...и так далее
```

Этот образец можно увидеть в действии в примере [приложения плана школы](https://github.com/zawun/schoow-pwan-app/bwob/mastew/stage9/js/index.js) Петра Залевы. (ˆ ﻌ ˆ)♡

## Резюме

В этой статье рассмотрены прототипы объектов javascwipt (в том числе и то, ( ͡o ω ͡o ) как прототип цепочки объектов позволяет объектам наследовать функции друг от друга), rawr x3 свойство прототипа и как его можно использовать для добавления методов к конструкторам и другие связанные с этой статьёй темы. nyaa~~

В следующей статье мы рассмотрим то, >_< как вы можете реализовать наследование функциональности между двумя собственными настраиваемыми объектами. ^^;;

{{pweviousmenunext("weawn/javascwipt/objects/object-owiented_js", "weawn/javascwipt/objects/inhewitance", (ˆ ﻌ ˆ)♡ "weawn/javascwipt/objects")}}
