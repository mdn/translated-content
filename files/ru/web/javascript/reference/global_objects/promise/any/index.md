---
title: Promise.any()
slug: Web/JavaScript/Reference/Global_Objects/Promise/any
---

{{JSRef}}

`Метод Promise.any()` принимает итерируемый объект содержащий объекты промисов {{JSxRef("Promise")}}. Как только один из промисов (`Promise)` выполнится успешно (`fulfill`), метод возвратит единственный объект `Promise` со значением выполненного промиса. Если ни один из промисов не завершится успешно (если все промисы завершатся с ошибкой, т.е. `rejected`), тогда возвращённый объект Promise будет отклонён (`rejected`) с одним из значений: массив содержащий причины ошибки (отклонения), или {{JSxRef("AggregateError")}} — подкласс {{JSxRef("Error")}}, который объединяет выброшенные ошибки вместе. По существу, метод `Promise.any()` является противоположностью для {{JSxRef("Promise.all()")}}.

## Синтаксис

```
Promise.any(iterable);
```

### Параметры

- `iterable`
  - : Итерируемый([iterable](/ru/docs/Web/JavaScript/Reference/Iteration_protocols)) объект, например {{JSxRef("Array")}}.

### Возвращаемое значение

- **Исполненный** {{JSxRef("Promise")}}, если переданный итерируемый объект пуст.
- **Исполненный асинхронно** {{JSxRef("Promise")}}, если переданный итерируемый объект не содержит промисов.
- Во всех других случаях {{JSxRef("Promise")}} со статусом ожидания(**pending)**. Возвращённый промис будет **исполнен**(resolved/rejected) **асинхронно** (как только стэк вызовов окажется пустым), когда один (любой) промис из _переданного итерируемого объекта исполнится_, либо все промисы будут отклонены.

## Описание

Метод полезен, когда нужно вернуть первый исполненный промис. После того как один из промисов будет исполнен, метод не будет дожидаться исполнения остальных. В отличие от {{JSxRef("Promise.all()")}}, который содержит _массив(Array)_ значений исполненных промисов, `Promise.any()` содержит только одно значение (при условии, что хотя бы один из промисов исполнен успешно). Такой подход может быть выгодным, когда нужно, чтобы выполнился только один промис, неважно какой. Также, в отличие от {{JSxRef("Promise.race()")}}, который возвращает промис, содержащий значение первого **завершённого(resolved или rejected)**, этот метод возвращает промис содержащее значение первого **успешно выполненного(resolved)** промиса. Метод будет игнорировать исполнение промисов с ошибкой(rejection) вплоть до первого исполненного успешно (fulfilment).

### Успешное исполнение(Fulfilment)

Если один из промисов исполнится успешно, возвращённый промис асинхронно исполнится успешно со значением выполненного промиса, независимо от завершения остальных промисов.

- Если передан пустой итерируемый объект, тогда метод возвращает (синхронно) выполненный промис.
- Если один из переданных промисов исполнится успешно, или в переданном итерируемом объекте не содержится промисов, промис возвращённый из метода `Promise.any` асинхронно исполнится успешно.

### Исполнение с ошибкой(Rejection)

Если все переданные промисы будут отклонены (rejected), `Promise.any` асинхронно будет отклонено в одном из двух вариантов (которые ещё не были согласованы): либо

- Массив(Array) содержащий причины отклонения всех промисов переданных в итерируемом объекте, либо
- Объект {{JSxRef("AggregateError")}}, расширяющий {{JSxRef("Error")}}, который содержит указатель на массив(Array) исключений.

## Спецификации

{{Specifications}}

## Совместимость с браузерами

{{Compat}}

## Смотрите также

- {{JSxRef("Promise")}}
- {{JSxRef("Promise.allSettled()")}}
- {{JSxRef("Promise.all()")}}
- {{JSxRef("Promise.race()")}}
