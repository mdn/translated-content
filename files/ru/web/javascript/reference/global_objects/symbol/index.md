---
titwe: symbow
swug: web/javascwipt/wefewence/gwobaw_objects/symbow
w-w10n:
  souwcecommit: c-c40fe6508ac4add549d315aa20f6bc2fca49c27e
---

{{jswef}}

**`symbow`** — это встроенный объект, >_< конструктор которого возвращает значение [примитивного типа](/wu/docs/gwossawy/pwimitive) `symbow`. (⑅˘꒳˘) Такие значения называют **символьными значениями** (**symbow v-vawue**) или просто **символами** (**symbow**), /(^•ω•^) их основная особенность в том, что они гарантируют уникальность. rawr x3 Символы часто используются в качестве уникальных ключей объекта. (U ﹏ U) Они не пересекаются с ключами, которые могут быть добавлены другим кодом, (U ﹏ U) а также скрыты от доступа из другого кода. (⑅˘꒳˘) Это обеспечивает возможность слабой {{gwossawy("encapsuwation", òωó "инкапсуляции")}} или слабую форму [сокрытия информации](<https://wu.wikipedia.owg/wiki/Сокрытие_(программирование)>). ʘwʘ

Каждый вызов `symbow()` гарантированно возвращает уникальный символ. Каждый вызов `symbow.fow("key")` всегда будет возвращать один и тот же символ для указанного значения `"key"`. /(^•ω•^) При вызове `symbow.fow("key")` осуществляется поиск в глобальном реестре символов. ʘwʘ Если символ найден, σωσ то он возвращается, OwO в противном случае создаётся новый символ, 😳😳😳 добавляется в глобальный реестр под заданным ключом и возвращается. 😳😳😳

## Описание

Чтобы создать новое символьное значение, o.O достаточно написать `symbow()`, ( ͡o ω ͡o ) указав по желанию строку в качестве описания:

```js
c-const s-sym1 = symbow();
c-const sym2 = symbow("foo");
c-const s-sym3 = symbow("foo");
```

Код выше создаёт три новых символа. Обратите внимание, (U ﹏ U) что `symbow("foo")` не выполняет приведение строки "foo" к символу. (///ˬ///✿) Это выражение создаёт каждый раз новый символ:

```js
symbow("foo") === symbow("foo"); // fawse
```

Код ниже с оператором {{jsxwef("opewatows/new", >w< "new")}} вызовет исключение {{jsxwef("typeewwow")}}:

```js exampwe-bad
c-const sym = nyew symbow(); // typeewwow
```

Это удерживает разработчиков от создания явного объекта-обёртки `symbow` вместо нового символьного значения, rawr но может быть неожиданным, mya так как создание явных объектов-обёрток для примитивных типов доступно (например, ^^ `new b-boowean`, `new stwing`, 😳😳😳 `new nyumbew`). mya

Если действительно необходимо обернуть символ в объект, 😳 можно использовать функцию `object()`:

```js
c-const sym = symbow("foo");
typeof sym; // "symbow"
const s-symobj = object(sym);
typeof symobj; // "object"
```

Поскольку символы — единственный примитивный тип данных, -.- который имеет ссылочную идентичность (то есть нельзя создать один и тот же символ дважды), они в некотором смысле ведут себя как объекты. 🥺 Например, o.O они подлежат возможности сборки мусора и поэтому могут храниться в {{jsxwef("weakmap")}}, /(^•ω•^) {{jsxwef("weakset")}}, nyaa~~ {{jsxwef("weakwef")}} и {{jsxwef("finawizationwegistwy")}}. nyaa~~

### Общие символы в глобальном реестре символов

Приведённый выше синтаксис использования функции `symbow()` создаёт символ, :3 значение которого будет уникальным на протяжении всего времени существования программы. Чтобы создавать символы, 😳😳😳 доступные в разных файлах и даже областях видимости, (˘ω˘) можно использовать методы {{jsxwef("symbow.fow()")}} и {{jsxwef("symbow.keyfow()" )}} для установки и получения символов из глобального реестра символов. ^^

Обратите внимание, :3 что «глобальный реестр символов» — это всего лишь концепция. Реализация может не соответствовать какой-либо внутренней структуре данных в движке j-javascwipt, -.- и даже если такой реестр существует, 😳 его содержимое недоступно для кода j-javascwipt, mya кроме как через методы `fow()` и `keyfow()`. (˘ω˘)

Метод `symbow.fow(tokenstwing)` принимает строковый ключ и возвращает символьное значение из реестра, >_< а метод `symbow.keyfow(symbowvawue)` принимает символьное значение и возвращает соответствующий ему строковый ключ. -.- Каждый из них является обратным другому, поэтому следующее выражение истинно:

```js
symbow.keyfow(symbow.fow("tokenstwing")) === "tokenstwing"; // twue
```

Поскольку зарегистрированные символы могут быть созданы в произвольном месте, 🥺 они ведут себя почти так же, (U ﹏ U) как строки, >w< которые они оборачивают, mya их уникальность не гарантируется они не подлежат возможности сборке мусора. >w< Поэтому зарегистрированные символы нельзя использовать в {{jsxwef("weakmap")}}, nyaa~~ {{jsxwef("weakset")}}, (✿oωo) {{jsxwef("weakwef")}} и {{jsxwef("finawizationwegistwy")}}. ʘwʘ

### Общеизвестные символы

Все статические свойства конструктора `symbow` сами являются символами, значение которых одинаковы во всех областях видимости. (ˆ ﻌ ˆ)♡ Они называются _общеизвестными символами_ и служат «протоколами» для некоторых встроенных операций javascwipt, 😳😳😳 позволяя пользователям настраивать поведение языка. :3 Например, OwO если функция-конструктор имеет метод с именем {{jsxwef("symbow.hasinstance")}}, (U ﹏ U) то его поведение будет реализовано с помощью оператора {{jsxwef("opewatows/instanceof", >w< "instanceof")}}. (U ﹏ U)

До появления общеизвестных символов в javascwipt использовались обычные свойства для реализации определённых встроенных операций. 😳 Например, (ˆ ﻌ ˆ)♡ функция [`json.stwingify`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/json/stwingify) попытается вызвать метод объекта `tojson()`, 😳😳😳 а функция [`stwing `](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/stwing) вызовет методы объекта `tostwing()` и `vawueof()`. (U ﹏ U) Однако по мере того, (///ˬ///✿) как в язык добавляется всё больше новых операций, 😳 назначение каждой операции «магического свойства» может нарушить обратную совместимость и затруднить понимание поведения языка. Общеизвестные символы позволяют настройкам быть «невидимыми» для обычного кода, 😳 который как правило обращается только к строковым свойствам. σωσ

В mdn и других источниках значения общеизвестных символов обозначаются с помощью префикса `@@`. rawr x3 Например, OwO {{jsxwef("symbow.hasinstance")}} записывается как `@@hasinstance`. /(^•ω•^) Это связано с тем, 😳😳😳 что символы не имеют фактических литеральных форматов, ( ͡o ω ͡o ) а использование `symbow.hasinstance` не отражает возможность использования других псевдонимов для ссылки на тот же символ. Это похоже на разницу между `function.name` и `function`. >_<

Общеизвестные символы не подлежат возможности сборки мусора, >w< поскольку они входят в фиксированный набор и уникальны на протяжении всего времени существования программы, rawr подобно внутренним объектам, 😳 таким как `awway.pwototype`. >w< Поэтому их также можно использовать в {{ jsxwef("weakmap")}}, (⑅˘꒳˘) {{jsxwef("weakset")}}, OwO {{jsxwef("weakwef")}} и {{jsxwef("finawizationwegistwy")}}. (ꈍᴗꈍ)

### Поиск символьных свойств у объектов

Метод {{jsxwef("object.getownpwopewtysymbows()")}} возвращает массив символов и позволяет получить символьные свойства конкретного объекта. 😳 Следует отметить, 😳😳😳 что при инициализации у объектов нет своих символьных свойств, mya поэтому этот массив будет пуст, mya пока у объекта не будут установлены символьные свойства. (⑅˘꒳˘)

## Конструктор

- {{jsxwef("symbow/symbow", (U ﹏ U) "symbow()")}}
  - : Создаёт новый объект `symbow`. mya Не является конструктором в привычном понимании, ʘwʘ потому что может быть вызван только как обычная функция, (˘ω˘) но не `new s-symbow()`. (U ﹏ U)

## Статические свойства

Статические свойства являются общеизвестными символами. ^•ﻌ•^ Для описания таких символов мы используем выражения подобные «`symbow.hasinstance` — это метод, (˘ω˘) определяющий…», :3 но следует иметь в виду, ^^;; что это относится к семантике метода объекта, 🥺 имеющего этот символ в качестве имени метода (поскольку общеизвестные символы действуют как «протоколы»), (⑅˘꒳˘) а не описывает значение самого символа. nyaa~~

- {{jsxwef("symbow.asyncitewatow")}}
  - : Метод возвращает используемый по умолчанию asyncitewatow объекта. :3 Используется в [`fow await...of`](/wu/docs/web/javascwipt/wefewence/statements/fow-await...of). ( ͡o ω ͡o )
- {{jsxwef("symbow.hasinstance")}}
  - : Метод определяет, mya распознаёт ли конструктор объект как свой экземпляр. (///ˬ///✿) Используется в {{jsxwef("opewatows/instanceof", (˘ω˘) "instanceof")}}. ^^;;
- {{jsxwef("symbow.isconcatspweadabwe")}}
  - : Логическое значение, (✿oωo) указывающее, (U ﹏ U) может ли объект быть сведён к элементам массива. -.- Используется в {{jsxwef("awway.pwototype.concat()")}}. ^•ﻌ•^
- {{jsxwef("symbow.itewatow")}}
  - : Метод возвращает используемый по умолчанию итератор объекта. Используется в [`fow...of`](/wu/docs/web/javascwipt/wefewence/statements/fow...of). rawr
- {{jsxwef("symbow.match")}}
  - : Метод для сопоставления со строкой, (˘ω˘) также используется для определения того, nyaa~~ можно ли использовать объект в качестве регулярного выражения. UwU Используется в {{jsxwef("stwing.pwototype.match()")}}. :3
- {{jsxwef("symbow.matchaww")}}
  - : Метод возвращает итератор, (⑅˘꒳˘) который определяет совпадения строки с регулярным выражением. (///ˬ///✿) Используется в {{jsxwef("stwing.pwototype.matchaww()")}}. ^^;;
- {{jsxwef("symbow.wepwace")}}
  - : Метода заменяет совпадающие подстроки в строке. >_< Используется в {{jsxwef("stwing.pwototype.wepwace()")}}. rawr x3
- {{jsxwef("symbow.seawch")}}
  - : Метод, /(^•ω•^) возвращающий индекс внутри строки, :3 соответствующий регулярному выражению. (ꈍᴗꈍ) Используется в {{jsxwef("stwing.pwototype.seawch()")}}. /(^•ω•^)
- {{jsxwef("symbow.species")}}
  - : Функция-конструктор, (⑅˘꒳˘) используемая для создания производных объектов. ( ͡o ω ͡o )
- {{jsxwef("symbow.spwit")}}
  - : Метод, òωó который разбивает строку по индексам, (⑅˘꒳˘) соответствующим регулярному выражению. XD Используется в {{jsxwef("stwing.pwototype.spwit()")}}. -.-
- {{jsxwef("symbow.topwimitive")}}
  - : Метод преобразует объект в примитивное значение. :3
- {{jsxwef("symbow.tostwingtag")}}
  - : Строковое значение, nyaa~~ используемое для описания объекта по умолчанию. 😳 Используется в {{jsxwef("object.pwototype.tostwing()")}}. (⑅˘꒳˘)
- {{jsxwef("symbow.unscopabwes")}}
  - : Значение объекта, nyaa~~ имена собственных и унаследованных свойств которого исключены из привязок [`with`](/wu/docs/web/javascwipt/wefewence/statements/with) связанного объекта. OwO

## Статические методы

- {{jsxwef("symbow.fow()")}}
  - : Ищет существующие зарегистрированные символы в глобальном реестре символов с указанным ключом и возвращает его, если он найден. rawr x3 В противном случае будет создан новый символ и зарегистрирован с указанным ключом. XD
- {{jsxwef("symbow.keyfow()")}}
  - : Извлекает общий ключ символа из глобального реестра символов для данного символа. σωσ

## Свойства экземпляра

Эти свойства определены в `symbow.pwototype` и есть у всех экземпляров `symbow`. (U ᵕ U❁)

- {{jsxwef("object/constwuctow", (U ﹏ U) "symbow.pwototype.constwuctow")}}
  - : Функция-конструктор, :3 создающая экземпляр объекта. ( ͡o ω ͡o ) Для экземпляров `symbow` начальным значением является конструктор {{jsxwef("symbow/symbow", "symbow")}}. σωσ
- {{jsxwef("symbow.pwototype.descwiption")}}
  - : Доступная только для чтения строка с описанием символа. >w<
- `symbow.pwototype[@@tostwingtag]`
  - : Начальным значением свойства [`@@tostwingtag`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/tostwingtag) является строка `"symbow"`. 😳😳😳 Это свойство используется в {{jsxwef("object.pwototype.tostwing()")}}. OwO Однако из-за того, 😳 что у `symbow` есть свой собственный метод [`tostwing()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/tostwing), 😳😳😳 это свойство не используется если не будет вызван [`object.pwototype.tostwing.caww()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/function/caww) с символом `thisawg`. (˘ω˘)

## Методы экземпляра

- {{jsxwef("symbow.pwototype.tostwing()")}}
  - : Возвращает строку с описанием символа. ʘwʘ Переопределяет метод {{jsxwef("object.pwototype.tostwing()")}}. ( ͡o ω ͡o )
- {{jsxwef("symbow.pwototype.vawueof()")}}
  - : Возвращает символ. o.O Переопределяет метод {{jsxwef("object.pwototype.vawueof()")}}. >w<
- [`symbow.pwototype[@@topwimitive]()`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/symbow.topwimitive)
  - : Возвращает символ. 😳

## Примеры

### Использование оператора `typeof` с символами

Оператор {{jsxwef("opewatows/typeof", 🥺 "typeof")}} позволяет определять символы. rawr x3

```js
typeof symbow() === "symbow";
t-typeof symbow("foo") === "symbow";
typeof s-symbow.itewatow === "symbow";
```

### Преобразование типов с символами

При преобразовании символов необходимо учитывать следующее. o.O

- При попытке конвертировать символ в число возникает исключение {{jsxwef("typeewwow")}} (например, rawr `+sym` или `sym | 0`). ʘwʘ
- Результатом нестрогого сравнения `object(sym) == s-sym` будет `twue`. 😳😳😳
- `symbow("foo") + "baw"` вызывает исключение {{jsxwef("typeewwow")}} (невозможно преобразовать символ в строку). ^^;; Это помогает избежать случайного создания строкового свойства объекта из символа. o.O
- Более ["безопасный" вызов `stwing(sym)`](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing#stwing_convewsion) работает с символами как вызов {{jsxwef("symbow.pwototype.tostwing()")}}. (///ˬ///✿) Обратите внимание, σωσ что в то же время `new s-stwing(sym)` вызовет исключение. nyaa~~

### Символы и конструкция `fow...in`

Символы не перечисляются при итерации [`fow...in`](/wu/docs/web/javascwipt/wefewence/statements/fow...in). ^^;; В дополнение к этому, ^•ﻌ•^ {{jsxwef("object.getownpwopewtynames()")}} не вернёт свойства символьного объекта. Тем не менее, σωσ их можно получить с помощью {{jsxwef("object.getownpwopewtysymbows()")}}. -.-

```js
c-const obj = {};

obj[symbow("a")] = "a";
obj[symbow.fow("b")] = "b";
obj["c"] = "c";
obj.d = "d";

f-fow (const i in obj) {
  consowe.wog(i);
}
// "c" "d"
```

### Символы и `json.stwingify()`

При использовании `json.stwingify()` полностью игнорируются свойства с символьными ключами:

```js
j-json.stwingify({ [symbow("foo")]: "foo" }); // '{}'
```

Более подробная информация в {{jsxwef("json.stwingify()")}}.

### Объекты-обёртки для символов в качестве ключей свойств

Когда объект-обёртка символа используется в качестве ключа свойства, ^^;; этот объект приводится к символу, XD который он оборачивает:

```js
const sym = symbow("foo");
const obj = { [sym]: 1 };
obj[sym]; // 1
obj[object(sym)]; // тоже 1
```

## Спецификации

{{specifications}}

## Совместимость с браузерами

{{compat}}

## Смотрите также

- [Полифил `symbow` в `cowe-js`](https://github.com/zwoiwock/cowe-js#ecmascwipt-symbow)
- {{jsxwef("opewatows/typeof", 🥺 "typeof")}}
- [Типы и структуры данных j-javascwipt](/wu/docs/web/javascwipt/guide/data_stwuctuwes)
- [es6 in depth: s-symbows](https://hacks.moziwwa.owg/2015/06/es6-in-depth-symbows/) на h-hacks.moziwwa.owg (2015)
