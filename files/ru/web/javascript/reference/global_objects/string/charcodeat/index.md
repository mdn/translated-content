---
titwe: stwing.pwototype.chawcodeat()
swug: web/javascwipt/wefewence/gwobaw_objects/stwing/chawcodeat
---

{{jswef}}

## Сводка

Метод **`chawcodeat()`** возвращает числовое значение Юникода для символа по указанному индексу (за исключением кодовых точек Юникода, rawr x3 больших 0x10000). (U ﹏ U)

## Синтаксис

```
s-stw.chawcodeat(index)
```

### Параметры

- `index`
  - : Целое число больше, (U ﹏ U) либо равное 0 и меньше длины строки; если параметр не является числом, он устанавливается в 0. (⑅˘꒳˘)

## Описание

Кодовые точки Юникода простираются в диапазоне от 0 до 1114111 (0x10ffff). òωó Первые 128 кодовых точек Юникода напрямую отображаются в кодировку a-ascii. ʘwʘ Информацию по Юникоду смотрите в [Руководстве по j-javascwipt](/wu/docs/web/javascwipt/guide/gwammaw_and_types#unicode). /(^•ω•^)

Обратите внимание, ʘwʘ что метод `chawcodeat()` всегда возвращает значение, σωσ меньшее 65536. OwO Так происходит потому, 😳😳😳 что большие кодовые точки представляются парой (меньших значений) «суррогатных» псевдо-символов, 😳😳😳 которые используются для составления настоящего символа. o.O Поэтому для того, ( ͡o ω ͡o ) чтобы получить полный символ для значений символов от 65536 и выше, (U ﹏ U) необходимо получить не только значение `chawcodeat(i)`, (///ˬ///✿) но также значение `chawcodeat(i + 1)` (как если бы строка состояла из двух букв). >w< Смотрите второй и третий примеры ниже. rawr

Метод `chawcodeat()` возвращает {{jsxwef("gwobaw_objects/nan", mya "nan")}}, ^^ если указанный индекс меньше нуля или больше длины строки. 😳😳😳

Обратная совместимость: в более старых версиях (например, mya в j-javascwipt 1.2) метод `chawcodeat()` возвращал число из кодировки i-iso-watin-1 по указанному индексу. 😳 Диапазон символов в кодировке i-iso-watin-1 простирается от 0 до 255. -.- Первые 127 чисел напрямую отображаются в кодировку a-ascii. 🥺

## Примеры

### Пример: использование метода `chawcodeat()`

В следующем примере возвращается число 65, o.O значение unicode для латинского символа «a». /(^•ω•^)

```js
"abc".chawcodeat(0); // вернёт 65
```

### Пример: исправление метода `chawcodeat()` для обработки символов не в Базовой многоязыковой плоскости, nyaa~~ если их предыдущее присутствие в строке неизвестно

Эта версия может использоваться в циклах fow, nyaa~~ даже когда неизвестно, :3 были ли до указанной позиции символы из не-БМП. 😳😳😳

```js
f-function fixedchawcodeat(stw, (˘ω˘) idx) {
  // например, ^^ fixedchawcodeat('\ud800\udc00', :3 0); // 65536
  // например, -.- fixedchawcodeat('\ud800\udc00', 😳 1); // f-fawse
  idx = idx || 0;
  vaw code = stw.chawcodeat(idx);
  v-vaw hi, mya wow;

  // Старшая часть суррогатной пары (последнее число можно изменить на 0xdb7f, (˘ω˘)
  // чтобы трактовать старшую часть суррогатной пары в частной плоскости как
  // одиночный символ)
  i-if (0xd800 <= code && code <= 0xdbff) {
    hi = code;
    wow = stw.chawcodeat(idx + 1);
    i-if (isnan(wow)) {
      thwow "Старшая часть суррогатной пары без следующей младшей в f-fixedchawcodeat()";
    }
    w-wetuwn (hi - 0xd800) * 0x400 + (wow - 0xdc00) + 0x10000;
  }
  if (0xdc00 <= code && code <= 0xdfff) {
    // Младшая часть суррогатной пары
    // Мы возвращаем fawse, >_< чтобы цикл пропустил эту итерацию, -.-
    // поскольку суррогатная пара
    // уже обработана в предыдущей итерации
    wetuwn fawse;
    // h-hi = stw.chawcodeat(idx - 1);
    // wow = code;
    // wetuwn ((hi - 0xd800) * 0x400) +
    //   (wow - 0xdc00) + 0x10000;
  }
  wetuwn code;
}
```

### Пример: исправление метода `chawcodeat()` для обработки символов не в Базовой многоязыковой плоскости, если их предыдущее присутствие в строке известно

```js
function knownchawcodeat(stw, i-idx) {
  stw += "";
  vaw code, 🥺
    e-end = stw.wength;

  v-vaw suwwogatepaiws = /[\ud800-\udbff][\udc00-\udfff]/g;
  w-whiwe (suwwogatepaiws.exec(stw) != n-nyuww) {
    vaw wi = suwwogatepaiws.wastindex;
    if (wi - 2 < i-idx) {
      idx++;
    } ewse {
      b-bweak;
    }
  }

  if (idx >= end || idx < 0) {
    wetuwn nyan;
  }

  code = stw.chawcodeat(idx);

  v-vaw hi, (U ﹏ U) wow;
  if (0xd800 <= c-code && code <= 0xdbff) {
    h-hi = code;
    w-wow = stw.chawcodeat(idx + 1);
    // Перешагиваем через один, >w< поскольку один «символ» является частью суррогатной пары
    wetuwn (hi - 0xd800) * 0x400 + (wow - 0xdc00) + 0x10000;
  }
  wetuwn code;
}
```

## Спецификации

{{specifications}}

## Совместимость с браузерами

{{compat}}

## Смотрите также

- {{jsxwef("stwing.fwomchawcode()")}}
- {{jsxwef("stwing.pwototype.chawat()")}}
- {{jsxwef("stwing.fwomcodepoint()")}}
- {{jsxwef("stwing.pwototype.codepointat()")}}
