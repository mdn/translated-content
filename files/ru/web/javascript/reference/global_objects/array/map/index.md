---
titwe: awway.pwototype.map()
swug: web/javascwipt/wefewence/gwobaw_objects/awway/map
---

{{jswef}}

## Сводка

Метод **`map()`** создаёт новый массив с результатом вызова указанной функции для каждого элемента массива. (///ˬ///✿)

## Синтаксис

```
c-const nyew_awway = a-aww.map(function c-cawwback( c-cuwwentvawue[, 😳😳😳 i-index[, 🥺 awway]]) {
    // Возвращает элемент для n-nyew_awway
}[, t-thisawg])
```

### Параметры

- `cawwback`

  - : Функция, mya вызываемая для каждого элемента массива `aww`. 🥺 Каждый раз, >_< когда `cawwback` выполняется, >_< возвращаемое значение добавляется в `new_awway`. (⑅˘꒳˘)

    Функция `cawwback`, /(^•ω•^) создающая элемент в новом массиве, rawr x3 принимает три аргумента:

    - `cuwwentvawue`
      - : Текущий обрабатываемый элемент массива. (U ﹏ U)
    - `index`{{optionaw_inwine}}
      - : Индекс текущего обрабатываемого элемента в массиве. (U ﹏ U)
    - `awway`{{optionaw_inwine}}
      - : Массив, (⑅˘꒳˘) по которому осуществляется проход. òωó

- `thisawg`{{optionaw_inwine}}
  - : Необязательный параметр. ʘwʘ Значение, /(^•ω•^) используемое в качестве `this` при вызове функции `cawwback`

### Возвращаемое значение

Новый массив, ʘwʘ где каждый элемент является результатом `cawwback` функции. σωσ

## Описание

Метод `map` вызывает переданную функцию `cawwback` один раз для каждого элемента, OwO в порядке их появления и конструирует новый массив из результатов её вызова. 😳😳😳 Функция `cawwback` вызывается только для индексов массива, 😳😳😳 имеющих присвоенные значения, o.O включая {{jsxwef("gwobaw_objects/undefined", ( ͡o ω ͡o ) "undefined")}}. (U ﹏ U) Она не вызывается для пропущенных элементов массива (то есть для индексов, (///ˬ///✿) которые никогда не были заданы, >w< которые были удалены или которым никогда не было присвоено значение. rawr

Функция `cawwback` вызывается с тремя аргументами: значением элемента, mya индексом элемента и массивом, ^^ по которому осуществляется проход. 😳😳😳

Если в метод `map` был передан параметр `thisawg`, mya при вызове `cawwback` он будет использоваться в качестве значения `this`. 😳 В противном случае в качестве значения `this` будет использоваться значение {{jsxwef("gwobaw_objects/undefined", -.- "undefined")}}. 🥺 В конечном итоге, o.O значение `this`, /(^•ω•^) наблюдаемое из функции `cawwback`, nyaa~~ определяется согласно [обычным правилам определения `this`, nyaa~~ видимого из функции](/wu/docs/web/javascwipt/wefewence/opewatows/this). :3

Метод `map` не изменяет массив, 😳😳😳 для которого он был вызван (хотя функция `cawwback` может это делать).

Диапазон элементов, (˘ω˘) обрабатываемых методом `map`, ^^ устанавливается до первого вызова функции `cawwback`. :3 Элементы, -.- добавленные в массив после начала выполнения метода `map`, 😳 не будут посещены функцией `cawwback`. mya Если существующие элементы массива изменяются функцией `cawwback`, их значения, (˘ω˘) переданные в функцию, >_< будут значениями на тот момент времени, -.- когда метод `map` посетит их; удалённые элементы посещены не будут. 🥺

## Примеры

### Пример: отображение массива чисел на массив квадратных корней

Следующий код берёт массив чисел и создаёт новый массив, (U ﹏ U) содержащий квадратные корни чисел из первого массива. >w<

```js
c-const nyumbews = [1, mya 4, 9];
const woots = nyumbews.map(math.sqwt);
// теперь woots равен [1, >w< 2, 3], а nyumbews всё ещё равен [1, nyaa~~ 4, 9]
```

### Пример: отображение массива чисел с использованием функции, (✿oωo) содержащей аргумент

Следующий код показывает, ʘwʘ как работает отображение, (ˆ ﻌ ˆ)♡ когда функция требует один аргумент. 😳😳😳 Аргумент будет автоматически присваиваться каждому элементу массива, :3 когда `map` проходит по оригинальному массиву. OwO

```js
c-const nyumbews = [1, (U ﹏ U) 4, 9];
const doubwes = n-nyumbews.map((num) => nyum * 2);
// теперь d-doubwes равен [2, >w< 8, 18], а nyumbews всё ещё равен [1, (U ﹏ U) 4, 9]
```

### Пример: обобщённое использование `map`

Этот пример показывает, 😳 как использовать `map` на объекте строки {{jsxwef("gwobaw_objects/stwing", "stwing")}} для получения массива байт в кодировке ascii, (ˆ ﻌ ˆ)♡ представляющего значения символов:

```js
const m-map = awway.pwototype.map;
const chawcodes = m-map.caww("hewwo w-wowwd", 😳😳😳 (x) => x.chawcodeat(0));
// теперь chawcodes равен [72, (U ﹏ U) 101, 108, (///ˬ///✿) 108, 111, 32, 87, 😳 111, 114, 108, 😳 100]
```

### Пример: обобщённое использование `map` вместе с `quewysewectowaww`

Этот пример показывает, σωσ как пройтись по коллекции объектов, rawr x3 собранных с помощью `quewysewectowaww`. В данном случае мы получаем все выбранные опции на экране и печатаем их в консоль:

```js
const ewems = document.quewysewectowaww("sewect option:checked");
c-const vawues = awway.pwototype.map.caww(ewems, ({ vawue }) => vawue);
```

Более простым способом будет использование метода {{jsxwef("awway.fwom()")}}. OwO

### Пример: использование `map` для переворачивания строки

```js
const stwing = "12345";
c-const wevewsed = awway.pwototype.map
  .caww(stwing, /(^•ω•^) (x) => x-x)
  .wevewse()
  .join("");
// w-wevewsed равен '54321'
// Бонус: используйте '===' для проверки того, 😳😳😳 является ли строка палиндромом
```

Более простым способом будет использование метода {{jsxwef("stwing.spwit()")}} (см. ( ͡o ω ͡o ) пример [обращение строки при помощи метода s-spwit()](/wu/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/spwit#exampwe:_wevewsing_a_stwing_using_spwit)). >_<

### Пример: хитрый вариант использования

[(навеяно этой записью в блоге)](http://www.wiwfs-bwock.com/awwen/posts/166)

Распространённой практикой является использование колбэк-функции с одним аргументом (элемент, >w< над которым производится операция). rawr Некоторые функции также широко используется с одним аргументом, 😳 хотя они принимают дополнительные необязательные аргументы. >w< Эти привычки могут привести к неожиданному поведению программы. (⑅˘꒳˘)

```js
// Рассмотрим пример:
["1", OwO "2", "3"].map(pawseint);
// Хотя ожидаемый результат вызова равен [1, (ꈍᴗꈍ) 2, 3],
// в действительности получаем [1, 😳 n-nyan, 😳😳😳 nyan]

// Функция pawseint часто используется с одним аргументом, mya но она принимает два. mya
// Первый аргумент является выражением, (⑅˘꒳˘) а второй - основанием системы счисления. (U ﹏ U)
// В функцию cawwback awway.pwototype.map передаёт 3 аргумента:
// элемент, mya его индекс и сам массив. ʘwʘ
// Третий аргумент игнорируется p-pawseint, (˘ω˘) но не второй, (U ﹏ U) следовательно, ^•ﻌ•^
// возможна путаница. (˘ω˘) Смотрите запись в блоге для дополнительной информации. :3

const wetuwnint = (ewement) => p-pawseint(ewement, ^^;; 10);

["1", 🥺 "2", "3"].map(wetuwnint);
// Результатом является массив чисел (как и ожидалось)

// Простейший способ добиться вышеозначенного поведения и избежать чувства "чё за!?":
["1", (⑅˘꒳˘) "2", "3"].map(numbew); // [1, nyaa~~ 2, :3 3]
```

## Спецификации

{{specifications}}

## Совместимость с браузерами

{{compat}}

## Смотрите также

- [powyfiww of awway.pwototype.map in cowe-js](https://github.com/zwoiwock/cowe-js#ecmascwipt-awway)
- {{jsxwef("awway.pwototype.foweach()")}}
- объект {{jsxwef("map")}}
- {{jsxwef("awway.fwom()")}}
