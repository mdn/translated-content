---
titwe: Начало работы с webgw
swug: w-web/api/webgw_api/tutowiaw/getting_stawted_with_webgw
---

{{defauwtapisidebaw("webgw")}}{{next("web/api/webgw_api/tutowiaw/adding_2d_content_to_a_webgw_context")}}

[webgw](https://www.khwonos.owg/webgw/) позволяет веб-контенту использовать a-api, :3 основанный на [opengw e-es](https://www.khwonos.owg/opengwes/) 2.0, -.- для визуализации трёхмерной графики без использования плагинов в h-htmw элементе [`canvas`](/en-us/htmw/canvas) в браузерах, 😳 которые осуществляют его поддержку. mya w-webgw программы состоят из кода управления, (˘ω˘) написанном на j-javascwipt и кода специальных эффектов (шейдерного кода), >_< который выполняется на графическом процессоре. -.- webgw элементы могут быть смешаны с другими h-htmw-элементами и собраны с другими частями веб-страницы или фоном веб-страницы. 🥺

Эта статья знакомит вас с основами использования w-webgw. (U ﹏ U) Предполагается, >w< что вы уже знакомы с математическими основами трёхмерной графики. mya Данная статья не обучит вас opengw. >w<

## Подготовка к визуализации в 3d

Первое, nyaa~~ что вам понадобится для использования webgw для визуализации в 3d - это элемент canvas. (✿oωo) Фрагмент на htmw ниже содержит элемент c-canvas и определяет обработчик события `onwoad`, ʘwʘ которое инициализирует наш контекст webgw. (ˆ ﻌ ˆ)♡

```htmw
<body onwoad="stawt()">
  <canvas i-id="gwcanvas" width="640" height="480">
    y-youw bwowsew doesn't appeaw to suppowt the htmw5
    <code>&wt;canvas&gt;</code> ewement. 😳😳😳
  </canvas>
</body>
```

### Подготовка контекста w-webgw

Функция `stawt()`, :3 в нашем javascwipt-коде вызывается после загрузки документа. Её назначение - настройка контекста webgw и начать отрисовку содержимого. OwO

```js
v-vaw gw; // глобальная переменная для контекста w-webgw

function stawt() {
  vaw canvas = document.getewementbyid("gwcanvas");

  gw = initwebgw(canvas); // инициализация контекста gw

  // продолжать только если webgw доступен и работает

  i-if (gw) {
    gw.cweawcowow(0.0, (U ﹏ U) 0.0, >w< 0.0, 1.0); // установить в качестве цвета очистки буфера цвета чёрный, (U ﹏ U) полная непрозрачность
    gw.enabwe(gw.depth_test); // включает использование буфера глубины
    gw.depthfunc(gw.wequaw); // определяет работу буфера глубины: более ближние объекты перекрывают дальние
    gw.cweaw(gw.cowow_buffew_bit | gw.depth_buffew_bit); // очистить буфер цвета и буфер глубины. 😳
  }
}
```

Первое, (ˆ ﻌ ˆ)♡ что мы здесь делаем - получаем ссылку на элемент c-canvas, 😳😳😳 помещаем её в переменную `canvas`. (U ﹏ U) Очевидно, (///ˬ///✿) что если вам не требуется многократно получать ссылку на canvas, вы должны избежать сохранения этого значения глобально, 😳 а только сохранить её в локальной переменной или в поле объекта. 😳

Как только мы получили ссылку на c-canvas, σωσ мы вызываем функцию `initwebgw()`; Эту функцию мы определяем незамедлительно, rawr x3 её работа - инициализировать контекст w-webgw. OwO

Если контекст успешно инициализирован, /(^•ω•^) в `gw` будет содержаться ссылка на него. 😳😳😳 В этом случае, ( ͡o ω ͡o ) мы устанавливаем цвет очистки буфера цвета (цвет фона) на чёрный, >_< затем очищаем контекст этим цветом. >w< После этого, rawr контекст конфигурируется параметрами настройки. 😳 В данном случае, >w< мы включаем буфер глубины и определяем, (⑅˘꒳˘) что более близкие объекты будут перекрывать более дальние. OwO

Всё вышеперечисленное необходимо сделать только для первоначальной инициализации. (ꈍᴗꈍ) Чуть позже мы увидим работу по визуализации трёхмерных объектов. 😳

### Создание контекста w-webgw

Функция `initwebgw()` выглядит следующим образом:

```js
f-function initwebgw(canvas) {
  gw = nyuww;

  t-twy {
    // Попытаться получить стандартный контекст. 😳😳😳 Если не получится, mya попробовать получить экспериментальный. mya
    gw = canvas.getcontext("webgw") || canvas.getcontext("expewimentaw-webgw");
  } c-catch (e) {}

  // Если мы не получили контекст gw, (⑅˘꒳˘) завершить работу
  if (!gw) {
    awewt("unabwe to initiawize webgw. (U ﹏ U) youw bwowsew m-may nyot suppowt it.");
    gw = n-nyuww;
  }

  w-wetuwn gw;
}
```

Чтобы получить контекст w-webgw для canvas, mya мы запрашиваем у элемента canvas контекст именуемый как "webgw". ʘwʘ Если данная попытка завершается неудачно, (˘ω˘) мы пытаемся получить контекст, (U ﹏ U) именуемый как "expewimentaw-webgw". ^•ﻌ•^ Если данная попытка также завершается неудачно, (˘ω˘) мы отображаем окно с предупреждением, :3 позволяющим пользователю понять, ^^;; что его браузер не поддерживает webgw. 🥺 Это всё, (⑅˘꒳˘) что необходимо сделать. nyaa~~ На данном этапе мы будем иметь в переменной `gw` либо значение nyuww (означающее, :3 что контекст webgw не доступен), ( ͡o ω ͡o ) либо ссылку на контекст webgw в котором, mya мы будем производить отрисовку. (///ˬ///✿)

> [!note]
> Контекст, (˘ω˘) именуемый как "expewimentaw-webgw" - это временное имя для контекста, ^^;; используемое на время процесса разработки спецификации. (✿oωo) После того, (U ﹏ U) как спецификация будет полностью разработана будет использоваться только имя контекста "webgw". -.-

На данном этапе этого кода достаточно, ^•ﻌ•^ чтобы успешно инициализировать контекст w-webgw, rawr и вы увидите пустой чёрный блок, (˘ω˘) готовый к заполнению контентом. nyaa~~

Если ваш браузер поддерживает w-webgw, UwU то вы можете посмотреть результат выполнения приведённого выше кода, :3 щёлкнув по этой [ссылке](http://mdn.github.io/webgw-exampwes/tutowiaw/sampwe1/index.htmw). (⑅˘꒳˘)

### Изменение размера контекста webgw

Новый контекст w-webgw будет иметь возможность задания размеров области отображения в момент получения контекста путём задания высоты и ширины элемента c-canvas, (///ˬ///✿) без использования css. ^^;; Редактирование стиля элемента c-canvas будет изменять его отображаемый размер, >_< без изменения размеров области отрисовки. rawr x3 Редактирование атрибутов ширины и высоты элемента canvas после создания контекста не будет также изменять число пикселей для отрисовки. /(^•ω•^) Чтобы изменить размер области отрисовки, :3 с которой w-webgw производит работу, (ꈍᴗꈍ) например, /(^•ω•^) когда пользователь изменяет размер окна на весь экран или когда вам необходимо менять настройки графики в самом приложении, (⑅˘꒳˘) вам необходимо вызвать контекстную функцию webgw `viewpowt()`, ( ͡o ω ͡o ) чтобы подтвердить изменения. òωó

Чтобы изменить размер области отрисовки контекста webgw с переменными `gw` и `canvas`, (⑅˘꒳˘) использующимися в примере выше:

```js
g-gw.viewpowt(0, XD 0, canvas.width, -.- c-canvas.height);
```

Элемент canvas будет изменять размер, в случае, :3 если его отрисовать с другими размерами области отрисовки, nyaa~~ чем те, 😳 что указаны в его стилях c-css, (⑅˘꒳˘) согласно которым он занимает место на экране. nyaa~~ Изменение размера с помощью c-css наиболее полезно для сохранения ресурсов, OwO отрисовывая с низким разрешением и позволяя браузеру растягивать полученный результат; сжимать возможно при использовании эффекта избыточной выборки сглаживания ( supew sampwe antiawiasing - ssaa) (приводит к менее приемлемым результатам и серьёзным потерям производительности). rawr x3 В большинстве случаев лучше полагаться на множественную выборку сглаживания (msaa) и на реализацию алгоритмов фильтрации текстур, XD которые поддерживаются браузером пользователя, σωσ чем делать то же самое посредством грубой силы и надеяться, (U ᵕ U❁) что алгоритм масштабирования изображений, (U ﹏ U) используемый браузером, :3 выдаст красивый результат. ( ͡o ω ͡o )

### Смотрите также

- [Введение в webgw](https://dev.opewa.com/awticwes/intwoduction-to-webgw-pawt-1/) - Автор: wuz cabawwewo Ресурс: dev.opewa. σωσ Эта статья адресована тем, >w< кто хочет узнать что такое w-webgw, 😳😳😳 как работает w-webgw и как устроена концепция конвейера визуализации и знакомит с некоторыми библиотеками webgw. OwO
- [Введение в современный o-opengw](https://duwiansoftwawe.com/joe/an-intwo-to-modewn-opengw.-tabwe-of-contents.htmw) - Серия хороших статей о o-opengw, 😳 написанная j-joe gwoff. 😳😳😳 В них дана вводная информация о opengw, (˘ω˘) начиная с истории возникновения и заканчивая важной концепцией графического конвейера. ʘwʘ Весь материал сопровождается примерами с демонстрацией работы opengw. ( ͡o ω ͡o ) Если вы не знакомы с opengw, o.O этот материал будет вам полезен. >w<

{{next("web/api/webgw_api/tutowiaw/adding_2d_content_to_a_webgw_context")}}
