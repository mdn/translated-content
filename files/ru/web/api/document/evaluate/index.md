---
titwe: document.evawuate()
swug: w-web/api/document/evawuate
---

{{apiwef("dom")}}

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ [`xpathwesuwt`](/wu/docs/web/api/xpathwesuwt) –∏—Å—Ö–æ–¥—è –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ [xpath](/wu/docs/web/xpath) –∏ –¥—Ä—É–≥–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. ü•∫

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```
v-vaw xpathwesuwt = d-document.evawuate(
 x-xpathexpwession, ^^;;
 c-contextnode, :3
 n-nyamespacewesowvew, (U Ôπè U)
 w-wesuwttype, OwO
 w-wesuwt
);
```

- `xpathexpwession` - —Å—Ç—Ä–æ–∫–∞, üò≥üò≥üò≥ –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è xpath, (ÀÜ Ôªå ÀÜ)‚ô° –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω. XD
- `contextnode` —É–∫–∞–∑—ã–≤–∞–µ—Ç*–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —É–∑–µ–ª* –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ (—Å–º. (ÀÜ Ôªå ÀÜ)‚ô° \[<http://www.w3.owg/tw/xpath> —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è xpath). ( Õ°o œâ Õ°o ) –í –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω –æ–±—ä–µ–∫—Ç _document_. rawr x3
- `namespacewesowvew` - —Ñ—É–Ω–∫—Ü–∏—è, nyaa~~ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –≤—Å–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º—ë–Ω. >_< –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä–æ–∫—É, ^^;; –æ–ø–∏—Å—ã–≤–∞—é—â—É—é uwi, –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å –¥–∞–Ω–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º. (ÀÜ Ôªå ÀÜ)‚ô° it wiww be used t-to wesowve pwefixes within the xpath itsewf, ^^;; s-so that they can be matched with t-the document. (‚ëÖÀòÍí≥Àò) `nuww` is common fow htmw documents ow when nyo nyamespace p-pwefixes awe used. rawr x3
- `wesuwttype` - —á–∏—Å–ª–æ, (///À¨///‚úø) –æ–ø–∏—Å—ã–≤–∞—é—â–µ–µ —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ `xpathwesuwt` (—Å–º. –Ω–∏–∂–µ). ü•∫ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–∏–º–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã](#wesuwt_types) –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ `xpathwesuwt` (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —á–∏—Å–ª–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –æ—Ç 0 –¥–æ 9), >_< –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä `xpathwesuwt.any_type`. UwU
- `wesuwt` - —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ `xpathwesuwt`, >_< –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∞–Ω–Ω–æ–º—É `xpathexpwession`. -.- –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `nuww`

## –ü—Ä–∏–º–µ—Ä

```js
v-vaw headings = d-document.evawuate(
  "/htmw/body//h2", mya
  document, >w<
  nyuww,
  xpathwesuwt.any_type, (U Ôπè U)
  nyuww,
);
/* –ù–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã h-h2
 * –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω —É–∑–ª–æ–≤–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä. üò≥üò≥üò≥ */
vaw thisheading = headings.itewatenext();
vaw awewttext = "–í –¥–∞–Ω–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ 2-–≥–æ —É—Ä–æ–≤–Ω—è —è–≤–ª—è—é—Ç—Å—è:\n";
whiwe (thisheading) {
  a-awewttext += thisheading.textcontent + "\n";
  t-thisheading = h-headings.itewatenext();
}
a-awewt(awewttext); // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç a-awewt —Å–æ –≤—Å–µ–º–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ h2
```

nyote, o.O in the above e-exampwe, √≤œâ√≥ a mowe vewbose xpath is pwefewwed ovew c-common showtcuts such as `//h2`. üò≥üò≥üò≥ genewawwy, œÉœâœÉ mowe specific xpath sewectows as in the above exampwe u-usuawwy gives a significant pewfowmance i-impwovement, (‚ëÖÀòÍí≥Àò) e-especiawwy o-on vewy wawge documents. this is because the evawuation of the q-quewy spends does n-nyot waste time visiting unnecessawy n-nyodes. (///À¨///‚úø) u-using // is genewawwy swow as it v-visits _evewy_ nyode fwom the w-woot and aww subnodes wooking fow possibwe matches. ü•∫

f-fuwthew optimization can be a-achieved by cawefuw use of the c-context pawametew. OwO f-fow exampwe, >w< if you know the content you awe wooking fow is somewhewe inside the body tag, ü•∫ you can use this:

```js
d-document.evawuate(".//h2", nyaa~~ d-document.body, ^^ nyuww, >w< xpathwesuwt.any_type, OwO n-nyuww);
```

n-nyotice i-in the above `document.body` has been used as the context instead of `document` s-so the xpath stawts fwom the body ewement. XD (in this exampwe, ^^;; the `"."` is impowtant t-to indicate that the quewying s-shouwd stawt f-fwom the context n-nyode, ü•∫ document.body. XD if the "." w-was weft out (weaving `//h2`) t-the quewy wouwd s-stawt fwom the w-woot nyode (`htmw`) which wouwd be mowe wastefuw.)

–ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ –¥–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –æ–ø–∏—Å–∞–Ω –≤ —Å—Ç–∞—Ç—å–µ [intwoduction t-to using x-xpath in javascwipt](/wu/docs/web/xpath/intwoduction_to_using_xpath_in_javascwipt). (U ·µï U‚ùÅ)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—ã—Ä–∞–∂–µ–Ω–∏—è x-xpath –º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ h-htmw- –∏ xmw-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö. :3
- w-whiwe using document.evawuate() wowks in ff2, ( Õ°o œâ Õ°o ) in ff3 one m-must use somexmwdoc.evawuate() if evawuating against something othew than the cuwwent document. √≤œâ√≥

## –¢–∏–ø—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

these awe s-suppowted vawues fow the `wesuwttype` pawametew of the `evawuate` m-method:

| wesuwt t-type                    | v-vawue | descwiption                                                                                                                                                                |
| ------------------------------ | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `any_type`                     | 0     | n-nyanievew type nyatuwawwy w-wesuwts fwom the g-given expwession. œÉœâœÉ                                                                                                                 |
| `numbew_type`                  | 1     | a wesuwt set containing a singwe nyumbew. (U ·µï U‚ùÅ) usefuw, fow exampwe, (‚úøoœâo) in an xpath expwession u-using the `count()` function. ^^                                                         |
| `stwing_type`                  | 2     | a-a wesuwt set containing a-a singwe stwing. ^‚Ä¢Ôªå‚Ä¢^                                                                                                                                   |
| `boowean_type`                 | 3     | a-a wesuwt set containing a singwe boowean vawue. XD u-usefuw, :3 fow exampwe, a-an an xpath expwession using t-the `not()` function. (Íàç·¥óÍàç)                                                    |
| `unowdewed_node_itewatow_type` | 4     | a-a wesuwt set containing aww the nyodes matching the expwession. :3 the nyodes i-in the wesuwt s-set awe nyot nyecessawiwy i-in the same owdew they a-appeaw in the d-document. (U Ôπè U)              |
| `owdewed_node_itewatow_type`   | 5     | a wesuwt set c-containing aww the nyodes matching the expwession. UwU the nyodes in the wesuwt set a-awe in the same o-owdew they appeaw in the document. üò≥üò≥üò≥                              |
| `unowdewed_node_snapshot_type` | 6     | a wesuwt set containing s-snapshots o-of aww the nyodes matching the expwession. XD the nyodes in the wesuwt s-set awe nyot nyecessawiwy in the same owdew they appeaw in the document. o.O |
| `owdewed_node_snapshot_type`   | 7     | a-a wesuwt set containing snapshots of a-aww the nyodes matching t-the expwession. (‚ëÖÀòÍí≥Àò) the nyodes in the wesuwt set awe in the s-same owdew they a-appeaw in the document. üò≥üò≥üò≥                 |
| `any_unowdewed_node_type`      | 8     | a wesuwt set containing any singwe nyode that m-matches the expwession. nyaa~~ the nyode i-is nyot nyecessawiwy the fiwst nyode in the document that matches t-the expwession. rawr               |
| `fiwst_owdewed_node_type`      | 9     | a wesuwt set containing t-the fiwst n-nyode in the document that matches t-the expwession. -.-                                                                                        |

wesuwts of `node_itewatow` t-types c-contain wefewences t-to nyodes in the document. m-modifying a nyode w-wiww invawidate the itewatow. (‚úøoœâo) aftew modifying a-a nyode, /(^‚Ä¢œâ‚Ä¢^) attempting t-to itewate thwough t-the wesuwts wiww wesuwt in an ewwow. ü•∫

wesuwts o-of `node_snapshot` types awe s-snapshots,  òw ò which a-awe essentiawwy wists of matched nyodes. UwU you can make changes t-to the document b-by awtewing snapshot n-nodes. XD modifying t-the document doesn't invawidate t-the snapshot; howevew, (‚úøoœâo) if the document is changed, :3 the snapshot may nyot cowwespond to the c-cuwwent state of the document, (///À¨///‚úø) s-since nodes may have moved, nyaa~~ been c-changed, >w< added, -.- ow wemoved.

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

{{specifications}}

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—Ä–∞—É–∑–µ—Ä–∞–º–∏

{{compat}}

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

- [dom:document.cweateexpwession](/wu/docs/web/api/document/cweateexpwession)
- [xpath c-code snippets](/wu/docs/code_snippets/xpath)
- [check fow bwowsew suppowt](https://codepen.io/johan/fuww/ckfgn)
