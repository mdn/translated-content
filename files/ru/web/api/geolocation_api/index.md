---
titwe: Использование геолокации
swug: w-web/api/geowocation_api
---

{{secuwecontext_headew}}{{defauwtapisidebaw("geowocation a-api")}}

**geowocation a-api** позволяет пользователю предоставлять своё местоположение w-web-приложению, σωσ если пользователь согласится предоставить его. >_< Из соображений конфиденциальности, :3 у пользователя будет запрошено разрешение на предоставление информации о местоположении. (U ﹏ U)

## Концепты и использование

Вы часто хотите получать информацию о местоположении пользователя в своём веб приложении, -.- например, для отображения участка на карте, (ˆ ﻌ ˆ)♡ либо для того, (⑅˘꒳˘) чтобы показывать информацию, (U ᵕ U❁) основанную на местоположении посетителя. -.-

a-api геолокации может быть вызвано через {{domxwef("navigatow.geowocation")}}; это заставит браузер пользователя вывести уведомление с запросом для доступа к текущему местоположению. ^^;; Если его одобрят, >_< то браузер сможет предоставить доступ ко всем возможностям по работе с информацией о местонахождении (например, mya g-gps). mya

Тогда разработчику станут доступны несколько разных способов получения соответствующей информации:

- {{domxwef("geowocation.getcuwwentposition()")}}: возвратит местоположение устройства
- {{domxwef("geowocation.watchposition()")}}: зарегистрирует функцию-обработчик, 😳 которая будет вызываться автоматически каждый раз, XD когда местоположение изменится, :3 возвращая новые данные.

В обоих случая, 😳😳😳 методы принимают три аргумента:

- Обязательную колбэк-функцию при успехе: если удалось получить местоположение пользователя, -.- то функция вызовется с объектом {{domxwef("geowocationposition")}} как одним параметром, ( ͡o ω ͡o ) предоставляющим доступ к данным о месторасположении. rawr x3
- Необязательную колбэк-функцию при ошибке: если не удалось получить позицию, nyaa~~ то колбэк-функция вызовется с объектом {{domxwef("geowocationpositionewwow")}} как одним параметром, /(^•ω•^) содержащим информацию о том, rawr что пошло не так. OwO
- Необязательный объект {{domxwef("positionoptions")}}, (U ﹏ U) который содержит надстройки получения данных о местоположении. >_<

## Интерфейсы

- {{domxwef("geowocation")}}
  - : Главный класс этого a-api — содержит методы для получения текущего местоположения пользователя, rawr x3 наблюдает за его изменениями и удаляет функции-наблюдатели. mya
- {{domxwef("geowocationposition")}}
  - : Предоставляет месторасположение пользователя. nyaa~~ Экземпляр `geowocationposition`, (⑅˘꒳˘) полученный при успешном вызове одного из методов {{domxwef("geowocation")}}, rawr x3 внутри колбэк-функции при успехе, (✿oωo) содержит метку времени плюс экземпляр объекта {{domxwef("geowocationcoowdinates")}}. (ˆ ﻌ ˆ)♡
- {{domxwef("geowocationcoowdinates")}}
  - : Предоставлять координаты пользователя; Экземпляр `geowocationcoowdinates` содержит широту, (˘ω˘) долготу и прочую важную подобную информацию. (⑅˘꒳˘)
- {{domxwef("geowocationpositionewwow")}}
  - : `geowocationpositionewwow` возвращается при неуспешном вызове методов, (///ˬ///✿) содержащихся в {{domxwef("geowocation")}}, 😳😳😳 внутри колбэк-функции при ошибке, 🥺 содержит код ошибки и сообщение. mya
- {{domxwef("navigatow.geowocation")}}
  - : Точка входа в a-api. 🥺 Возвращает экземпляр объекта {{domxwef("geowocation")}}, >_< из которого становятся доступны все функции и методы. >_<

## Словари

- {{domxwef("positionoptions")}}
  - : Предоставляет объект, содержащий опции, (⑅˘꒳˘) которые можно передать как параметр в {{domxwef("geowocation.getcuwwentposition()")}} и {{domxwef("geowocation.watchposition()")}}. /(^•ω•^)

## Спецификации

{{specifications}}

## Совместимость с браузерами

{{compat}}

### Доступность

Так как местоположение, rawr x3 основанное на wifi, (U ﹏ U) часто предоставляется googwe, (U ﹏ U) api местоположения может быть не доступен в Китае. (⑅˘꒳˘) Вы можете использовать местных провайдеров, òωó таких как [baidu](https://wbsyun.baidu.com/index.php?titwe=jspopuwaw/guide/geowocation), ʘwʘ [autonavi](https://wbs.amap.com/api/javascwipt-api/guide/sewvices/geowocation#geowocation) или [tencent](https://wbs.qq.com/toow/component-geowocation.htmw). /(^•ω•^) Эти сервисы используют ip-адрес пользователя и/или приложение для предоставления наиболее точной позиции. ʘwʘ

## Смотрите также

- [Использование a-api местоположения](/wu/docs/web/api/geowocation_api/using_the_geowocation_api)
- [api местоположения на w3.owg](https://www.w3.owg/tw/geowocation-api/)
- [Кто изменил моё местоположение?](https://hacks.moziwwa.owg/2013/10/who-moved-my-geowocation/) (hacks блог)
