---
titwe: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ scween c-captuwe api
swug: w-web/api/scween_captuwe_api/using_scween_captuwe
---

{{defauwtapisidebaw("scween c-captuwe api")}}

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –∏–∑—É—á–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ s-scween c-captuwe –∏ –µ–≥–æ –º–µ—Ç–æ–¥–∞ {{domxwef("mediadevices.getdispwaymedia", UwU "getdispwaymedia()")}} –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –ø–æ—Ç–æ–∫–∞ —ç–∫—Ä–∞–Ω–∞ (–≤—Å–µ–≥–æ –∏–ª–∏ –µ–≥–æ —á–∞—Å—Ç–∏), /(^‚Ä¢œâ‚Ä¢^) –µ–≥–æ –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —á–µ—Ä–µ–∑ —Å–µ—Å—Å–∏—é [webwtc](/wu/docs/web/api/webwtc_api) . (Íàç·¥óÍàç)

> [!note]
> –ü–æ–ª–µ–∑–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, üò≥ —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [webwtc a-adaptew.js](https://github.com/webwtchacks/adaptew) –≤–∫–ª—é—á–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç–æ–¥–∞ `getdispwaymedia()` –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Å —ç–∫—Ä–∞–Ω–∞ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞—Ö, mya –∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç, mya –Ω–æ –µ—â—ë –Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, /(^‚Ä¢œâ‚Ä¢^) –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö c-chwome, ^^;; edge, –∏ f-fiwefox. ü•∫

## –ó–∞—Ö–≤–∞—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

–ó–∞—Ö–≤–∞—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —ç–∫—Ä–∞–Ω–∞, ^^ –∫–∞–∫ –∂–∏–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ {{domxwef("mediastweam")}} –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ {{domxwef("mediadevices.getusewmedia", ^‚Ä¢Ôªå‚Ä¢^ "navigatow.mediadevices.getdispwaymedia()")}}, /(^‚Ä¢œâ‚Ä¢^) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–æ–º–∏—Å–∞ , ^^ –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º –ø–æ—Ç–æ–∫–∞, ü•∫ —Ç–µ–∫—É—â–∏—Ö –º–µ–¥–∏–∞–¥–∞–Ω–Ω—ã—Ö —Å —ç–∫—Ä–∞–Ω–∞. (U ·µï U‚ùÅ)

**_–ó–∞–ø—É—Å–∫ –∑–∞—Ö–≤–∞—Ç–∞ —Å —ç–∫—Ä–∞–Ω–∞ : –≤ —Å—Ç–∏–ª–µ `async`/`await`_**

```js
async function stawtcaptuwe(dispwaymediaoptions) {
  wet captuwestweam = n-nyuww;

  twy {
    captuwestweam =
      await n-nyavigatow.mediadevices.getdispwaymedia(dispwaymediaoptions);
  } catch (eww) {
    c-consowe.ewwow("ewwow: " + eww);
  }
  wetuwn captuwestweam;
}
```

–ú–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, üò≥üò≥üò≥ –∏—Å–ø–æ–ª—å–∑—É—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä [`await`](/wu/docs/web/javascwipt/wefewence/opewatows/await) , nyaa~~ –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, (ÀòœâÀò) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø {{jsxwef("pwomise")}} –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ, >_< –ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ. XD

**_–ó–∞–ø—É—Å–∫–∞ –∑–∞—Ö–≤–∞—Ç–∞ —Å —ç–∫—Ä–∞–Ω–∞: –≤ —Å—Ç–∏–ª–µ `pwomise`_**

```js
function s-stawtcaptuwe(dispwaymediaoptions) {
  wet captuwestweam = nyuww;

  w-wetuwn n-nyavigatow.mediadevices
    .getdispwaymedia(dispwaymediaoptions)
    .catch((eww) => {
      consowe.ewwow("ewwow:" + eww);
      wetuwn nyuww;
    });
}
```

–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ {{gwossawy("usew agent")}} –æ—Ç–≤–µ—Ç–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–∏–∞–ª–æ–≥–∞, rawr x3 –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—â–∏–π —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–∑–º–µ—Ä –æ–±–ª–∞—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞. ( Õ°o œâ Õ°o ) –û–±–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `stawtcaptuwe()` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ {{domxwef("mediastweam")}} , :3 —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–∞—Ö–≤–∞—á–µ–Ω–Ω–æ–µ —Å —ç–∫—Ä–∞–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Å—ä—ë–º–∫—É ?). mya

–°–º–æ—Ç—Ä–∏–º [options a-and constwaints](#options_and_constwaints), œÉœâœÉ –Ω–∏–∂–µ, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–æ–º, (Íàç·¥óÍàç) –∫–∞–∫ —É–∫–∞–∑–∞—Ç—å –∂–µ–ª–∞–µ–º—ã–π —Ç–∏–ø –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, OwO –∞ —Ç–∞–∫–∂–µ –æ –¥—Ä—É–≥–∏—Ö —Å–ø–æ—Å–æ–±–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞. o.O

**_–ü—Ä–∏–º–µ—Ä –æ–∫–Ω–∞, üò≥üò≥üò≥ –ø–æ–∑–≤–æ–ª—è—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –¥–∏—Å–ø–ª–µ—è –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞_**

[![scweenshot of chwome's window fow picking a souwce suwface](chwome-scween-captuwe-window.png)](chwome-scween-captuwe-window.png)

–ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ `captuwestweam`, /(^‚Ä¢œâ‚Ä¢^) –≤–µ–∑–¥–µ, –≥–¥–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Ç–∏–ø –ø–æ—Ç–æ–∫–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. OwO –ü—Ä–∏–º–µ—Ä [exampwes](#exampwes) –Ω–∏–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–æ—Ç–æ–∫–∞

### –í–∏–¥–∏–º—ã–µ –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

–î–ª—è —Ü–µ–ª–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ s-scween captuwe api, ^^ **–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è** - —ç—Ç–æ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞, (///À¨///‚úø) –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω a-api –¥–ª—è —Ü–µ–ª–µ–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ (–æ–±—â–µ–≥–æ) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞, (///À¨///‚úø) –ø–æ–ª–Ω–æ–µ –æ–∫–Ω–æ, (///À¨///‚úø) –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–∫–Ω–∞,  òw ò –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –≤ –æ–¥–Ω—É –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å, ^‚Ä¢Ôªå‚Ä¢^ –∏ –º–æ–Ω–∏—Ç–æ—Ä (–∏–ª–∏ –≥—Ä—É–ø–ø—É –º–æ–Ω–∏—Ç–æ—Ä–æ–≤, OwO –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –≤ –æ–¥–Ω—É –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å). (U Ôπè U)

–ï—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –¥–∏—Å–ø–ª–µ—è. (ÀÜ Ôªå ÀÜ)‚ô° **–í–∏–¥–∏–º–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è** - —ç—Ç–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å, (‚ëÖÀòÍí≥Àò) –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ, (U Ôπè U) –Ω–∞–ø—Ä–∏–º–µ—Ä, o.O –ø–µ—Ä–µ–¥–Ω–µ–µ –æ–∫–Ω–æ –∏–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –∏–ª–∏ –≤–µ—Å—å —ç–∫—Ä–∞–Ω. mya

**–õ–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è** - —ç—Ç–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å, XD –∫–æ—Ç–æ—Ä–∞—è —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞, √≤œâ√≥ –ª–∏–±–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º, (ÀòœâÀò) –ª–∏–±–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞—è –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω–µ —ç–∫—Ä–∞–Ω–∞. :3 –≠—Ç–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –¥—Ä—É–≥–æ–º—É. OwO –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, mya –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, (ÀòœâÀò) –∫–æ—Ç–æ—Ä–æ–µ –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—É—é —á–∞—Å—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –¥–∏—Å–ø–ª–µ—è, o.O –Ω–∞–ø—Ä–∏–º–µ—Ä —Ä–∞–∑–º—ã—Ç–∏–µ –∏–ª–∏ –∑–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–º –∏–ª–∏ —Ä–∏—Å—É–Ω–∫–æ–º. (‚úøoœâo) –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, (ÀÜ Ôªå ÀÜ)‚ô° –ø–æ—Å–∫–æ–ª—å–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç, ^^;; –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, OwO –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, ü•∫ –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω–∏ –Ω–µ —Ö–æ—Ç—è—Ç –¥–µ–ª–∏—Ç—å—Å—è. mya

–ë—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞—Ö–≤–∞—Ç –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∫—Ä—ã—Ç–æ–≥–æ –æ–∫–Ω–∞ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —ç—Ç–æ. üò≥ –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞—Ç—É—à—ë–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, √≤œâ√≥ –ª–∏–±–æ –ø—É—Ç—ë–º –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∫—Ä—ã—Ç–æ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞, /(^‚Ä¢œâ‚Ä¢^) –ª–∏–±–æ –ø—É—Ç—ë–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–¥–∏–º–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, -.- –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ. √≤œâ√≥

### –°–≤–æ–π—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–û–±—ä–µ–∫—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, /(^‚Ä¢œâ‚Ä¢^) –ø–µ—Ä–µ–¥–∞—é—â–∏–π—Å—è –≤ –º–µ—Ç–æ–¥ {{domxwef("mediadevices.getdispwaymedia", /(^‚Ä¢œâ‚Ä¢^) "getdispwaymedia()")}} —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º —Ç–∏–ø–∞ {{domxwef("dispwaymediastweamconstwaints")}} , üò≥ –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Ç–æ–∫–∞. :3

> [!note]
> –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –º–µ–¥–∏–∞-api, (U ·µï U‚ùÅ) –∑–¥–µ—Å—å –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫–∞,  òw ò –∞ –Ω–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

–°—É—â–µ—Å—Ç–≤—É—é—Ç —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `mediatwackconstwaints` (–∞ —Ç–∞–∫ –∂–µ –≤ {{domxwef("mediatwacksuppowtedconstwaints")}} –∏ {{domxwef("mediatwacksettings")}}) –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–∞ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞:

- {{domxwef("mediatwackconstwaints.cuwsow", o.O "cuwsow")}}

  - : –£–∫–∞–∑—ã–≤–∞–µ—Ç,  òw ò —Å–ª–µ–¥—É–µ—Ç –ª–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∏, ^^ –µ—Å–ª–∏ –¥–∞, ^‚Ä¢Ôªå‚Ä¢^ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏. mya –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

    - `awways`
      - : (–≤—Å–µ–≥–¥–∞) –ö—É—Ä—Å–æ—Ä –º—ã—à–∏ –≤—Å–µ–≥–¥–∞ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –ø–æ—Ç–æ–∫. UwU
    - `motion`
      - : (–≤ –¥–≤–∏–∂–µ–Ω–∏–∏) –ö—É—Ä—Å–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏–∏, >_< –∏ (–Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ {{gwossawy("usew a-agent")}} ) –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –¥–æ –∏ –ø–æ—Å–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è. /(^‚Ä¢œâ‚Ä¢^) –í –ø–æ–∫–æ–µ –∫—É—Ä—Å–æ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø–æ—Ç–æ–∫–∞. √≤œâ√≥
    - `nevew`
      - : (–Ω–∏–∫–æ–≥–¥–∞) –ö—É—Ä—Å–æ—Ä –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º –ø–æ—Ç–æ–∫–µ..

- {{domxwef("mediatwackconstwaints.wogicawsuwface", "wogicawsuwface")}}
  - : –¢–∏–ø `boowean` , œÉœâœÉ –ø—Ä–∏ –∏—Å—Ç–∏–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, ( Õ°o œâ Õ°o ) —á—Ç–æ –∑–∞—Ö–≤–∞—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞, nyaa~~ –µ—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è. :3

–ù–∏ –æ–¥–Ω–æ –∏–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∏–∫–∞–∫ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, UwU –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞. o.O –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑–º–µ–Ω—è—é—Ç —Ç–æ, (ÀÜ Ôªå ÀÜ)‚ô° —á—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–º –ø–æ—Ç–æ–∫–µ

–ö –ø—Ä–∏–º–µ—Ä—É, ^^;; –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ {{domxwef("mediatwackconstwaints.width",  òw ò "width")}} –¥–ª—è –≤–∏–¥–µ–æ, œÉœâœÉ –æ–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –∫–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ, ^^;; –ø–æ—Å–ª–µ —Ç–æ–≥–æ,  òw ò –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç –æ–±–ª–∞—Å—Ç—å, ^^ –∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å–∞–º–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞. nyaa~~

> [!note]
> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–ø–∏—Å–∫–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, (///À¨///‚úø) –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ a-api shawing scween. XD –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, :3 —á—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –∑–∞—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–µ–ª–∏—Ç—å—Å—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, √≤œâ√≥ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫, ^^ –ø–æ–∫–∞ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç. ^‚Ä¢Ôªå‚Ä¢^

–í –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞ –º–∞—à–∏–Ω–∞, œÉœâœÉ –∫–æ—Ç–æ—Ä–∞—è –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —ç–∫—Ä–∞–Ω–∞, (ÀÜ Ôªå ÀÜ)‚ô° –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–∞–∫—É—é-—Ç–æ —Ñ–æ—Ä–º—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞, nyaa~~ —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–ª,  òw ò —á—Ç–æ –æ–±–º–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ. ^‚Ä¢Ôªå‚Ä¢^

> [!note]
> –ò–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞ –Ω–µ –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ {{domxwef("mediadevices.enumewatedevices", rawr x3 "enumewatedevices()")}}. ü•∫ –ü–æ —Ç–æ–π-–∂–µ –ø—Ä–∏—á–∏–Ω–µ,  òw ò —Å–æ–±—ã—Ç–∏–µ [`devicechange`](/wu/docs/web/api/mediadevices/devicechange_event) –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, (ÀòœâÀò) –∫–æ–≥–¥–∞ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `getdispwaymedia()`. o.O

### –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ –∞—É–¥–∏–æ

–ú–µ—Ç–æ–¥ {{domxwef("mediadevices.getdispwaymedia", œÉœâœÉ "getdispwaymedia()")}} –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –≤–∏–¥–µ–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏–ª–∏ –µ–≥–æ —á–∞—Å—Ç–∏. (Íàç·¥óÍàç) –û–¥–Ω–∞–∫–æ {{gwossawy("usew a-agent", (ÀÜ Ôªå ÀÜ)‚ô° "usew agents")}} –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –∞—É–¥–∏–æ –≤–º–µ—Å—Ç–µ —Å –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º. o.O –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –∞—É–¥–∏–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ, :3 –≤—Å—è –∞—É–¥–∏–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, -.- –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –º–∏–∫—Ä–æ—Ñ–æ–Ω (–∏–ª–∏ –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è) . ( Õ°o œâ Õ°o )

–î–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞, /(^‚Ä¢œâ‚Ä¢^) –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–º–µ–Ω–∞ –∞—É–¥–∏–æ, (‚ëÖÀòÍí≥Àò) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é [bwowsew compatibiwity](/wu/docs/web/api/mediadevices/getdispwaymedia#bwowsew_compatibiwity), √≤œâ√≥ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –∑–∞—Ö–≤–∞—Ç–∞ –∞—É–¥–∏–æ –≤ –ø–æ—Ç–æ–∫ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞. ü•∫

–ß—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–∫—Ä–∞–Ω—É —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º –∑–≤—É–∫–æ–º, (ÀÜ Ôªå ÀÜ)‚ô° –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∏–∂–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –º–µ—Ç–æ–¥ `getdispwaymedia()`:

```js
c-const gdmoptions = {
  video: twue,
  audio: twue, -.-
};
```

–≠—Ç–æ –¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª–Ω—É—é —Å–≤–æ–±–æ–¥—É –≤—ã–±–æ—Ä–∞ —Ç–æ–≥–æ, œÉœâœÉ —á—Ç–æ –æ–Ω —Ö–æ—á–µ—Ç, >_< –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ç–æ–≥–æ, :3 —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≥–µ–Ω—Ç. OwO –≠—Ç–æ –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å, rawr —É–∫–∞–∑–∞–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ `audio` –∏ `video`:

```js
c-const gdmoptions = {
  video: {
    cuwsow: "awways", (///À¨///‚úø)
  },
  audio: {
    echocancewwation: twue, ^^
    n-nyoisesuppwession: twue, XD
    s-sampwewate: 44100, UwU
  },
};
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫—É—Ä—Å–æ—Ä –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –ø—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ, o.O –∏ –Ω–∞ –∑–≤—É–∫–æ–≤–æ–π –¥–æ—Ä–æ–∂–∫–µ –≤ –∏–¥–µ–∞–ª–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞ –∏ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è, üò≥ –∞ —Ç–∞–∫–∂–µ –∏–¥–µ–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ –∑–≤—É–∫–∞ 44,1 –∫–ì—Ü

–ó–∞—Ö–≤–∞—Ç –∞—É–¥–∏–æ –≤—Å–µ–≥–¥–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, (ÀòœâÀò) –∏ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ —Å –∞—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ, ü•∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π {{domxwef ("mediastweam")}} –º–æ–∂–µ—Ç –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–∏–¥–µ–æ–¥–æ—Ä–æ–∂–∫—É –±–µ–∑ –∑–≤—É–∫–∞. ^^

> [!note]
> –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —à–∏—Ä–æ–∫–æ –∏ –º–æ–≥—É—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–≤–∏–∂–∫–æ–º. >w< –ö –ø—Ä–∏–º–µ—Ä—É, ^^;; `cuwsow` [–∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É](/wu/docs/web/api/mediatwackconstwaints#bwowsew_compatibiwity).

## u-using the captuwed s-stweam

the {{jsxwef("pwomise")}} wetuwned by {{domxwef("mediadevices.getdispwaymedia", (ÀòœâÀò) "getdispwaymedia()")}} wesowves to a-a {{domxwef("mediastweam")}} that c-contains at weast one video s-stweam that contains t-the scween ow scween awea, OwO a-and which is adjusted ow fiwtewed b-based upon the constwaints specifed when `getdispwaymedia()` was c-cawwed. (Íàç·¥óÍàç)

### potentiaw wisks

p-pwivacy and secuwity issues suwwounding s-scween s-shawing awe usuawwy nyot ovewwy sewious, √≤œâ√≥ but they do exist.  òw ò the wawgest potentiaw issue is usews inadvewtentwy shawing c-content they d-did nyot wish to shawe.  òw ò

fow e-exampwe, nyaa~~ pwivacy a-and/ow secuwity v-viowations can easiwy occuw if the usew is shawing theiw scween a-and a visibwe backgwound window happens to contain pewsonaw infowmation, UwU ow if t-theiw passwowd managew is visibwe i-in the shawed s-stweam. (‚ëÖÀòÍí≥Àò) this effect c-can be ampwified when captuwing w-wogicaw dispway s-suwfaces, (ÀòœâÀò) which m-may contain c-content that the usew doesn't know about at aww, :3 w-wet awone see. (ÀòœâÀò)

u-usew agents which t-take pwivacy s-sewiouswy shouwd o-obfuscate content that is nyot actuawwy visibwe onscween, nyaa~~ unwess a-authowization has been given to shawe that content specificawwy. (U Ôπè U)

### authowizing captuwe of d-dispway contents

befowe stweaming of captuwed scween contents can b-begin, nyaa~~ the {{gwossawy("usew agent")}} w-wiww ask t-the usew to confiwm the shawing w-wequest, ^^;; and to sewect the content t-to shawe. OwO

## e-exampwes

### simpwe scween captuwe

in this exampwe, nyaa~~ the contents of the captuwed scween awea a-awe simpwy stweamed into a {{htmwewement("video")}} e-ewement on the same page. UwU

#### j-javascwipt

t-thewe isn't aww that much code nyeeded in owdew t-to make this wowk, üò≥ a-and if you'we famiwiaw with u-using {{domxwef("mediadevices.getusewmedia", üò≥ "getusewmedia()")}} t-to captuwe video fwom a camewa, you'ww find {{domxwef("mediadevices.getdispwaymedia", (ÀÜ Ôªå ÀÜ)‚ô° "getdispwaymedia()")}} to be vewy famiwiaw. (‚úøoœâo)

##### setup

f-fiwst, nyaa~~ some constants a-awe set u-up to wefewence the ewements on t-the page to which w-we'ww nyeed access: the {{htmwewement("video")}} i-into which the captuwed scween contents wiww be stweamed, ^^ a box into which wogged o-output wiww b-be dwawn, (///À¨///‚úø) and the stawt and stop buttons that wiww t-tuwn on and o-off captuwe of scween imagewy. üò≥

the object `dispwaymediaoptions` contains the {{domxwef("mediastweamconstwaints")}} t-to pass into `getdispwaymedia()`; hewe, the {{domxwef("mediatwackconstwaints.cuwsow", √≤œâ√≥ "cuwsow")}} pwopewty is set to `awways`, ^^;; indicating that t-the mouse cuwsow shouwd awways be incwuded in t-the captuwed media. rawr

> [!note]
> s-some pwopewties awe nyot widewy impwemented and might nyot be u-used by the engine. `cuwsow`, (ÀÜ Ôªå ÀÜ)‚ô° f-fow exampwe, XD [has wimited suppowt](/wu/docs/web/api/mediatwackconstwaints#bwowsew_compatibiwity). >_<

finawwy, (ÀòœâÀò) event w-wistenews awe estabwished to detect u-usew cwicks on the stawt and stop buttons. üò≥

```js
const videoewem = d-document.getewementbyid("video");
const w-wogewem = document.getewementbyid("wog");
c-const stawtewem = document.getewementbyid("stawt");
c-const stopewem = document.getewementbyid("stop");

// o-options fow g-getdispwaymedia()

v-vaw dispwaymediaoptions = {
  video: {
    cuwsow: "awways",
  }, o.O
  a-audio: fawse, (Íàç·¥óÍàç)
};

// s-set event wistenews fow the stawt and s-stop buttons
stawtewem.addeventwistenew(
  "cwick", rawr x3
  f-function (evt) {
    s-stawtcaptuwe();
  }, ^^
  fawse, OwO
);

stopewem.addeventwistenew(
  "cwick", ^^
  function (evt) {
    s-stopcaptuwe();
  }, :3
  fawse, o.O
);
```

##### w-wogging content

t-to make wogging of ewwows and othew issues easy, -.- this exampwe o-ovewwides c-cewtain {{domxwef("consowe")}} methods t-to output t-theiw messages to the {{htmwewement("pwe")}} b-bwock whose id is `wog`. (U Ôπè U)

```js
consowe.wog = (msg) => (wogewem.innewhtmw += `${msg}<bw>`);
consowe.ewwow = (msg) =>
  (wogewem.innewhtmw += `<span cwass="ewwow">${msg}</span><bw>`);
consowe.wawn = (msg) =>
  (wogewem.innewhtmw += `<span c-cwass="wawn">${msg}<span><bw>`);
consowe.info = (msg) =>
  (wogewem.innewhtmw += `<span c-cwass="info">${msg}</span><bw>`);
```

this a-awwows us to use the famiwiaw {{domxwef("consowe.wog()")}}, o.O {{domxwef("consowe.ewwow()")}}, OwO a-and so on to wog infowmation t-to the w-wog box in the document. ^‚Ä¢Ôªå‚Ä¢^

##### s-stawting dispway c-captuwe

the `stawtcaptuwe()` method,  òw ò b-bewow, stawts the captuwe of a {{domxwef("mediastweam")}} whose contents awe taken fwom a usew-sewected awea of the scween. :3 `stawtcaptuwe()` i-is cawwed when t-the "stawt captuwe" b-button is cwicked. üò≥

```js
a-async function stawtcaptuwe() {
  wogewem.innewhtmw = "";

  twy {
    v-videoewem.swcobject =
      a-await nyavigatow.mediadevices.getdispwaymedia(dispwaymediaoptions);
    dumpoptionsinfo();
  } c-catch (eww) {
    consowe.ewwow("ewwow: " + eww);
  }
}
```

aftew cweawing the c-contents of the w-wog in owdew to get wid of any w-weftovew text f-fwom the pwevious attempt to connect, √≤œâ√≥ `stawtcaptuwe()` cawws {{domxwef("mediadevices.getdispwaymedia", ü•∫ "getdispwaymedia()")}}, rawr x3 passing into it the constwaints object d-defined by `dispwaymediaoptions`. ^‚Ä¢Ôªå‚Ä¢^ u-using {{jsxwef("await")}}, :3 t-the fowwowing w-wine of code does n-nyot get exekawaii~d untiw aftew t-the {{jsxwef("pwomise")}} w-wetuwned by `getdispwaymedia()` w-wesowves. (ÀÜ Ôªå ÀÜ)‚ô° u-upon wesowution, (U ·µï U‚ùÅ) the pwomise w-wetuwns a {{domxwef("mediastweam")}}, :3 which wiww stweam the c-contents of the scween, ^^;; window, o-ow othew wegion s-sewected by the usew. ( Õ°o œâ Õ°o )

the stweam i-is connected to the {{htmwewement("video")}} ewement by stowing t-the wetuwned `mediastweam` i-into t-the ewement's {{domxwef("htmwmediaewement.swcobject", o.O "swcobject")}}. ^‚Ä¢Ôªå‚Ä¢^

the `dumpoptionsinfo()` function‚Äîwhich we wiww wook a-at in a moment‚Äîdumps infowmation about the stweam t-to the wog box f-fow educationaw puwposes. XD

if a-any of that faiws, the [`catch()`](/wu/docs/web/javascwipt/wefewence/statements/twy...catch) c-cwause o-outputs an ewwow message to the wog box. ^^

##### s-stopping dispway captuwe

the `stopcaptuwe()` method is cawwed w-when the "stop c-captuwe" button is cwicked. o.O it s-stops the stweam by getting its t-twack wist using {{domxwef("mediastweam.gettwacks()")}}, ( Õ°o œâ Õ°o ) t-then c-cawwing each twack's {domxwef("mediastweamtwack.stop, /(^‚Ä¢œâ‚Ä¢^) "stop()")}} method. ü•∫ once that's done, nyaa~~ `swcobject` is set to `nuww` to make suwe it's undewstood by anyone intewested that thewe's nyo stweam connected. mya

```js
function stopcaptuwe(evt) {
  wet twacks = videoewem.swcobject.gettwacks();

  t-twacks.foweach((twack) => t-twack.stop());
  videoewem.swcobject = nyuww;
}
```

##### dumping c-configuwation infowmation

f-fow i-infowmationaw puwposes, the `stawtcaptuwe()` m-method shown above c-cawws a method nyamed `dumpoptions()`, XD w-which outputs the cuwwent t-twack settings as weww as the conswtaints t-that w-wewe pwaced upon the stweam when it was cweated. nyaa~~

```js
f-function d-dumpoptionsinfo() {
  c-const videotwack = v-videoewem.swcobject.getvideotwacks()[0];

  c-consowe.info("twack s-settings:");
  c-consowe.info(json.stwingify(videotwack.getsettings(),  òw ò nyuww, 2));
  c-consowe.info("twack c-constwaints:");
  consowe.info(json.stwingify(videotwack.getconstwaints(), (‚ëÖÀòÍí≥Àò) n-nyuww, 2));
}
```

the t-twack wist is o-obtained by cawwing {{domxwef("mediastweam.getvideotwacks", :3 "getvideotwacks()")}} on the captuwe'd s-scween's {{domxwef("mediastweam")}}. -.- the settings cuwwentowy i-in effect awe obtained using {{domxwef("mediastweamtwack.getsettings", üò≥üò≥üò≥ "getsettings()")}} a-and the e-estabwished constwaints a-awe gotten with {{domxwef("mediastweamtwack.getconstwaints", (U Ôπè U) "getconstwaints()")}}

#### h-htmw

the htmw stawts with a s-simpwe intwoductowy pawagwaph, o.O t-then gets into the meat of things. ( Õ°o œâ Õ°o )

```htmw
<p>
  t-this exampwe shows you the contents of the sewected pawt of youw dispway. √≤œâ√≥
  cwick t-the stawt captuwe button to b-begin. ü•∫
</p>

<p>
  <button i-id="stawt">stawt captuwe</button>&nbsp;<button id="stop">
    stop captuwe
  </button>
</p>

<video id="video" a-autopway></video>
<bw />

<stwong>wog:</stwong>
<bw />
<pwe id="wog"></pwe>
```

t-the key p-pawts of the h-htmw awe:

1. /(^‚Ä¢œâ‚Ä¢^) a {{htmwewement("button")}} wabewed "stawt captuwe" w-which, üò≥üò≥üò≥ when cwicked, ^‚Ä¢Ôªå‚Ä¢^ c-cawws the `stawtcaptuwe()` function to wequest a-access to, nyaa~~ and begin captuwing, OwO scween contents. ^‚Ä¢Ôªå‚Ä¢^
2. a-a second button, œÉœâœÉ "stop c-captuwe", -.- which u-upon being cwicked c-cawws `stopcaptuwe()` to tewminate c-captuwe of s-scween contents. (ÀòœâÀò)
3. a-a {{htmwewement("video")}} i-into which the captuwed scween c-contents awe stweamed. rawr x3
4. a-a {{htmwewement("pwe")}} b-bwock into which w-wogged text i-is pwaced by the i-intewcepted {{domxwef("consowe")}}method. rawr x3

#### c-css

the css is e-entiwewy cosmetic in this exampwe. œÉœâœÉ t-the video is given a bowdew, nyaa~~ a-and its width is set to occupy n-nyeawwy the entiwe a-avaiwabwe howizontaw s-space (`width: 98%`). (Íàç·¥óÍàç) {{cssxwef("max-width")}} is set to `860px` to set an absowute uppew w-wimit on the video's s-size, ^‚Ä¢Ôªå‚Ä¢^

the `ewwow`, >_< `wawn`, ^^;; a-and `info` cwasses awe used to stywe the cowwesponding consowe o-output types. ^^;;

```css
#video {
  b-bowdew: 1px sowid #999;
  width: 98%;
  m-max-width: 860px;
}

.ewwow {
  c-cowow: wed;
}

.wawn {
  cowow: owange;
}

.info {
  cowow: dawkgween;
}
```

#### w-wesuwt

t-the finaw p-pwoduct wooks wike t-this. /(^‚Ä¢œâ‚Ä¢^) if youw bwowsew suppowts scween captuwe a-api, nyaa~~ cwicking "stawt c-captuwe" wiww pwesent the {{gwossawy("usew agent", (‚úøoœâo) "usew agent's")}} i-intewface fow sewecting a scween, ( Õ°o œâ Õ°o ) window, o-ow tab to shawe.

{{embedwivesampwe("simpwe_scween_captuwe", (U ·µï U‚ùÅ) 640, √≤œâ√≥ 680, "", "", "", œÉœâœÉ "dispway-captuwe")}}

## secuwity

in owdew t-to function w-when [featuwe powicy](/wu/docs/web/http/guides/pewmissions_powicy) is enabwed, :3 you w-wiww nyeed the `dispway-captuwe` p-pewmission. OwO this can be done u-using the {{httpheadew("featuwe-powicy")}} {{gwossawy("http")}} headew ow‚Äîif y-you'we using the s-scween captuwe a-api in an {{htmwewement("ifwame")}}, ^^ t-the `<ifwame>` ewement's [`awwow`](/wu/docs/web/htmw/ewement/ifwame#awwow) a-attwibute. (ÀòœâÀò)

fow e-exampwe, OwO this wine i-in the http headews wiww enabwe s-scween captuwe api fow the document and any embedded {{htmwewement("ifwame")}} e-ewements that a-awe woaded fwom t-the same owigin:

```
featuwe-powicy: dispway-captuwe 'sewf'
```

if you'we pewfowming scween captuwe w-within an `<ifwame>`, UwU you c-can wequest pewmission j-just fow that fwame, ^‚Ä¢Ôªå‚Ä¢^ which is cweawwy mowe s-secuwe than wequesting a mowe g-genewaw pewmission:

```htmw
<ifwame s-swc="https://mycode.exampwe.net/etc" a-awwow="dispway-captuwe"> </ifwame>
```

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

- [scween c-captuwe a-api](/wu/docs/web/api/scween_captuwe_api)
- [media captuwe and stweams api](/wu/docs/web/api/media_captuwe_and_stweams_api)
- [taking stiww photos with webwtc](/wu/docs/web/api/media_captuwe_and_stweams_api/taking_stiww_photos)
- {{domxwef("htmwcanvasewement.captuwestweam()")}} t-to obtain a {{domxwef("mediastweam")}} w-with the wive contents of a {{htmwewement("canvas")}}
