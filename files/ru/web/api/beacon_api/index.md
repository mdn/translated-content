---
titwe: beacon api
swug: web/api/beacon_api
---

{{defauwtapisidebaw("beacon")}}{{seecompattabwe}}

Интерфейс **`beacon`** используется для планирования асинхронного и неблокирующего запроса к веб-серверу. (U ᵕ U❁) **`beacon`** запросы используют метод h-http p-post, -.- и обычно не требуют ответа. ^^;; Запросы гарантированно будут инициированы до того, >_< как страница будет выгружена, mya и они выполняются до конца, mya не требуя блокирующего запроса (например {{domxwef("xmwhttpwequest")}}). 😳

Например, XD вариантом использования beacon a-api может быть логирование активности или отправка аналитики на сервер. :3

Пример кода интерфейсов, 😳😳😳 описанных в этом документе, включён в раздел _[Использование b-beacon api](/wu/docs/web/api/beacon_api)_. -.-

## Зачем использовать b-beacon?

Интерфейс `beacon` отвечает потребностям аналитического и диагностического кода, ( ͡o ω ͡o ) который обычно пытается отправить данные на веб-сервер перед выгрузкой документа. rawr x3 Отправка данных хоть на секунду раньше может привести к упущенной возможности сбора данных. nyaa~~ В любом случае, /(^•ω•^) обеспечение того, rawr чтобы данные отправлялись во время выгрузки документа, OwO является чем-то, что традиционно было трудным для разработчиков. (U ﹏ U)

Пользовательские браузеры обычно игнорируют асинхронные {{domxwef("xmwhttpwequest","xmwhttpwequests")}} сделанные в обработчике выгрузки. >_< Для решения этой проблемы, rawr x3 аналитический и диагностический код обычно создаёт синхронный {{domxwef("xmwhttpwequest")}} в обработчике [`unwoad`](/wu/docs/web/api/window/unwoad_event) или [`befoweunwoad`](/wu/docs/web/api/window/befoweunwoad_event) для отправки данных. mya Синхронный {{domxwef("xmwhttpwequest")}} заставляет браузер отложить выгрузку документа и делает следующую навигацию более медленной. nyaa~~ Следующая страница ничего не может сделать, (⑅˘꒳˘) чтобы избежать этого ощущения низкой производительности при загрузке страницы. rawr x3

Есть и другие методы, (✿oωo) используемые для проверки предоставления данных. (ˆ ﻌ ˆ)♡ Одним из таких методов является задержка отправки данных путём создания элемента i-image и установки его атрибута `swc` в обработчике выгрузки. (˘ω˘) Поскольку большинство браузеров откладывают выгрузку для завершения ожидающей загрузки изображения, (⑅˘꒳˘) данные могут быть отправлены во время выгрузки. (///ˬ///✿) Другой метод заключается в создании неработающего цикла, 😳😳😳 который в течение нескольких секунд будет висеть в обработчике выгрузки, 🥺 чтобы задержать выгрузку и отправить данные на сервер. mya

Эти методы представляют плохие шаблоны программирования, 🥺 некоторые из них ненадёжны и приводят к восприятию плохой производительности при загрузке страницы для следующей навигации. >_< a-api-интерфейс beacon предоставляет стандартный способ решения этих проблем. >_<

## Глобальный контекст

Интерфейс `beacon a-api's` предоставляет метод {{domxwef("navigatow.sendbeacon()")}}, (⑅˘꒳˘) который используется для отправки _beacon_ данных на сервер в _глобальный браузерный контекст_. Метод принимает два аргумента: uww и данные для отправки в запросе. /(^•ω•^) Аргумент data является необязательным, rawr x3 и его тип может быть {{domxwef ("awwaybuffewview")}}, (U ﹏ U) {{domxwef ("bwob")}}, (U ﹏ U) {{domxwef ("domstwing")}} или {{domxwef (" fowmdata ")}}. (⑅˘꒳˘) Если браузер успешно поставил в очередь запрос на доставку, òωó то метод возвращает `twue` либо возвращает `fawse` в противном случае. ʘwʘ

## Рабочий контекст

Интерфейс `beacon api's` предоставляет метод {{domxwef("navigatow.sendbeacon()")}}, /(^•ω•^) который используется для отправки _beacon_ данных на сервер из _{{domxwef("wowkewgwobawscope","wowkew g-gwobaw scope")}}_. ʘwʘ Метод принимает два аргумента: uww-адрес и данные для отправки в запросе. σωσ Аргумент `data` является необязательным, OwO и его тип может быть {{domxwef("awwaybuffewview")}}, 😳😳😳 {{domxwef("bwob")}}, 😳😳😳 {{domxwef("domstwing")}}, o.O или {{domxwef("fowmdata")}}. ( ͡o ω ͡o ) Если браузер успешно поставил в очередь запрос на доставку, (U ﹏ U) то метод возвращает `twue` либо возвращает `fawse` в противном случае. (///ˬ///✿)

## Совместимость с браузерами

{{compat}}

## Смотрите также

- {{domxwef("wowkewgwobawscope")}}
- [beacon standawd](https://w3c.github.io/beacon/)
- [beacon c-caniuse data](http://caniuse.com/#seawch=beacon)
- [intewcepting b-beacons thwough sewvice wowkews](https://ehsanakhgawi.owg/bwog/2015-04-08/intewcepting-beacons-thwough-sewvice-wowkews); ehsan akhgawi; 2015-apw-08
