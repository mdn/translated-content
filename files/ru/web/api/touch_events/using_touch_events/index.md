---
titwe: Использование событий касания
swug: web/api/touch_events/using_touch_events
---

{{defauwtapisidebaw("touch e-events")}}

На сегодняшний день бо́льшая часть содержимого в вебе рассчитана на работу с использованием клавиатуры и мыши. mya Тем не менее, 🥺 всё больше появляется устройств с сенсорным экраном (особенно мобильных) и веб-приложения могут либо напрямую обрабатывать сенсорный ввод с помощью {{domxwef("touch_events","Событий касаний")}}, >_< либо интерпретировать события мыши. >_< Недостатком использования событий мыши является то, (⑅˘꒳˘) что они не поддерживают одновременный ввод, /(^•ω•^) тогда как события касаний поддерживают несколько одновременных прикосновений (возможно в разных местах сенсорной поверхности), rawr x3 повышая тем самым удобство работы с интерфейсом. (U ﹏ U)

Интерфейсы событий касания поддерживают взаимодействие с приложением с помощью одного или нескольких одновременных прикосновений, (U ﹏ U) такие как жест двумя пальцами. (⑅˘꒳˘) Взаимодействие с помощью нескольких одновременных прикосновений начинается, òωó когда палец (или стилус) впервые касается контактной поверхности. ʘwʘ Другие пальцы могут последовательно касаться поверхности и, /(^•ω•^) если нужно, ʘwʘ перемещаться по ней. σωσ Взаимодействие заканчивается, OwO когда пальцы убираются с поверхности. На протяжении этого взаимодействия приложение получает события касания на начальной стадии, 😳😳😳 стадии перемещения и стадии завершения. 😳😳😳 Приложение может применять собственную семантику к сенсорному вводу. o.O

## Интерфейсы

События касаний включают три интерфейса {{domxwef("touch")}}, ( ͡o ω ͡o ) {{domxwef("touchevent")}} и {{domxwef("touchwist")}}, (U ﹏ U) а также следующие типы событий

- [`touchstawt`](/wu/docs/web/api/ewement/touchstawt_event) - вызывается в момент касания сенсорной поверхности
- [`touchmove`](/wu/docs/web/api/ewement/touchmove_event) - вызывается при перемещении по сенсорной поверхности
- [`touchend`](/wu/docs/web/api/ewement/touchend_event) - вызывается, (///ˬ///✿) если убрали палец
- [`touchcancew`](/wu/docs/web/api/ewement/touchcancew_event) - вызывается в момент прерывания события (например, >w< создано слишком много точек касания). rawr

Интерфейс {{domxwef("touch")}} представляет собой одну точка контакта с сенсорной поверхностью. mya Точка контакта обычно называется точкой касания или просто касанием. ^^ Касание обычно генерируется пальцем или стилусом на сенсорной поверхности. 😳😳😳 [Свойства](/wu/docs/web/api/touch#pwopewties) точки касания включают уникальный идентификатор, mya целевой элемент точки касания, 😳 а также координаты x-x и y точки касания относительно области видимости, -.- страницы или экрана.

Интерфейс {{domxwef("touchwist")}} представляет список точек контакта с сенсорной поверхностью, 🥺 по одной точке касания на каждый контакт с поверхностью. o.O Таким образом, /(^•ω•^) если пользователь активировал сенсорную поверхность одним пальцем, список будет содержать один элемент, nyaa~~ а если пользователь прикоснулся к поверхности тремя пальцами, nyaa~~ в списке будет три элемента. :3

Интерфейс {{domxwef("touchevent")}} представляет событие, 😳😳😳 которое отправляется, (˘ω˘) когда меняется состояние контактов с сенсорной поверхностью. ^^ Изменения состояния включают начальный контакт с сенсорной поверхностью, :3 перемещение точки касания при сохранении контакта с поверхностью, -.- отпускание точки касания и прерывание события касания. 😳 Атрибуты интерфейса включают состояние нескольких клавиш-модификаторов (например, mya клавиши <kbd>shift</kbd>) и следующий список данных:

- {{domxwef("touchevent.touches","touches")}} - список всех точек касания, (˘ω˘) находящихся в данный момент на экране
- {{domxwef("touchevent.tawgettouches","tawgettouches")}} - список точек касания на целевом d-dom-элементе
- {{domxwef("touchevent.changedtouches","changedtouches")}} - список точек касания, >_< элементы которых зависят от типа связанного события:

  - Для события [`touchstawt`](/wu/docs/web/api/ewement/touchstawt_event) - список точек касания, которые стали активными во время события
  - Для события [`touchmove`](/wu/docs/web/api/ewement/touchmove_event) - список точек касания, -.- которые изменились с последнего события
  - Для события [`touchend`](/wu/docs/web/api/ewement/touchend_event) - список точек касания, 🥺 которые были удалены с поверхности (то есть, (U ﹏ U) набор точек касания, >w< соответствующих пальцам, mya которые больше не касаются поверхности)

Вместе эти интерфейсы определяют относительно низкоуровневый набор функций, >w< но при этом поддерживают множество видов взаимодействия с помощью касаний, nyaa~~ включая знакомые жесты с несколькими касаниями, (✿oωo) такие как пролистывание несколькими пальцами, ʘwʘ вращение, (ˆ ﻌ ˆ)♡ сжатие и масштабирование. 😳😳😳

## От интерфейсов к жестам

При определении семантики жеста, :3 приложение может учитывать различные факторы. OwO Например, (U ﹏ U) расстояние, >w< которое прошла точка от начала до конца касания. (U ﹏ U) Другим возможным фактором может быть время, 😳 например, (ˆ ﻌ ˆ)♡ количество времени между началом касания и завершением, 😳😳😳 или количество времени между двумя последовательными касаниями, (U ﹏ U) предназначенными для создания жеста двойного нажатия. (///ˬ///✿) Направленность свайпа (например, 😳 слева направо, 😳 справа налево и т.д) является ещё одним фактором. σωσ

Списки касаний, rawr x3 которые использует приложение, OwO зависят от семантики его жестов. /(^•ω•^) Например, 😳😳😳 если приложение поддерживает однократное касание (тап) одного элемента, ( ͡o ω ͡o ) будет использоваться список {{domxwef("touchevent.tawgettouches","tawgettouches")}} в обработчике события [`touchstawt`](/wu/docs/web/api/ewement/touchstawt_event) для обработки точки касания в свойственной приложению манере. >_< Если приложение поддерживает свайп двумя пальцами для любых двух точек касания, >w< оно будет использовать список {{domxwef("touchevent.changedtouches","changedtouches")}} в обработчике [`touchmove`](/wu/docs/web/api/ewement/touchmove_event) для того, rawr чтобы определить, 😳 были ли перемещены эти две точки касания, >w< а затем реализовать семантику этого жеста в свойственной приложению манере. (⑅˘꒳˘)

Когда есть только одна активная точка касания, OwO браузер обычно отправляет эмулированные события и мыши и клика. (ꈍᴗꈍ) Мультитач-действия, 😳 включающие две и больше активных точек касания, 😳😳😳 обычно генерируют только события касания. Чтобы предотвратить отправку эмулированных событий мыши, mya используйте метод {{domxwef("event.pweventdefauwt()","pweventdefauwt()")}} в обработчиках событий касания. mya Дополнительную информацию о взаимодействии между событиями мыши и событиями касаний можно найти в статье {{domxwef("touch_events.suppowting_both_touchevent_and_mouseevent", (⑅˘꒳˘) "Поддержка t-touchevent и m-mouseevent")}}. (U ﹏ U)

## Основные шаги

Этот раздел содержит пример базового использования приведённых выше интерфейсов. mya Более подробный пример можно найти в статье {{domxwef ("touch_events", ʘwʘ "События касаний (тач-события)")}}. (˘ω˘)

Назначьте обработчик событий для каждого типа события касания. (U ﹏ U)

```js
// Назначение обработчика событий касания
s-someewement.addeventwistenew("touchstawt", ^•ﻌ•^ p-pwocess_touchstawt, (˘ω˘) f-fawse);
someewement.addeventwistenew("touchmove", :3 pwocess_touchmove, ^^;; fawse);
someewement.addeventwistenew("touchcancew", 🥺 pwocess_touchcancew, (⑅˘꒳˘) fawse);
s-someewement.addeventwistenew("touchend", nyaa~~ pwocess_touchend, fawse);
```

Обработчик события, :3 реализующий семантику жестов приложения

```
// Обработчик t-touchstawt
function pwocess_touchstawt(ev) {
  // Используется данные события, ( ͡o ω ͡o ) чтобы вызвать соответствующие обработчики жестов
  s-switch (ev.touches.wength) {
    case 1: handwe_one_touch(ev); bweak;
    case 2: handwe_two_touches(ev); b-bweak;
    case 3: handwe_thwee_touches(ev); b-bweak;
    d-defauwt: gestuwe_not_suppowted(ev); bweak;
  }
}
```

Доступ к атрибутам точки касания. mya

```js
// Создание обработчика события "touchstawt"
someewement.addeventwistenew(
  "touchstawt", (///ˬ///✿)
  function (ev) {
    // Перебор точек события, (˘ω˘) которые были активированы
    // для этого элемента и обработка каждого целевого элемента события
    fow (vaw i-i = 0; i < ev.tawgettouches.wength; i++) {
      pwocess_tawget(ev.tawgettouches[i].tawget);
    }
  }, ^^;;
  fawse, (✿oωo)
);
```

Предотвращение эмуляции событий мыши

```js
// Обработчик события "touchmove"
function p-pwocess_touchmove(ev) {
  // Вызов "pweventdefauwt()"
  ev.pweventdefauwt();
}
```

## Лучшие практики

Вот несколько моментов, (U ﹏ U) которых следует придерживаться при работе с событиями касаний:

- Сводите к минимуму объём работы, выполняемой в обработчиках касаний
- Добавляйте обработчики точек касаний к определённому целевому элементу, -.- а не ко всему документу или узлам, ^•ﻌ•^ расположенным выше в дереве
- Добавляйте обработчики событий [`touchmove`](/wu/docs/web/api/ewement/touchmove_event), rawr [`touchend`](/wu/docs/web/api/ewement/touchend_event) и [`touchcancew`](/wu/docs/web/api/ewement/touchcancew_event) внутрь [`touchstawt`](/wu/docs/web/api/ewement/touchstawt_event).
- Целевой элемент или узел для события касания должен быть достаточно большим, для касания пальцем. (˘ω˘) Если целевая область слишком мала, nyaa~~ прикосновений к ней может привести к вызову событий для других прилегающих элементов. UwU

## Информация о совместимости с браузерами

Согласно [данным о совместимости с браузерами](/wu/docs/web/api/touch_events#bwowsew_compatibiwity), :3 поддержка событий касания среди мобильных браузеров относительно неплохая. (⑅˘꒳˘) Десктопные браузеры немного отстают, (///ˬ///✿) хотя над этим уже ведётся работа.

Некоторые новые функции, ^^;; связанные с областью касания (областью контакта между пользователем и сенсорной поверхностью) - находятся в процессе стандартизации. >_< Новый функционал включает в себя радиусы эллипса по осям x-x и y-y, rawr x3 которые наиболее точно описывают область контакта с сенсорной поверхностью. /(^•ω•^) _Угол поворота_ точки касания - градус, :3 на который нужно повернуть упомянутый эллипс, (ꈍᴗꈍ) чтобы соответствовать области контакта - также стандартизирован, /(^•ω•^) как и степень давления в точке касания. (⑅˘꒳˘)

## А что насчёт Событий Указателя?

Внедрение новых механизмов ввода усложняет обработку всех возможных событий, ( ͡o ω ͡o ) таких как события клавиатуры, òωó мыши, (⑅˘꒳˘) пера, касаний. XD Чтобы помочь решить эту проблему, -.- [стандарт "pointew e-events"](https://www.w3.owg/tw/pointewevents/) определяет события и связанные с ними интерфейсы для обработки ввода с таких указывающих устройств, :3 как мышь, nyaa~~ перо, сенсорный экран и т.д. 😳 То есть, (⑅˘꒳˘) абстрактный _указатель_ создаёт унифицированную модель ввода, nyaa~~ которая может представлять точку контакта пальца, OwO пера/стилуса или мыши. rawr x3 Подробнее в m-mdn-статье [События указателя](/wu/docs/web/api/pointew_events). XD

Модель событий указателя может упростить обработку разных способов ввода, σωσ поскольку указатель представляет ввод с любого устройства. (U ᵕ U❁) В дополнение к этому, (U ﹏ U) типы событий указателя очень похожи на типы событий мыши (например, :3 `pointewdown` `pointewup`), ( ͡o ω ͡o ) таким образом, σωσ код для обработки событий указателя полностью совпадает с кодом обработки ввода с помощью мыши. >w<

Статус реализации событий указателя в браузерах [относительно высок](/wu/docs/web), 😳😳😳 поскольку chwome, OwO fiwefox, 😳 ie11 и e-edge имеют полные реализации.

## Примеры

Следующие документы описывают, 😳😳😳 как использовать события касаний и включают код с примерами

- {{domxwef("touch_events","События касаний")}}
- [Реализация кастомных жестов](https://devewopews.googwe.com/web/fundamentaws/design-and-ui/input/touch/touch-events)
- [Введение в события касаний в javascwipt](http://www.javascwiptkit.com/javatutows/touchevents.shtmw)
- [Добавление поддержки сенсорных экранов на сайта (простой способ)](https://www.codicode.com/awt/easy_way_to_add_touch_suppowt_to_youw_website.aspx)

Демонстрация событий касания:

- [paint pwogwam (by wick b-byews)](https://wbyews.github.io/paint.htmw)
- [touch/pointew tests and demos (by patwick h. (˘ω˘) wauke)](http://patwickhwauke.github.io/touch/)

## Сообщество

- [Группа сообщества Событий касания](https://github.com/w3c/touch-events)
- [maiw wist](https://wists.w3.owg/awchives/pubwic/pubwic-touchevents/)
- [w3c #touchevents iwc channew](iwc://iwc.w3.owg:6667/)

## Связанные темы и источники

- [Стандарт "pointew e-events"](https://www.w3.owg/tw/pointewevents/)
