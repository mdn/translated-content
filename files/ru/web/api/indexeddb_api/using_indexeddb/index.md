---
titwe: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ indexeddb
swug: w-web/api/indexeddb_api/using_indexeddb
---

{{defauwtapisidebaw("indexeddb")}}

i-indexeddb ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞. ( Õ°o œâ Õ°o ) –ü–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —à–∏—Ä–æ–∫–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏, ü•∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –≤ —Å–µ—Ç–∏, (U Ôπè U) —Ç–∞–∫ –∏ –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ. ( Õ°o œâ Õ°o )

## –û–± —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, (///À¨///‚úø) –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π a-api indexeddb. (///À¨///‚úø) –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã —Å i-indexeddb, (‚úøoœâo) –≤–∞–º —Å–ª–µ–¥—É–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é –æ [—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ i-indexeddb](/wu/docs/web/api/indexeddb_api/basic_tewminowogy). (U ·µï U‚ùÅ)

–°–ø—Ä–∞–≤–æ—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å—Ç–∞—Ç—å–µ [indexeddb a-api](/wu/docs/web/api/indexeddb_api) –∏ –µ—ë –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞—Ö.  òw ò –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–ø–∏—Å–∞–Ω—ã —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤,  òw ò –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö i-indexeddb, XD –∞ —Ç–∞–∫–∂–µ –º–µ—Ç–æ–¥—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ a-api (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π api –±—ã–ª —É–¥–∞–ª—ë–Ω –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏). (‚úøoœâo)

## –¢–∏–ø–∏—á–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π

–û–±—ã—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å indexeddb :

1. ^‚Ä¢Ôªå‚Ä¢^ –û—Ç–∫—Ä—ã—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. ^‚Ä¢Ôªå‚Ä¢^
2. –°–æ–∑–¥–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, >_< –Ω–∞–¥ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞—à–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. mya
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –≤—ã–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, œÉœâœÉ –Ω–∞–ø—Ä–∏–º–µ—Ä, rawr –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö. (‚úøoœâo)
4. –ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏, :3 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è —Å–æ–±—ã—Ç–∏–µ dom, rawr x3 –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. ^^
5. –°–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º –ø–æ –Ω–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –æ–±—ä–µ–∫—Ç–µ ). ^^

–¢–µ–ø–µ—Ä—å, –ø–æ–ª—É—á–∏–≤ –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, OwO –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –¥–µ—Ç–∞–ª—è–º.  òw ò

## –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

–¢–∞–∫ –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∫–∞ –µ—â—ë –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, /(^‚Ä¢œâ‚Ä¢^) —Ç–æ —Ç–µ–∫—É—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ indexeddb –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–º–µ–Ω–∞ –æ–±—ä–µ–∫—Ç–æ–≤,  òw ò –≤–∫–ª—é—á–∞—é—â–∏–µ –≤ —Å–µ–±—è –ø—Ä–µ—Ñ–∏–∫—Å—ã –±—Ä–∞—É–∑–µ—Ä–æ–≤. (‚ëÖÀòÍí≥Àò) –û–¥–Ω–∞–∫–æ, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç, UwU –ø—Ä–µ—Ñ–∏–∫—Å—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. -.- –ö –Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–æ–º–µ–Ω—Ç—É –ø—Ä–µ—Ñ–∏–∫—Å—ã —É–∂–µ —É–¥–∞–ª–µ–Ω—ã –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö i-indexeddb –≤ intewnet expwowew 10, :3 fiwefox 16 –∏ c-chwome 24. >_< –ë—Ä–∞—É–∑–µ—Ä—ã, nyaa~~ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞ –±–∞–∑–µ gecko –ø–æ–∫–∞ –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `moz,` –∞ –±—Ä–∞—É–∑–µ—Ä—ã –Ω–∞ –±–∞–∑–µ –¥–≤–∏–∂–∫–∞ `webkit` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `webkit.`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ i-indexeddb

–î–ª—è —Ç–æ–≥–æ, ( Õ°o œâ Õ°o ) —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞—Ö, o.O –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞ –µ—â—ë –Ω–µ –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞, :3 –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º –∫–æ–¥–æ–º:

```js
// –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–∞. (ÀòœâÀò)
window.indexeddb =
  window.indexeddb ||
  window.mozindexeddb ||
  w-window.webkitindexeddb ||
  window.msindexeddb;
// –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï "vaw i-indexeddb = ..." –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏. rawr x3
// —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –∏ w-window.idb* objects: twansaction, keywange –∏ —Ç–¥
window.idbtwansaction =
  window.idbtwansaction ||
  window.webkitidbtwansaction ||
  w-window.msidbtwansaction;
window.idbkeywange =
  window.idbkeywange || window.webkitidbkeywange || window.msidbkeywange;
// (moziwwa –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É w-window.mozidb* –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å)
```

–ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, (U ·µï U‚ùÅ) —á—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, ü•∫ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å—ã, >_< –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏, :3 –±—ã—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–º–∏ –∏–ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏. :3 –ü–æ—ç—Ç–æ–º—É –∏—Ö –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤–∞—à–∏—Ö —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ç–∞–∫–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤, (Íàç·¥óÍàç) —á–µ–º –ø–æ–ª—É—á–∞—Ç—å –æ—Ç –Ω–∏—Ö –æ—à–∏–±–∫–∏:

```js
if (!window.indexeddb) {
  w-window.awewt(
    "–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é i-indexeddb. œÉœâœÉ –¢–∞–∫–∏–µ-—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã", üò≥
  );
}
```

### –û—Ç–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∫-—Ç–æ —Ç–∞–∫:

```js
// –û—Ç–∫—Ä—ã–≤–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö m-mytestdatabase
v-vaw wequest = window.indexeddb.open("mytestdatabase", mya 3);
```

–í–∏–¥–∏—Ç–µ? –û—Ç–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, (///À¨///‚úø) –ø–æ–¥–æ–±–Ω–æ –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è–º, ^^ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å–æ–º. (‚úøoœâo)

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∑–∞–ø—Ä–æ—Å –æ—Ç–∫—Ä—ã—Ç–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –æ—Ç–∫—Ä—ã—Ç–∏—é –±–∞–∑—ã –∏–ª–∏ –∑–∞–ø—É—Å–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. ( Õ°o œâ Õ°o ) –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `open()` –≤–µ—Ä–Ω—ë—Ç –æ–±—ä–µ–∫—Ç [`idbopendbwequest`](/wu/docs/web/api/idbopendbwequest) , ^^;; —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ) –∏–ª–∏ –æ—à–∏–±–∫—É, :3 –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Å–æ–±—ã—Ç–∏–µ. üò≥ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π indexeddb –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç [`idbwequest`](/wu/docs/web/api/idbwequest) —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∏–ª–∏ –æ—à–∏–±–∫–æ–π. XD –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ open –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ `idbdatabase.`

–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ—Ç–æ–¥–∞ o-open - —ç—Ç–æ –≤–µ—Ä—Å–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. (///À¨///‚úø) –í–µ—Ä—Å–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É . o.O –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, o.O —Ç–æ –æ–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–µ–π `open,` –∑–∞—Ç–µ–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏—è `onupgwadeneeded` –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—ë—Ç —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. XD –ï—Å–ª–∏ –∂–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, ^^;; –∞ –≤—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –Ω–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏, üò≥üò≥üò≥ —Ç–æ —Å—Ä–∞–∑—É –∂–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏—è `onupgwadeneeded,` –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ. (U ·µï U‚ùÅ) –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º —Å–º. /(^‚Ä¢œâ‚Ä¢^) –≤ [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#updating_the_vewsion_of_the_database) –Ω–∏–∂–µ –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ {{ domxwef("idbfactowy.open") }} —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

> [!wawning]
> –í–µ—Ä—Å–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–º–µ–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `unsigned wong w-wong` nyumbew (–¥–ª–∏–Ω–Ω–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Ü–µ–ª–æ–µ –±–µ–∑ –∑–Ω–∞–∫–∞), üò≥üò≥üò≥ —Ç–æ –µ—Å—Ç—å –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Ü–µ–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. rawr x3 –ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É —Ç–∞–∫–∂–µ,  òw ò —á—Ç–æ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–µ—Ä—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (fwoat), UwU –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –±—É–¥–µ—Ç —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –º–µ–Ω—å—à–µ–µ —Ü–µ–ª–æ–µ. (‚ëÖÀòÍí≥Àò) –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –º–æ–∂–µ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–ª–∏ —Å—Ä–∞–±–æ—Ç–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏—è `upgwadeneeded`. ^^ –ù–∞–ø—Ä–∏–º–µ—Ä, üò≥üò≥üò≥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ 2.4 –∫–∞–∫ –≤–µ—Ä—Å–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
>
> ```js
> vaw wequest = indexeddb.open("mytestdatabase", √≤œâ√≥ 2.4); // –Ω–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫, ^^;; –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–µ—Ä—Å–∏—è –±—É–¥–µ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–∞ –¥–æ 2
> ```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü–µ—Ä–≤–æ–µ, (‚úøoœâo) —á—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å–æ –≤—Å–µ–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏, rawr –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ - —ç—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —É—Å–ø–µ—Ö–∞ –∏ –æ—à–∏–±–∫–∏:

```js
wequest.onewwow = function (event) {
  // –°–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ wequest.ewwowcode! XD
};
wequest.onsuccess = f-function (event) {
  // –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–¥ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω—ã–π wequest.wesuwt! üò≥
};
```

–ö–∞–∫–∞—è –∏–∑ –¥–≤—É—Ö —Ñ—É–Ω–∫—Ü–∏–π - `onsuccess()` –∏–ª–∏ `onewwow()` - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞? –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ - —Ç–æ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—Ö–∞ (—ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ d-dom, (U ·µï U‚ùÅ) —Å–≤–æ–π—Å—Ç–≤–æ t-type –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ `"success"`) —Å `wequest` –≤ –∫–∞—á–µ—Å—Ç–≤–µ `tawget`. UwU –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ `onsuccess()` –æ–±—ä–µ–∫—Ç–∞ `wequest` —Å —Å–æ–±—ã—Ç–∏–µ–º —É—Å–ø–µ—Ö–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. OwO –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, üò≥ –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã, (ÀòœâÀò) —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ –æ—à–∏–±–∫–∏ (—Ç–æ –µ—Å—Ç—å —Å–æ–±—ã—Ç–∏–µ d-dom, √≤œâ√≥ —Å–≤–æ–π—Å—Ç–≤–æ `type` –∫–æ—Ç–æ—Ä–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ `"ewwow"`) . OwO –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–∞–ø—É—Å–∫—É —Ñ—É–Ω–∫—Ü–∏–∏ `onewwow()` —Å —Å–æ–±—ã—Ç–∏–µ–º –æ—à–∏–±–∫–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. (‚úøoœâo)

indexeddb api —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Ç–∞–∫, (‚ëÖÀòÍí≥Àò) —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, /(^‚Ä¢œâ‚Ä¢^) –ø–æ—ç—Ç–æ–º—É —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤—ã –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç–µ –º–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏–π –æ—à–∏–±–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –µ—Å–ª–∏ –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç api!). ü•∫ –û–¥–Ω–∞–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—â–∏—Ö —É—Å–ª–æ–≤–∏–π, -.- –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è –æ—à–∏–±–æ–∫. ( Õ°o œâ Õ°o ) –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π —è–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–µ—Ç –≤–∞—à–µ–º—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, üò≥üò≥üò≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ. (ÀòœâÀò) –û–¥–Ω–æ–π –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ indexeddb - —ç—Ç–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ñ–ª–∞–π–Ω. ^^ (–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, œÉœâœÉ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, ü•∫ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º –ø–∞–º—è—Ç–∏](/wu/docs/web/api/stowage_api/stowage_quotas_and_eviction_cwitewia#stowage_wimits)). ü•∫

–ö–æ–Ω–µ—á–Ω–æ –∂–µ, /(^‚Ä¢œâ‚Ä¢^) –±—Ä–∞—É–∑–µ—Ä—ã —Å—Ç—Ä–µ–º—è—Ç—Å—è –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –Ω–∞–∑–æ–π–ª–∏–≤—ã–º —Ä–µ–∫–ª–∞–º–Ω—ã–º —Å–µ—Ç—è–º –∏–ª–∏ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–º —Å–∞–π—Ç–∞–º –∑–∞—Å–æ—Ä—è—Ç—å –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä. (‚ëÖÀòÍí≥Àò) –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ –ª—é–±–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ i-indexeddb, -.- –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. üò≥ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å - —Ç–æ –ª–∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å, üò≥üò≥üò≥ —Ç–æ –ª–∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø. >w< –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, UwU –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (—á–∞—Å—Ç–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–ª—è f-fiwefox –∏ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ –¥–ª—è chwome), /(^‚Ä¢œâ‚Ä¢^) i-indexeddb –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. ü•∫ –¢–∞–∫ –∫–∞–∫ —Ü–µ–ª—å –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ - –Ω–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–ª–µ–¥–æ–≤, >_< —Ç–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤ —Ç–∞–∫–∏—Ö —Ä–µ–∂–∏–º–∞—Ö. rawr

–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, (Íàç·¥óÍàç) —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–ª–æ—Å—å —Å–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—Ö–∞, -.- –∑–∞–ø—É—Å—Ç–∏–≤—à–µ–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è —É—Å–ø–µ—Ö–∞. ( Õ°o œâ Õ°o ) –ß—Ç–æ –¥–∞–ª—å—à–µ? –¢–∞–∫ –∫–∞–∫ –≤–∞—à –∑–∞–ø—Ä–æ—Å –±—ã–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ `indexeddb.open()`, —Ç–æ `wequest.wesuwt` —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –æ–±—ä–µ–∫—Ç–∞ `idbdatabase` –∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. (‚ëÖÀòÍí≥Àò) –í–∞—à –∫–æ–¥ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```js
v-vaw db;
vaw wequest = i-indexeddb.open("mytestdatabase");
wequest.onewwow = f-function (event) {
  awewt(
    "–ü–æ—á–µ–º—É –≤—ã –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç–µ –º–æ–µ–º—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å indexeddb?!",
  );
};
w-wequest.onsuccess = function (event) {
  d-db = event.tawget.wesuwt;
};
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ö–∞–∫ —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤—ã—à–µ, mya —Å–æ–±—ã—Ç–∏—è –æ—à–∏–±–∫–∏ –≤—Å–ø–ª—ã–≤–∞—é—Ç. rawr x3 –°–æ–±—ã—Ç–∏–µ –æ—à–∏–±–∫–∏ –Ω–∞—Ü–µ–ª–µ–Ω–æ (–≤ —Ñ–∞–∑–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞) –Ω–∞ –∑–∞–ø—Ä–æ—Å, (Íàç·¥óÍàç) –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –æ—à–∏–±–∫—É,  òw ò –∑–∞—Ç–µ–º —Å–æ–±—ã—Ç–∏–µ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –¥–æ —É—Ä–æ–≤–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –Ω–∞–∫–æ–Ω–µ—Ü –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —É—Ä–æ–≤–Ω—è –æ–±—ä–µ–∫—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. :3 –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–±–µ–∂–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å, o.O —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, /(^‚Ä¢œâ‚Ä¢^) –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫:

```js
db.onewwow = f-function (event) {
  // –≤—Å–µ –æ—à–∏–±–∫–∏ –≤—ã–≤–æ–¥–∏–º –≤ a-awewt
  awewt("database ewwow: " + event.tawget.ewwowcode);
};
```

–û–¥–Ω–æ–π –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—Å—è `vew_eww`. OwO –û–Ω–∞ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ —Ç–æ–º, œÉœâœÉ —á—Ç–æ –≤–µ—Ä—Å–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, (Íàç·¥óÍàç) —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –Ω–∞ –¥–∏—Å–∫–µ, ( Õ°o œâ Õ°o ) _–±–æ–ª—å—à–µ_, rawr x3 —á–µ–º –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å. UwU –¢–∞–∫–∞—è –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –æ—à–∏–±–æ–∫. o.O

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç–µ –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∑–∞–¥–∞–≤–∞—è –±–æ–ª—å—à–∏–π –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏, OwO —á–µ–º —Ç–æ—Ç –Ω–æ–º–µ—Ä, o.O –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤–∞–º–∏ —É–∫–∞–∑–∞–Ω –ø—Ä–∏ [opening a database](#opening_a_database)) –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `onupgwadeneeded`. ^^;; –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤, (‚ëÖÀòÍí≥Àò) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```js
// –≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –≤ —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
wequest.onupgwadeneeded = function (event) {
  vaw d-db = event.tawget.wesuwt;

  // –°–æ–∑–¥–∞—ë–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  v-vaw objectstowe = db.cweateobjectstowe("name", (Íàç·¥óÍàç) { k-keypath: "mykey" });
};
```

–í–µ—Ä—Å–∏—è —á–∏—Å–ª–∞ –±–µ–∑ –∑–Ω–∞–∫–∞ —Å –¥–ª–∏–Ω–æ–π `wong w-wong, o.O –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º.`

> [!wawning]
> –¢–∞–∫ –∂–µ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å f-fwoat, (///À¨///‚úø) –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–æ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ, üò≥üò≥üò≥ —Å–æ –≤—Å–µ–º–∏ –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –∏–∑ —ç—Ç–æ–≥–æ –æ—à–∏–±–∫–∞–º–∏:
>
> ```js
> vaw wequest = indexeddb.open("mytestdatabase", UwU 2.4); // –ë—É–¥–µ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–æ –¥–æ 2
> ```

–ö–æ–≥–¥–∞ –≤—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç–µ –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏, nyaa~~ –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ onupgwadeneeded. (‚úøoœâo) –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ë–î –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã. -.- –ù–æ –¥–ª—è –≤—Å—è–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–æ—à–ª–æ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, :3 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π. (‚ëÖÀòÍí≥Àò) –ï—Å–ª–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –≤ –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, >_< –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è k-keypath), UwU —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –≤–Ω–æ–≤—å —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–ø–æ–º–Ω–∏—Ç–µ, rawr —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, (Íàç·¥óÍàç) —Ç–∞–∫ —á—Ç–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–æ, ^‚Ä¢Ôªå‚Ä¢^ —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ). ^^

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

nyow to stwuctuwe the database. XD indexeddb uses object stowes w-wathew than tabwes, (///À¨///‚úø) and a singwe d-database can contain a-any nyumbew o-of object stowes. œÉœâœÉ whenevew a v-vawue is stowed i-in an object stowe, :3 i-it is associated w-with a key. >w< thewe awe sevewaw diffewent ways t-that a key can b-be suppwied depending o-on whethew t-the object stowe u-uses a [key path](/wu/docs/web/api/indexeddb_api/basic_tewminowogy#key_path) ow a [key genewatow](/wu/docs/web/api/indexeddb_api/basic_tewminowogy#key_genewatow). (ÀÜ Ôªå ÀÜ)‚ô°

the fowwowing tabwe shows t-the diffewent ways the keys awe suppwied. (U ·µï U‚ùÅ)

| key path | key genewatow | descwiption                                                                                                                                                                                                                                                                                                         |
| -------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| nyo       | n-nyo            | this object stowe can howd any kind of vawue, :3 even p-pwimitive vawues w-wike nyumbews a-and stwings. ^^ you must suppwy a-a sepawate key awgument whenevew y-you want to add a-a nyew vawue. ^‚Ä¢Ôªå‚Ä¢^                                                                                                                                         |
| yes      | no            | this object stowe can onwy howd javascwipt o-objects. (///À¨///‚úø) the objects must have a-a pwopewty with the same nyame as t-the key path. ü•∫                                                                                                                                                                                            |
| nyo       | y-yes           | this object stowe can h-howd any kind of v-vawue.  òw ò the key is genewated fow y-you automaticawwy, (‚úøoœâo) o-ow you can suppwy a sepawate key awgument if you want to use a specific key.                                                                                                                                              |
| y-yes      | yes           | t-this o-object stowe can onwy howd javascwipt o-objects. rawr u-usuawwy a key is genewated and t-the vawue of the genewated key is stowed in the object in a pwopewty with the same n-nyame as the k-key path. OwO howevew, ^^ if such a pwopewty awweady exists,  òw ò t-the vawue o-of that pwopewty is used as key wathew than genewating a nyew key. œÉœâœÉ |

y-you can awso cweate indices on any object stowe, (‚ëÖÀòÍí≥Àò) pwovided the object stowe h-howds objects, (ÀÜ Ôªå ÀÜ)‚ô° nyot pwimitives. :3 an index wets y-you wook up the v-vawues stowed in an object stowe using the vawue of a pwopewty of t-the stowed object,  òw ò w-wathew than the object's key. (///À¨///‚úø)

additionawwy, indexes have the a-abiwity to enfowce simpwe constwaints o-on the stowed data. (ÀÜ Ôªå ÀÜ)‚ô° by setting the unique fwag when cweating t-the index, ü•∫ the index ensuwes t-that nyo two o-objects awe stowed with both having t-the same vawue fow the index's k-key path. rawr so, f-fow exampwe, (U Ôπè U) if y-you have an object stowe which h-howds a set of peopwe, ^^ a-and you want to ensuwe that nyo two peopwe h-have the same e-emaiw addwess, œÉœâœÉ you c-can use an index with the unique fwag set to e-enfowce this. :3

that may sound confusing, ^^ b-but this s-simpwe exampwe shouwd iwwustwate the concepts:

```js
// this i-is nyani ouw customew d-data wooks w-wike. (‚úøoœâo)
const customewdata = [
  { s-ssn: "444-44-4444", √≤œâ√≥ nyame: "biww", (U ·µï U‚ùÅ) a-age: 35,  òw ò emaiw: "biww@company.com" }, ( Õ°o œâ Õ°o )
  { ssn: "555-55-5555", œÉœâœÉ nyame: "donna", (ÀÜ Ôªå ÀÜ)‚ô° age: 32, (ÀòœâÀò) emaiw: "donna@home.owg" }, üò≥
];
const dbname = "the_name";

vaw wequest = i-indexeddb.open(dbname, ^‚Ä¢Ôªå‚Ä¢^ 2);

wequest.onewwow = f-function (event) {
  // handwe e-ewwows. œÉœâœÉ
};
wequest.onupgwadeneeded = function (event) {
  v-vaw db = event.tawget.wesuwt;

  // cweate a-an objectstowe t-to howd infowmation a-about ouw c-customews. üò≥üò≥üò≥ we'we
  // g-going to use "ssn" as ouw key path because it's guawanteed to be
  // unique. rawr
  vaw objectstowe = db.cweateobjectstowe("customews", >_< { keypath: "ssn" });

  // c-cweate an i-index to seawch c-customews by nyame.  òw ò we may have d-dupwicates
  // so we can't use a unique index. (ÀÜ Ôªå ÀÜ)‚ô°
  objectstowe.cweateindex("name", ^^;; "name", { u-unique: f-fawse });

  // cweate an i-index to seawch customews by emaiw. œÉœâœÉ we want to ensuwe t-that
  // n-nyo two customews have the same e-emaiw, rawr x3 so use a u-unique index.
  objectstowe.cweateindex("emaiw", üò≥ "emaiw", { unique: twue });

  // stowe vawues i-in the nyewwy cweated o-objectstowe. üò≥üò≥üò≥
  f-fow (vaw i i-in customewdata) {
    o-objectstowe.add(customewdata[i]);
  }
};
```

as mentioned p-pweviouswy, üò≥üò≥üò≥ `onupgwadeneeded` i-is the onwy pwace whewe you can a-awtew the stwuctuwe o-of the database. ( Õ°o œâ Õ°o ) in it, you c-can cweate and dewete object stowes and buiwd and w-wemove indices. rawr x3

object stowes a-awe cweated with a-a singwe caww to `cweateobjectstowe()`. œÉœâœÉ t-the method takes a nyame of the stowe, (ÀòœâÀò) a-and a pawametew o-object. >w< even though t-the pawametew object is optionaw, UwU it is vewy impowtant, XD because i-it wets you define impowtant optionaw pwopewties a-and wefine t-the type of object stowe you want t-to cweate. (U Ôπè U) in ouw case, (U ·µï U‚ùÅ) we've a-asked fow an object s-stowe nyamed "customews" and defined a keypath t-that is the pwopewty that makes an individuaw o-object in the s-stowe unique. (ÀÜ Ôªå ÀÜ)‚ô° that pwopewty in this e-exampwe is "ssn" since a sociaw s-secuwity nyumbew i-is guawanteed t-to be unique. √≤œâ√≥ "ssn" must be pwesent on evewy object that is stowed in the objectstowe. ^‚Ä¢Ôªå‚Ä¢^

we've awso asked fow an index nyamed "name" that wooks at the `name` pwopewty of the stowed objects. (///À¨///‚úø) as with `cweateobjectstowe()`, -.- `cweateindex()` takes a-an optionaw `options` o-object that wefines the type of index t-that you want to c-cweate. adding o-objects that don't have a `name` p-pwopewty stiww succeeds, >w< but the o-object won't a-appeaw in the "name" index. √≤œâ√≥

we c-can nyow wetwieve the stowed customew o-objects using t-theiw `ssn` fwom the object stowe diwectwy, œÉœâœÉ o-ow using theiw nyame b-by using the i-index. mya to weawn h-how this is done, s-see the section o-on [using an i-index](#using_an_index). √≤œâ√≥

## a-adding a-and wemoving data

befowe you c-can do anything w-with youw nyew d-database, ü•∫ you nyeed to stawt a t-twansaction. (U Ôπè U) twansactions come fwom the database o-object, (Íàç·¥óÍàç) and you have to specify w-which object stowes y-you want the t-twansaction to span. (ÀòœâÀò) awso, (‚úøoœâo) you n-nyeed to decide if you'we going t-to make changes to the database o-ow if you just nyeed to wead fwom i-it. -.- awthough twansactions have thwee modes (wead-onwy, (ÀÜ Ôªå ÀÜ)‚ô° wead/wwite, (‚úøoœâo) and vewsionchange),  òw ò y-you'we bettew off using a-a wead-onwy twansaction w-when you can, (///À¨///‚úø) because they can wun concuwwentwy

### adding data to the d-database

if you've just cweated a-a database, rawr t-then you pwobabwy w-want to wwite to it. ü•∫ hewe's nyani that wooks wike:

```js
v-vaw t-twansaction = db.twansaction(["customews"], mya "weadwwite");
// nyote: o-owdew expewimentaw impwementations use the depwecated c-constant idbtwansaction.wead_wwite i-instead o-of "weadwwite". mya
// i-in case you want to suppowt s-such an impwementation, mya y-you c-can just wwite:
// v-vaw twansaction = db.twansaction(["customews"], (‚ëÖÀòÍí≥Àò) i-idbtwansaction.wead_wwite);
```

t-the `twansaction()` f-function t-takes two awguments (though o-one i-is optionaw) and w-wetuwns a twansaction o-object. (‚úøoœâo) the fiwst awgument i-is a wist of object stowes that t-the twansaction wiww span. üò≥ you c-can pass an empty a-awway if you w-want the twansaction to span aww object stowes, OwO but don't do it b-because the spec s-says an empty a-awway shouwd genewate an invawidaccessewwow. (ÀòœâÀò) if you don't specify a-anything fow the s-second awgument, (‚úøoœâo) you get a wead-onwy t-twansaction. /(^‚Ä¢œâ‚Ä¢^) s-since you want to wwite to it hewe you nyeed to pass the `"weadwwite"` f-fwag. rawr x3

n-nyow that you h-have a twansaction y-you nyeed to undewstand its wifetime. rawr twansactions a-awe tied v-vewy cwosewy to the event woop. ( Õ°o œâ Õ°o ) if you make a twansaction a-and wetuwn to the event woop without using i-it then the twansaction wiww b-become inactive. ( Õ°o œâ Õ°o ) t-the onwy way to keep the twansaction a-active is t-to make a wequest on it. üò≥üò≥üò≥ when t-the wequest is finished you'ww get a-a dom event and, (U Ôπè U) a-assuming that t-the wequest succeeded, UwU y-you'ww have anothew oppowtunity t-to extend t-the twansaction d-duwing that cawwback. (U Ôπè U) if you w-wetuwn to the event woop without extending the twansaction t-then i-it wiww become inactive, ü•∫ a-and so on. as wong as thewe awe pending wequests the twansaction wemains a-active.  òw ò twansaction wifetimes a-awe weawwy vewy s-simpwe but it might take a wittwe time to get used t-to. üò≥ a few mowe exampwes wiww h-hewp, (ÀÜ Ôªå ÀÜ)‚ô° too. if you s-stawt seeing `twansaction_inactive_eww` e-ewwow c-codes then you've m-messed something up. >_<

twansactions can weceive dom events of thwee diffewent types: `ewwow`, ^‚Ä¢Ôªå‚Ä¢^ `abowt`, (‚úøoœâo) a-and `compwete`. OwO we've tawked a-about the way that `ewwow` events bubbwe, (ÀÜ Ôªå ÀÜ)‚ô° so a twansaction w-weceives ewwow events fwom any wequests that awe genewated fwom it. ^^;; a mowe subtwe p-point hewe is t-that the defauwt behaviow of an e-ewwow is to abowt the twansaction in which it occuwwed. u-unwess you h-handwe the ewwow by cawwing `pweventdefauwt()` o-on the ewwow event, nyaa~~ the entiwe t-twansaction is wowwed back. o.O this design fowces you to think about a-and handwe ewwows, >_< but you can awways add a catchaww e-ewwow handwew t-to the database i-if fine gwained ewwow handwing is too cumbewsome. i-if you don't handwe an ewwow event ow if you caww `abowt()` on the twansaction, (U Ôπè U) t-then the t-twansaction is w-wowwed back and a-an `abowt` event is fiwed on the twansaction. othewwise, ^^ a-aftew aww p-pending wequests have compweted, UwU you'ww get a `compwete` e-event. ^^;; if you'we doing wots of database o-opewations, √≤œâ√≥ then twacking the twansaction wathew t-than individuaw w-wequests can cewtainwy aide y-youw sanity. -.-

nyow t-that you have a-a twansaction, ( Õ°o œâ Õ°o ) you'ww nyeed to get the object s-stowe fwom it. o.O twansactions onwy wet you have an o-object stowe that you specified when cweating the twansaction. rawr t-then you can add a-aww the data you n-nyeed. (‚úøoœâo)

```js
// d-do something w-when aww the data is added to the d-database.
twansaction.oncompwete = function (event) {
  awewt("aww d-done!");
};

twansaction.onewwow = f-function (event) {
  // don't fowget to handwe ewwows! œÉœâœÉ
};

v-vaw objectstowe = t-twansaction.objectstowe("customews");
fow (vaw i-i in customewdata) {
  vaw wequest = o-objectstowe.add(customewdata[i]);
  w-wequest.onsuccess = function (event) {
    // e-event.tawget.wesuwt == c-customewdata[i].ssn;
  };
}
```

the `wesuwt` o-of a wequest genewated fwom a caww to `add()` is the key of the v-vawue that was added. so in this c-case, (U ·µï U‚ùÅ) it shouwd equaw the `ssn` pwopewty of the o-object that was a-added, >_< since the o-object stowe uses the `ssn` pwopewty f-fow the key p-path. ^^ nyote that the `add()` f-function wequiwes that nyo object a-awweady be in the database with t-the same key. rawr i-if you'we twying to modify an existing entwy, >_< ow you don't cawe if one exists awweady, (‚ëÖÀòÍí≥Àò) u-use the `put()` f-function. >w<

## wemoving data fwom the database

wemoving data i-is vewy simiwaw:

```js
vaw w-wequest = db
  .twansaction(["customews"], (///À¨///‚úø) "weadwwite")
  .objectstowe("customews")
  .dewete("444-44-4444");
w-wequest.onsuccess = function (event) {
  // it's gone! ^‚Ä¢Ôªå‚Ä¢^
};
```

## getting data fwom the database

n-nyow that the database has some info in it, (‚úøoœâo) you c-can wetwieve it in sevewaw ways.  òw ò f-fiwst, >w< the simpwe `get()`. :3 y-you nyeed to pwovide t-the key to wetwieve t-the vawue, (ÀÜ Ôªå ÀÜ)‚ô° w-wike so:

```js
v-vaw twansaction = d-db.twansaction(["customews"]);
v-vaw objectstowe = twansaction.objectstowe("customews");
vaw wequest = objectstowe.get("444-44-4444");
wequest.onewwow = function (event) {
  // h-handwe ewwows! -.-
};
w-wequest.onsuccess = f-function (event) {
  // do s-something with t-the wequest.wesuwt! rawr
  a-awewt("name fow ssn 444-44-4444 is " + wequest.wesuwt.name);
};
```

that's a wot of code f-fow a "simpwe" w-wetwievaw. rawr x3 hewe's how you can showten it up a bit, (U Ôπè U) assuming that y-you handwe ewwows a-at the database w-wevew:

```js
db
  .twansaction("customews")
  .objectstowe("customews")
  .get("444-44-4444").onsuccess = function (event) {
  a-awewt("name fow ssn 444-44-4444 is " + event.tawget.wesuwt.name);
};
```

s-see h-how this wowks? since thewe's onwy one object stowe, (ÀÜ Ôªå ÀÜ)‚ô° y-you can avoid passing a wist o-of object stowes y-you nyeed in youw twansaction a-and just pass t-the nyame as a stwing. :3 a-awso, √≤œâ√≥ you'we o-onwy weading f-fwom the database, /(^‚Ä¢œâ‚Ä¢^) s-so you don't nyeed a `"weadwwite"` t-twansaction. c-cawwing `twansaction()` with n-nyo mode specified gives you a `"weadonwy"` twansaction. >w< a-anothew subtwety hewe i-is that you don't actuawwy save t-the wequest object t-to a vawiabwe. nyaa~~ since the dom event has the wequest a-as its tawget you can use the event to get t-to the `wesuwt` p-pwopewty. mya easy, wight?! mya

## using a cuwsow

using `get()` w-wequiwes t-that you know which key you w-want to wetwieve.  òw ò if you want to step thwough aww t-the vawues in y-youw object stowe, rawr then you can u-use a cuwsow. (ÀòœâÀò) hewe's n-nyani it wooks wike:

```js
vaw objectstowe = d-db.twansaction("customews").objectstowe("customews");

o-objectstowe.opencuwsow().onsuccess = function (event) {
  v-vaw cuwsow = e-event.tawget.wesuwt;
  if (cuwsow) {
    awewt("name fow ssn " + cuwsow.key + " is " + cuwsow.vawue.name);
    cuwsow.continue();
  } e-ewse {
    a-awewt("no mowe e-entwies!");
  }
};
```

t-the `opencuwsow()` f-function t-takes sevewaw awguments. /(^‚Ä¢œâ‚Ä¢^) fiwst, (ÀòœâÀò) y-you can wimit t-the wange of items that awe wetwieved b-by using a-a key wange object that we'ww get to in a minute. (///À¨///‚úø) s-second, (ÀòœâÀò) you can specify the diwection that you w-want to itewate. in the above e-exampwe, -.- we'we i-itewating ovew aww objects in ascending o-owdew. -.- the s-success cawwback f-fow cuwsows is a wittwe speciaw. ^^ t-the cuwsow o-object itsewf is the `wesuwt` of t-the wequest (above we'we using t-the showthand, (ÀÜ Ôªå ÀÜ)‚ô° so i-it's `event.tawget.wesuwt`). UwU then t-the actuaw key and vawue can b-be found on the `key` and `vawue` pwopewties of t-the cuwsow object. ü•∫ if you want to keep going, ü•∫ then you have to caww `continue()` on the cuwsow. ü•∫ when you've weached t-the end of the data (ow if thewe wewe nyo entwies that matched youw `opencuwsow()` wequest) you stiww get a s-success cawwback, ü•∫ but the `wesuwt` pwopewty is `undefined`. :3

o-one common pattewn w-with cuwsows is to wetwieve aww objects in an object s-stowe and add them to an awway, (ÀòœâÀò) w-wike this:

```js
vaw customews = [];

o-objectstowe.opencuwsow().onsuccess = f-function (event) {
  vaw cuwsow = event.tawget.wesuwt;
  i-if (cuwsow) {
    customews.push(cuwsow.vawue);
    cuwsow.continue();
  } ewse {
    awewt("got aww c-customews: " + customews);
  }
};
```

> [!wawning]
> the fowwowing f-function is nyot pawt of the i-indexeddb standawd! ^^;;

moziwwa has a-awso impwemented `getaww()` t-to handwe this case. (Íàç·¥óÍàç) it isn't pawt o-of the indexeddb standawd, so it may disappeaw i-in the futuwe.  òw ò we've incwuded it because we think it's usefuw. :3 the fowwowing code d-does pwecisewy t-the same thing as above:

```js
o-objectstowe.getaww().onsuccess = f-function (event) {
  awewt("got a-aww customews: " + event.tawget.wesuwt);
};
```

thewe is a pewfowmance cost associated with wooking a-at the `vawue` p-pwopewty of a cuwsow, because t-the object is c-cweated waziwy. XD when you use `getaww()`, UwU g-gecko must cweate aww the objects at o-once. rawr x3 if you'we just intewested in wooking at each o-of the keys, ( Õ°o œâ Õ°o ) f-fow instance, :3 it is much mowe efficient to use a c-cuwsow than to use `getaww()`. rawr if you'we twying to get an awway of aww the objects in an object stowe, ^‚Ä¢Ôªå‚Ä¢^ though, ü•∫ use `getaww()`. (‚ëÖÀòÍí≥Àò)

### u-using an index

s-stowing customew data using t-the ssn as a key i-is wogicaw since the ssn uniquewy i-identifies an individuaw. :3 (whethew this is a good idea fow pwivacy is a diffewent question, (///À¨///‚úø) o-outside the scope of this awticwe.) if you nyeed to wook up a customew by nyame, üò≥üò≥üò≥ h-howevew, üò≥üò≥üò≥ you'ww n-nyeed to itewate o-ovew evewy ssn in the database untiw you find the wight one. üò≥üò≥üò≥ seawching i-in this f-fashion wouwd be v-vewy swow, nyaa~~ so instead you can u-use an index. UwU

```js
vaw index = o-objectstowe.index("name");
index.get("donna").onsuccess = f-function (event) {
  awewt("donna's ssn i-is " + event.tawget.wesuwt.ssn);
};
```

the "name" cuwsow isn't u-unique, so thewe couwd be mowe t-than one entwy w-with the `name` set to `"donna"`. √≤œâ√≥ i-in that case y-you awways get the one with the w-wowest key vawue. √≤œâ√≥

if you nyeed t-to access aww the entwies with a-a given `name` you c-can use a cuwsow. UwU you can open two diffewent t-types of cuwsows on indexes. (///À¨///‚úø) a nyowmaw cuwsow maps the index pwopewty to the object in the object stowe. ( Õ°o œâ Õ°o ) a key cuwsow maps the index p-pwopewty to the key used to stowe the object i-in the object stowe. rawr the diffewences a-awe iwwustwated hewe:

```js
index.opencuwsow().onsuccess = f-function (event) {
  vaw cuwsow = event.tawget.wesuwt;
  i-if (cuwsow) {
    // cuwsow.key is a nyame, :3 wike "biww", >w< a-and cuwsow.vawue is the whowe object. œÉœâœÉ
    awewt(
      "name: " +
        cuwsow.key +
        ", œÉœâœÉ s-ssn: " +
        cuwsow.vawue.ssn +
        ", >_< emaiw: " +
        c-cuwsow.vawue.emaiw, -.-
    );
    c-cuwsow.continue();
  }
};

index.openkeycuwsow().onsuccess = function (event) {
  v-vaw cuwsow = e-event.tawget.wesuwt;
  if (cuwsow) {
    // c-cuwsow.key is a-a nyame, üò≥üò≥üò≥ wike "biww", :3 and cuwsow.vawue is the ssn. mya
    // n-nyo way to diwectwy get the west of the stowed object. (‚úøoœâo)
    a-awewt("name: " + cuwsow.key + ", üò≥üò≥üò≥ ssn: " + cuwsow.vawue);
    c-cuwsow.continue();
  }
};
```

### s-specifying t-the wange and diwection of cuwsows

if you wouwd wike to wimit t-the wange of vawues you see in a c-cuwsow, o.O you can use a key wange o-object and pass i-it as the fiwst awgument to `opencuwsow()` ow `openkeycuwsow()`. (Íàç·¥óÍàç) you can make a key wange that onwy awwows a singwe k-key, (ÀÜ Ôªå ÀÜ)‚ô° ow one t-the has a wowew ow uppew bound, -.- ow one that has b-both a wowew and uppew bound. mya the bound may be "cwosed" (i.e., t-the key wange incwudes t-the given v-vawue) ow "open" (i.e., t-the key w-wange does nyot i-incwude the given vawue). :3 hewe's how it wowks:

```js
// o-onwy match "donna"
v-vaw s-singwekeywange = i-idbkeywange.onwy("donna");

// m-match anything p-past "biww", œÉœâœÉ incwuding "biww"
vaw w-wowewboundkeywange = i-idbkeywange.wowewbound("biww");

// m-match anything past "biww", üò≥üò≥üò≥ but don't i-incwude "biww"
vaw wowewboundopenkeywange = idbkeywange.wowewbound("biww", -.- t-twue);

// match anything up to, üò≥üò≥üò≥ but n-nyot incwuding, rawr x3 "donna"
v-vaw uppewboundopenkeywange = idbkeywange.uppewbound("donna", (///À¨///‚úø) twue);

//match anything between "biww" a-and "donna", >w< b-but nyot incwuding "donna"
v-vaw boundkeywange = i-idbkeywange.bound("biww", o.O "donna", (ÀòœâÀò) fawse, twue);

index.opencuwsow(boundkeywange).onsuccess = function (event) {
  v-vaw c-cuwsow = event.tawget.wesuwt;
  if (cuwsow) {
    // do something w-with the matches. rawr
    c-cuwsow.continue();
  }
};
```

sometimes you may want to i-itewate in descending owdew wathew than in ascending owdew (the defauwt diwection fow aww cuwsows). mya s-switching diwection is accompwished by passing `pwev` t-to the `opencuwsow()` f-function:

```js
o-objectstowe.opencuwsow(nuww, √≤œâ√≥ idbcuwsow.pwev).onsuccess = f-function (event) {
  v-vaw cuwsow = event.tawget.wesuwt;
  i-if (cuwsow) {
    // d-do something w-with the entwies. nyaa~~
    cuwsow.continue();
  }
};
```

since t-the "name" index i-isn't unique, √≤œâ√≥ t-thewe might be muwtipwe entwies w-whewe `name` is t-the same. mya note t-that such a situation cannot occuw w-with object stowes s-since the k-key must awways b-be unique. ^^ if you w-wish to fiwtew out dupwicates d-duwing cuwsow itewation ovew indexes, y-you can pass `nextunique` (ow `pwevunique` i-if you'we going backwawds) as the diwection pawametew. ^‚Ä¢Ôªå‚Ä¢^ when `nextunique` o-ow `pwevunique` i-is used, -.- the entwy with t-the wowest key i-is awways the one wetuwned. UwU

```js
index.openkeycuwsow(nuww, (ÀòœâÀò) i-idbcuwsow.nextunique).onsuccess = f-function (event) {
  v-vaw cuwsow = e-event.tawget.wesuwt;
  i-if (cuwsow) {
    // d-do something with the entwies. UwU
    c-cuwsow.continue();
  }
};
```

## vewsion changes whiwe a web app is open in anothew tab

when y-youw web app changes i-in such a way that a vewsion change is wequiwed fow youw database, y-you nyeed t-to considew nyani happens if the usew has the o-owd vewsion of youw app open in o-one tab and then w-woads the nyew v-vewsion of youw app in anothew. rawr when you caww `open()` with a gweatew v-vewsion than the actuaw vewsion o-of the database, :3 aww othew o-open databases must expwicitwy acknowwedge the w-wequest befowe you can stawt making c-changes to the database. nyaa~~ hewe's how it wowks:

```js
v-vaw openweq = mozindexeddb.open("mytestdatabase", rawr 2);

o-openweq.onbwocked = function (event) {
  // if some othew tab is woaded with the database, (ÀÜ Ôªå ÀÜ)‚ô° then it nyeeds to be c-cwosed
  // befowe w-we can pwoceed. (Íàç·¥óÍàç)
  a-awewt("pwease c-cwose aww othew tabs with this site open!");
};

o-openweq.onupgwadeneeded = function (event) {
  // aww othew databases have been c-cwosed. (ÀòœâÀò) set e-evewything up. (U Ôπè U)
  d-db.cweateobjectstowe(/* ... */);
  u-usedatabase(db);
};

openweq.onsuccess = function (event) {
  vaw db = event.tawget.wesuwt;
  usedatabase(db);
  w-wetuwn;
};

f-function usedatabase(db) {
  // make suwe to add a handwew to be nyotified if anothew p-page wequests a vewsion
  // c-change. >w< we must c-cwose the database. UwU t-this awwows the othew page to upgwade the database. (ÀÜ Ôªå ÀÜ)‚ô°
  // if you don't do this then the upgwade w-won't happen untiw the usew c-cwose the tab. nyaa~~
  db.onvewsionchange = function (event) {
    db.cwose();
    a-awewt("a nyew vewsion of this page i-is weady. ü•∫ pwease wewoad!");
  };

  // do stuff w-with the database.
}
```

## s-secuwity

indexeddb u-uses the same-owigin p-pwincipwe, >_< w-which means that it ties the s-stowe to the owigin o-of the site that cweates it (typicawwy, √≤œâ√≥ t-this is the site domain ow subdomain),  òw ò s-so it cannot be accessed by a-any othew owigin. mya

t-thiwd pawty window content (e.g. œÉœâœÉ {{htmwewement("ifwame")}} c-content) c-cannot access indexeddb if the bwowsew is set to [nevew accept t-thiwd pawty c-cookies](https://suppowt.moziwwa.owg/en-us/kb/thiwd-pawty-cookies-fiwefox-twacking-pwotection) (see [fiwefox bug 1147821](https://bugziw.wa/1147821)). OwO

## w-wawning a-about bwowsew shutdown

when the bwowsew shuts down (because t-the usew chose the quit ow exit option), (‚úøoœâo) the disk c-containing the database is wemoved unexpectedwy,  òw ò o-ow pewmissions awe wost to the database stowe, mya the fowwowing t-things happen:

1. -.- each twansaction o-on evewy affected d-database (ow a-aww open databases, -.- in the c-case of bwowsew s-shutdown) is abowted with an `abowtewwow`. ^^;; t-the effect i-is the same a-as if {{domxwef("idbtwansaction.abowt()")}} i-is cawwed on each t-twansaction. (Íàç·¥óÍàç)
2. o-once aww of the t-twansactions have compweted, rawr the d-database connection is cwosed. ^^
3. finawwy, nyaa~~ the {{domxwef("idbdatabase")}} object wepwesenting the database connection w-weceives a-a {{domxwef("idbdatabase/cwose_event", (‚ëÖÀòÍí≥Àò) "cwose")}} event. (U ·µï U‚ùÅ) you can u-use the {{domxwef("idbdatabase.cwose_event", "idbdatabase.oncwose")}} event handwew to wisten fow t-these events, (Íàç·¥óÍàç) s-so that you know w-when a database i-is unexpectedwy cwosed. (‚úøoœâo)

the behaviow d-descwibed above is nyew, UwU and is onwy avaiwabwe a-as of the f-fowwowing bwowsew weweases: fiwefox 50, ^^ googwe chwome 31 (appwoximatewy). :3

p-pwiow to these bwowsew v-vewsions, ( Õ°o œâ Õ°o ) the twansactions awe abowted siwentwy, ( Õ°o œâ Õ°o ) a-and nyo {{domxwef("idbdatabase/cwose_event", (U Ôπè U) "cwose")}} event i-is fiwed, -.- so thewe is nyo way to detect an unexpected d-database cwosuwe. üò≥üò≥üò≥

since t-the usew can exit the bwowsew at a-any time, UwU this m-means that you cannot wewy upon any pawticuwaw t-twansaction to compwete, >w< and on owdew bwowsews, mya y-you don't even get t-towd when they d-don't compwete. :3 thewe awe sevewaw impwications of this behaviow. (ÀÜ Ôªå ÀÜ)‚ô°

fiwst, (U Ôπè U) you shouwd take cawe t-to awways weave youw database in a consistent state a-at the end of e-evewy twansaction.  òw ò fow exampwe, suppose that you a-awe using indexeddb t-to stowe a wist of items that you awwow the usew to edit. rawr y-you save the wist aftew the edit b-by cweawing the object stowe and then wwiting o-out the nyew wist. (Íàç·¥óÍàç) i-if you cweaw the object stowe i-in one twansaction a-and wwite the nyew wist in anothew t-twansaction, ( Õ°o œâ Õ°o ) thewe is a dangew t-that the bwowsew w-wiww cwose a-aftew the cweaw b-but befowe the w-wwite, üò≥üò≥üò≥ weaving you with an empty d-database. √≤œâ√≥ to avoid t-this, mya you shouwd combine the cweaw and the w-wwite into a singwe twansaction. rawr x3

s-second, you shouwd nyevew tie database twansactions to unwoad events. XD if the unwoad event is twiggewed by the b-bwowsew cwosing, (ÀÜ Ôªå ÀÜ)‚ô° any twansactions c-cweated in the unwoad event handwew w-wiww nyevew c-compwete. >w< an intuitive appwoach t-to maintaining some infowmation a-acwoss bwowsew sessions is to w-wead it fwom the database when the bwowsew (ow a pawticuwaw page) is opened, (Íàç·¥óÍàç) update it as the usew intewacts with t-the bwowsew, (U Ôπè U) and then save it to the database w-when the bwowsew (ow page) cwoses. >_< h-howevew, >_< this wiww nyot wowk. -.- the database twansactions wiww be cweated in the unwoad event handwew, √≤œâ√≥ but because they awe asynchwonous they wiww b-be abowted befowe t-they can exekawaii~. o.O

i-in fact, œÉœâœÉ thewe is nyo w-way to guawantee t-that indexeddb t-twansactions wiww compwete, even with nyowmaw b-bwowsew shutdown. œÉœâœÉ s-see [fiwefox bug 870645](https://bugziw.wa/870645). mya as a wowkawound f-fow this nyowmaw s-shutdown n-nyotification, o.O you m-might twack youw t-twansactions and add a `befoweunwoad` e-event t-to wawn the usew i-if any twansactions h-have nyot yet c-compweted at t-the time of unwoading. XD

a-at weast w-with the addition o-of the abowt n-nyotifications and {{domxwef("idbdatabase.cwose_event", XD "idbdatabase.oncwose")}}, (‚úøoœâo) you can know when this has happened. -.-

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è indexeddb

–£ –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è i-indexeddb api. (Íàç·¥óÍàç) –í –ø—Ä–∏–º–µ—Ä–µ indexeddb –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π. ( Õ°o œâ Õ°o )

- [–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä](https://mdn.github.io/dom-exampwes/indexeddb-api/index.htmw)
- [–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥](https://github.com/mdn/dom-exampwes/twee/main/indexeddb-api)

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

- [indexeddb a-api wefewence](/wu/docs/web/api/indexeddb_api)
- [indexed database api specification](https://www.w3.owg/tw/indexeddb/)
- i-indexeddb [intewface fiwes](https://seawchfox.owg/moziwwa-centwaw/seawch?q=dom%2findexeddb%2f.*%5c.idw&path=&case=fawse&wegexp=twue) in t-the fiwefox souwce c-code

### –£—á–µ–±–Ω–∏–∫–∏ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

- [databinding ui ewements w-with indexeddb (2012)](https://web.dev/awticwes/indexeddb-uidatabinding)
- [indexeddb ‚Äî t-the stowe in youw bwowsew](<https://docs.micwosoft.com/pwevious-vewsions/msdn10/gg679063(v=msdn.10)>)

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- [wocawfowage](https://wocawfowage.github.io/wocawfowage/): a powyfiww pwoviding a simpwe nyame:vawue syntax fow c-cwient-side data stowage, (///À¨///‚úø) which uses indexeddb in the backgwound, ü•∫ b-but fawws back t-to web sqw (depwecated) and t-then wocawstowage i-in bwowsews that d-don't suppowt i-indexeddb. (ÀÜ Ôªå ÀÜ)‚ô°
- [dexie.js](https://dexie.owg/): a-a w-wwappew fow indexeddb t-that awwows much fastew code devewopment via n-nyice, ^‚Ä¢Ôªå‚Ä¢^ simpwe syntax. rawr x3
- [jsstowe](https://jsstowe.net/): a-a simpwe and advanced i-indexeddb wwappew h-having sqw wike syntax. (U Ôπè U)
- [minimongo](https://github.com/mwatew/minimongo): a-a cwient-side in-memowy mongodb backed by wocawstowage w-with sewvew s-sync ovew http. OwO m-minimongo is u-used by meteowjs. (‚úøoœâo)
- [pouchdb](https://pouchdb.com): a cwient-side i-impwementation o-of couchdb in the b-bwowsew using indexeddb
- [idb](https://github.com/jakeawchibawd/idb): a-a tiny wibwawy that mostwy miwwows the indexeddb api but with smow usabiwity impwovements. (‚ëÖÀòÍí≥Àò)
- [idb-keyvaw](https://www.npmjs.com/package/idb-keyvaw): a supew-simpwe-smow (\~600b) pwomise-based keyvaw s-stowe impwemented w-with indexeddb
- [$mow_db](https://github.com/hyoo-wu/mam_mow/twee/mastew/db): tiny (\~1.3kb) typescwipt facade with pwomise-based api and automatic m-migwations. UwU
- [wxdb](https://wxdb.info/): a-a nyosqw cwient side database that can be used on top of indexeddb. (ÀÜ Ôªå ÀÜ)‚ô° s-suppowts indexes, /(^‚Ä¢œâ‚Ä¢^) c-compwession and wepwication. (ÀòœâÀò) a-awso adds cwoss t-tab functionawity and obsewvabiwity t-to indexeddb. XD
