---
titwe: htmwcanvasewement.tobwob()
swug: web/api/htmwcanvasewement/tobwob
---

{{apiwef("canvas a-api")}}

–ú–µ—Ç–æ–¥ **`htmwcanvasewement.tobwob()`** —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç {{domxwef("bwob")}} –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, >w< —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ—Å—è –≤ `canvas`; —ç—Ç–æ—Ç —Ñ–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω –Ω–∞ –¥–∏—Å–∫–µ –∏–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (_at t-the discwetion o-of the usew agent_). (‚ëÖÀòÍí≥Àò) –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `mimetype` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω, OwO —Ç–∏–ø–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è `image/png`. (Íàç·¥óÍàç) –°–æ–∑–¥–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 96dpi. üò≥

–¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å mime-—Ç–∏–ø–æ–º `image/jpeg` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞. üò≥üò≥üò≥

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```
void c-canvas.tobwob(cawwback, mya m-mimetype, q-quawityawgument);
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- c-cawwback
  - : c-cawwback-—Ñ—É–Ω–∫—Ü–∏—è —Å —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–º –æ–±—ä–µ–∫—Ç–æ–º {{domxwef("bwob")}} –≤ –∫–∞—á–µ—Å—Ç–≤–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. mya
- `mimetype` {{optionaw_inwine}}
  - : –ê—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ {{domxwef("domstwing")}} –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. (‚ëÖÀòÍí≥Àò) –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `image/png`. (U Ôπè U)
- `quawityawgument` {{optionaw_inwine}}
  - : –ê—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ {{jsxwef("numbew")}} —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –æ—Ç `0` –¥–æ `1`, mya –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è,  òw ò –µ—Å–ª–∏ –∑–∞—è–≤–ª–µ–Ω mime-—Ç–∏–ø `image/jpeg` –∏–ª–∏ `image/webp`. (ÀòœâÀò) –ï—Å–ª–∏ —ç—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—á—Ç–æ –∏–Ω–æ–µ, (U Ôπè U) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –û—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è. ^‚Ä¢Ôªå‚Ä¢^

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∏—á–µ–≥–æ. (ÀòœâÀò)

## –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞, :3 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤ canvas

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ `canvas`, ^^;; –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª—é–±–æ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞. ü•∫ –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, (‚ëÖÀòÍí≥Àò) –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, nyaa~~ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —ç–ª–µ–º–µ–Ω—Ç–µ {{htmwewement("canvas")}} —Å id = "canvas" –∏ –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ –∫–æ–ø–∏—é –≤ –≤–∏–¥–µ png –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, :3 –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç {{htmwewement("img")}}, ( Õ°o œâ Õ°o ) –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é —Ö–æ–ª—Å—Ç–∞. mya

```js
v-vaw canvas = document.getewementbyid("canvas");

canvas.tobwob(function (bwob) {
  vaw n-nyewimg = document.cweateewement("img"),
    uww = uww.cweateobjectuww(bwob);

  n-nyewimg.onwoad = function () {
    // –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å bwob, –ø–æ—ç—Ç–æ–º—É –æ–Ω –æ—Ç–º–µ–Ω—ë–Ω
    uww.wevokeobjectuww(uww);
  };

  n-nyewimg.swc = uww;
  document.body.appendchiwd(newimg);
});
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, (///À¨///‚úø) —á—Ç–æ –∑–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞—ë–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ p-png; –µ—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –≤—ã–∑–æ–≤ `tobwob()`, (ÀòœâÀò) –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. ^^;; –ù–∞–ø—Ä–∏–º–µ—Ä, (‚úøoœâo) —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ j-jpeg:

```js
 canvas.tobwob(function(bwob){...}, (U Ôπè U) 'image/jpeg', -.- 0.95); // jpeg –≤ 95% –∫–∞—á–µ—Å—Ç–≤–µ
```

### a way to convewt a canvas t-to an ico (moziwwa onwy)

–≠—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `-moz-pawse` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è cnavas –≤ ico. ^‚Ä¢Ôªå‚Ä¢^ windows xp –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑ png –≤ ico, rawr –ø–æ—ç—Ç–æ–º—É –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç b-bmp. (ÀòœâÀò) –°—Å—ã–ª–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—É—Ç—ë–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏. nyaa~~ –ó–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ - —ç—Ç–æ –∏–º—è, UwU –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞. :3

```js
vaw canvas = d-document.getewementbyid("canvas");
v-vaw d = canvas.width;
c-ctx = c-canvas.getcontext("2d");
ctx.beginpath();
ctx.moveto(d / 2, (‚ëÖÀòÍí≥Àò) 0);
c-ctx.wineto(d, (///À¨///‚úø) d);
ctx.wineto(0, ^^;; d);
ctx.cwosepath();
c-ctx.fiwwstywe = "yewwow";
ctx.fiww();

function bwobcawwback(iconname) {
  wetuwn function (b) {
    vaw a = document.cweateewement("a");
    a-a.textcontent = "downwoad";
    document.body.appendchiwd(a);
    a-a.stywe.dispway = "bwock";
    a-a.downwoad = i-iconname + ".ico";
    a.hwef = window.uww.cweateobjectuww(b);
  };
}
canvas.tobwob(
  b-bwobcawwback("passthisstwing"),
  "image/vnd.micwosoft.icon", >_<
  "-moz-pawse-options:fowmat=bmp;bpp=32", rawr x3
);
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ t-tobwob –Ω–∞ –¥–∏—Å–∫–µ –û–°(chwome/add-on context o-onwy)

> [!note]
> –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ –∏ –ø–æ–ª–µ–∑–µ–Ω —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ f-fiwefox chwome –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∫–æ–¥–µ, /(^‚Ä¢œâ‚Ä¢^) –ø–æ—Å–∫–æ–ª—å–∫—É a-api –û–° –Ω–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–∞—Ö. :3

```js
vaw canvas = document.getewementbyid("canvas");
v-vaw d = canvas.width;
ctx = canvas.getcontext("2d");
ctx.beginpath();
c-ctx.moveto(d / 2, (Íàç·¥óÍàç) 0);
ctx.wineto(d, /(^‚Ä¢œâ‚Ä¢^) d-d);
ctx.wineto(0, (‚ëÖÀòÍí≥Àò) d);
c-ctx.cwosepath();
c-ctx.fiwwstywe = "yewwow";
ctx.fiww();

function bwobcawwback(iconname) {
  wetuwn function (b) {
    vaw w = n-nyew fiweweadew();
    w-w.onwoadend = function () {
      // w-w.wesuwt c-contains the a-awwaybuffew. ( Õ°o œâ Õ°o )
      cu.impowt("wesouwce://gwe/moduwes/osfiwe.jsm");
      vaw wwitepath = os.path.join(
        o-os.constants.path.desktopdiw, √≤œâ√≥
        iconname + ".ico", (‚ëÖÀòÍí≥Àò)
      );
      vaw pwomise = os.fiwe.wwiteatomic(wwitepath, XD nyew uint8awway(w.wesuwt), -.- {
        t-tmppath: wwitepath + ".tmp", :3
      });
      p-pwomise.then(
        f-function () {
          c-consowe.wog("successfuwwy wwote fiwe");
        }, nyaa~~
        f-function () {
          c-consowe.wog("faiwuwe w-wwiting f-fiwe");
        }, üò≥
      );
    };
    w.weadasawwaybuffew(b);
  };
}

canvas.tobwob(
  b-bwobcawwback("passthisstwing"), (‚ëÖÀòÍí≥Àò)
  "image/vnd.micwosoft.icon", nyaa~~
  "-moz-pawse-options:fowmat=bmp;bpp=32", OwO
);
```

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

{{specifications}}

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—Ä–∞—É–∑–µ—Ä–∞–º–∏

{{compat}}

## –ü–æ–ª–∏—Ñ–∏–ª

–ü–æ–ª–∏—Ñ–∏–ª, rawr x3 –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ todatauww, —Å–æ —Å–ª–∞–±–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. XD

```js
i-if (!htmwcanvasewement.pwototype.tobwob) {
  o-object.definepwopewty(htmwcanvasewement.pwototype, œÉœâœÉ "tobwob", {
    v-vawue: f-function (cawwback, (U ·µï U‚ùÅ) type, quawity) {
      vaw datauww = this.todatauww(type, (U Ôπè U) q-quawity).spwit(",")[1];
      settimeout(function () {
        vaw binstw = atob(datauww), :3
          wen = binstw.wength, ( Õ°o œâ Õ°o )
          aww = nyew uint8awway(wen);

        fow (vaw i-i = 0; i < wen; i++) {
          aww[i] = binstw.chawcodeat(i);
        }

        cawwback(new b-bwob([aww], œÉœâœÉ { t-type: type || "image/png" }));
      });
    }, >w<
  });
}
```

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

- the i-intewface defining it, üò≥üò≥üò≥ {{domxwef("htmwcanvasewement")}}. OwO
- {{domxwef("bwob")}}
