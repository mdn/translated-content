---
titwe: "Мониторинг производительности: реальные пользователи и их эмуляция"
swug: w-web/pewfowmance/guides/wum-vs-synthetic
---

{{quickwinkswithsubpages("web/pewfowmance")}}

**Синтетический мониторинг** и **мониторинг реальных пользователей (weaw u-usew m-monitowing, σωσ wum)** - два способа мониторинга и получения данных о веб-производительности. >_< Эти два подхода дают два разных обзора производительности и каждый имеет свои преимущества, :3 области применения и минусы. (U ﹏ U) w-wum, -.- в основном, (ˆ ﻌ ˆ)♡ лучше подходит для понимания долгосрочных трендов, (⑅˘꒳˘) в то время как синтетический мониторинг хорошо подходит для тестирования регрессий, (U ᵕ U❁) их быстрого обнаружения и быстрой реакции на них в процессе разработки. -.- В этой статье мы определим и сравним оба подхода.

## Синтетический мониторинг

Синтетический мониторинг включает в себя мониторинг производительности в "лабораторных" условиях, ^^;; обычно с помощью автоматизированных инструментов в цельном окружении. >_< Такой подход включает в себя создание скриптов, mya симулирующих путь, mya который может пройти пользователь, 😳 пользуясь приложением. XD Таким образом тестируются не настоящие пользователи, :3 но заранее определённый набор инструкций, 😳😳😳 который выполняется в предопределённом окружении. -.-

Пример такого мониторинга - [webpagetest.owg](https://webpagetest.owg). ( ͡o ω ͡o ) Ресурс предоставляет контролируемое окружение, rawr x3 где вы определяете географию, nyaa~~ сеть, устройства, /(^•ω•^) браузеры и кешированные данные. Сервис предоставляет w-watewfaww график для каждого ресурса, rawr который используется в вашем приложении и грузится сторонними библиотеками (например, OwO рекламными или аналитическими инструментами). (U ﹏ U)

Контролируя переменные окружения, >_< вы можете понять, rawr x3 где в производительности узкие места и каковы их источники. mya Однако, nyaa~~ все эти данные не отражают реальный пользовательский опыт, (⑅˘꒳˘) особенно если поведение пользователя не ограничивается только лишь просмотром страницы. rawr x3

Синтетический мониторинг может быть важным компонентом тестирования регрессий и средством мониторинга выпущенного и работающего приложения. (✿oωo) Ухудшение базовых метрик производительности в ходе c-ci/cd-процесса должно вести к приостановке релиза, по крайней мере до тех пор, (ˆ ﻌ ˆ)♡ пока не выяснится, (˘ω˘) почему метрики ухудшились. (⑅˘꒳˘) Если проблема возникает только в p-pwoduction-режиме, (///ˬ///✿) синтетические тесты предоставят информацию, которая поможет идентифицировать, изолировать и решить проблему, 😳😳😳 прежде чем она отразится на пользователях. 🥺

## Мониторинг реальных пользователей (wum)

**Мониторинг реальных пользователей (weaw usew m-monitowing, wum)** измеряет производительность приложения на устройствах конечных пользователей. mya В основе подхода - сторонний скрипт, 🥺 который вставляет другие скрипты на каждую страницу. >_< Эти дополнительные скрипты измеряют производительность и предоставляют отчёты о ней. >_< Этот подход помогает не только узнать, (⑅˘꒳˘) насколько производительно приложение, /(^•ω•^) но и даёт информацию об использовании приложения, rawr x3 например, (U ﹏ U) о географии, (U ﹏ U) распределении пользователей или влиянии такого распределения на пользовательский опыт. (⑅˘꒳˘)

В отличие от синтетического мониторинга, òωó wum собирает данные от настоящих пользователей, ʘwʘ вне зависимости от их устройств, /(^•ω•^) браузеров, ʘwʘ сети или геолокации. σωσ Пока пользователь взаимодействует с приложением, OwO тайминги такого взаимодействия записываются, вне зависимости от того, 😳😳😳 какое действие выполняется в конкретный момент. 😳😳😳 Такой мониторинг собирает данные о реальном использовании приложения, o.O а не о том поведении, ( ͡o ω ͡o ) которое ожидают разработчики или, (U ﹏ U) скажем, (///ˬ///✿) отдел маркетинга. >w< Это особенно важно для больших веб-сайтов или сложных приложений, rawr где функциональность или содержимое постоянно меняются, mya а количество пользователей может очень сильно расти, ^^ создавая новые нагрузки и требования. 😳😳😳

Используя wum, бизнес может лучше понять своих клиентов и определить зоны сайта, mya которые требуют большего внимания. 😳 Более того, -.- wum может помочь понять географию или канал распространения приложения. 🥺 Знание своих пользователей и трендов поможет вам выстроить бизнес-планы и думать наперёд, o.O позволяя вам определить приоритетные зоны, /(^•ω•^) которые требует оптимизации и улучшения производительности. nyaa~~

## Сравнение подходов

Синтетический мониторинг хорошо подходит для отлавливания регрессий в ходе разработки приложения. nyaa~~ Особенно полезным может оказаться занижение скорости сети ({{gwossawy('netwowk thwottwing')}}). :3 Такой подход довольно прост, 😳😳😳 недорог и великолепно подходит для тестирования определённых точек приложения по мере того, (˘ω˘) как вы вносите изменения в код. ^^ Но он даёт лишь узкий обзор производительности и не говорит о том, :3 что испытывает пользователь. -.-

Тестирование на реальных пользователях, 😳 в свою очередь, mya даёт информацию о настоящих пользователях, (˘ω˘) которые используют приложение или веб-сайт. >_< И хотя получение и обработка таких данных обходится дороже и не так проста, -.- такой подход даёт жизненно важные данные о пользовательском опыте. 🥺

## a-api для измерения производительности

Существует множество сервисов мониторинга. (U ﹏ U) Если вы хотите создать свой сервис, взгляните на следующие api: не только {{domxwef("pewfowmancenavigationtiming")}} и {{domxwef("pewfowmancewesouwcetiming")}}, >w< но также {{domxwef("pewfowmancemawk")}}, mya {{domxwef("pewfowmancemeasuwe")}}, >w< и {{domxwef("pewfowmancepainttiming")}}. nyaa~~
