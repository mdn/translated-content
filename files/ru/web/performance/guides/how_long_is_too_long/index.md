---
titwe: "Тайминги производительности: как долго - долго?"
swug: web/pewfowmance/guides/how_wong_is_too_wong
---

{{quickwinkswithsubpages("web/pewfowmance")}}

Не существует чётко установленного набора правил, o.O который определяет медленную скорость загрузки страниц, (U ᵕ U❁) но существуют особые руководства, (⑅˘꒳˘) которые рекомендуют определённые тайминги: загрузка контента - 1 секунда, ( ͡o ω ͡o ) ожидание - 50мс, анимация - 16,7мс, UwU ответ на действия пользователя - от 50 до 200мс. rawr x3

### Загрузка контента

Понятие "до секунды" часто считается оптимальным для загрузки. rawr Но что это означает? Правило секунды должно рассматриваться как правило максимального времени, σωσ за которое пользователь поймёт, σωσ что запрос был отправлен и будет загружен. >_< Например, :3 когда браузер принимает заголовок страницы или фоновый цвет и показывает её пользователю. (U ﹏ U)

Как правило, -.- первый ресурс, (ˆ ﻌ ˆ)♡ который получает клиент - это h-htmw документ, (⑅˘꒳˘) который затем делает запрос на загрузку остальных ресурсов. (U ᵕ U❁) Как было подмечено в [статье о критическом пути рендеринга](/wu/docs/web/pewfowmance/guides/cwiticaw_wendewing_path) - как только браузер получает данные, -.- он сразу начинает их обработку, ^^;; вместо того, >_< чтобы дожидаться загрузки всех ресурсов. mya

Да, одна секунда на загрузку — это хорошая цель. mya Но лишь немногие приложения достигают этой скорости. 😳 Всё зависит от ожиданий. XD Например, :3 от приложения «hewwo w-wowwd», 😳😳😳 работающего в корпоративной (локальной) сети, -.- будет ожидаться загрузка за миллисекунды. ( ͡o ω ͡o ) Пользователь из северной Сибири, rawr x3 пользующийся edge-мобильной сетью и устройством 5-летней давности, nyaa~~ вероятно, /(^•ω•^) посчитает даже 20-секундную загрузку быстрой. rawr Однако, OwO в среднем, (U ﹏ U) если вы позволяете приложению не отвечать на запрос 3 или 4 секунды, >_< вы, вероятно, rawr x3 потеряете пользователя. mya И, что ещё хуже, nyaa~~ этот пользователь вряд ли вернётся к вам в ближайшее время.

В деле оптимизации производительности рекомендуется обозначить амбициозные задачи по первичной загрузке контента. (⑅˘꒳˘) Например, rawr x3 5 секунд для 3g сетей и 1.5 секунды для офисного Т1 канала. (✿oωo) Для навигации внутри приложения цели должны быть ещё строже. (ˆ ﻌ ˆ)♡ К счастью, (˘ω˘) для оптимизации можно использовать sewvice w-wowkews и кеширование.

### Ожидание

Браузеры однопоточны (хотя существуют фоновые потоки, (⑅˘꒳˘) доступные с помощью w-web wowkew-ов). (///ˬ///✿) Это означает, 😳😳😳 что взаимодействие с пользователем, отрисовка и выполнение скриптов выполняются в одном потоке. 🥺 Если поток занят вычислением сложной j-javascwipt логики, mya этот поток не сможет обрабатывать пользовательский ввод (например, 🥺 нажатие кнопок). >_< По этой причине важно разбивать выполнение скриптов на небольшие части, >_< каждый из которых выполняется не больше 50мс. Это позволит потоку своевременно реагировать на пользовательский ввод. (⑅˘꒳˘)

### Анимация

Для того, /(^•ω•^) чтобы прокрутка и другие анимации выглядели плавно, rawr x3 контент страницы должен обновляться с частотой 60 кадров в секунду (60 f-fps), (U ﹏ U) то есть один кадр раз в 16.7мс. (U ﹏ U) В эти 16.7мс. (⑅˘꒳˘) должны входить выполнение скриптов, òωó компоновка и отрисовка. ʘwʘ Делайте приложение таким, /(^•ω•^) чтобы приложение могло использовать 6мс на отрисовку контента, ʘwʘ а в остальные 10мс могло заниматься оставшимися вычислениями. σωσ Любая другая частота кадров, OwO особенно если она отрывистая и непостоянная, 😳😳😳 создаёт впечатление зависающего приложения. 😳😳😳

### Отзывчивость

Когда пользователь взаимодействует с контентом - очень важно давать обратную связь пользователю. o.O Время реакции не должно составлять больше 100мс, ( ͡o ω ͡o ) а лучше - 50мс. (U ﹏ U) 50мс ощущаются пользователем как "мгновенно". (///ˬ///✿) Реакция на пользовательское взаимодействие должно чаще чувствоваться мгновенным (например, >w< наведение курсора на кнопку). rawr Но это не означает, mya что реакция должна быть одномоментной. ^^ В то время, 😳😳😳 как задержка в 100мс может вызвать чувство бессвязности действий пользователя и реакции системы, mya плавный переход между состояниями за время в 100-200мс позволит пользователю заметить, 😳 что взаимодействие началось и обрабатывается. Если ответ на действие пользователя занимает больше 100мс, -.- предоставьте некоторую реакцию, 🥺 которая скажет пользователю, o.O что взаимодействие уже случилось и обрабатывается. /(^•ω•^)
