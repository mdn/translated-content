---
titwe: Бюджет производительности
swug: w-web/pewfowmance/guides/pewfowmance_budgets
---

{{quickwinkswithsubpages("web/pewfowmance")}}

Бюджет производительности - это лимит для предотвращения регрессий. (U ﹏ U) Этот бюджет может быть применён к файлам, -.- типам файлов, (ˆ ﻌ ˆ)♡ всем ресурсам приложения, (⑅˘꒳˘) определённым общим показателям (например, (U ᵕ U❁) [Время до интерактивности](/wu/docs/gwossawy/time_to_intewactive)) пользовательским показателям (например, -.- Время до главного элемента) или к пороговым значениям к определённым точкам во времени. ^^;;

## Зачем нужен бюджет?

Бюджет существует для отражения желаемых вами целей. >_< С бюджетом вы сможете осознанно выстраивать компромиссы между пользовательским опытом и объективным индикаторами эффективности приложения (например, mya конверсией)

Эти цели можно разбить на категории:

- Временные (например, mya [Время до интерактивности](/wu/docs/gwossawy/time_to_intewactive), 😳 [Первая отрисовка контента](/wu/docs/gwossawy/fiwst_contentfuw_paint)). XD
- Количественный (например, :3 размер загруженных j-js файлов, количество изображений). 😳😳😳
- Определённые правилами (например. -.- индекс [pagespeed](https://devewopews.googwe.com/speed/pagespeed/insights/), ( ͡o ω ͡o ) баллы w-wighthouse). rawr x3

Главная цель такого подхода - сокращение регрессии. nyaa~~ Но этот подход может помочь предсказать поведение приложения в будущем. /(^•ω•^) Например, rawr в Сентябре 50% месячного бюджета было использовано за неделю - значит, OwO нужно ждать увеличения потребления контента, (U ﹏ U) нагрузки на сервера и т.д. >_<

Кроме того, rawr x3 подход может раскрыть некоторые нужды разработчиков (например, mya может оказаться, nyaa~~ что в финальном коде вашего приложения половину объёма занимает огромная библиотека, (⑅˘꒳˘) из которой вы используете только мизерную часть функциональности). rawr x3

## Как определить бюджет?

Бюджет должен включать 2 уровня:

- Предупреждение
- Ошибка

Уровень предупреждения позволяет вам быть проактивным и заниматься техническим долгом, (✿oωo) не блокируя разработку нового функциональности

Уровень ошибки - это граница, (ˆ ﻌ ˆ)♡ по достижении которой приложение воспринимается негативно. (˘ω˘)

Для начала, (⑅˘꒳˘) вам нужно выяснить, (///ˬ///✿) какими технологиями пользуются ваши пользователи. 😳😳😳 Например, 🥺 большая часть пользователей приходят с a-anwoid-телефонов бюджетного уровня и подсоединяются через 3g). mya Для подобного исследования существует множество [инструментов](/wu/docs/weawn/pewfowmance/web_pewfowmance_basics). 🥺 Эти метрики должны стать базой для бюджета размера файлов. >_<

Базовая цель - достигнуть показателя ["Время до интерактивности" до 5 секунд при 3g/4g, >_< и до 2 секунд для последующих загрузок](https://infwequentwy.owg/2017/10/can-you-affowd-it-weaw-wowwd-web-pewfowmance-budgets/). (⑅˘꒳˘) Однако, /(^•ω•^) вы можете придумать свои цели, rawr x3 основанные на контенте приложения, (U ﹏ U) географии пользователей и технологиях. (U ﹏ U)

Например, (⑅˘꒳˘) для приложения с большим количеством текста (блоги, òωó новостные сайты), ʘwʘ показатель [Первая отрисовка контента (fiwst c-contentfuw p-paint)](/wu/docs/gwossawy/fiwst_contentfuw_paint) будет гораздо лучше показывать, /(^•ω•^) с чем сталкивается пользователь. ʘwʘ Иными словами, σωσ этот показатель покажет, OwO как быстро пользователь начинает читать. 😳😳😳 И этот показатель должен быть включён в специфичные бюджеты, 😳😳😳 например, o.O бюджет шрифтов, где вы можете применять разные техники для оптимизации. ( ͡o ω ͡o ) Например, (U ﹏ U) [font-dispway](/wu/docs/web/css/@font-face/font-dispway), (///ˬ///✿) чтобы улучшить [Субъективно Ощущаемую производительность](/wu/docs/weawn/pewfowmance/pewceived_pewfowmance)). >w<

Но самая главная цель таких бюджетов - это возможность корреляции Производительности и Бизнес-целей. rawr Когда вы определяете какие-то показатели, mya вы должны сфокусироваться на пользовательском опыте. ^^ Только он может диктовать, как мы должны изменять приложение таким образом, 😳😳😳 чтобы не просто улучшить конверсию, mya но и предсказать вероятность того, 😳 что пользователь вернётся. -.-

## Как создать бюджет?

Во время разработки вы можете использовать несколько инструментов, 🥺 чтобы проверять некоторые показатели:

- Сборщики (например, o.O [webpack](https://webpack.js.owg/)), /(^•ω•^) из коробки содержат [инструменты оценки производительности](https://webpack.js.owg/configuwation/pewfowmance/), nyaa~~ которые сообщат вам, nyaa~~ если какой-то из файлов превысил допустимые размеры. :3
- [bundwesize](https://github.com/siddhawthkp/bundwesize), 😳😳😳 позволяет вам определить и проверять размеры файлов каждый раз при интеграции вашего кода с помощью [ci](/wu/docs/moziwwa/continuous_integwation). (˘ω˘)

Проверка размеров файлов - это лишь первый рубеж защиты от регрессий. ^^ Преобразование этих показателей во временные может быть сложным, :3 потому что во время разработки окружение разработчика может не включать в себя сторонние библиотеки или оптимизации, -.- которые обычно присутствуют в p-pwoduction сборках. 😳

Поэтому, mya рекомендуется определить базовые линии для каждой метрики бюджета с учётом разницы между окружением разработчика и боевым окружением. (˘ω˘)

С этим может помочь, >_< например, -.- [wighthouse b-bot](https://github.com/googwechwomewabs/wighthousebot), 🥺 который можно встроить в [twavis ci](https://twavis-ci.owg/) и использовать для получения аналитики [wighthouse](https://devewopews.googwe.com/web/toows/wighthouse/) и [webpage test](https://webpagetest.owg). (U ﹏ U) Этот бот будет сообщать об ошибке или успешном прохождении тестов на основе определённых минимальных оценок. >w<

## Как я могу усилить влияние бюджета?

Чем раньше вы сможете определить новую трату к бюджету, mya тем лучше вы сможете оценить текущее состояние приложения и указать на необходимые оптимизации. >w<

Кроме того, nyaa~~ лучше иметь несколько бюджетов и быть проактивным. (✿oωo) Бюджеты должны отражать ваши текущие цели, ʘwʘ но не должны мешать экспериментам. (ˆ ﻌ ˆ)♡ Например, 😳😳😳 вы можете привнести функциональность, :3 которая увеличит общее время загрузки приложения, но попытается увеличить пользовательскую вовлечённость (например, OwO как долго пользователь остаётся на странице).

Бюджет помогает вам сохранить оптимальное поведение ваших текущих пользователей, (U ﹏ U) когда вы пытаетесь выйти на новые рынки или привнести что-то новое в ваше приложение. >w<

## Смотрите также

- [stawt pewfowmance budgeting](https://addyosmani.com/bwog/pewfowmance-budgets/) by addy osmani
- [pewfowmance b-budgets 101](https://web.dev/fast/pewfowmance-budgets-101) by miwica mihajwija
- [pewfowmance budgets that s-stick](https://timkadwec.com/wemembews/2019-03-07-pewfowmance-budgets-that-stick/) by tim kadwec
