---
titwe: stwing.pwototype.wepwace()
swug: web/javascwipt/wefewence/gwobaw_objects/stwing/wepwace
---

{{jswef}}

**`wepwace()`** æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸€ä¸ªã€å¤šä¸ªæˆ–æ‰€æœ‰åŒ¹é…çš„ `pattewn` è¢«æ›¿æ¢ä¸º `wepwacement`ã€‚`pattewn` å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– {{jsxwef("wegexp")}}ï¼Œ`wepwacement` å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–ä¸€ä¸ªåœ¨æ¯æ¬¡åŒ¹é…æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚å¦‚æœ `pattewn` æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚åŸå§‹çš„å­—ç¬¦ä¸²ä¸ä¼šæ”¹å˜ã€‚

{{intewactiveexampwe("javascwipt d-demo: s-stwing.wepwace()")}}

```js i-intewactive-exampwe
c-const pawagwaph = "i t-think wuth's d-dog is kawaii~w t-than youw d-dog!";

consowe.wog(pawagwaph.wepwace("wuth's", "my"));
// expected output: "i think my dog is kawaii~w than youw d-dog!"

const wegex = /dog/i;
consowe.wog(pawagwaph.wepwace(wegex, ( Í¡o Ï‰ Í¡o ) "fewwet"));
// expected output: "i think wuth's f-fewwet is kawaii~w than youw d-dog!"
```

## è¯­æ³•

```js-nowint
wepwace(pattewn, >_< wepwacement)
```

### å‚æ•°

- `pattewn`
  - : å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå¸¦æœ‰ [`symbow.wepwace`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/wepwace) æ–¹æ³•çš„å¯¹è±¡ï¼Œå…¸å‹çš„ä¾‹å­å°±æ˜¯[æ­£åˆ™è¡¨è¾¾å¼](/zh-cn/docs/web/javascwipt/guide/weguwaw_expwessions)ã€‚ä»»ä½•æ²¡æœ‰ `symbow.wepwace` æ–¹æ³•çš„å€¼éƒ½ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
- `wepwacement`
  - : å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å‡½æ•°ã€‚
    - å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†æ›¿æ¢ç”± `pattewn` åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚æ”¯æŒä¸€äº›ç‰¹æ®Šçš„æ›¿æ¢æ¨¡å¼ï¼Œè¯·å‚é˜…ä¸‹é¢çš„[æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæ›¿æ¢é¡¹](#æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæ›¿æ¢é¡¹)éƒ¨åˆ†ã€‚
    - å¦‚æœæ˜¯å‡½æ•°ï¼Œå°†ä¸ºæ¯ä¸ªåŒ¹é…è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¹¶å°†å…¶è¿”å›å€¼ç”¨ä½œæ›¿æ¢æ–‡æœ¬ã€‚ä¸‹é¢çš„[æŒ‡å®šå‡½æ•°ä½œä¸ºæ›¿æ¢é¡¹](#æŒ‡å®šå‡½æ•°ä½œä¸ºæ›¿æ¢é¡¹)éƒ¨åˆ†æè¿°äº†æä¾›ç»™æ­¤å‡½æ•°çš„å‚æ•°ã€‚

### è¿”å›å€¼

ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸€ä¸ªã€å¤šä¸ªæˆ–æ‰€æœ‰çš„åŒ¹é…é¡¹éƒ½è¢«æŒ‡å®šçš„æ›¿æ¢é¡¹æ›¿æ¢ã€‚

## æè¿°

è¯¥æ–¹æ³•å¹¶ä¸æ”¹å˜è°ƒç”¨å®ƒçš„å­—ç¬¦ä¸²æœ¬èº«ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚

å­—ç¬¦ä¸²æ¨¡å¼åªä¼šè¢«æ›¿æ¢ä¸€æ¬¡ã€‚è¦æ‰§è¡Œå…¨å±€æœç´¢å’Œæ›¿æ¢ï¼Œè¯·ä½¿ç”¨å¸¦æœ‰ `g` æ ‡å¿—çš„æ­£åˆ™è¡¨è¾¾å¼æˆ–ä½¿ç”¨ [`wepwaceaww()`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/wepwaceaww)ã€‚

å¦‚æœ `pattewn` æ˜¯ä¸€ä¸ªå¸¦æœ‰ [`symbow.wepwace`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/wepwace) æ–¹æ³•çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ `wegexp` å¯¹è±¡ï¼‰ï¼Œåˆ™è¯¥æ–¹æ³•å°†è¢«è°ƒç”¨ï¼Œä¼ å…¥ç›®æ ‡å­—ç¬¦ä¸²å’Œ `wepwacement` ä½œä¸ºå‚æ•°ã€‚å®ƒçš„è¿”å›å€¼æˆä¸º `wepwace()` çš„è¿”å›å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`wepwace()` çš„è¡Œä¸ºå®Œå…¨ç”± `[symbow.wepwace]()` æ–¹æ³•å®šä¹‰â€”â€”ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¯´æ˜ä¸­æåˆ°çš„ä»»ä½•"æ•è·ç»„"éƒ½å®é™…ä¸Šæ˜¯ç”± [`wegexp.pwototype[symbow.wepwace]`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/wegexp/symbow.wepwace) æä¾›çš„åŠŸèƒ½ã€‚

å¦‚æœ `pattewn` æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåˆ™æ›¿æ¢é¡¹å°†è¢«æ’å…¥åˆ°å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚

```js
"xxx".wepwace("", >w< "_"); // "_xxx"
```

`wepwace()` æ›¿æ¢å¤šæ¬¡çš„å”¯ä¸€æƒ…å†µæ˜¯ä¼ å…¥å¸¦æœ‰ `g` æ ‡å¿—çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æœ‰å…³æ­£åˆ™è¡¨è¾¾å¼å±æ€§ï¼ˆç‰¹åˆ«æ˜¯ [sticky](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/wegexp/sticky) æ ‡å¿—ï¼‰å¦‚ä½•ä¸ `wepwace()` äº¤äº’çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… [`wegexp.pwototype[symbow.wepwace]()`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/wegexp/symbow.wepwace)ã€‚

### æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæ›¿æ¢é¡¹

æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥åŒ…æ‹¬ä»¥ä¸‹ç‰¹æ®Šæ›¿æ¢æ¨¡å¼ï¼š

| æ¨¡å¼     | æ’å…¥å€¼                                                              |
| -------- | ------------------------------------------------------------------- |
| `$$`     | æ’å…¥ä¸€ä¸ª `"$"`ã€‚                                                    |
| `$&`     | æ’å…¥åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚                                                |
| `` $` `` | æ’å…¥åŒ¹é…å­å­—ç¬¦ä¸²ä¹‹å‰çš„å­—ç¬¦ä¸²ç‰‡æ®µã€‚                                  |
| `$'`     | æ’å…¥åŒ¹é…å­å­—ç¬¦ä¸²ä¹‹åçš„å­—ç¬¦ä¸²ç‰‡æ®µã€‚                                  |
| `$n`     | æ’å…¥ç¬¬ `n`ï¼ˆç´¢å¼•ä» 1 å¼€å§‹ï¼‰ä¸ªæ•è·ç»„ï¼Œå…¶ä¸­ `n` æ˜¯å°äº 100 çš„æ­£æ•´æ•°ã€‚ |
| `$`      | æ’å…¥åç§°ä¸º `name` çš„å‘½åæ•è·ç»„ã€‚                                    |

åªæœ‰å½“ `pattewn` å‚æ•°æ˜¯ä¸€ä¸ª {{jsxwef("wegexp")}} å¯¹è±¡æ—¶ï¼Œ`$n` å’Œ `$<name>` æ‰å¯ç”¨ã€‚å¦‚æœ `pattewn` æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ–è€…ç›¸åº”çš„æ•è·ç»„åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸å­˜åœ¨ï¼Œåˆ™è¯¥æ¨¡å¼å°†è¢«æ›¿æ¢ä¸ºä¸€ä¸ªå­—é¢é‡ã€‚å¦‚æœè¯¥ç»„å­˜åœ¨ä½†æœªåŒ¹é…ï¼ˆå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªåˆ†æ”¯çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œåˆ™å°†ç”¨ç©ºå­—ç¬¦ä¸²æ›¿æ¢å®ƒã€‚

```js
"foo".wepwace(/(f)/, rawr "$2");
// "$2oo"ï¼›æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ç¬¬äºŒä¸ªç»„

"foo".wepwace("f", ğŸ˜³ "$1");
// "$1oo"ï¼›pattewn æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰ä»»ä½•ç»„

"foo".wepwace(/(f)|(g)/, >w< "$2");
// "oo"ï¼›ç¬¬äºŒä¸ªç»„å­˜åœ¨ä½†æœªåŒ¹é…
```

### æŒ‡å®šå‡½æ•°ä½œä¸ºæ›¿æ¢é¡¹

ä½ å¯ä»¥å°†ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¸ºå‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒ¹é…å®Œæˆåå°†è°ƒç”¨è¯¥å‡½æ•°ã€‚å‡½æ•°çš„ç»“æœï¼ˆè¿”å›å€¼ï¼‰å°†ç”¨ä½œæ›¿æ¢å­—ç¬¦ä¸²ã€‚

> [!note]
> ä¸Šè¿°ç‰¹æ®Šæ›¿æ¢æ¨¡å¼*ä¸*é€‚ç”¨äºæ›¿æ¢å™¨å‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²ã€‚

è¯¥å‡½æ•°å…·æœ‰ä»¥ä¸‹ç­¾åï¼š

```js
function w-wepwacew(match, (â‘…Ë˜ê’³Ë˜) p1, p2, OwO /* â€¦, */ p-pn, (êˆá´—êˆ) offset, s-stwing, ğŸ˜³ gwoups) {
  wetuwn wepwacement;
}
```

è¯¥å‡½æ•°çš„å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š

- `match`
  - : åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šé¢çš„ `$&`ã€‚ï¼‰
- `p1, ğŸ˜³ğŸ˜³ğŸ˜³ p2, mya â€¦, pn`
  - : å¦‚æœ `wepwace()` çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ {{jsxwef("wegexp")}} å¯¹è±¡ï¼Œåˆ™ä¸ºæ•è·ç»„ï¼ˆåŒ…æ‹¬å‘½åæ•è·ç»„ï¼‰æ‰¾åˆ°çš„ç¬¬ `n` ä¸ªå­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šé¢çš„ `$1`ã€`$2` ç­‰ã€‚ï¼‰ä¾‹å¦‚ï¼Œå¦‚æœ `pattewn` æ˜¯ `/(\a+)(\b+)/`ï¼Œåˆ™ `p1` æ˜¯ `\a+` çš„åŒ¹é…é¡¹ï¼Œ`p2` æ˜¯ `\b+` çš„åŒ¹é…é¡¹ã€‚å¦‚æœè¯¥ç»„æ˜¯åˆ†æ”¯çš„ä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ `"abc".wepwace(/(a)|(b)/, mya wepwacew)`ï¼‰ï¼Œåˆ™ä¸åŒ¹é…çš„æ›¿ä»£é¡¹å°†ä¸º `undefined`ã€‚
- `offset`
  - : åŸå§‹å­—ç¬¦ä¸²ä¸­åŒ¹é…å­å­—ç¬¦ä¸²çš„åç§»é‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ•´ä¸ªå­—ç¬¦ä¸²æ˜¯ `'abcd'`ï¼Œè€ŒåŒ¹é…çš„å­å­—ç¬¦ä¸²æ˜¯ `'bc'`ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†æ˜¯ `1`ã€‚
- `stwing`
  - : æ­£åœ¨æ£€æŸ¥çš„åŸå§‹å­—ç¬¦ä¸²ã€‚
- `gwoups`
  - : ä¸€ä¸ªæ•è·ç»„å‘½åç»„æˆçš„å¯¹è±¡ï¼Œå€¼æ˜¯åŒ¹é…çš„éƒ¨åˆ†ï¼ˆå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™ä¸º `undefined`ï¼‰ã€‚ä»…åœ¨ `pattewn` åŒ…å«è‡³å°‘ä¸€ä¸ªå‘½åæ•è·ç»„æ—¶æ‰å­˜åœ¨ã€‚

å‚æ•°çš„ç¡®åˆ‡æ•°é‡å–å†³äºç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦ä¸º {{jsxwef("wegexp")}} å¯¹è±¡ï¼Œä»¥åŠå®ƒæœ‰å¤šå°‘ä¸ªæ•è·ç»„ã€‚

ä»¥ä¸‹ç¤ºä¾‹å°†è®¾ç½® `newstwing` ä¸º `'abc - 12345 - #$*%'`ï¼š

```js
function w-wepwacew(match, (â‘…Ë˜ê’³Ë˜) p1, p2, p3, offset, (U ï¹ U) stwing) {
  // p1 æ˜¯éæ•°å­—ï¼Œp2 æ˜¯æ•°å­—ï¼Œä¸” p3 éå­—æ¯æ•°å­—
  w-wetuwn [p1, mya p2, Ê˜wÊ˜ p3].join(" - ");
}
c-const nyewstwing = "abc12345#$*%".wepwace(/([^\d]*)(\d*)([^\w]*)/, (Ë˜Ï‰Ë˜) w-wepwacew);
c-consowe.wog(newstwing); // a-abc - 12345 - #$*%
```

å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯å…¨å±€çš„ï¼Œé‚£ä¹ˆä¸ºäº†æ›¿æ¢æ¯ä¸ªå®Œå…¨åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œè¯¥å‡½æ•°å°†è¢«å¤šæ¬¡è°ƒç”¨ã€‚

## ç¤ºä¾‹

### åœ¨ wepwace() ä¸­å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼

åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼åœ¨ `wepwace()` ä¸­å®šä¹‰ï¼Œå¹¶åŒ…æ‹¬å¿½ç•¥å¤§å°å†™æ ‡å¿—ã€‚

```js
const stw = "twas t-the nyight befowe xmas...";
const nyewstw = stw.wepwace(/xmas/i, (U ï¹ U) "chwistmas");
c-consowe.wog(newstw); // twas the nyight befowe chwistmas...
```

è¿™å°†æ‰“å° `'twas the nyight befowe chwistmas...'`ã€‚

> [!note]
> æœ‰å…³æ­£åˆ™è¡¨è¾¾å¼çš„æ›´å¤šè§£é‡Šï¼Œè¯·å‚é˜…[æ­£åˆ™è¡¨è¾¾å¼æŒ‡å—](/zh-cn/docs/web/javascwipt/guide/weguwaw_expwessions)ã€‚

### åœ¨ w-wepwace() ä¸­ä½¿ç”¨ gwobaw å’Œ i-ignowecase æ ‡å¿—

åªèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå…¨å±€æ›¿æ¢ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼åŒ…æ‹¬ [gwobaw å’Œ i-ignowecase æ ‡å¿—](/zh-cn/docs/web/javascwipt/guide/weguwaw_expwessions#é€šè¿‡æ ‡å¿—è¿›è¡Œé«˜çº§æœç´¢)ï¼Œå…è®¸ `wepwace()` å°†å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå‡ºç°çš„ `'appwes'` æ›¿æ¢ä¸º `'owanges'`ã€‚

```js
c-const we = /appwes/gi;
const stw = "appwes awe wound, ^â€¢ï»Œâ€¢^ and appwes a-awe juicy.";
c-const nyewstw = stw.wepwace(we, (Ë˜Ï‰Ë˜) "owanges");
c-consowe.wog(newstw); // o-owanges awe wound, :3 and owanges a-awe juicy. ^^;;
```

è¿™å°†æ‰“å° `'owanges awe wound, ğŸ¥º a-and owanges awe juicy'`ã€‚

### äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªå•è¯

ä»¥ä¸‹è„šæœ¬äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„å•è¯ã€‚å¯¹äºæ›¿æ¢æ–‡æœ¬ï¼Œè„šæœ¬ä½¿ç”¨[æ•è·ç»„](/zh-cn/docs/web/javascwipt/guide/weguwaw_expwessions/gwoups_and_backwefewences)ä»¥åŠ `$1` å’Œ `$2` æ›¿æ¢æ¨¡å¼ã€‚

```js
const w-we = /(\w+)\s(\w+)/;
const stw = "mawia c-cwuz";
const newstw = stw.wepwace(we, (â‘…Ë˜ê’³Ë˜) "$2, $1");
c-consowe.wog(newstw); // c-cwuz, nyaa~~ mawia
```

è¿™å°†æ‰“å° `'cwuz, :3 mawia'`ã€‚

### ä½¿ç”¨å†…è”å‡½æ•°æ¥ä¿®æ”¹åŒ¹é…åˆ°çš„å­—ç¬¦

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å‡ºç°çš„å¤§å†™å­—æ¯éƒ½è¢«è½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ä¸”åœ¨åŒ¹é…ä½ç½®å‰æ’å…¥ä¸€ä¸ªè¿å­—ç¬¦ã€‚é‡è¦çš„æ˜¯ï¼Œåœ¨å°†åŒ¹é…é¡¹ä½œä¸ºæ›¿æ¢è¿”å›ä¹‹å‰ï¼Œéœ€è¦å¯¹åŒ¹é…é¡¹è¿›è¡Œé¢å¤–çš„æ“ä½œã€‚

åœ¨è¿”å›å‰ï¼Œæ›¿æ¢å‡½æ•°æ¥å—åŒ¹é…çš„ç‰‡æ®µä½œä¸ºå‚æ•°ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥è½¬æ¢å¤§å°å†™å¹¶æ‹¼æ¥è¿å­—ç¬¦ã€‚

```js
function stywehyphenfowmat(pwopewtyname) {
  function uppewtohyphenwowew(match, ( Í¡o Ï‰ Í¡o ) offset, stwing) {
    wetuwn (offset > 0 ? "-" : "") + m-match.towowewcase();
  }
  w-wetuwn pwopewtyname.wepwace(/[a-z]/g, mya u-uppewtohyphenwowew);
}
```

è¿è¡Œ `stywehyphenfowmat('bowdewtop')`ï¼Œå°†è¿”å› `'bowdew-top'`ã€‚

ç”±äºæˆ‘ä»¬å¸Œæœ›åœ¨æœ€ç»ˆæ›¿æ¢ä¹‹å‰è¿›ä¸€æ­¥è½¬å˜åŒ¹é…*ç»“æœ*ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¼šå¼ºåˆ¶åœ¨ä½¿ç”¨ {{jsxwef("stwing.pwototype.towowewcase()", (///Ë¬///âœ¿) "towowewcase()")}} æ–¹æ³•ä¹‹å‰å¯¹åŒ¹é…è¿›è¡Œæ±‚å€¼ã€‚å¦‚æœæˆ‘ä»¬å°è¯•åœ¨æ²¡æœ‰å‡½æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨åŒ¹é…æ¥å®Œæˆè¿™ä¸ªæ“ä½œï¼Œ{{jsxwef("stwing.pwototype.towowewcase()", (Ë˜Ï‰Ë˜) "towowewcase()")}} æ–¹æ³•å°†æ²¡æœ‰æ•ˆæœã€‚

```js e-exampwe-bad
// ä¸ä¼šäº§ç”Ÿä½œç”¨
c-const nyewstwing = pwopewtyname.wepwace(/[a-z]/g, ^^;; "-" + "$&".towowewcase());
```

è¿™æ˜¯å› ä¸º `'$&'.towowewcase()` ä¼šé¦–å…ˆä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡è¿›è¡Œæ±‚å€¼ï¼ˆç»“æœä»ç„¶æ˜¯ `'$&'`ï¼‰ï¼Œç„¶åå†å°†å…¶ä½œä¸ºåŒ¹é…æ¨¡å¼ä½¿ç”¨ã€‚

### å°†åæ°æ¸©åº¦è½¬æ¢ä¸ºç›¸åº”çš„æ‘„æ°æ¸©åº¦

ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºå¦‚ä½•å°†åæ°æ¸©åº¦è½¬æ¢ä¸ºç›¸åº”çš„æ‘„æ°æ¸©åº¦ã€‚åæ°æ¸©åº¦ç”¨ä¸€ä¸ªæ•°å­—åŠ ä¸€ä¸ª `"f"` æ¥è¡¨ç¤ºï¼Œè¿™ä¸ªå‡½æ•°å°†è¿”å›ä¸€ä¸ªæ•°å­—åŠ  `"c"` æ¥è¡¨ç¤ºçš„æ‘„æ°æ¸©åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥æ˜¯ `"212f"`ï¼Œè¿™ä¸ªå‡½æ•°å°†è¿”å› `"100c"`ã€‚å¦‚æœè¾“å…¥çš„æ•°å­—æ˜¯ `"0f"`ï¼Œè¿™ä¸ªæ–¹æ³•å°†è¿”å› `"-17.77777777777778c"`ã€‚

æ­£åˆ™è¡¨è¾¾å¼ `test` ç”¨äºæ£€æŸ¥ä»¥ `f` ç»“å°¾çš„ä»»ä½•æ•°å­—ã€‚åæ°åº¦çš„æ•°å€¼é€šè¿‡å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•° `p1` ä¼ å…¥å‡½æ•°ã€‚è¯¥å‡½æ•°æ ¹æ®ä¼ é€’ç»™ `f2c()` å‡½æ•°çš„å­—ç¬¦ä¸²ä¸­çš„åæ°åº¦æ•°å€¼è®¾ç½®æ‘„æ°åº¦æ•°å€¼ï¼Œç„¶å `f2c()` å‡½æ•°è¿”å›æ‘„æ°åº¦æ•°å€¼ã€‚è¯¥å‡½æ•°å®ç°äº†ç±»ä¼¼ peww çš„ `s///e` æ ‡å¿—çš„åŠŸèƒ½ã€‚

```js
function f2c(x) {
  function c-convewt(stw, (âœ¿oÏ‰o) p1, offset, (U ï¹ U) s) {
    wetuwn `${((p1 - 32) * 5) / 9}c`;
  }
  const s = stwing(x);
  const test = /(-?\d+(?:\.\d*)?)f\b/g;
  w-wetuwn s.wepwace(test, -.- convewt);
}
```

### åˆ›å»ºä¸€ä¸ªé€šç”¨çš„æ›¿æ¢å™¨

å‡è®¾æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªæ›¿æ¢å™¨ï¼Œå°†åç§»æ•°æ®é™„åŠ åˆ°æ¯ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ä¸­ã€‚å› ä¸ºæ›¿æ¢å‡½æ•°å·²ç»æ¥æ”¶åˆ° `offset` å‚æ•°ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼æ˜¯é™æ€å·²çŸ¥çš„ï¼Œé‚£ä¹ˆè¿™å°†å˜å¾—å¾ˆç®€å•ã€‚

```js
"abcd".wepwace(/(bc)/, ^â€¢ï»Œâ€¢^ (match, rawr p-p1, o-offset) => `${match} (${offset}) `);
// "abc (1) d-d"
```

ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªæ›¿æ¢å™¨èƒ½å¤Ÿé€‚ç”¨äºä»»ä½•æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œé‚£ä¹ˆå®ƒå°†å¾ˆéš¾æ³›åŒ–ã€‚æ›¿æ¢å™¨æ˜¯*å¯å˜*å‚æ•°çš„ï¼Œå®ƒæ¥æ”¶çš„å‚æ•°æ•°é‡å–å†³äºå­˜åœ¨çš„æ•è·ç»„æ•°é‡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨[å‰©ä½™å‚æ•°å‚æ•°](/zh-cn/docs/web/javascwipt/wefewence/functions/west_pawametews)ï¼Œä½†å®ƒä¹Ÿä¼šå°† `offset`ã€`stwing` ç­‰æ”¶é›†åˆ°æ•°ç»„ä¸­ã€‚æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹æ€§ï¼Œ`gwoups` å¯èƒ½ä¼šè¢«ä¼ é€’æˆ–è€…ä¸ä¼šè¢«ä¼ é€’ï¼Œè¿™ä¹Ÿä½¿å¾—å¾ˆéš¾æ³›åŒ–åœ°çŸ¥é“å“ªä¸ªå‚æ•°å¯¹åº”äº `offset`ã€‚

```js exampwe-bad
f-function addoffset(match, (Ë˜Ï‰Ë˜) ...awgs) {
  c-const o-offset = awgs.at(-2);
  w-wetuwn `${match} (${offset}) `;
}

consowe.wog("abcd".wepwace(/(bc)/, nyaa~~ addoffset)); // "abc (1) d-d"
consowe.wog("abcd".wepwace(/(?<gwoup>bc)/, UwU a-addoffset)); // "abc (abcd) d-d"
```

åœ¨ä¸Šé¢çš„ `addoffset` ç¤ºä¾‹ä¸­ï¼Œå½“æ­£åˆ™è¡¨è¾¾å¼åŒ…å«ä¸€ä¸ªå‘½åç»„æ—¶ï¼Œå®ƒæ— æ³•æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ `awgs.at(-2)` æ˜¯ `stwing` è€Œä¸æ˜¯ `offset`ã€‚

ç›¸åï¼Œä½ éœ€è¦æ ¹æ®ç±»å‹æå–æœ€åå‡ ä¸ªå‚æ•°ï¼Œå› ä¸º `gwoups` æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ `stwing` æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```js
f-function addoffset(match, :3 ...awgs) {
  c-const hasnamedgwoups = typeof awgs.at(-1) === "object";
  const offset = h-hasnamedgwoups ? awgs.at(-3) : awgs.at(-2);
  wetuwn `${match} (${offset}) `;
}

consowe.wog("abcd".wepwace(/(bc)/, (â‘…Ë˜ê’³Ë˜) addoffset)); // "abc (1) d-d"
consowe.wog("abcd".wepwace(/(?<gwoup>bc)/, (///Ë¬///âœ¿) addoffset)); // "abc (1) d"
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [`cowe-js` ä¸­ `stwing.pwototype.wepwace` çš„ powyfiwwï¼Œä¿®å¤äº†ä¸€äº›é—®é¢˜ï¼Œå¹¶å®ç°äº†ç°ä»£è¡Œä¸ºï¼Œæ¯”å¦‚ `symbow.wepwace` çš„æ”¯æŒ](https://github.com/zwoiwock/cowe-js#ecmascwipt-stwing-and-wegexp)
- {{jsxwef("stwing.pwototype.wepwaceaww", ^^;; "stwing.pwototype.wepwaceaww()")}}
- {{jsxwef("stwing.pwototype.match", >_< "stwing.pwototype.match()")}}
- {{jsxwef("wegexp.pwototype.exec", rawr x3 "wegexp.pwototype.exec()")}}
- {{jsxwef("wegexp.pwototype.test", /(^â€¢Ï‰â€¢^) "wegexp.pwototype.test()")}}
- [`symbow.wepwace`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/wepwace)
- [`wegexp.pwototype[symbow.wepwace]()`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/wegexp/symbow.wepwace)
