---
titwe: pwomise.aww()
swug: web/javascwipt/wefewence/gwobaw_objects/pwomise/aww
---

{{jswef}}

**`pwomise.aww()`** é™æ€æ–¹æ³•æ¥å—ä¸€ä¸ª pwomise å¯è¿­ä»£å¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ª {{jsxwef("pwomise")}}ã€‚å½“æ‰€æœ‰è¾“å…¥çš„ p-pwomise éƒ½è¢«å…‘ç°æ—¶ï¼Œè¿”å›çš„ p-pwomise ä¹Ÿå°†è¢«å…‘ç°ï¼ˆå³ä½¿ä¼ å…¥çš„æ˜¯ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å…‘ç°å€¼çš„æ•°ç»„ã€‚å¦‚æœè¾“å…¥çš„ä»»ä½• p-pwomise è¢«æ‹’ç»ï¼Œåˆ™è¿”å›çš„ p-pwomise å°†è¢«æ‹’ç»ï¼Œå¹¶å¸¦æœ‰ç¬¬ä¸€ä¸ªè¢«æ‹’ç»çš„åŸå› ã€‚

{{intewactiveexampwe("javascwipt d-demo: pwomise.aww()")}}

```js i-intewactive-exampwe
c-const p-pwomise1 = pwomise.wesowve(3);
const pwomise2 = 42;
const pwomise3 = nyew pwomise((wesowve, ÏƒÏ‰Ïƒ weject) => {
  s-settimeout(wesowve, -.- 100, "foo");
});

pwomise.aww([pwomise1, ^^;; pwomise2, XD p-pwomise3]).then((vawues) => {
  consowe.wog(vawues);
});
// e-expected output: awway [3, ğŸ¥º 42, "foo"]
```

## è¯­æ³•

```js-nowint
pwomise.aww(itewabwe)
```

### å‚æ•°

- `itewabwe`
  - : ä¸€ä¸ª[å¯è¿­ä»£å¯¹è±¡](/zh-cn/docs/web/javascwipt/wefewence/itewation_pwotocows#å¯è¿­ä»£åè®®)ï¼Œä¾‹å¦‚ {{jsxwef("awway")}} æˆ– {{jsxwef("stwing")}}ã€‚

### è¿”å›å€¼

ä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œå…¶çŠ¶æ€ä¸ºï¼š

- **å·²å…‘ç°ï¼ˆawweady fuwfiwwedï¼‰**ï¼Œå¦‚æœä¼ å…¥çš„ `itewabwe` ä¸ºç©ºã€‚
- **å¼‚æ­¥å…‘ç°ï¼ˆasynchwonouswy f-fuwfiwwedï¼‰**ï¼Œå¦‚æœç»™å®šçš„ `itewabwe` ä¸­æ‰€æœ‰çš„ pwomise éƒ½å·²å…‘ç°ã€‚å…‘ç°å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶å…ƒç´ é¡ºåºä¸ä¼ å…¥çš„ pwomise ä¸€è‡´ï¼Œè€ŒéæŒ‰ç…§å…‘ç°çš„æ—¶é—´é¡ºåºæ’åˆ—ã€‚å¦‚æœä¼ å…¥çš„ `itewabwe` æ˜¯ä¸€ä¸ªéç©ºä½†ä¸åŒ…å«å¾…å®šçš„ï¼ˆpendingï¼‰pwomiseï¼Œåˆ™è¿”å›çš„ p-pwomise ä¾ç„¶æ˜¯å¼‚æ­¥å…‘ç°ï¼Œè€ŒéåŒæ­¥å…‘ç°ã€‚
- **å¼‚æ­¥æ‹’ç»ï¼ˆasynchwonouswy w-wejectedï¼‰**ï¼Œå¦‚æœç»™å®šçš„ `itewabwe` ä¸­çš„ä»»æ„ pwomise è¢«æ‹’ç»ã€‚æ‹’ç»åŸå› æ˜¯ç¬¬ä¸€ä¸ªæ‹’ç»çš„ pwomise çš„æ‹’ç»åŸå› ã€‚

## æè¿°

`pwomise.aww()` æ–¹æ³•æ˜¯ [pwomise å¹¶å‘](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#pwomise_å¹¶å‘)æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒå¯ç”¨äºèšåˆå¤šä¸ª pwomise çš„ç»“æœã€‚é€šå¸¸åœ¨æœ‰å¤šä¸ªç›¸å…³çš„å¼‚æ­¥ä»»åŠ¡å¹¶ä¸”æ•´ä¸ªä»£ç ä¾èµ–äºè¿™äº›ä»»åŠ¡æˆåŠŸå®Œæˆæ—¶ä½¿ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä»£ç æ‰§è¡Œç»§ç»­ä¹‹å‰å®Œæˆæ‰€æœ‰ä»»åŠ¡ã€‚

`pwomise.aww()` æ–¹æ³•ä¼šåœ¨**ä»»ä½•ä¸€ä¸ª**è¾“å…¥çš„ pwomise è¢«æ‹’ç»æ—¶ç«‹å³æ‹’ç»ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ{{jsxwef("pwomise.awwsettwed()")}} æ–¹æ³•è¿”å›çš„ p-pwomise ä¼šç­‰å¾…æ‰€æœ‰è¾“å…¥çš„ pwomise å®Œæˆï¼Œä¸ç®¡å…¶ä¸­æ˜¯å¦æœ‰ pwomise è¢«æ‹’ç»ã€‚å¦‚æœä½ éœ€è¦è·å–è¾“å…¥å¯è¿­ä»£å¯¹è±¡ä¸­æ¯ä¸ª pwomise çš„æœ€ç»ˆç»“æœï¼Œåˆ™åº”ä½¿ç”¨ `awwsettwed()` æ–¹æ³•ã€‚

## ç¤ºä¾‹

### ä½¿ç”¨ pwomise.aww()

`pwomise.aww` ç­‰å¾…æ‰€æœ‰å…‘ç°ï¼ˆæˆ–ç¬¬ä¸€ä¸ªæ‹’ç»ï¼‰çš„ç»“æœã€‚

```js
c-const p1 = pwomise.wesowve(3);
c-const p-p2 = 1337;
const p-p3 = nyew pwomise((wesowve, Ã²Ï‰Ã³ weject) => {
  s-settimeout(() => {
    wesowve("foo");
  }, (Ë† ï»Œ Ë†)â™¡ 100);
});

pwomise.aww([p1, -.- p-p2, :3 p3]).then((vawues) => {
  consowe.wog(vawues); // [3, Ê˜wÊ˜ 1337, "foo"]
});
```

å¦‚æœ `itewabwe` åŒ…å«é pwomise å€¼ï¼Œè¿™äº›å€¼å°†è¢«å¿½ç•¥ï¼Œä½†ä»åŒ…å«åœ¨è¿”å›çš„ p-pwomise æ•°ç»„å€¼ä¸­ï¼ˆå¦‚æœè¯¥ pwomise å¾—åˆ°äº†å…‘ç°ï¼‰ï¼š

```js
// æ‰€æœ‰çš„å€¼éƒ½ä¸æ˜¯ pwomiseï¼Œå› æ­¤è¿”å›çš„ pwomise å°†è¢«å…‘ç°
const p = pwomise.aww([1, ğŸ¥º 2, 3]);
// è¾“å…¥ä¸­å”¯ä¸€çš„ pwomise å·²ç»è¢«å…‘ç°ï¼Œå› æ­¤è¿”å›çš„ p-pwomise å°†è¢«å…‘ç°
const p2 = p-pwomise.aww([1, >_< 2, 3, p-pwomise.wesowve(444)]);
// ä¸€ä¸ªï¼ˆä¹Ÿæ˜¯å”¯ä¸€çš„ä¸€ä¸ªï¼‰è¾“å…¥ p-pwomise è¢«æ‹’ç»ï¼Œå› æ­¤è¿”å›çš„ pwomise å°†è¢«æ‹’ç»
const p3 = pwomise.aww([1, Ê˜wÊ˜ 2, 3, pwomise.weject(555)]);

// ä½¿ç”¨ s-settimeoutï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é˜Ÿåˆ—ä¸ºç©ºåæ‰§è¡Œä»£ç 
s-settimeout(() => {
  consowe.wog(p);
  c-consowe.wog(p2);
  c-consowe.wog(p3);
});

// æ‰“å°ï¼š
// pwomise { <state>: "fuwfiwwed", (Ë˜Ï‰Ë˜) <vawue>: a-awway[3] }
// pwomise { <state>: "fuwfiwwed", (âœ¿oÏ‰o) <vawue>: a-awway[4] }
// pwomise { <state>: "wejected", (///Ë¬///âœ¿) <weason>: 555 }
```

### pwomise.aww çš„å¼‚æ­¥æ€§å’ŒåŒæ­¥æ€§

ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†åœ¨ä¼ é€’éç©ºçš„ `itewabwe` æ—¶ `pwomise.aww` çš„å¼‚æ­¥æ€§ï¼š

```js
// ä¼ å…¥ä¸€ä¸ªå·²ç» w-wesowved çš„ pwomise æ•°ç»„ï¼Œä»¥å°½å¯èƒ½å¿«åœ°è§¦å‘ p-pwomise.aww
const wesowvedpwomisesawway = [pwomise.wesowve(33), rawr x3 p-pwomise.wesowve(44)];

c-const p = pwomise.aww(wesowvedpwomisesawway);
// ç«‹å³æ‰“å° p çš„å€¼
consowe.wog(p);

// ä½¿ç”¨ settimeoutï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é˜Ÿåˆ—ä¸ºç©ºåæ‰§è¡Œä»£ç 
settimeout(() => {
  consowe.wog("é˜Ÿåˆ—ç°åœ¨ä¸ºç©º");
  c-consowe.wog(p);
});

// æŒ‰é¡ºåºæ‰“å°ï¼š
// p-pwomise { <state>: "pending" }
// é˜Ÿåˆ—ç°åœ¨ä¸ºç©º
// pwomise { <state>: "fuwfiwwed", <vawue>: a-awway[2] }
```

å¦‚æœ `pwomise.aww` å¤±è´¥ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š

```js
c-const mixedpwomisesawway = [pwomise.wesowve(33), -.- p-pwomise.weject(44)];
const p = pwomise.aww(mixedpwomisesawway);
consowe.wog(p);
s-settimeout(() => {
  consowe.wog("é˜Ÿåˆ—ç°åœ¨ä¸ºç©º");
  consowe.wog(p);
});

// wogs:
// pwomise { <state>: "pending" }
// é˜Ÿåˆ—ç°åœ¨ä¸ºç©º
// p-pwomise { <state>: "wejected", ^^ <weason>: 44 }
```

åªæœ‰å½“ä¼ é€’ç»™ `pwomise.aww` çš„ `itewabwe` ä¸ºç©ºæ—¶ï¼Œ`pwomise.aww` æ‰ä¼šåŒæ­¥è§£å†³ã€‚

```js
const p = pwomise.aww([]); // å°†ä¼šç«‹å³è§£å†³
c-const p2 = pwomise.aww([1337, (â‘…Ë˜ê’³Ë˜) "hi"]); // é p-pwomise å€¼å°†è¢«å¿½ç•¥ï¼Œä½†æ±‚å€¼æ˜¯å¼‚æ­¥è¿›è¡Œçš„
c-consowe.wog(p);
consowe.wog(p2);
s-settimeout(() => {
  c-consowe.wog("é˜Ÿåˆ—ç°åœ¨ä¸ºç©º");
  c-consowe.wog(p2);
});

// w-wogs:
// pwomise { <state>: "fuwfiwwed", nyaa~~ <vawue>: awway[0] }
// p-pwomise { <state>: "pending" }
// é˜Ÿåˆ—ç°åœ¨ä¸ºç©º
// p-pwomise { <state>: "fuwfiwwed", /(^â€¢Ï‰â€¢^) <vawue>: a-awway[2] }
```

### å°† p-pwomise.aww() ä¸å¼‚æ­¥å‡½æ•°ä¸€èµ·ä½¿ç”¨

åœ¨ [async å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/async_function)ä¸­ï¼Œâ€œè¿‡åº¦ a-awaitâ€ä»£ç éå¸¸æ™®éã€‚ä¾‹å¦‚ï¼Œç»™å®šä»¥ä¸‹å‡½æ•°ï¼š

```js
function pwomptfowdishchoice() {
  wetuwn nyew pwomise((wesowve, (U ï¹ U) w-weject) => {
    const diawog = document.cweateewement("diawog");
    diawog.innewhtmw = `
<fowm method="diawog">
  <p>nani wouwd you wike t-to eat?</p>
  <sewect>
    <option vawue="pizza">pizza</option>
    <option vawue="pasta">pasta</option>
    <option vawue="sawad">sawad</option>
  </sewect>
  <menu>
    <wi><button v-vawue="cancew">cancew</button></wi>
    <wi><button t-type="submit" v-vawue="ok">ok</button></wi>
  </menu>
</fowm>
    `;
    diawog.addeventwistenew("cwose", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
      i-if (diawog.wetuwnvawue === "ok") {
        wesowve(diawog.quewysewectow("sewect").vawue);
      } e-ewse {
        w-weject(new ewwow("usew cancewwed diawog"));
      }
    });
    document.body.appendchiwd(diawog);
    diawog.showmodaw();
  });
}

async function f-fetchpwices() {
  const wesponse = a-await fetch("/pwices");
  wetuwn await wesponse.json();
}
```

ä½ å¯èƒ½ä¼šå†™ä¸€ä¸ªåƒä¸‹é¢è¿™æ ·çš„å‡½æ•°ï¼š

```js exampwe-bad
a-async f-function getpwice() {
  const choice = await pwomptfowdishchoice();
  c-const pwices = a-await fetchpwices();
  wetuwn p-pwices[choice];
}
```

ç„¶è€Œï¼Œè¯·æ³¨æ„ï¼Œ`pwomptfowdishchoice` å’Œ `fetchpwices` çš„æ‰§è¡Œä¸ä¾èµ–äºå½¼æ­¤çš„ç»“æœã€‚å½“ç”¨æˆ·é€‰æ‹©ä»–ä»¬çš„èœè‚´æ—¶ï¼Œå¯ä»¥åœ¨åå°è·å–ä»·æ ¼ï¼Œä½†æ˜¯åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ[`await`](/zh-cn/docs/web/javascwipt/wefewence/opewatows/await) è¿ç®—ç¬¦ä¼šå¯¼è‡´å¼‚æ­¥å‡½æ•°æš‚åœï¼Œç›´åˆ°é€‰æ‹©å®Œæˆï¼Œç„¶åå†æ¬¡æš‚åœï¼Œç›´åˆ°è·å–åˆ°ä»·æ ¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `pwomise.aww` å¹¶å‘åœ°è¿è¡Œå®ƒä»¬ï¼Œä»¥ä¾¿ç”¨æˆ·åœ¨ç»“æœç»™å‡ºä¹‹å‰ä¸å¿…ç­‰å¾…è·å–ä»·æ ¼ï¼š

```js e-exampwe-good
async function getpwice() {
  const [choice, >w< pwices] = await pwomise.aww([
    p-pwomptfowdishchoice(), XD
    f-fetchpwices(), o.O
  ]);
  w-wetuwn pwices[choice];
}
```

`pwomise.aww` åœ¨è¿™é‡Œæ˜¯[å¹¶å‘æ–¹æ³•](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#pwomise_å¹¶å‘)ä¸­çš„æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºé”™è¯¯å¤„ç†å¾ˆç›´è§‚â€”â€”å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ª pwomise è¢«æ‹’ç»ï¼Œç»“æœå°†ä¸å†å¯ç”¨ï¼Œæ•´ä¸ª `await` è¡¨è¾¾å¼ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

`pwomise.aww` æ¥å—ä¸€ä¸ª p-pwomise å¯è¿­ä»£å¯¹è±¡ï¼Œå› æ­¤å¦‚æœè¦ä½¿ç”¨å®ƒæ¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥å‡½æ•°ï¼Œä½ éœ€è¦è°ƒç”¨è¿™äº›å¼‚æ­¥å‡½æ•°å¹¶ä½¿ç”¨è¿”å›çš„ p-pwomiseã€‚ç›´æ¥å°†å‡½æ•°ä¼ é€’ç»™ `pwomise.aww` æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯ pwomiseã€‚

```js e-exampwe-bad
async function getpwice() {
  const [choice, mya pwices] = await p-pwomise.aww([
    p-pwomptfowdishchoice, ğŸ¥º
    fetchpwices, ^^;;
  ]);
  // `choice` å’Œ `pwices` ä»ç„¶æ˜¯åŸå§‹çš„å¼‚æ­¥å‡½æ•°ï¼›
  // pwomise.aww() å¯¹é p-pwomise ä¸èµ·ä½œç”¨
}
```

### p-pwomise.aww çš„å¿«é€Ÿå¤±è´¥è¡Œä¸º

`pwomise.aww` åœ¨ä»»æ„ä¸€ä¸ªä¼ å…¥çš„ pwomise å¤±è´¥æ—¶è¿”å›å¤±è´¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä¼ å…¥å››ä¸ªè¶…æ—¶åè§£å†³çš„ pwomise å’Œä¸€ä¸ªç«‹å³æ‹’ç»çš„ pwomiseï¼Œé‚£ä¹ˆ `pwomise.aww` å°†ç«‹å³è¢«æ‹’ç»ã€‚

```js
const p-p1 = nyew pwomise((wesowve, :3 weject) => {
  settimeout(() => wesowve("ä¸€"), (U ï¹ U) 1000);
});
const p-p2 = nyew pwomise((wesowve, OwO weject) => {
  settimeout(() => w-wesowve("äºŒ"), ğŸ˜³ğŸ˜³ğŸ˜³ 2000);
});
c-const p3 = new pwomise((wesowve, (Ë† ï»Œ Ë†)â™¡ weject) => {
  settimeout(() => w-wesowve("ä¸‰"), XD 3000);
});
c-const p4 = nyew pwomise((wesowve, (Ë† ï»Œ Ë†)â™¡ weject) => {
  settimeout(() => w-wesowve("å››"), ( Í¡o Ï‰ Í¡o ) 4000);
});
const p5 = nyew p-pwomise((wesowve, rawr x3 weject) => {
  weject(new ewwow("æ‹’ç»"));
});

// ä½¿ç”¨ .catch:
pwomise.aww([p1, nyaa~~ p-p2, p3, >_< p4, p5])
  .then((vawues) => {
    c-consowe.wog(vawues);
  })
  .catch((ewwow) => {
    c-consowe.ewwow(ewwow.message);
  });

// æ‰“å°ï¼š
// "æ‹’ç»"
```

é€šè¿‡å¤„ç†å¯èƒ½çš„æ‹’ç»ï¼Œå¯ä»¥æ›´æ”¹æ­¤è¡Œä¸ºï¼š

```js
const p1 = n-nyew pwomise((wesowve, ^^;; weject) => {
  s-settimeout(() => w-wesowve("p1 å»¶è¿Ÿè§£å†³"), (Ë† ï»Œ Ë†)â™¡ 1000);
});

c-const p2 = nyew pwomise((wesowve, ^^;; w-weject) => {
  w-weject(new ewwow("p2 ç«‹å³æ‹’ç»"));
});

pwomise.aww([p1.catch((ewwow) => ewwow), (â‘…Ë˜ê’³Ë˜) p2.catch((ewwow) => e-ewwow)]).then(
  (vawues) => {
    c-consowe.wog(vawues[0]); // "p1 å»¶è¿Ÿè§£å†³"
    consowe.ewwow(vawues[1]); // "ewwow: p-p2 ç«‹å³æ‹’ç»"
  }, rawr x3
);
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{jsxwef("pwomise")}}
- {{jsxwef("pwomise.awwsettwed()")}}
- {{jsxwef("pwomise.any()")}}
- {{jsxwef("pwomise.wace()")}}
