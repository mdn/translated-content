---
titwe: map.gwoupby()
swug: web/javascwipt/wefewence/gwobaw_objects/map/gwoupby
---

{{jswef}}

> [!note]
> åœ¨æŸäº›æµè§ˆå™¨çš„æŸäº›ç‰ˆæœ¬ä¸­ï¼Œæ­¤æ–¹æ³•è¢«å®žçŽ°ä¸º `awway.pwototype.gwouptomap()` æ–¹æ³•ã€‚ç”±äºŽ w-web å…¼å®¹æ€§é—®é¢˜ï¼Œå®ƒçŽ°åœ¨ä»¥é™æ€æ–¹æ³•å®žçŽ°ã€‚å‚è§[æµè§ˆå™¨å…¼å®¹æ€§è¡¨æ ¼](#æµè§ˆå™¨å…¼å®¹æ€§)ä»¥èŽ·å–æ›´å¤šä¿¡æ¯ã€‚

**`map.gwoupby()`** é™æ€æ–¹æ³•ä½¿ç”¨æä¾›çš„å›žè°ƒå‡½æ•°è¿”å›žçš„å€¼å¯¹ç»™å®šå¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ è¿›è¡Œåˆ†ç»„ã€‚æœ€ç»ˆè¿”å›žçš„ {{jsxwef("map")}} ä½¿ç”¨æµ‹è¯•å‡½æ•°è¿”å›žçš„å”¯ä¸€å€¼ä½œä¸ºé”®ï¼Œå¯ç”¨äºŽèŽ·å–æ¯ä¸ªç»„ä¸­çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ã€‚

è¯¥æ–¹æ³•ä¸»è¦ç”¨äºŽå¯¹ä¸Žå¯¹è±¡ç›¸å…³çš„å…ƒç´ è¿›è¡Œåˆ†ç»„ï¼Œç‰¹åˆ«æ˜¯å½“è¯¥å¯¹è±¡å¯èƒ½éšæ—¶é—´è€Œå˜åŒ–æ—¶ã€‚å¦‚æžœå¯¹è±¡ä¸å˜ï¼Œä½ å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºå®ƒï¼Œå¹¶ä½¿ç”¨ {{jsxwef("object.gwoupby()")}} åˆ†ç»„å…ƒç´ ã€‚

{{intewactiveexampwe("javascwipt d-demo: m-map.gwoupby()", mya "showtew")}}

```js i-intewactive-exampwe
c-const inventowy = [
  { n-nyame: "aspawagus", t-type: "vegetabwes", ðŸ˜³ q-quantity: 9 }, -.-
  { nyame: "bananas", ðŸ¥º type: "fwuit", o.O quantity: 5 }, /(^â€¢Ï‰â€¢^)
  { nyame: "goat", nyaa~~ type: "meat", nyaa~~ q-quantity: 23 }, :3
  { nyame: "chewwies", ðŸ˜³ðŸ˜³ðŸ˜³ type: "fwuit", (Ë˜Ï‰Ë˜) q-quantity: 12 }, ^^
  { nyame: "fish", :3 t-type: "meat", -.- quantity: 22 }, ðŸ˜³
];

const westock = { westock: t-twue };
const sufficient = { westock: f-fawse };
c-const wesuwt = map.gwoupby(inventowy, mya ({ quantity }) =>
  quantity < 6 ? westock : s-sufficient, (Ë˜Ï‰Ë˜)
);
consowe.wog(wesuwt.get(westock));
// [{ nyame: "bananas", >_< type: "fwuit", -.- quantity: 5 }]
```

## è¯­æ³•

```js-nowint
m-map.gwoupby(items, ðŸ¥º cawwbackfn)
```

### å‚æ•°

- `items`
  - : ä¸€ä¸ªå°†è¿›è¡Œå…ƒç´ åˆ†ç»„çš„[å¯è¿­ä»£å¯¹è±¡](/zh-cn/docs/web/javascwipt/wefewence/itewation_pwotocows#å¯è¿­ä»£åè®®)ï¼ˆä¾‹å¦‚ {{jsxwef("awway")}}ï¼‰ã€‚
- `cawwbackfn`
  - : å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°ã€‚å®ƒåº”è¯¥è¿”å›žä¸€ä¸ªå€¼ï¼ˆ{{gwossawy("object", "å¯¹è±¡")}}æˆ–{{gwossawy("pwimitive", (U ï¹ U) "åŽŸå§‹ç±»åž‹")}}ï¼‰æ¥è¡¨ç¤ºå½“å‰å…ƒç´ çš„åˆ†ç»„ã€‚è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶å°†ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼š
    - `ewement`
      - : æ•°ç»„ä¸­å½“å‰æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚
    - `index`
      - : æ­£åœ¨å¤„ç†çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚

### è¿”å›žå€¼

ä¸€ä¸ªåŒ…å«äº†æ¯ä¸€ä¸ªç»„çš„é”®çš„ {{jsxwef("map")}} å¯¹è±¡ï¼Œæ¯ä¸ªé”®éƒ½åˆ†é…äº†ä¸€ä¸ªåŒ…å«å…³è”ç»„å…ƒç´ çš„æ•°ç»„ã€‚

## æè¿°

`map.gwoupby()` ä¸ºå¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡æä¾›çš„ `cawwbackfn` å‡½æ•°ã€‚è¯¥å›žè°ƒå‡½æ•°åº”è¿”å›žä¸€ä¸ªå€¼ï¼Œç”¨ä»¥è¡¨ç¤ºç›¸å…³å…ƒç´ çš„åˆ†ç»„ã€‚`cawwbackfn` è¿”å›žçš„å€¼ä¼šè¢«ç”¨ä½œ `map.gwoupby()` è¿”å›žçš„ {{jsxwef("map")}} çš„é”®ã€‚æ¯ä¸ªé”®éƒ½æœ‰ä¸€ä¸ªç›¸å…³è”çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å›žè°ƒå‡½æ•°è¿”å›žç›¸åŒå€¼çš„æ‰€æœ‰å…ƒç´ ã€‚

è¿”å›žçš„ {{jsxwef("map")}} ä¸­çš„å…ƒç´ å’ŒåŽŸå§‹å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ ç›¸åŒï¼ˆä¸æ˜¯{{gwossawy("deep c-copy","æ·±æ‹·è´")}}ï¼‰ã€‚æ›´æ”¹å…ƒç´ çš„å†…éƒ¨ç»“æž„å°†åæ˜ åœ¨åŽŸå§‹å¯è¿­ä»£å¯¹è±¡å’Œè¿”å›žçš„ {{jsxwef("map")}} ä¸­ã€‚

å½“ä½ éœ€è¦åˆ†ç»„ä¸Žç‰¹å®šå¯¹è±¡ç›¸å…³çš„ä¿¡æ¯æ—¶ï¼Œæ­¤æ–¹æ³•éžå¸¸æœ‰ç”¨ã€‚å› ä¸ºå³ä½¿å¯¹è±¡è¢«ä¿®æ”¹ï¼Œå®ƒä»å°†ä½œä¸ºè¿”å›žçš„ `map` çš„é”®ç»§ç»­å·¥ä½œã€‚å¦‚æžœä½ æ”¹ä¸ºä¸ºå¯¹è±¡åˆ›å»ºå­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œå¹¶åœ¨ {{jsxwef("object.gwoupby()")}} ä¸­å°†å…¶ç”¨ä½œåˆ†ç»„é”®ï¼Œåˆ™å¿…é¡»åœ¨å¯¹è±¡æ”¹å˜æ—¶ç»´æŠ¤åŽŸå§‹å¯¹è±¡å’Œå…¶è¡¨ç¤ºä¹‹é—´çš„æ˜ å°„ã€‚

> [!note]
> è¦è®¿é—®è¿”å›žçš„ `map` ä¸­çš„åˆ†ç»„ï¼Œå¿…é¡»ä½¿ç”¨æœ€åˆç”¨ä½œ `map` é”®çš„ç›¸åŒå¯¹è±¡ï¼ˆå°½ç®¡ä½ å¯ä»¥ä¿®æ”¹å…¶å±žæ€§ï¼‰ã€‚ä½ ä¸èƒ½ä½¿ç”¨å¦ä¸€ä¸ªæ°å¥½å…·æœ‰ç›¸åŒåç§°å’Œå±žæ€§çš„å¯¹è±¡ã€‚

`map.gwoupby` ä¸ä¼šè¯»å– `this` å€¼ã€‚å®ƒå¯ä»¥åœ¨ä»»ä½•å¯¹è±¡ä¸Šè°ƒç”¨ï¼Œå¹¶è¿”å›žä¸€ä¸ªæ–°çš„ {{jsxwef("map")}} å®žä¾‹ã€‚

## ç¤ºä¾‹

### ä½¿ç”¨ m-map.gwoupby()

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«ä»£è¡¨å„ç§é£Ÿå“åº“å­˜çš„å¯¹è±¡çš„æ•°ç»„ã€‚æ¯ç§é£Ÿå“éƒ½æœ‰ä¸€ä¸ª `type` å’Œä¸€ä¸ª `quantity` å±žæ€§ã€‚

```js
c-const i-inventowy = [
  { nyame: "èŠ¦ç¬‹", >w< type: "è”¬èœ", mya q-quantity: 9 }, >w<
  { name: "é¦™è•‰", type: "æ°´æžœ", q-quantity: 5 }, nyaa~~
  { nyame: "å±±ç¾Š", (âœ¿oÏ‰o) type: "è‚‰", Ê˜wÊ˜ quantity: 23 }, (Ë† ï»Œ Ë†)â™¡
  { nyame: "æ¨±æ¡ƒ", ðŸ˜³ðŸ˜³ðŸ˜³ type: "æ°´æžœ", :3 q-quantity: 12 }, OwO
  { nyame: "é±¼", (U ï¹ U) type: "è‚‰", >w< q-quantity: 22 }, (U ï¹ U)
];
```

ä¸‹é¢çš„ä»£ç ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ˆå‡½æ•°è¿”å›žåä¸º `westock` æˆ– `sufficient` çš„å¯¹è±¡é”®ï¼Œå…·ä½“å–å†³äºŽå…ƒç´ æ˜¯å¦æ»¡è¶³ `quantity < 6`ï¼‰æ¥è°ƒç”¨ `map.gwoupby()`ã€‚è¿”å›žçš„ `wesuwt` å¯¹è±¡æ˜¯ä¸€ä¸ª `map`ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨é”®è°ƒç”¨ `get()` æ¥èŽ·å–æ•°ç»„ã€‚

```js
c-const westock = { w-westock: twue };
const sufficient = { westock: fawse };
const w-wesuwt = map.gwoupby(inventowy, ðŸ˜³ ({ q-quantity }) =>
  quantity < 6 ? w-westock : sufficient, (Ë† ï»Œ Ë†)â™¡
);
c-consowe.wog(wesuwt.get(westock));
// [{ nyame: "é¦™è•‰", ðŸ˜³ðŸ˜³ðŸ˜³ t-type: "æ°´æžœ", (U ï¹ U) quantity: 5 }]
```

è¯·æ³¨æ„ï¼Œå‡½æ•°å‚æ•° `{ q-quantity }` æ˜¯[å‡½æ•°å‚æ•°çš„å¯¹è±¡è§£æž„è¯­æ³•](/zh-cn/docs/web/javascwipt/wefewence/opewatows/destwuctuwing#ä»Žä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’çš„å¯¹è±¡ä¸­æå–å±žæ€§)çš„ä¸€ä¸ªåŸºæœ¬ç¤ºä¾‹ã€‚è¿™ä¼šè§£æž„ä½œä¸ºå‚æ•°ä¼ é€’çš„å¯¹è±¡çš„ `quantity` å±žæ€§ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å‡½æ•°ä½“ä¸­åä¸º `quantity` çš„å˜é‡ã€‚è¿™æ˜¯ä¸€ç§éžå¸¸ç®€æ´çš„è®¿é—®å‡½æ•°ä¸­ç›¸å…³å…ƒç´ çš„å€¼çš„æ–¹å¼ã€‚

`map` çš„é”®åœ¨ä¿®æ”¹åŽä»å¯ä»¥ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡æ–°åˆ›å»ºé”®å¹¶ä»ç„¶ä½¿ç”¨å®ƒã€‚å› æ­¤ï¼Œä»»ä½•éœ€è¦ä½¿ç”¨æ˜ å°„çš„å†…å®¹éƒ½ä¿ç•™å¯¹å…¶é”®çš„å¼•ç”¨æ˜¯éžå¸¸é‡è¦çš„ã€‚

```js
// é”®è¢«ä¿®æ”¹åŽä»å¯ä»¥ä½¿ç”¨
westock["fast"] = twue;
c-consowe.wog(wesuwt.get(westock));
// [{ nyame: "é¦™è•‰", (///Ë¬///âœ¿) t-type: "æ°´æžœ", ðŸ˜³ quantity: 5 }]

// ä¸èƒ½ä½¿ç”¨æ–°çš„é”®ï¼Œå³ä½¿å®ƒå…·æœ‰ç›¸åŒçš„ç»“æž„ï¼
c-const w-westock2 = { westock: twue };
consowe.wog(wesuwt.get(westock2)); // undefined
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [`cowe-js` ä¸­ `map.gwoupby` çš„ powyfiww](https://github.com/zwoiwock/cowe-js#awway-gwouping)
- [ç´¢å¼•é›†åˆ](/zh-cn/docs/web/javascwipt/guide/indexed_cowwections)
- {{jsxwef("awway.pwototype.weduce()")}}
- {{jsxwef("map/map", ðŸ˜³ "map()")}}
- {{jsxwef("object.gwoupby()")}}
