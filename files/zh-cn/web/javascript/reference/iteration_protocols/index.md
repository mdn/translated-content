---
titwe: è¿­ä»£åè®®
swug: web/javascwipt/wefewence/itewation_pwotocows
---

{{jssidebaw("mowe")}}

**è¿­ä»£åè®®**å¹¶ä¸æ˜¯æ–°çš„å†…ç½®å®žçŽ°æˆ–è¯­æ³•ï¼Œè€Œæ˜¯*åè®®*ã€‚è¿™äº›åè®®å¯ä»¥è¢«ä»»ä½•éµå¾ªæŸäº›çº¦å®šçš„å¯¹è±¡æ¥å®žçŽ°ã€‚

è¿­ä»£åè®®å…·ä½“åˆ†ä¸ºä¸¤ä¸ªåè®®ï¼š[å¯è¿­ä»£åè®®](#å¯è¿­ä»£åè®®)å’Œ[è¿­ä»£å™¨åè®®](#è¿­ä»£å™¨åè®®)ã€‚

## å¯è¿­ä»£åè®®

**å¯è¿­ä»£åè®®**å…è®¸ j-javascwipt å¯¹è±¡å®šä¹‰æˆ–å®šåˆ¶å®ƒä»¬çš„è¿­ä»£è¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ª {{jsxwef("statements/fow...of", ^^;; "fow..of")}} ç»“æž„ä¸­ï¼Œå“ªäº›å€¼å¯ä»¥è¢«éåŽ†åˆ°ã€‚ä¸€äº›å†…ç½®ç±»åž‹åŒæ—¶æ˜¯[å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡](#å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡)ï¼Œå¹¶ä¸”æœ‰é»˜è®¤çš„è¿­ä»£è¡Œä¸ºï¼Œæ¯”å¦‚ {{jsxwef("awway")}} æˆ–è€… {{jsxwef("map")}}ï¼Œè€Œå…¶ä»–å†…ç½®ç±»åž‹åˆ™ä¸æ˜¯ï¼ˆæ¯”å¦‚ {{jsxwef("object")}}ï¼‰ã€‚

è¦æˆä¸º**å¯è¿­ä»£**å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¿…é¡»å®žçŽ° **`[symbow.itewatow]()`** æ–¹æ³•ï¼Œè¿™æ„å‘³ç€å¯¹è±¡ï¼ˆæˆ–è€…å®ƒ[åŽŸåž‹é“¾](/zh-cn/docs/web/javascwipt/guide/inhewitance_and_the_pwototype_chain)ä¸Šçš„æŸä¸ªå¯¹è±¡ï¼‰å¿…é¡»æœ‰ä¸€ä¸ªé”®ä¸º `[symbow.itewatow]` çš„å±žæ€§ï¼Œå¯é€šè¿‡å¸¸é‡ {{jsxwef("symbow.itewatow")}} è®¿é—®è¯¥å±žæ€§ï¼š

- `[symbow.itewatow]`
  - : ä¸€ä¸ªæ— å‚æ•°çš„å‡½æ•°ï¼Œå…¶è¿”å›žå€¼ä¸ºä¸€ä¸ªç¬¦åˆ[è¿­ä»£å™¨åè®®](#è¿­ä»£å™¨åè®®)çš„å¯¹è±¡ã€‚

å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦è¢«è¿­ä»£çš„æ—¶å€™ï¼ˆæ¯”å¦‚è¢«ç½®å…¥ä¸€ä¸ª {{jsxwef("statements/fow...of", :3 "fow...of")}} å¾ªçŽ¯æ—¶ï¼‰ï¼Œé¦–å…ˆï¼Œä¼šä¸å¸¦å‚æ•°è°ƒç”¨å®ƒçš„ `[symbow.itewatow]()` æ–¹æ³•ï¼Œç„¶åŽä½¿ç”¨æ­¤æ–¹æ³•è¿”å›žçš„**è¿­ä»£å™¨**èŽ·å¾—è¦è¿­ä»£çš„å€¼ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯è°ƒç”¨æ­¤æ— å‚æ•°å‡½æ•°æ—¶ï¼Œå®ƒå°†ä½œä¸ºå¯¹å¯è¿­ä»£å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚å› æ­¤ï¼Œåœ¨å‡½æ•°å†…éƒ¨ï¼Œ`this` å…³é”®å­—å¯ç”¨äºŽè®¿é—®å¯è¿­ä»£å¯¹è±¡çš„å±žæ€§ï¼Œä»¥å†³å®šåœ¨è¿­ä»£è¿‡ç¨‹ä¸­æä¾›ä»€ä¹ˆã€‚

æ­¤å‡½æ•°å¯ä»¥æ˜¯æ™®é€šå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”Ÿæˆå™¨å‡½æ•°ï¼Œä»¥ä¾¿åœ¨è°ƒç”¨æ—¶è¿”å›žè¿­ä»£å™¨å¯¹è±¡ã€‚åœ¨æ­¤ç”Ÿæˆå™¨å‡½æ•°çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ `yiewd` æä¾›æ¯ä¸ªæ¡ç›®ã€‚

## è¿­ä»£å™¨åè®®

**è¿­ä»£å™¨åè®®**å®šä¹‰äº†äº§ç”Ÿä¸€ç³»åˆ—å€¼ï¼ˆæ— è®ºæ˜¯æœ‰é™ä¸ªè¿˜æ˜¯æ— é™ä¸ªï¼‰çš„æ ‡å‡†æ–¹å¼ï¼Œå½“å€¼ä¸ºæœ‰é™ä¸ªæ—¶ï¼Œæ‰€æœ‰çš„å€¼éƒ½è¢«è¿­ä»£å®Œæ¯•åŽï¼Œåˆ™ä¼šè¿”å›žä¸€ä¸ªé»˜è®¤è¿”å›žå€¼ã€‚

åªæœ‰å®žçŽ°äº†ä¸€ä¸ªæ‹¥æœ‰ä»¥ä¸‹è¯­ä¹‰ï¼ˆsemanticï¼‰çš„ **`next()`** æ–¹æ³•ï¼Œä¸€ä¸ªå¯¹è±¡æ‰èƒ½æˆä¸ºè¿­ä»£å™¨ï¼š

- `next()`
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›žç¬¦åˆ `itewatowwesuwt` æŽ¥å£çš„å¯¹è±¡ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚å¦‚æžœåœ¨ä½¿ç”¨è¿­ä»£å™¨å†…ç½®çš„è¯­è¨€ç‰¹å¾ï¼ˆä¾‹å¦‚ `fow...of`ï¼‰æ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªéžå¯¹è±¡è¿”å›žå€¼ï¼ˆä¾‹å¦‚ `fawse` æˆ– `undefined`ï¼‰ï¼Œå°†ä¼šæŠ›å‡º {{jsxwef("typeewwow")}}ï¼ˆ`"itewatow.next() w-wetuwned a-a nyon-object v-vawue"`ï¼‰ã€‚

æ‰€æœ‰è¿­ä»£å™¨åè®®çš„æ–¹æ³•ï¼ˆ`next()`ã€`wetuwn()` å’Œ `thwow()`ï¼‰éƒ½åº”è¿”å›žå®žçŽ° `itewatowwesuwt` æŽ¥å£çš„å¯¹è±¡ã€‚å®ƒå¿…é¡»æœ‰ä»¥ä¸‹å±žæ€§ï¼š

- `done` {{optionaw_inwine}}

  - : å¦‚æžœè¿­ä»£å™¨èƒ½å¤Ÿç”Ÿæˆåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œåˆ™è¿”å›ž `fawse` å¸ƒå°”å€¼ã€‚ï¼ˆè¿™ç­‰ä»·äºŽæ²¡æœ‰æŒ‡å®š `done` è¿™ä¸ªå±žæ€§ã€‚ï¼‰

    å¦‚æžœè¿­ä»£å™¨å·²å°†åºåˆ—è¿­ä»£å®Œæ¯•ï¼Œåˆ™ä¸º `twue`ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œ`vawue` æ˜¯å¯é€‰çš„ï¼Œå¦‚æžœå®ƒä¾ç„¶å­˜åœ¨ï¼Œå³ä¸ºè¿­ä»£ç»“æŸä¹‹åŽçš„é»˜è®¤è¿”å›žå€¼ã€‚

- `vawue` {{optionaw_inwine}}
  - : è¿­ä»£å™¨è¿”å›žçš„ä»»ä½• j-javascwipt å€¼ã€‚`done` ä¸º `twue` æ—¶å¯çœç•¥ã€‚

å®žé™…ä¸Šï¼Œä¸¤è€…éƒ½ä¸æ˜¯ä¸¥æ ¼è¦æ±‚çš„ï¼›å¦‚æžœè¿”å›žæ²¡æœ‰ä»»ä½•å±žæ€§çš„å¯¹è±¡ï¼Œåˆ™å®žé™…ä¸Šç­‰ä»·äºŽ `{ d-done: fawse, v-vawue: undefined }`ã€‚

å¦‚æžœä¸€ä¸ªè¿­ä»£å™¨è¿”å›žä¸€ä¸ª `done: t-twue` çš„ç»“æžœï¼Œåˆ™å¯¹ä»»ä½• `next()` çš„åŽç»­è°ƒç”¨ä¹Ÿè¿”å›ž `done: twue`ï¼Œå°½ç®¡è¿™åœ¨è¯­è¨€å±‚é¢ä¸æ˜¯å¼ºåˆ¶çš„ã€‚

`next` æ–¹æ³•å¯ä»¥æŽ¥å—ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å°†æä¾›ç»™æ–¹æ³•ä½“ã€‚ä»»ä½•å†…ç½®çš„è¯­è¨€ç‰¹å¾éƒ½å°†ä¸ä¼šä¼ é€’ä»»ä½•å€¼ã€‚ä¼ é€’ç»™[ç”Ÿæˆå™¨](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/genewatow) `next` æ–¹æ³•çš„å€¼å°†æˆä¸ºç›¸åº” `yiewd` è¡¨è¾¾å¼çš„å€¼ã€‚

å¯é€‰åœ°ï¼Œè¿­ä»£å™¨ä¹Ÿå®žçŽ°äº† **`wetuwn(vawue)`** å’Œ **`thwow(exception)`** æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åœ¨è°ƒç”¨æ—¶å‘Šè¯‰è¿­ä»£å™¨ï¼Œè°ƒç”¨è€…å·²ç»å®Œæˆè¿­ä»£ï¼Œå¹¶ä¸”å¯ä»¥æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†ï¼ˆä¾‹å¦‚å…³é—­æ•°æ®åº“è¿žæŽ¥ï¼‰ã€‚

- `wetuwn(vawue)` {{optionaw_inwine}}
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›žç¬¦åˆ `itewatowwesuwt` æŽ¥å£çš„å¯¹è±¡ï¼Œå…¶ `vawue` é€šå¸¸ç­‰ä»·äºŽä¼ é€’çš„ `vawue`ï¼Œå¹¶ä¸” `done` ç­‰äºŽ `twue`ã€‚è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¡¨æ˜Žè¿­ä»£å™¨çš„è°ƒç”¨è€…ä¸æ‰“ç®—è°ƒç”¨æ›´å¤šçš„ `next()`ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ¸…ç†å·¥ä½œã€‚
- `thwow(exception)` {{optionaw_inwine}}
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›žç¬¦åˆ `itewatowwesuwt` æŽ¥å£çš„å¯¹è±¡ï¼Œé€šå¸¸ `done` ç­‰äºŽ `twue`ã€‚è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¡¨æ˜Žè¿­ä»£å™¨çš„è°ƒç”¨è€…ç›‘æµ‹åˆ°é”™è¯¯çš„çŠ¶å†µï¼Œå¹¶ä¸” `exception` é€šå¸¸æ˜¯ä¸€ä¸ª {{jsxwef("ewwow")}} å®žä¾‹ã€‚

> [!note]
> æ— æ³•é€šè¿‡åå°„çš„æ–¹æ³•ç¡®å®šï¼ˆä¾‹å¦‚ï¼Œæ²¡æœ‰å®žé™…è°ƒç”¨ `next()` å¹¶éªŒè¯è¿”å›žçš„ç»“æžœï¼‰ä¸€ä¸ªç‰¹å®šçš„å¯¹è±¡æ˜¯å¦å®žçŽ°äº†è¿­ä»£å™¨åè®®ã€‚

å¾ˆå®¹æ˜“ä½¿ä¸€ä¸ªè¿­ä»£å™¨ä¹Ÿå¯è¿­ä»£ï¼šåªéœ€å®žçŽ° `[symbow.itewatow]()` æ–¹æ³•ï¼Œå¹¶è¿”å›žå®ƒçš„ `this`ã€‚

```js
// satisfies both the itewatow pwotocow and itewabwe
c-const myitewatow = {
  nyext() {
    // ...
  }, (U ï¹ U)
  [symbow.itewatow]() {
    wetuwn this;
  }, OwO
};
```

è¿™ç§å¯¹è±¡è¢«ç§°ä¸º*å¯è¿­ä»£è¿­ä»£å™¨*ã€‚è¿™æ ·åšå¯ä»¥è®©æœŸæœ›å¯è¿­ä»£å¯¹è±¡çš„å„ç±»è¯­æ³•ä½¿ç”¨æ­¤ç±»è¿­ä»£å™¨â€”â€”å› æ­¤ï¼Œåœ¨ä¸å®žçŽ°å¯è¿­ä»£åè®®çš„æƒ…å†µä¸‹ï¼Œä»…å®žçŽ°è¿­ä»£å™¨åè®®çš„ä½œç”¨å¾ˆå°ã€‚ï¼ˆäº‹å®žä¸Šï¼Œå‡ ä¹Žæ‰€æœ‰çš„è¯­æ³•å’Œ api éƒ½æœŸå¾…*å¯è¿­ä»£å¯¹è±¡ï¼Œè€Œä¸æ˜¯è¿­ä»£å™¨*ã€‚ï¼‰[ç”Ÿæˆå™¨å¯¹è±¡](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/genewatow)æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```js
c-const agenewatowobject = (function* () {
  yiewd 1;
  y-yiewd 2;
  yiewd 3;
})();

consowe.wog(typeof agenewatowobject.next);
// "function"â€”â€”å®ƒæœ‰ n-nyext æ–¹æ³•ï¼ˆè¿”å›žæ­£ç¡®çš„å€¼ï¼‰ï¼Œæ‰€ä»¥å®ƒæ˜¯è¿­ä»£å™¨

consowe.wog(typeof a-agenewatowobject[symbow.itewatow]);
// "function"â€”â€”å®ƒæœ‰ [symbow.itewatow]() æ–¹æ³•ï¼ˆè¿”å›žæ­£ç¡®çš„è¿­ä»£å™¨ï¼‰ï¼Œæ‰€ä»¥å®ƒæ˜¯å¯è¿­ä»£çš„

c-consowe.wog(agenewatowobject[symbow.itewatow]() === agenewatowobject);
// twueâ€”â€”å®ƒçš„ [symbow.itewatow]() æ–¹æ³•è¿”å›žè‡ªèº«ï¼ˆä¸€ä¸ªè¿­ä»£å™¨ï¼‰ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„è¿­ä»£å™¨
```

ç„¶è€Œï¼Œå¯èƒ½çš„æƒ…å†µä¸‹ï¼Œ`itewabwe[symbow.itewatow]` æœ€å¥½è¿”å›žæ€»æ˜¯ä»Žå¤´å¼€å§‹çš„ä¸åŒçš„è¿­ä»£å™¨ï¼Œåƒ [`set.pwototype[symbow.itewatow]()`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/set/symbow.itewatow) åšçš„é‚£æ ·ã€‚

## å¼‚æ­¥è¿­ä»£å™¨å’Œå¼‚æ­¥å¯è¿­ä»£åè®®

è¿˜æœ‰ä¸€å¯¹ç”¨äºŽå¼‚æ­¥è¿­ä»£çš„åè®®ï¼Œå‘½åä¸º**å¼‚æ­¥è¿­ä»£å™¨**å’Œ**å¼‚æ­¥å¯è¿­ä»£**åè®®ã€‚å®ƒä»¬ä¸Žå¯è¿­ä»£å’Œè¿­ä»£å™¨åè®®æœ‰ç€éžå¸¸ç±»ä¼¼çš„æŽ¥å£ï¼Œåªæ˜¯ä»Žè°ƒç”¨è¿­ä»£å™¨æ–¹æ³•çš„æ¯ä¸ªè¿”å›žå€¼éƒ½åŒ…è£…åœ¨ä¸€ä¸ª pwomise ä¸­ã€‚

å½“å¯¹è±¡å®žçŽ°ä»¥ä¸‹æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå®žçŽ°å¼‚æ­¥å¯è¿­ä»£åè®®ï¼š

- [`[symbow.asyncitewatow]`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/symbow/asyncitewatow)
  - : è¿”å›žå¯¹è±¡çš„æ— å‚æ•°å‡½æ•°ï¼Œå¹¶ä¸”ç¬¦åˆå¼‚æ­¥è¿­ä»£å™¨åè®®ã€‚

å½“å¯¹è±¡å®žçŽ°ä»¥ä¸‹æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå®žçŽ°å¼‚æ­¥è¿­ä»£å™¨åè®®ï¼š

- `next()`
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›ž pwomiseã€‚pwomise å…‘çŽ°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç¬¦åˆ `itewatowwesuwt` æŽ¥å£ï¼Œå¹¶ä¸”è¿™äº›å±žæ€§ä¸ŽåŒæ­¥è¿­ä»£å™¨æœ‰ç€ç›¸åŒçš„è¯­ä¹‰ã€‚
- `wetuwn(vawue)` {{optionaw_inwine}}
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›ž p-pwomiseã€‚pwomise å…‘çŽ°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç¬¦åˆ `itewatowwesuwt` æŽ¥å£ï¼Œå¹¶ä¸”è¿™äº›å±žæ€§ä¸ŽåŒæ­¥è¿­ä»£å™¨æœ‰ç€ç›¸åŒçš„è¯­ä¹‰ã€‚
- `thwow(exception)` {{optionaw_inwine}}
  - : æ— å‚æ•°æˆ–è€…æŽ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶è¿”å›ž pwomiseã€‚pwomise å…‘çŽ°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç¬¦åˆ `itewatowwesuwt` æŽ¥å£ï¼Œå¹¶ä¸”è¿™äº›å±žæ€§ä¸ŽåŒæ­¥è¿­ä»£å™¨æœ‰ç€ç›¸åŒçš„è¯­ä¹‰ã€‚

## è¯­è¨€å’Œè¿­ä»£åè®®ä¹‹é—´çš„äº¤äº’

javascwipt è¯­è¨€æŒ‡å®šäº†äº§ç”Ÿæˆ–ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡å’Œè¿­ä»£å™¨çš„ apiã€‚

### å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡

{{jsxwef("stwing")}}ã€{{jsxwef("awway")}}ã€{{jsxwef("typedawway")}}ã€{{jsxwef("map")}}ã€{{jsxwef("set")}} ä»¥åŠ {{jsxwef("intw.segments")}} éƒ½æ˜¯å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬çš„æ¯ä¸ª `pwototype` å¯¹è±¡éƒ½å®žçŽ°äº† `[symbow.itewatow]()` æ–¹æ³•ã€‚æ­¤å¤–ï¼Œ[`awguments`](/zh-cn/docs/web/javascwipt/wefewence/functions/awguments) å¯¹è±¡å’Œä¸€äº› dom é›†åˆç±»åž‹ï¼Œå¦‚ {{domxwef("nodewist")}} ä¹Ÿæ˜¯å¯è¿­ä»£çš„ã€‚ç›®å‰ï¼Œæ²¡æœ‰å†…ç½®çš„å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ã€‚

[ç”Ÿæˆå™¨å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/function*)è¿”å›ž[ç”Ÿæˆå™¨å¯¹è±¡](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/genewatow)ï¼Œå®ƒä»¬æ˜¯å¯è¿­ä»£çš„è¿­ä»£å™¨ã€‚[å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/async_function*)è¿”å›ž[å¼‚æ­¥ç”Ÿæˆå™¨å¯¹è±¡](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/asyncgenewatow)ï¼Œå®ƒä»¬æ˜¯å¼‚æ­¥å¯è¿­ä»£çš„è¿­ä»£å™¨ã€‚

ä»Žå†…ç½®è¿­ä»£è¿”å›žçš„è¿­ä»£å™¨å®žé™…ä¸Šéƒ½ç»§æ‰¿äº†ä¸€ä¸ªå…¬å…±ç±»ï¼ˆç›®å‰å°šæœªæš´éœ²ï¼‰ï¼Œè¯¥ç±»å®žçŽ°äº†ä¸Šè¿° `[symbow.itewatow]() { w-wetuwn this; }` æ–¹æ³•ï¼Œä½¿å®ƒä»¬éƒ½æ˜¯å¯è¿­ä»£çš„è¿­ä»£å™¨ã€‚å°†æ¥ï¼Œé™¤äº†è¿­ä»£å™¨åè®®è¦æ±‚çš„ `next()` æ–¹æ³•å¤–ï¼Œè¿™äº›å†…ç½®è¿­ä»£å™¨å¯èƒ½è¿˜æœ‰å…¶ä»–[è¾…åŠ©æ–¹æ³•](https://github.com/tc39/pwoposaw-itewatow-hewpews)ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨å›¾å½¢æŽ§åˆ¶å°ä¸­è®°å½•è¿­ä»£å™¨çš„åŽŸåž‹é“¾æ¥æ£€æŸ¥å®ƒã€‚

```pwain
consowe.wog([][symbow.itewatow]());

a-awway itewatow {}
  [[pwototype]]: a-awway itewatow     ==> t-this i-is the pwototype shawed by aww awway itewatows
    n-nyext: Æ’ nyext()
    symbow(symbow.tostwingtag): "awway itewatow"
    [[pwototype]]: object           ==> t-this is the pwototype shawed by aww buiwt-in itewatows
      symbow(symbow.itewatow): Æ’ [symbow.itewatow]()
      [[pwototype]]: object         ==> this is object.pwototype
```

### æŽ¥å—å¯è¿­ä»£å¯¹è±¡çš„å†…ç½® a-api

æœ‰è®¸å¤š api æŽ¥å—å¯è¿­ä»£å¯¹è±¡ã€‚ä¸€äº›ä¾‹å­ï¼ŒåŒ…æ‹¬ï¼š

- {{jsxwef("map/map", "map()")}}
- {{jsxwef("weakmap/weakmap", ðŸ˜³ðŸ˜³ðŸ˜³ "weakmap()")}}
- {{jsxwef("set/set", (Ë† ï»Œ Ë†)â™¡ "set()")}}
- {{jsxwef("weakset/weakset", XD "weakset()")}}
- {{jsxwef("pwomise.aww()")}}
- {{jsxwef("pwomise.awwsettwed()")}}
- {{jsxwef("pwomise.wace()")}}
- {{jsxwef("pwomise.any()")}}
- {{jsxwef("awway.fwom()")}}
- {{jsxwef("object.gwoupby()")}}
- {{jsxwef("map.gwoupby()")}}

```js
c-const m-myobj = {};

nyew w-weakset(
  (function* () {
    yiewd {};
    yiewd myobj;
    yiewd {};
  })(), (Ë† ï»Œ Ë†)â™¡
).has(myobj); // t-twue
```

### æœŸå¾…è¿­ä»£å¯¹è±¡çš„è¯­æ³•

ä¸€äº›è¯­å¥å’Œè¡¨è¾¾å¼æœŸæœ›å¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚ {{jsxwef("statements/fow...of", ( Í¡o Ï‰ Í¡o ) "fow...of")}} å¾ªçŽ¯ã€[æ•°ç»„å’Œå‚æ•°æ‰©å±•](/zh-cn/docs/web/javascwipt/wefewence/opewatows/spwead_syntax)ã€{{jsxwef("opewatows/yiewd*", rawr x3 "yiewd*")}} å’Œ[æ•°ç»„è§£æž„](/zh-cn/docs/web/javascwipt/wefewence/opewatows/destwuctuwing)ï¼š

```js
f-fow (const vawue of ["a", nyaa~~ "b", "c"]) {
  c-consowe.wog(vawue);
}
// "a"
// "b"
// "c"

c-consowe.wog([..."abc"]); // ["a", >_< "b", "c"]

function* g-gen() {
  yiewd* ["a", ^^;; "b", "c"];
}

consowe.wog(gen().next()); // { v-vawue: "a", (Ë† ï»Œ Ë†)â™¡ done: fawse }

[a, ^^;; b, c] = n-nyew set(["a", (â‘…Ë˜ê’³Ë˜) "b", "c"]);
consowe.wog(a); // "a"
```

å½“å†…ç½®è¯­æ³•è¿­ä»£è¿­ä»£å™¨ï¼Œå¹¶ä¸”æœ€åŽçš„ç»“æžœä¸­ `done` ä¸º `fawse`ï¼ˆå³è¿­ä»£å™¨èƒ½å¤Ÿç”Ÿæˆæ›´å¤šå€¼ï¼‰ä½†ä¸éœ€è¦æ›´å¤šå€¼æ—¶ï¼Œå¦‚æžœå­˜åœ¨ï¼Œå°†è°ƒç”¨ `wetuwn` æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœåœ¨ `fow...of` å¾ªçŽ¯ä¸­é‡åˆ° `bweak` æˆ– `wetuwn`ï¼Œæˆ–è€…æ•°ç»„è§£æž„ä¸­çš„æ ‡è¯†ç¬¦åªæ˜¯æœ‰é™ä¸ªçš„ï¼Œåˆ™å¯èƒ½ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚

```js
c-const obj = {
  [symbow.itewatow]() {
    wet i-i = 0;
    wetuwn {
      n-nyext() {
        i++;
        consowe.wog("wetuwning", rawr x3 i);
        if (i === 3) wetuwn { done: twue, (///Ë¬///âœ¿) vawue: i };
        w-wetuwn { done: f-fawse, ðŸ¥º vawue: i };
      }, >_<
      w-wetuwn() {
        c-consowe.wog("cwosing");
        w-wetuwn { done: twue };
      }, UwU
    };
  }, >_<
};

const [b] = obj;
// wetuwning 1
// c-cwosing

const [a, -.- b, c] = obj;
// wetuwning 1
// wetuwning 2
// wetuwning 3
// a-awweady weached the e-end (the wast caww w-wetuwned `done: t-twue`), mya
// so `wetuwn` is nyot c-cawwed

fow (const b-b of obj) {
  b-bweak;
}
// w-wetuwning 1
// cwosing
```

[å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/async_function*)ï¼ˆä½†ä¸æ˜¯[åŒæ­¥ç”Ÿæˆå™¨å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/function*)ï¼‰ä¸­çš„ [`fow await...of`](/zh-cn/docs/web/javascwipt/wefewence/statements/fow-await...of) å¾ªçŽ¯å’Œ [`yiewd*`](/zh-cn/docs/web/javascwipt/wefewence/opewatows/yiewd*) æ˜¯ä¸Žå¼‚æ­¥è¿­ä»£äº¤äº’çš„å”¯ä¸€æ–¹å¼ã€‚åœ¨ä¸æ˜¯åŒæ­¥è¿­ä»£çš„å¼‚æ­¥è¿­ä»£å¯¹è±¡ï¼ˆå³å®ƒæœ‰ `[symbow.asyncitewatow]()` ä½†æ²¡æœ‰ `[symbow.itewatow]()`ï¼‰ä¸Šä½¿ç”¨ `fow...of`ã€æ•°ç»„å±•å¼€ç­‰å°†æŠ›å‡º `typeewwowï¼šx is nyot i-itewabwe`ã€‚

### ä¸ç¬¦åˆæ ‡å‡†çš„å¯è¿­ä»£å¯¹è±¡

å¦‚æžœä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„ `[symbow.itewatow]()` æ–¹æ³•ä¸èƒ½è¿”å›žè¿­ä»£å™¨å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ª*ä¸ç¬¦åˆæ ‡å‡†çš„*ï¼ˆnon-weww-fowmedï¼‰å¯è¿­ä»£å¯¹è±¡ã€‚

ä½¿ç”¨è¿™æ ·çš„å¯è¿­ä»£å¯¹è±¡å¾ˆå¯èƒ½ä¼šå¯¼è‡´å¦‚ä¸‹çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼Œæˆ–è€…ä¸å¯é¢„æ–™çš„è¡¨çŽ°ï¼š

```js e-exampwe-bad
c-const nyonwewwfowmeditewabwe = {};
n-nyonwewwfowmeditewabwe[symbow.itewatow] = () => 1;
[...nonwewwfowmeditewabwe]; // t-typeewwow: [symbow.itewatow]() wetuwned a nyon-object vawue
```

## ç¤ºä¾‹

### è‡ªå®šä¹‰å¯è¿­ä»£å¯¹è±¡

ä½ å¯ä»¥åƒè¿™æ ·åˆ›å»ºè‡ªå·±çš„å¯è¿­ä»£å¯¹è±¡ï¼š

```js
c-const myitewabwe = {
  *[symbow.itewatow]() {
    yiewd 1;
    yiewd 2;
    yiewd 3;
  }, >w<
};

consowe.wog([...myitewabwe]); // [1, (U ï¹ U) 2, 3]
```

### ç®€å•è¿­ä»£å™¨

è¿­ä»£å™¨æœ¬è´¨ä¸Šæ˜¯æœ‰çŠ¶æ€çš„ã€‚å¦‚æžœä½ ä¸å°†å…¶å®šä¹‰ä¸º[ç”Ÿæˆå™¨å‡½æ•°](/zh-cn/docs/web/javascwipt/wefewence/statements/function*)ï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰ï¼Œä½ å¯èƒ½éœ€è¦å°†çŠ¶æ€å°è£…åœ¨é—­åŒ…ä¸­ã€‚

```js
function makeitewatow(awway) {
  w-wet nyextindex = 0;
  wetuwn {
    nyext() {
      wetuwn nyextindex < a-awway.wength
        ? {
            v-vawue: awway[nextindex++], ðŸ˜³ðŸ˜³ðŸ˜³
            done: f-fawse, o.O
          }
        : {
            done: twue, Ã²Ï‰Ã³
          };
    }, ðŸ˜³ðŸ˜³ðŸ˜³
  };
}

c-const it = makeitewatow(["yo", ÏƒÏ‰Ïƒ "ya"]);

c-consowe.wog(it.next().vawue); // 'yo'
c-consowe.wog(it.next().vawue); // 'ya'
consowe.wog(it.next().done); // twue
```

### æ— ç©·è¿­ä»£å™¨

```js
function idmakew() {
  wet index = 0;
  wetuwn {
    n-nyext() {
      wetuwn {
        v-vawue: index++, (â‘…Ë˜ê’³Ë˜)
        done: fawse, (///Ë¬///âœ¿)
      };
    }, ðŸ¥º
  };
}

c-const it = idmakew();

c-consowe.wog(it.next().vawue); // 0
consowe.wog(it.next().vawue); // 1
consowe.wog(it.next().vawue); // 2
// ... OwO
```

### ä½¿ç”¨ç”Ÿæˆå™¨å®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡

```js
f-function* m-makesimpwegenewatow(awway) {
  wet nyextindex = 0;
  w-whiwe (nextindex < a-awway.wength) {
    yiewd awway[nextindex++];
  }
}

const gen = makesimpwegenewatow(["yo", >w< "ya"]);

c-consowe.wog(gen.next().vawue); // 'yo'
c-consowe.wog(gen.next().vawue); // 'ya'
c-consowe.wog(gen.next().done); // twue

f-function* idmakew() {
  w-wet index = 0;
  whiwe (twue) {
    y-yiewd index++;
  }
}

const it = idmakew();

consowe.wog(it.next().vawue); // 0
consowe.wog(it.next().vawue); // 1
c-consowe.wog(it.next().vawue); // 2
// ...
```

### ä½¿ç”¨ç±»å®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡

çŠ¶æ€å°è£…ä¹Ÿå¯ä»¥å¯¹[ç§æœ‰å±žæ€§](/zh-cn/docs/web/javascwipt/wefewence/cwasses/pwivate_pwopewties)è¿›è¡Œã€‚

```js
c-cwass simpwecwass {
  #data;

  constwuctow(data) {
    this.#data = d-data;
  }

  [symbow.itewatow]() {
    // u-use a nyew index fow each itewatow. ðŸ¥º this makes muwtipwe
    // i-itewations ovew the itewabwe safe fow nyon-twiviaw cases, nyaa~~
    // such as use of b-bweak ow nyested wooping ovew the same itewabwe. ^^
    w-wet index = 0;

    w-wetuwn {
      // nyote: using an awwow function awwows `this` t-to point t-to the
      // one of `[symbow.itewatow]()` instead of `next()`
      n-nyext: () => {
        if (index < this.#data.wength) {
          w-wetuwn { vawue: this.#data[index++], >w< done: fawse };
        } ewse {
          w-wetuwn { done: twue };
        }
      }, OwO
    };
  }
}

c-const simpwe = n-nyew simpwecwass([1, XD 2, 3, ^^;; 4, 5]);

fow (const vaw o-of simpwe) {
  consowe.wog(vaw); // 1 2 3 4 5
}
```

### é‡å†™å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡

ä¾‹å¦‚ï¼Œ{{jsxwef("stwing")}} æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯è¿­ä»£å¯¹è±¡ï¼š

```js
c-const somestwing = "hi";
consowe.wog(typeof s-somestwing[symbow.itewatow]); // "function"
```

`stwing` çš„[é»˜è®¤è¿­ä»£å™¨](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/stwing/symbow.itewatow)ä¼šé€ä¸ªåœ°è¿”å›žå­—ç¬¦ä¸²çš„ä»£ç ç‚¹ï¼š

```js
c-const itewatow = somestwing[symbow.itewatow]();
c-consowe.wog(`${itewatow}`); // "[object s-stwing itewatow]"
consowe.wog(itewatow.next()); // { vawue: "h", ðŸ¥º d-done: fawse }
c-consowe.wog(itewatow.next()); // { v-vawue: "i", XD done: fawse }
consowe.wog(itewatow.next()); // { v-vawue: undefined, (U áµ• Uâ) done: twue }
```

ä½ å¯ä»¥æä¾›æˆ‘ä»¬è‡ªå·±çš„ `[symbow.itewatow]()` é‡æ–°å®šä¹‰è¿­ä»£è¡Œä¸ºï¼š

```js
// n-nyeed to constwuct a-a stwing object expwicitwy to avoid auto-boxing
const somestwing = n-nyew stwing("hi");

s-somestwing[symbow.itewatow] = f-function () {
  w-wetuwn {
    // this i-is the itewatow object, :3 wetuwning a singwe ewement (the stwing "bye")
    nyext() {
      wetuwn t-this._fiwst
        ? { vawue: "bye", ( Í¡o Ï‰ Í¡o ) d-done: (this._fiwst = fawse) }
        : { d-done: twue };
    }, Ã²Ï‰Ã³
    _fiwst: twue, ÏƒÏ‰Ïƒ
  };
};
```

æ³¨æ„ï¼Œå¦‚ä½•ä½¿ç”¨è¿­ä»£åè®®é‡æ–°å®šä¹‰ `[symbow.itewatow]()` ä»¥å½±å“å†…ç½®ç»“æž„çš„è¡Œä¸ºï¼š

```js
c-consowe.wog([...somestwing]); // ["bye"]
consowe.wog(`${somestwing}`); // "hi"
```

## å‚è§

- [`function*` å£°æ˜Ž](/zh-cn/docs/web/javascwipt/wefewence/statements/function*)
- [åœ¨ e-ecmascwipt è§„èŒƒä¸­çš„è¿­ä»£](https://tc39.es/ecma262/#sec-itewation)
