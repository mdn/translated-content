---
title: Warning
slug: Web/HTTP/Headers/Warning
tags:
  - 警告
  - 警告码
  - 通用首部
translation_of: Web/HTTP/Headers/Warning
---
<div>{{HTTPSidebar}}</div>

<p><strong><code>Warning</code></strong> 是一个通用报文首部，包含报文当前状态可能存在的问题。在响应中可以出现多个 Warning 首部。</p>

<p>一般来说， Warning 首部可以应用于任何类型的报文。然而一部分警告码（warn-code）是为缓存代理服务器定制的，并且只可以应用在响应报文中。</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">Header type</th>
   <td>{{Glossary("General header")}}</td>
  </tr>
  <tr>
   <th scope="row">{{Glossary("Forbidden header name")}}</th>
   <td>no</td>
  </tr>
 </tbody>
</table>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">Warning: &lt;warn-code&gt; &lt;warn-agent&gt; &lt;warn-text&gt; [&lt;warn-date&gt;]
</pre>

<h2 id="指令">指令</h2>

<dl>
 <dt>&lt;warn-code&gt;</dt>
 <dd>三位数字警告码。第一位数字表示 Warning 信息在验证之后是否需要从已存储的响应中删除。
 <ul>
  <li><code>1xx</code> 警告码描述了关于当前响应的新鲜度或者验证状态的警告信息，并且将会在验证之后被缓存服务器删除。</li>
  <li>
   <p><code>2xx</code> 警告码描述了验证之后不会被修复的某些展现内容方面的警告信息，并且在验证之后不会被缓存服务器删除。</p>
  </li>
 </ul>
 </dd>
 <dt>&lt;warn-agent&gt;</dt>
 <dd>
 <p>添加到 Warning 首部的服务器或者软件的名称或者伪名称（当代理不可知的时候可以用 "-" 代替）。</p>
 </dd>
 <dt>&lt;warn-text&gt;</dt>
 <dd>用来描述错误信息的警告文本。</dd>
 <dt>&lt;warn-date&gt;</dt>
 <dd>可选。假如多个 Warning 被发送，那么需包含一个与 {{HTTPHeader("Date")}} 首部相对应的日期字段。</dd>
</dl>

<h2 id="警告码">警告码</h2>

<p><a href="http://www.iana.org/assignments/http-warn-codes/http-warn-codes.xhtml">由 iana.org 维护的 HTTP 警告码登记表</a>规定了警告码的命名空间。</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">码值</th>
   <th scope="col">文字描述</th>
   <th scope="col">详细说明</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>110</td>
   <td>Response is Stale</td>
   <td>由缓存服务器提供的响应已过期（设置的失效时间已过）。</td>
  </tr>
  <tr>
   <td>111</td>
   <td>Revalidation Failed</td>
   <td> 由于无法访问服务器，响应验证失败。</td>
  </tr>
  <tr>
   <td>112</td>
   <td>Disconnected Operation</td>
   <td>缓存服务器断开连接。</td>
  </tr>
  <tr>
   <td>113</td>
   <td>Heuristic Expiration</td>
   <td>如果缓存服务器采用启发式方法，将缓存的有效时间设定为 24 小时，而在该响应的年龄超过 24 小时时发送。</td>
  </tr>
  <tr>
   <td>199</td>
   <td>Miscellaneous Warning</td>
   <td>任意的、未明确指定的警告信息。</td>
  </tr>
  <tr>
   <td>214</td>
   <td>Transformation Applied</td>
   <td>由代理服务器添加，如果它对返回的展现内容进行了任何转换，比如改变了内容编码、媒体类型等。</td>
  </tr>
  <tr>
   <td>299</td>
   <td>Miscellaneous Warning</td>
   <td>与 199 类似，只不过指代的是持久化警告。</td>
  </tr>
 </tbody>
</table>

<h2 id="示例">示例</h2>

<pre>Warning: 110 anderson/1.3.37 "Response is stale"

Date: Wed, 21 Oct 2015 07:28:00 GMT
Warning: 112 - "cache down" "Wed, 21 Oct 2015 07:28:00 GMT"
</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Title</th>
  </tr>
  <tr>
   <td>{{RFC("7234", "Warning", "5.5")}}</td>
   <td>Hypertext Transfer Protocol (HTTP/1.1): Caching</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p>{{Compat("http.headers.Warning")}}</p>

<h2 id="相关内容">相关内容</h2>

<ul>
 <li>{{HTTPHeader("Date")}}</li>
 <li><a href="/en-US/docs/Web/HTTP/Status">HTTP respnose status codes</a></li>
</ul>
