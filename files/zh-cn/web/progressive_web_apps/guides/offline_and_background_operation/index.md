---
titwe: ç¦»çº¿å’ŒåŽå°æ“ä½œ
swug: web/pwogwessive_web_apps/guides/offwine_and_backgwound_opewation
---

{{pwasidebaw}}

é€šå¸¸ï¼Œç½‘ç«™éžå¸¸ä¾èµ–äºŽå¯é çš„ç½‘ç»œè¿žæŽ¥å’Œç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€çš„é¡µé¢ã€‚å¦‚æžœæ²¡æœ‰ç½‘ç»œè¿žæŽ¥ï¼Œå¤§å¤šæ•°ç½‘ç«™å°±æ— æ³•ä½¿ç”¨ï¼Œå¦‚æžœç”¨æˆ·æ²¡æœ‰åœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸­æ‰“å¼€ç½‘ç«™ï¼Œå¤§å¤šæ•°ç½‘ç«™å°±æ— æ³•åšä»»ä½•äº‹æƒ…ã€‚

ç„¶è€Œï¼Œè€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼š

- éŸ³ä¹åº”ç”¨ç¨‹åºå…è®¸ç”¨æˆ·åœ¨çº¿æ’­æ”¾éŸ³ä¹ï¼Œä½†å¯ä»¥åœ¨åŽå°ä¸‹è½½éŸ³ä¹ï¼Œç„¶åŽåœ¨ç”¨æˆ·ç¦»çº¿æ—¶ç»§ç»­æ’­æ”¾ã€‚
- ç”¨æˆ·æ’°å†™ä¸€å°é•¿é‚®ä»¶ï¼ŒæŒ‰ä¸‹â€œå‘é€â€ï¼Œç„¶åŽå¤±åŽ»ç½‘ç»œè¿žæŽ¥ã€‚è®¾å¤‡åœ¨ç½‘ç»œå†æ¬¡å¯ç”¨æ—¶åœ¨åŽå°å‘é€é‚®ä»¶ã€‚
- ç”¨æˆ·çš„èŠå¤©åº”ç”¨ç¨‹åºæ”¶åˆ°å…¶ä¸­ä¸€ä¸ªè”ç³»äººçš„æ¶ˆæ¯ï¼Œå°½ç®¡åº”ç”¨ç¨‹åºæ²¡æœ‰æ‰“å¼€ï¼Œä½†å®ƒåœ¨åº”ç”¨ç¨‹åºå›¾æ ‡ä¸Šæ˜¾ç¤ºä¸€ä¸ªæ ‡è®°ï¼Œè®©ç”¨æˆ·çŸ¥é“ä»–ä»¬æœ‰æ–°çš„æ¶ˆæ¯ã€‚

è¿™äº›éƒ½æ˜¯ç”¨æˆ·æœŸå¾…ä»Žå·²å®‰è£…çš„åº”ç”¨ç¨‹åºä¸­èŽ·å¾—çš„åŠŸèƒ½ã€‚åœ¨è¿™ä»½æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€å¥—æŠ€æœ¯ä½¿ p-pwa èƒ½å¤Ÿï¼š

- å³ä½¿è®¾å¤‡ç½‘ç»œè¿žæŽ¥ä¸ç¨³å®šï¼Œä¹Ÿèƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ
- å½“åº”ç”¨ç¨‹åºæœªè¿è¡Œæ—¶æ›´æ–°å…¶çŠ¶æ€
- é€šçŸ¥ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºæœªè¿è¡Œæ—¶å‘ç”Ÿçš„é‡è¦äº‹ä»¶

æœ¬æŒ‡å—ä»‹ç»çš„æŠ€æœ¯åŒ…æ‹¬ï¼š

- [sewvice w-wowkew a-api](/zh-cn/docs/web/api/sewvice_wowkew_api)
- [åŽå°åŒæ­¥ a-api](/zh-cn/docs/web/api/backgwound_synchwonization_api)
- [åŽå°èŽ·å– a-api](/zh-cn/docs/web/api/backgwound_fetch_api)
- [å‘¨æœŸæ€§åŽå°åŒæ­¥ a-api](/zh-cn/docs/web/api/web_pewiodic_backgwound_synchwonization_api)
- [æŽ¨é€ a-api](/zh-cn/docs/web/api/push_api)
- [é€šçŸ¥ a-api](/zh-cn/docs/web/api/notifications_api)

## ç½‘ç«™å’Œ wowkew

æˆ‘ä»¬åœ¨æœ¬æŒ‡å—ä¸­è®¨è®ºçš„æ‰€æœ‰æŠ€æœ¯çš„åŸºç¡€æ˜¯ _sewvice wowkew_ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æä¾›ä¸€äº›å…³äºŽ wowkew çš„èƒŒæ™¯ä¿¡æ¯ä»¥åŠå®ƒä»¬å¦‚ä½•æ”¹å˜ web åº”ç”¨ç¨‹åºçš„æž¶æž„ã€‚

é€šå¸¸ï¼Œæ•´ä¸ªç½‘ç«™åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œã€‚è¿™åŒ…æ‹¬ç½‘ç«™è‡ªå·±çš„ j-javascwipt å’Œæ‰€æœ‰æ¸²æŸ“ç½‘ç«™ ui çš„å·¥ä½œã€‚è¿™æ ·åšçš„ä¸€ä¸ªç»“æžœæ˜¯ï¼Œå¦‚æžœä½ çš„ javascwipt è¿è¡Œäº†ä¸€äº›é•¿æ—¶é—´çš„æ“ä½œï¼Œç½‘ç«™çš„ä¸» u-ui ä¼šè¢«é˜»å¡žï¼Œç½‘ç«™å¯¹ç”¨æˆ·æ¥è¯´ä¼¼ä¹Žæ— å“åº”ã€‚

[sewvice wowkew](/zh-cn/docs/web/api/sewvice_wowkew_api) æ˜¯ä¸€ç§ç‰¹åˆ«ç±»åž‹çš„ç”¨æ¥å®žçŽ° p-pwa çš„ [web wowkew](/zh-cn/docs/web/api/web_wowkews_api)ã€‚åƒæ‰€æœ‰ web wowkew ä¸€æ ·ï¼Œsewvice wowkew åœ¨ä¸Žä¸» javascwipt ä»£ç ä¸åŒçš„å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œã€‚ä¸»ä»£ç åˆ›å»º w-wowkewï¼Œå‘ wowkew è„šæœ¬ä¼ å…¥ u-uwwã€‚wowkew å’Œä¸»ä»£ç ä¸èƒ½ç›´æŽ¥è®¿é—®å½¼æ­¤çš„çŠ¶æ€ï¼Œä½†å¯ä»¥é€šè¿‡äº’å‘æ¶ˆæ¯æ¥è¿›è¡Œé€šä¿¡ã€‚wowkew å¯ä»¥ç”¨äºŽåœ¨åŽå°è¿è¡Œè®¡ç®—å¯†é›†åž‹ä»»åŠ¡ï¼šå› ä¸ºå®ƒä»¬åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œæ‰€ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­çš„ä¸» j-javascwipt ä»£ç ï¼ˆå³å®žçŽ°åº”ç”¨ç¨‹åº ui çš„éƒ¨åˆ†ï¼‰ï¼Œå¯ä»¥ä¿æŒå¯¹ç”¨æˆ·çš„å“åº”ã€‚

æ‰€ä»¥ pwa æ€»æ˜¯æœ‰ä¸€ä¸ªé«˜çº§åˆ«çš„æž¶æž„ï¼Œå¯åˆ†ä¸ºï¼š

- _ä¸»åº”ç”¨_ï¼ŒåŒ…å« htmwã€css å’Œå®žçŽ°åº”ç”¨ç¨‹åº ui çš„ javascwipt éƒ¨åˆ†ï¼ˆä¾‹å¦‚å¤„ç†ç”¨æˆ·äº‹ä»¶ï¼‰
- _sewvice wowkew_ï¼Œå¤„ç†ç¦»çº¿å’ŒåŽå°ä»»åŠ¡

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œå½“æˆ‘ä»¬å±•ç¤ºä»£ç æ ·æœ¬æ—¶ï¼Œæˆ‘ä»¬å°†ç”¨åƒ `// m-main.js` æˆ– `// sewvice-wowkew.js` è¿™æ ·çš„æ³¨é‡Šæ¥æŒ‡å‡ºä»£ç å±žäºŽåº”ç”¨çš„å“ªä¸ªéƒ¨åˆ†ã€‚

## ç¦»çº¿æ“ä½œ

ç¦»çº¿æ“ä½œå…è®¸ pwa å³ä½¿åœ¨è®¾å¤‡æ²¡æœ‰ç½‘ç»œè¿žæŽ¥æ—¶ä¹Ÿèƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è¿™æ˜¯é€šè¿‡å‘åº”ç”¨ç¨‹åºæ·»åŠ  sewvice wowkew æ¥å®žçŽ°çš„ã€‚

sewvice wowkew *æŽ§åˆ¶*åº”ç”¨çš„éƒ¨åˆ†æˆ–å…¨éƒ¨é¡µé¢ã€‚åœ¨å®‰è£… s-sewvice wowkew åŽï¼Œå®ƒå¯ä»¥ä»ŽæœåŠ¡å™¨èŽ·å–å®ƒæŽ§åˆ¶çš„é¡µé¢çš„èµ„æºï¼ˆåŒ…æ‹¬é¡µé¢ã€æ ·å¼ã€è„šæœ¬å’Œå›¾ç‰‡ç­‰ï¼‰ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æœ¬åœ°ç¼“å­˜ä¸­ã€‚ä½¿ç”¨ {{domxwef("cache")}} æŽ¥å£å°†èµ„æºæ·»åŠ åˆ°ç¼“å­˜ä¸­ã€‚åœ¨ sewvice wowkew å…¨å±€ä½œç”¨åŸŸå†…ï¼Œå¯ä»¥é€šè¿‡ {{domxwef("wowkewgwobawscope.caches")}} å±žæ€§è®¿é—® `cache` å®žä¾‹ã€‚

ç„¶åŽï¼Œæ¯å½“åº”ç”¨ç¨‹åºè¯·æ±‚ä¸€ä¸ªèµ„æºï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºç”¨æˆ·æ‰“å¼€äº†åº”ç”¨ç¨‹åºæˆ–ç‚¹å‡»äº†å†…éƒ¨é“¾æŽ¥ï¼‰ï¼Œæµè§ˆå™¨åœ¨ s-sewvice w-wowkew çš„å…¨å±€ä½œç”¨åŸŸå†…è§¦å‘ä¸€ä¸ªåä¸º {{domxwef("sewvicewowkewgwobawscope.fetch_event", UwU "fetch")}} çš„äº‹ä»¶ã€‚é€šè¿‡ç›‘å¬æ­¤äº‹ä»¶ï¼Œsewvice w-wowkew å¯ä»¥æ‹¦æˆªè¯·æ±‚ã€‚

`fetch` äº‹ä»¶çš„äº‹ä»¶å¤„ç†å™¨ä¼šæŽ¥æ”¶åˆ°ä¸€ä¸ª {{domxwef("fetchevent")}} å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ï¼š

- ä½¿ç”¨ {{domxwef("wequest")}} å®žä¾‹æä¾›å¯¹è¯·æ±‚çš„è®¿é—®
- æä¾› {{domxwef("fetchevent.wespondwith", >_< "wespondwith()")}} æ–¹æ³•æ¥å“åº”è¯·æ±‚ã€‚

s-sewvice wowkew å¯ä»¥é‡‡ç”¨â€œç¼“å­˜ä¼˜å…ˆâ€ç­–ç•¥æ¥å¤„ç†è¯·æ±‚ã€‚åœ¨è¿™ç§ç­–ç•¥ä¸­ï¼š

1. -.- å¦‚æžœè¯·æ±‚çš„èµ„æºå­˜åœ¨äºŽç¼“å­˜ä¸­ï¼Œä»Žç¼“å­˜ä¸­èŽ·å–èµ„æºå¹¶è¿”å›žç»™åº”ç”¨ã€‚
2. mya å¦‚æžœè¯·æ±‚çš„èµ„æºä¸åœ¨ç¼“å­˜ä¸­ï¼Œå°è¯•é€šè¿‡ç½‘ç»œèŽ·å–èµ„æºã€‚
   1. >w< å¦‚æžœèƒ½èŽ·å–åˆ°èµ„æºï¼Œå°†èµ„æºæ·»åŠ åˆ°ç¼“å­˜ä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ï¼Œå¹¶è¿”å›žç»™åº”ç”¨ã€‚
   2. (U ï¹ U) å¦‚æžœæ— æ³•èŽ·å–èµ„æºï¼Œè¿”å›žä¸€äº›é»˜è®¤çš„å¤‡ç”¨èµ„æºã€‚

ä»¥ä¸‹ä»£ç ç¤ºä¾‹æ˜¾ç¤ºäº†å¯¹æ­¤çš„ä¸€ç§å®žçŽ°ï¼š

```js
// sewvice-wowkew.js

c-const putincache = async (wequest, ðŸ˜³ðŸ˜³ðŸ˜³ wesponse) => {
  c-const cache = await caches.open("v1");
  await cache.put(wequest, o.O wesponse);
};

const cachefiwst = async ({ w-wequest, Ã²Ï‰Ã³ fawwbackuww }) => {
  // é¦–å…ˆå°è¯•ä»Žç¼“å­˜ä¸­èŽ·å–èµ„æºã€‚
  c-const wesponsefwomcache = a-await c-caches.match(wequest);
  if (wesponsefwomcache) {
    wetuwn wesponsefwomcache;
  }

  // å¦‚æžœåœ¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°å“åº”ï¼Œåˆ™å°è¯•é€šè¿‡ç½‘ç»œèŽ·å–èµ„æºã€‚
  t-twy {
    c-const wesponsefwomnetwowk = await fetch(wequest);
    // å¦‚æžœç½‘ç»œè¯·æ±‚æˆåŠŸï¼Œå°†å“åº”å…‹éš†ä¸€ä»½ï¼š
    // - å°†å‰¯æœ¬æ”¾å…¥ç¼“å­˜ï¼Œä¾›ä¸‹ä¸€æ¬¡ä½¿ç”¨
    // - å°†åŽŸå§‹å“åº”è¿”å›žç»™åº”ç”¨ç¨‹åº
    // éœ€è¦å…‹éš†å“åº”ï¼Œå› ä¸ºå“åº”åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚
    p-putincache(wequest, ðŸ˜³ðŸ˜³ðŸ˜³ w-wesponsefwomnetwowk.cwone());
    wetuwn w-wesponsefwomnetwowk;
  } catch (ewwow) {
    // å¦‚æžœç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œåˆ™ä»Žç¼“å­˜ä¸­èŽ·å–å¤‡ç”¨å“åº”ã€‚
    c-const fawwbackwesponse = await caches.match(fawwbackuww);
    i-if (fawwbackwesponse) {
      wetuwn fawwbackwesponse;
    }
    // å½“è¿žå¤‡ç”¨å“åº”ä¹Ÿä¸å¯ç”¨æ—¶ï¼Œæˆ‘ä»¬æ— èƒ½ä¸ºåŠ›ï¼Œ
    // ä½†æˆ‘ä»¬å¿…é¡»è¿”å›žä¸€ä¸ªå“åº”å¯¹è±¡ã€‚
    w-wetuwn nyew wesponse("ç½‘ç»œé”™è¯¯", {
      s-status: 408, ÏƒÏ‰Ïƒ
      h-headews: { "content-type": "text/pwain" }, (â‘…Ë˜ê’³Ë˜)
    });
  }
};

sewf.addeventwistenew("fetch", (///Ë¬///âœ¿) (event) => {
  event.wespondwith(
    cachefiwst({
      wequest: event.wequest, ðŸ¥º
      fawwbackuww: "/fawwback.htmw", OwO
    }), >w<
  );
});
```

è¿™æ„å‘³ç€åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå³ä½¿ç½‘ç»œè¿žæŽ¥ä¸ç¨³å®šï¼Œweb åº”ç”¨ç¨‹åºä¹Ÿèƒ½æ­£å¸¸è¿è¡Œã€‚ä»Žä¸»åº”ç”¨ç¨‹åºä»£ç çš„è§’åº¦æ¥çœ‹ï¼Œè¿™å®Œå…¨æ˜¯é€æ˜Žçš„ï¼šåº”ç”¨ç¨‹åºåªéœ€å‘å‡ºç½‘ç»œè¯·æ±‚å¹¶èŽ·å–å“åº”ã€‚æ­¤å¤–ï¼Œç”±äºŽ s-sewvice w-wowkew åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸»åº”ç”¨ç¨‹åºä»£ç å¯ä»¥ä¿æŒå¯¹ç”¨æˆ·è¾“å…¥çš„å“åº”ï¼ŒåŒæ—¶èŽ·å–å’Œç¼“å­˜èµ„æºã€‚

> [!note]
> è¿™é‡Œæè¿°çš„ç­–ç•¥åªæ˜¯ sewvice w-wowkew å®žçŽ°ç¼“å­˜çš„ä¸€ç§æ–¹å¼ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨ç¼“å­˜ä¼˜å…ˆç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬å…ˆä»Žç¼“å­˜ä¸­æŸ¥æ‰¾å“åº”ï¼Œç„¶åŽå†å°è¯•ä»Žç½‘ç»œä¸­èŽ·å–ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æ›´æœ‰å¯èƒ½è¿”å›žä¸€ä¸ªå¿«é€Ÿçš„å“åº”è€Œæ— éœ€æ‰¿æ‹…ç½‘ç»œæˆæœ¬ï¼Œä½†ä¹Ÿæ›´æœ‰å¯èƒ½è¿”å›žä¸€ä¸ªè¿‡æœŸçš„å“åº”ã€‚
>
> å¦ä¸€ç§ç­–ç•¥æ˜¯*ç½‘ç»œä¼˜å…ˆ*ç­–ç•¥ï¼Œå³é¦–å…ˆå°è¯•ä»ŽæœåŠ¡å™¨èŽ·å–èµ„æºï¼Œå¦‚æžœè®¾å¤‡ç¦»çº¿ï¼Œåˆ™å›žé€€åˆ°ç¼“å­˜ã€‚
>
> æœ€ä½³çš„ç¼“å­˜ç­–ç•¥å–å†³äºŽç‰¹å®šçš„ web åº”ç”¨ç¨‹åºåŠå…¶ä½¿ç”¨æ–¹å¼ã€‚

æœ‰å…³è®¾ç½® s-sewvice wowkew å¹¶ä½¿ç”¨å®ƒä»¬æ·»åŠ ç¦»çº¿åŠŸèƒ½çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„[ä½¿ç”¨ s-sewvice wowkew æŒ‡å—](/zh-cn/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)ã€‚

## åŽå°æ“ä½œ

è™½ç„¶ç¦»çº¿æ“ä½œæ˜¯ sewvice wowkew æœ€å¸¸è§çš„ç”¨é€”ï¼Œä½†å®ƒä»¬ä¹Ÿä½¿å¾— pwa èƒ½å¤Ÿåœ¨ä¸»åº”ç”¨ç¨‹åºå…³é—­æ—¶å·¥ä½œã€‚è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸º sewvice wowkew å¯ä»¥åœ¨ä¸»åº”ç”¨ç¨‹åºä¸è¿è¡Œæ—¶è¿è¡Œã€‚

è¿™å¹¶ä¸æ„å‘³ç€ s-sewvice wowkew å§‹ç»ˆåœ¨è¿è¡Œï¼šæµè§ˆå™¨å¯èƒ½ä¼šåœ¨è®¤ä¸ºåˆé€‚çš„æ—¶å€™åœæ­¢ sewvice wowkewã€‚ä¾‹å¦‚ï¼Œå¦‚æžœ sewvice wowkew é•¿æ—¶é—´ä¸æ´»åŠ¨ï¼Œå®ƒå°†è¢«åœæ­¢ã€‚ä½†æ˜¯ï¼Œå½“å‘ç”Ÿéœ€è¦å¤„ç†çš„äº‹ä»¶æ—¶ï¼Œæµè§ˆå™¨å°†é‡æ–°å¯åŠ¨ sewvice wowkewã€‚è¿™ä½¿å¾— pwa èƒ½å¤Ÿä»¥ä»¥ä¸‹æ–¹å¼å®žçŽ°åŽå°æ“ä½œï¼š

- åœ¨ä¸»åº”ç”¨ç¨‹åºä¸­ï¼Œæ³¨å†Œä¸€ä¸ªè¯·æ±‚ï¼Œè¦æ±‚ s-sewvice wowkew æ‰§è¡ŒæŸä¸ªæ“ä½œ
- åœ¨é€‚å½“çš„æ—¶æœºï¼Œå¦‚æžœæœ‰å¿…è¦ï¼Œæµè§ˆå™¨å°†é‡æ–°å¯åŠ¨ sewvice w-wowkewï¼Œå¹¶åœ¨ s-sewvice wowkew çš„ä½œç”¨åŸŸä¸­è§¦å‘ä¸€ä¸ªäº‹ä»¶
- s-sewvice wowkew æ‰§è¡Œæ“ä½œ

åœ¨æŽ¥ä¸‹æ¥çš„å‡ èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸€äº›ä½¿ç”¨è¿™ç§æ¨¡å¼çš„åŠŸèƒ½ï¼Œå®ƒä»¬å¯ä»¥ä½¿ pwa åœ¨ä¸»åº”ç”¨ç¨‹åºæœªæ‰“å¼€æ—¶æ­£å¸¸å·¥ä½œã€‚

## åŽå°åŒæ­¥

å‡è®¾ç”¨æˆ·æ’°å†™äº†ä¸€å°ç”µå­é‚®ä»¶å¹¶æŒ‰ä¸‹â€œå‘é€â€ã€‚åœ¨ä¼ ç»Ÿçš„ç½‘ç«™ä¸­ï¼Œä»–ä»¬å¿…é¡»ä¿æŒæ ‡ç­¾é¡µæ‰“å¼€ï¼Œç›´åˆ°åº”ç”¨ç¨‹åºå‘é€äº†ç”µå­é‚®ä»¶ï¼šå¦‚æžœä»–ä»¬å…³é—­æ ‡ç­¾é¡µï¼Œæˆ–è€…è®¾å¤‡å¤±åŽ»è¿žæŽ¥ï¼Œé‚£ä¹ˆæ¶ˆæ¯å°†ä¸ä¼šè¢«å‘é€ã€‚å®šä¹‰åœ¨[åŽå°åŒæ­¥ a-api](/zh-cn/docs/web/api/backgwound_synchwonization_api) ä¸­çš„åŽå°åŒæ­¥ï¼Œæ˜¯ p-pwa è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚

åŽå°åŒæ­¥ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿè¯·æ±‚å…¶ s-sewvice w-wowkew ä»£è¡¨å…¶æ‰§è¡Œä»»åŠ¡ã€‚ä¸€æ—¦è®¾å¤‡æœ‰ç½‘ç»œè¿žæŽ¥ï¼Œæµè§ˆå™¨å°†é‡æ–°å¯åŠ¨ sewvice wowkewï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼Œå¹¶åœ¨ sewvice wowkew çš„ä½œç”¨åŸŸå†…è§¦å‘åä¸º [`sync`](/zh-cn/docs/web/api/sewvicewowkewgwobawscope/sync_event) çš„äº‹ä»¶ã€‚ç„¶åŽ s-sewvice wowkew å¯ä»¥å°è¯•æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æžœä»»åŠ¡æ— æ³•å®Œæˆï¼Œé‚£ä¹ˆæµè§ˆå™¨å¯èƒ½ä¼šé€šè¿‡å†æ¬¡è§¦å‘äº‹ä»¶æ¥é‡è¯•æœ‰é™çš„æ¬¡æ•°ã€‚

### æ³¨å†ŒåŒæ­¥äº‹ä»¶

è¦è¯·æ±‚ s-sewvice wowkew æ‰§è¡Œä»»åŠ¡ï¼Œä¸»åº”ç”¨ç¨‹åºå¯ä»¥è®¿é—® {{domxwef("sewvicewowkewcontainew/weady", ðŸ¥º "navigatow.sewvicewowkew.weady")}}ï¼Œå®ƒä¼šå…‘çŽ°ä¸ºä¸€ä¸ª {{domxwef("sewvicewowkewwegistwation")}} å¯¹è±¡ã€‚ç„¶åŽåº”ç”¨ç¨‹åºåœ¨ `sewvicewowkewwegistwation` å¯¹è±¡ä¸Šè°ƒç”¨ {{domxwef("syncmanagew/wegistew", nyaa~~ "sync.wegistew()")}}ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```js
// m-main.js

a-async function w-wegistewsync() {
  const swwegistwation = await nyavigatow.sewvicewowkew.weady;
  s-swwegistwation.sync.wegistew("send-message");
}
```

æ³¨æ„åº”ç”¨ç¨‹åºä¸ºä»»åŠ¡ä¼ é€’äº†ä¸€ä¸ªåç§°ï¼šåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æ˜¯ `"send-message"`ã€‚

### å¤„ç†åŒæ­¥äº‹ä»¶

ä¸€æ—¦è®¾å¤‡æœ‰ç½‘ç»œè¿žæŽ¥ï¼Œ`sync` äº‹ä»¶å°±ä¼šåœ¨ sewvice wowkew ä½œç”¨åŸŸå†…è§¦å‘ã€‚sewvice wowkew æ£€æŸ¥ä»»åŠ¡çš„åç§°å¹¶è¿è¡Œé€‚å½“çš„å‡½æ•°ï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æ˜¯ `sendmessage()`ï¼š

```js
// sewvice-wowkew.js

sewf.addeventwistenew("sync", ^^ (event) => {
  if (event.tag == "send-message") {
    e-event.waituntiw(sendmessage());
  }
});
```

æ³¨æ„æˆ‘ä»¬å°† `sendmessage()` å‡½æ•°çš„ç»“æžœä¼ é€’ç»™äº‹ä»¶çš„ {{domxwef("extendabweevent/waituntiw", >w< "waituntiw()")}} æ–¹æ³•ã€‚`waituntiw()` æ–¹æ³•æŽ¥å—ä¸€ä¸ª {{jsxwef("pwomise")}} ä½œä¸ºå‚æ•°ï¼Œå¹¶è¦æ±‚æµè§ˆå™¨ä¸è¦åœæ­¢ sewvice wowkewï¼Œç›´åˆ° pwomise å·²æ•²å®šã€‚è¿™ä¹Ÿæ˜¯æµè§ˆå™¨çŸ¥é“æ“ä½œæ˜¯å¦æˆåŠŸçš„æ–¹å¼ï¼šå¦‚æžœ pwomise è¢«æ‹’ç»ï¼Œé‚£ä¹ˆæµè§ˆå™¨å¯èƒ½ä¼šé€šè¿‡å†æ¬¡è§¦å‘ `sync` äº‹ä»¶æ¥é‡è¯•ã€‚

`waituntiw()` æ–¹æ³•æ˜¯ä¸èƒ½ä¿è¯æµè§ˆå™¨ä¸ä¼šåœæ­¢ sewvice wowkew çš„ï¼šå¦‚æžœæ“ä½œèŠ±è´¹å¤ªé•¿æ—¶é—´ï¼Œsewvice w-wowkew ä»ç„¶ä¼šè¢«åœæ­¢ã€‚å¦‚æžœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œé‚£ä¹ˆæ“ä½œå°†è¢«ä¸­æ­¢ï¼Œå¹¶ä¸”ä¸‹æ¬¡è§¦å‘ `sync` äº‹ä»¶æ—¶ï¼Œå¤„ç†ç¨‹åºå°†å†æ¬¡ä»Žå¤´å¼€å§‹è¿è¡Œâ€”â€”å®ƒä¸ä¼šä»Žå®ƒåœæ­¢çš„åœ°æ–¹ç»§ç»­ã€‚

â€œå¤ªé•¿æ—¶é—´â€æ˜¯å¤šé•¿æ˜¯ç”±æµè§ˆå™¨å†³å®šçš„ã€‚å¯¹äºŽ c-chwomeï¼Œå¦‚æžœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼Œåˆ™å¯èƒ½å…³é—­ s-sewvice wowkewï¼š

- å®ƒå·²ç»ç©ºé—²äº† 30 ç§’
- å®ƒå·²ç»è¿è¡ŒåŒæ­¥ javascwipt 30 ç§’
- ä¼ é€’ç»™ `waituntiw()` çš„ p-pwomise ç­‰å¾…æ•²å®šçš„æ—¶é—´è¶…è¿‡äº† 5 åˆ†é’Ÿ

## åŽå°èŽ·å–

åŽå°åŒæ­¥å¯¹äºŽç›¸å¯¹çŸ­çš„åŽå°æ“ä½œå¾ˆæœ‰ç”¨ï¼Œä½†æ­£å¦‚æˆ‘ä»¬åˆšåˆšçœ‹åˆ°çš„ï¼šå¦‚æžœ sewvice w-wowkew æ²¡æœ‰åœ¨ç›¸å¯¹çŸ­çš„æ—¶é—´å†…å®Œæˆå¤„ç†åŒæ­¥äº‹ä»¶ï¼Œæµè§ˆå™¨å°†åœæ­¢ s-sewvice wowkewã€‚è¿™æ˜¯ä¸€ç§æœ‰æ„çš„æŽªæ–½ï¼Œé€šè¿‡æœ€å°åŒ–åº”ç”¨ç¨‹åºåœ¨åŽå°æ—¶ç”¨æˆ·çš„ ip åœ°å€æš´éœ²ç»™æœåŠ¡å™¨çš„æ—¶é—´ä»¥èŠ‚çœç”µæ± å¯¿å‘½å¹¶ä¿æŠ¤ç”¨æˆ·çš„éšç§ã€‚

è¿™ä½¿å¾—åŽå°åŒæ­¥ä¸é€‚åˆæ›´é•¿çš„æ“ä½œï¼ˆä¾‹å¦‚ä¸‹è½½ä¸€éƒ¨ç”µå½±ï¼‰ã€‚å¯¹äºŽè¿™ç§åœºæ™¯ï¼Œä½ éœ€è¦[åŽå°èŽ·å– api](/zh-cn/docs/web/api/backgwound_fetch_api)ã€‚ä½¿ç”¨åŽå°èŽ·å–ï¼Œå³ä½¿ä¸»åº”ç”¨ç¨‹åº ui å’Œ sewvice wowkew éƒ½å…³é—­äº†ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œç½‘ç»œè¯·æ±‚ã€‚

ä½¿ç”¨åŽå°èŽ·å–ï¼š

- è¯·æ±‚æ˜¯ä»Žä¸»åº”ç”¨ç¨‹åº u-ui å‘èµ·çš„
- æ— è®ºä¸»åº”ç”¨ç¨‹åºæ˜¯å¦æ‰“å¼€ï¼Œæµè§ˆå™¨éƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªæŒä¹…çš„ ui å…ƒç´ ï¼Œé€šçŸ¥ç”¨æˆ·æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚ï¼Œå¹¶ä½¿ä»–ä»¬èƒ½å¤Ÿå–æ¶ˆå®ƒæˆ–æ£€æŸ¥å…¶è¿›åº¦
- å½“è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥ï¼Œæˆ–è€…ç”¨æˆ·è¦æ±‚æ£€æŸ¥è¯·æ±‚çš„è¿›åº¦æ—¶ï¼Œæµè§ˆå™¨å°†å¯åŠ¨åº”ç”¨ç¨‹åºçš„ s-sewvice wowkewï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼Œå¹¶åœ¨ sewvice w-wowkew çš„ä½œç”¨åŸŸå†…è§¦å‘é€‚å½“çš„äº‹ä»¶ã€‚

### å‘èµ·åŽå°èŽ·å–è¯·æ±‚

åŽå°èŽ·å–è¯·æ±‚æ˜¯åœ¨ä¸»åº”ç”¨ç¨‹åºä»£ç ä¸­å‘èµ·çš„ï¼Œé€šè¿‡åœ¨ `sewvicewowkewwegistwation` å¯¹è±¡ä¸Šè°ƒç”¨ {{domxwef("backgwoundfetchmanagew/fetch", "backgwoundfetch.fetch()")}} å®Œæˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```js
// m-main.js

async function wequestbackgwoundfetch(moviedata) {
  c-const s-swwegistwation = await nyavigatow.sewvicewowkew.weady;
  c-const fetchwegistwation = a-await swwegistwation.backgwoundfetch.fetch(
    "downwoad-movie", OwO
    ["/my-movie-pawt-1.webm", XD "/my-movie-pawt-2.webm"], ^^;;
    {
      icons: movieicons, ðŸ¥º
      titwe: "downwoading my movie", XD
      d-downwoadtotaw: 60 * 1024 * 1024, (U áµ• Uâ)
    },
  );
  //...
}
```

æˆ‘ä»¬ä¼ é€’äº†ä¸‰ä¸ªå‚æ•°åˆ° `backgwoundfetch.fetch()`ï¼š

1. :3 æ­¤èŽ·å–è¯·æ±‚çš„æ ‡è¯†ç¬¦
2. ( Í¡o Ï‰ Í¡o ) ä¸€ä¸ª {{domxwef("wequest")}} å¯¹è±¡æˆ– u-uww çš„æ•°ç»„ã€‚å•ä¸ªåŽå°èŽ·å–è¯·æ±‚å¯ä»¥åŒ…æ‹¬å¤šä¸ªç½‘ç»œè¯·æ±‚ã€‚
3. Ã²Ï‰Ã³ åŒ…å«ç”¨äºŽæµè§ˆå™¨æ˜¾ç¤ºè¯·æ±‚å­˜åœ¨å’Œè¿›åº¦çš„ u-ui çš„æ•°æ®çš„å¯¹è±¡ã€‚

`backgwoundfetch.fetch()` è°ƒç”¨è¿”å›žä¸€ä¸ªå…‘çŽ°ä¸º {{domxwef("backgwoundfetchwegistwation")}} å¯¹è±¡çš„ {{jsxwef("pwomise")}}ã€‚è¿™ä½¿å¾—ä¸»åº”ç”¨ç¨‹åºèƒ½å¤Ÿéšç€è¯·æ±‚çš„è¿›åº¦æ›´æ–°å…¶è‡ªå·±çš„ uiã€‚ä½†æ˜¯ï¼Œå¦‚æžœä¸»åº”ç”¨ç¨‹åºå…³é—­äº†ï¼ŒèŽ·å–å°†åœ¨åŽå°ç»§ç»­ã€‚

æµè§ˆå™¨å°†æ˜¾ç¤ºä¸€ä¸ªæŒä¹…çš„ u-ui å…ƒç´ ï¼Œæé†’ç”¨æˆ·è¯·æ±‚æ­£åœ¨è¿›è¡Œä¸­ï¼Œè®©ä»–ä»¬æœ‰æœºä¼šäº†è§£æ›´å¤šå…³äºŽè¯·æ±‚çš„ä¿¡æ¯æˆ–è€…å–æ¶ˆå®ƒï¼ˆå¦‚æžœä»–ä»¬å¸Œæœ›ï¼‰ã€‚ui å°†åŒ…æ‹¬ä»Ž `icons` å’Œ `titwe` å‚æ•°ä¸­å–å¾—çš„å›¾æ ‡å’Œæ ‡é¢˜ï¼Œå¹¶ä½¿ç”¨ `downwoadtotaw` ä½œä¸ºä¸‹è½½æ€»å¤§å°çš„ä¼°è®¡å€¼ï¼Œä»¥æ˜¾ç¤ºè¯·æ±‚çš„è¿›åº¦ã€‚

### å¤„ç†è¯·æ±‚ç»“æžœ

å½“èŽ·å–æˆåŠŸæˆ–å¤±è´¥ï¼Œæˆ–è€…ç”¨æˆ·ç‚¹å‡»äº†è¿›åº¦ u-ui å…ƒç´ æ—¶ï¼Œæµè§ˆå™¨å°†å¯åŠ¨åº”ç”¨ç¨‹åºçš„ sewvice w-wowkewï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼Œå¹¶åœ¨ sewvice wowkew çš„èŒƒå›´å†…è§¦å‘äº‹ä»¶ã€‚å¯ä»¥è§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š

- `backgwoundfetchsuccess`ï¼šæ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
- `backgwoundfetchfaiw`ï¼šè‡³å°‘æœ‰ä¸€ä¸ªè¯·æ±‚å¤±è´¥
- `backgwoundfetchabowt`ï¼šèŽ·å–è¢«ç”¨æˆ·æˆ–ä¸»åº”ç”¨ç¨‹åºå–æ¶ˆ
- `backgwoundfetchcwick`ï¼šç”¨æˆ·ç‚¹å‡»äº†æµè§ˆå™¨æ˜¾ç¤ºçš„è¿›åº¦ ui å…ƒç´ 

#### èŽ·å–å“åº”æ•°æ®

åœ¨ `backgwoundfetchsuccess`ã€`backgwoundfetchfaiw` å’Œ `backgwoundfetchabowt` äº‹ä»¶çš„å¤„ç†å™¨ä¸­ï¼Œsewvice wowkew å¯ä»¥èŽ·å–è¯·æ±‚å’Œå“åº”çš„æ•°æ®ã€‚

å¯ä»¥åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­è®¿é—®äº‹ä»¶çš„ {{domxwef("backgwoundfetchevent/wegistwation", ÏƒÏ‰Ïƒ "wegistwation")}} å±žæ€§ä»¥èŽ·å–å“åº”ã€‚è¿™æ˜¯ä¸€ä¸ª {{domxwef("backgwoundfetchwegistwation")}} å¯¹è±¡ï¼Œå®ƒæœ‰ {{domxwef("backgwoundfetchwegistwation/matchaww", (U áµ• Uâ) "matchaww()")}} å’Œ {{domxwef("backgwoundfetchwegistwation/match", (âœ¿oÏ‰o) "match()")}} æ–¹æ³•ï¼Œå®ƒä»¬è¿”å›žä¸Žç»™å®š uww åŒ¹é…çš„ {{domxwef("backgwoundfetchwecowd")}} å¯¹è±¡ï¼ˆæˆ–è€…ï¼Œåœ¨ `matchaww()` çš„æƒ…å†µä¸‹ï¼Œå¦‚æžœæ²¡æœ‰ç»™å®š u-uwwï¼Œåˆ™è¿”å›žæ‰€æœ‰è®°å½•ï¼‰ã€‚

æ¯ä¸ª `backgwoundfetchwecowd` éƒ½æœ‰ä¸€ä¸ª {{domxwef("backgwoundfetchwecowd/wesponseweady", ^^ "wesponseweady")}} å±žæ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ª `pwomise`ï¼Œä¸€æ—¦å“åº”å¯ç”¨ï¼Œå°±ä¼šå…‘çŽ° {{domxwef("wesponse")}}ã€‚

æ‰€ä»¥è¦è®¿é—®å“åº”æ•°æ®ï¼Œå¤„ç†å™¨å¯ä»¥åšç±»ä¼¼è¿™æ ·çš„äº‹æƒ…ï¼š

```js
// s-sewvice-wowkew.js

sewf.addeventwistenew("backgwoundfetchsuccess", ^â€¢ï»Œâ€¢^ (event) => {
  const w-wegistwation = e-event.wegistwation;

  event.waituntiw(async () => {
    const wegistwation = e-event.wegistwation;
    const wecowds = await wegistwation.matchaww();
    const wesponsepwomises = w-wecowds.map(
      async (wecowd) => await wecowd.wesponseweady, XD
    );

    c-const wesponses = p-pwomise.aww(wesponsepwomises);
    // ä½¿ç”¨å“åº”æ•°æ®åšä¸€äº›äº‹æƒ…
  });
});
```

ç”±äºŽå“åº”æ•°æ®åœ¨å¤„ç†å™¨é€€å‡ºåŽä¸ä¼šå¯ç”¨ï¼Œæ‰€ä»¥å¦‚æžœåº”ç”¨ç¨‹åºä»ç„¶éœ€è¦å®ƒï¼Œå¤„ç†ç¨‹åºåº”è¯¥å­˜å‚¨æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œåœ¨ {{domxwef("cache")}} ä¸­ï¼‰ã€‚

#### æ›´æ–°æµè§ˆå™¨çš„ ui

ä¼ é€’ç»™ `backgwoundfetchsuccess` å’Œ `backgwoundfetchfaiw` çš„äº‹ä»¶å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª {{domxwef("backgwoundfetchupdateuievent/updateui", :3 "updateui()")}} æ–¹æ³•ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ›´æ–°æµè§ˆå™¨æ˜¾ç¤ºçš„ uiï¼Œä»¥ä¾¿è®©ç”¨æˆ·äº†è§£èŽ·å–æ“ä½œçš„æƒ…å†µã€‚ä½¿ç”¨ `updateui()`ï¼Œå¤„ç†å™¨å¯ä»¥æ›´æ–° ui å…ƒç´ çš„æ ‡é¢˜å’Œå›¾æ ‡ï¼š

```js
// sewvice-wowkew.js

s-sewf.addeventwistenew("backgwoundfetchsuccess", (êˆá´—êˆ) (event) => {
  // èŽ·å–å¹¶å­˜å‚¨å“åº”æ•°æ®
  // ...

  e-event.updateui({ titwe: "å®Œæˆäº†ä½ çš„ä¸‹è½½ï¼" });
});

sewf.addeventwistenew("backgwoundfetchfaiw", :3 (event) => {
  event.updateui({ t-titwe: "æ— æ³•å®Œæˆä¸‹è½½" });
});
```

#### å“åº”ç”¨æˆ·äº¤äº’

å½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åœ¨èŽ·å–æœŸé—´æ˜¾ç¤ºçš„ ui å…ƒç´ æ—¶ï¼Œä¼šè§¦å‘ `backgwoundfetchcwick` äº‹ä»¶ã€‚

è¿™é‡Œçš„é¢„æœŸå“åº”æ˜¯æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œå‘ç”¨æˆ·æä¾›æœ‰å…³èŽ·å–æ“ä½œçš„æ›´å¤šä¿¡æ¯ï¼Œè¿™å¯ä»¥é€šè¿‡åœ¨ sewvice w-wowkew ä¸­ä½¿ç”¨ {{domxwef("cwients/openwindow", (U ï¹ U) "cwients.openwindow()")}} æ¥å®Œæˆã€‚ä¾‹å¦‚ï¼š

```js
// sewvice-wowkew.js

sewf.addeventwistenew("backgwoundfetchcwick", UwU (event) => {
  const wegistwation = e-event.wegistwation;

  if (wegistwation.wesuwt === "success") {
    c-cwients.openwindow("/pway-movie");
  } e-ewse {
    cwients.openwindow("/movie-downwoad-pwogwess");
  }
});
```

## å‘¨æœŸæ€§åŽå°åŒæ­¥

[å‘¨æœŸæ€§åŽå°åŒæ­¥ api](/zh-cn/docs/web/api/web_pewiodic_backgwound_synchwonization_api) ä½¿å¾— p-pwa èƒ½å¤Ÿåœ¨ä¸»åº”ç”¨ç¨‹åºå¤„äºŽå…³é—­çŠ¶æ€çš„åŒæ—¶ï¼Œåœ¨åŽå°å‘¨æœŸæ€§åœ°æ›´æ–°å…¶æ•°æ®ã€‚

è¿™å¯ä»¥æžå¤§åœ°æ”¹å–„ pwa æä¾›çš„ç¦»çº¿ä½“éªŒã€‚è€ƒè™‘ä¸€ä¸ªä¾èµ–äºŽç›¸å½“æ–°é²œå†…å®¹çš„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚æ–°é—»åº”ç”¨ç¨‹åºã€‚å¦‚æžœè®¾å¤‡åœ¨ç”¨æˆ·æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ç¦»çº¿ï¼Œåˆ™å³ä½¿ä½¿ç”¨åŸºäºŽ s-sewvice w-wowkew çš„ç¼“å­˜ï¼Œæ–‡ç« ä¹Ÿåªä¼šå’Œä¸Šæ¬¡æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ä¸€æ ·ã€‚é€šè¿‡å‘¨æœŸæ€§åŽå°åŒæ­¥ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨è®¾å¤‡è”ç½‘æ—¶åœ¨åŽå°åˆ·æ–°å…¶å†…å®¹ï¼Œå› æ­¤èƒ½å¤Ÿå‘ç”¨æˆ·æ˜¾ç¤ºç›¸å¯¹è¾ƒæ–°é²œçš„å†…å®¹ã€‚

è¿™åˆ©ç”¨äº†ä¸€ä¸ªäº‹å®žï¼ˆç‰¹åˆ«æ˜¯å¯¹äºŽç§»åŠ¨è®¾å¤‡ï¼‰ï¼Œå³ç½‘ç»œè¿žæŽ¥çš„å¥½åæ˜¯*é—´æ­‡æ€§*çš„ï¼šé€šè¿‡åˆ©ç”¨è®¾å¤‡å…·æœ‰ç½‘ç»œè¿žæŽ¥çš„æ—¶æ®µï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ¶ˆé™¤è¿žæŽ¥é—´éš™ã€‚

### æ³¨å†Œå‘¨æœŸæ€§åŒæ­¥äº‹ä»¶

æ³¨å†Œå‘¨æœŸæ€§åŒæ­¥äº‹ä»¶çš„ä»£ç éµå¾ªä¸Ž[æ³¨å†ŒåŒæ­¥äº‹ä»¶](#æ³¨å†ŒåŒæ­¥äº‹ä»¶)ç›¸åŒçš„æ¨¡å¼ã€‚{{domxwef("sewvicewowkewwegistwation")}} æœ‰ä¸€ä¸ª {{domxwef("sewvicewowkewwegistwation.pewiodicsync", ðŸ˜³ðŸ˜³ðŸ˜³ "pewiodicsync")}} å±žæ€§ï¼Œå®ƒæœ‰ä¸€ä¸ª {{domxwef("pewiodicsyncmanagew/wegistew", XD "wegistew()")}} æ–¹æ³•ï¼Œä»¥å‘¨æœŸæ€§åŒæ­¥çš„åç§°ä½œä¸ºå‚æ•°ã€‚

ä½†æ˜¯ï¼Œ`pewiodicsync.wegistew()` éœ€è¦ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰ `minintewvaw` å±žæ€§çš„å¯¹è±¡ã€‚è¿™è¡¨ç¤ºåŒæ­¥å°è¯•ä¹‹é—´çš„æœ€å°é—´éš”ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼š

```js
// m-main.js

async function w-wegistewpewiodicsync() {
  const s-swwegistwation = await nyavigatow.sewvicewowkew.weady;
  swwegistwation.pewiodicsync.wegistew("update-news", o.O {
    // å°è¯•æ¯ 24 å°æ—¶æ›´æ–°ä¸€æ¬¡
    minintewvaw: 24 * 60 * 60 * 1000, (â‘…Ë˜ê’³Ë˜)
  });
}
```

### å¤„ç†å‘¨æœŸæ€§åŒæ­¥äº‹ä»¶

å°½ç®¡ p-pwa åœ¨ `wegistew()` è°ƒç”¨ä¸­è¯·æ±‚ç‰¹å®šé—´éš”ï¼Œä½†ç”±æµè§ˆå™¨å†³å®šå‘¨æœŸæ€§åŒæ­¥äº‹ä»¶çš„ç”Ÿæˆé¢‘çŽ‡ã€‚ç”¨æˆ·ç»å¸¸æ‰“å¼€å’Œäº¤äº’çš„åº”ç”¨ç¨‹åºå°†æ›´æœ‰å¯èƒ½æ”¶åˆ°å‘¨æœŸæ€§åŒæ­¥äº‹ä»¶ï¼Œå¹¶ä¸”ä¼šæ”¶åˆ°æ›´é¢‘ç¹çš„äº‹ä»¶ï¼Œè€Œç”¨æˆ·å¾ˆå°‘æˆ–æ ¹æœ¬ä¸ä¸Žä¹‹äº¤äº’çš„åº”ç”¨ç¨‹åºåˆ™ä¸ç„¶ã€‚

å½“æµè§ˆå™¨å†³å®šç”Ÿæˆå‘¨æœŸæ€§åŒæ­¥äº‹ä»¶æ—¶ï¼Œæ¨¡å¼å¦‚ä¸‹ï¼šå®ƒå¯åŠ¨ s-sewvice wowkewï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼Œå¹¶åœ¨ s-sewvice wowkew çš„å…¨å±€ä½œç”¨åŸŸä¸­è§¦å‘ {{domxwef("sewvicewowkewgwobawscope.pewiodicsync_event", ðŸ˜³ðŸ˜³ðŸ˜³ "pewiodicsync")}} äº‹ä»¶ã€‚

sewvice w-wowkew çš„äº‹ä»¶å¤„ç†ç¨‹åºæ£€æŸ¥äº‹ä»¶çš„åç§°ï¼Œå¹¶åœ¨äº‹ä»¶çš„ {{domxwef("extendabweevent/waituntiw", nyaa~~ "waituntiw()")}} æ–¹æ³•å†…è°ƒç”¨é€‚å½“çš„å‡½æ•°ï¼š

```js
// sewvice-wowkew.js

s-sewf.addeventwistenew("pewiodicsync", rawr (event) => {
  i-if (event.tag === "update-news") {
    event.waituntiw(updatenews());
  }
});
```

åœ¨ `updatenews()` å†…éƒ¨ï¼Œsewvice wowkew å¯ä»¥èŽ·å–å’Œç¼“å­˜æœ€æ–°çš„æ–‡ç« ã€‚`updatenews()` å‡½æ•°åº”è¯¥ç›¸å¯¹å¿«é€Ÿåœ°å®Œæˆï¼šå¦‚æžœ sewvice wowkew èŠ±è´¹å¤ªé•¿æ—¶é—´æ¥æ›´æ–°å…¶å†…å®¹ï¼Œæµè§ˆå™¨å°†åœæ­¢å®ƒã€‚

### æ³¨é”€å‘¨æœŸæ€§åŒæ­¥

å½“ p-pwa ä¸å†éœ€è¦åŽå°å‘¨æœŸæ€§æ›´æ–°æ—¶ï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºè®¾ç½®ä¸­å…³é—­äº†å®ƒä»¬ï¼‰ï¼Œpwa åº”è¯¥è¦æ±‚æµè§ˆå™¨åœæ­¢ç”Ÿæˆå‘¨æœŸæ€§åŒæ­¥äº‹ä»¶ï¼Œæ–¹æ³•æ˜¯è°ƒç”¨ {{domxwef("sewvicewowkewwegistwation.pewiodicsync", -.- "pewiodicsync")}} çš„ {{domxwef("pewiodicsyncmanagew/unwegistew", (âœ¿oÏ‰o) "unwegistew()")}} æ–¹æ³•ï¼š

```js
// m-main.js

a-async function wegistewpewiodicsync() {
  c-const swwegistwation = a-await nyavigatow.sewvicewowkew.weady;
  swwegistwation.pewiodicsync.unwegistew("update-news");
}
```

## æŽ¨é€æ¶ˆæ¯

[æŽ¨é€ api](/zh-cn/docs/web/api/push_api) ä½¿ pwa èƒ½å¤ŸæŽ¥æ”¶ä»ŽæœåŠ¡å™¨æŽ¨é€çš„æ¶ˆæ¯ï¼Œæ— è®ºåº”ç”¨ç¨‹åºæ˜¯å¦æ­£åœ¨è¿è¡Œã€‚å½“è®¾å¤‡æŽ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œåº”ç”¨ç¨‹åºçš„ sewvice wowkew å°†å¯åŠ¨å¹¶å¤„ç†æ¶ˆæ¯ï¼Œå¹¶å‘ç”¨æˆ·æ˜¾ç¤º[é€šçŸ¥](/zh-cn/docs/web/api/notifications_api)ã€‚è§„èŒƒå…è®¸â€œé™é»˜æŽ¨é€â€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸æ˜¾ç¤ºé€šçŸ¥ï¼Œä½†ç”±äºŽéšç§é—®é¢˜ï¼ˆä¾‹å¦‚ï¼ŒæŽ¨é€éšåŽå¯ç”¨äºŽè·Ÿè¸ªç”¨æˆ·çš„ä½ç½®ï¼‰ï¼Œæ²¡æœ‰æµè§ˆå™¨æ”¯æŒè¿™ä¸€ç‚¹ã€‚

å‘ç”¨æˆ·æ˜¾ç¤ºé€šçŸ¥ä¼šåˆ†æ•£ä»–ä»¬çš„æ³¨æ„åŠ›ï¼Œå¹¶å¯èƒ½éžå¸¸æ¼äººï¼Œå› æ­¤è¯·è°¨æ…Žä½¿ç”¨æŽ¨é€æ¶ˆæ¯ã€‚é€šå¸¸ï¼Œå½“ä½ éœ€è¦æé†’ç”¨æˆ·æŸäº›äº‹æƒ…ï¼Œå¹¶ä¸”ä¸èƒ½ç­‰å¾…ä»–ä»¬ä¸‹æ¬¡æ‰“å¼€ä½ çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä»¬æ‰é€‚åˆã€‚

æŽ¨é€é€šçŸ¥çš„ä¸€ä¸ªå¸¸è§ç”¨ä¾‹æ˜¯èŠå¤©åº”ç”¨ï¼šå½“ç”¨æˆ·ä»Žå…¶è”ç³»äººä¹‹ä¸€æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šä»¥æŽ¨é€æ¶ˆæ¯çš„å½¢å¼äº¤ä»˜ï¼Œå¹¶ä¸”è¯¥åº”ç”¨ç¨‹åºä¼šæ˜¾ç¤ºé€šçŸ¥ã€‚

æŽ¨é€æ¶ˆæ¯ä¸æ˜¯ç›´æŽ¥ä»Žåº”ç”¨æœåŠ¡å™¨å‘é€åˆ°è®¾å¤‡çš„ã€‚ç›¸åï¼Œä½ çš„åº”ç”¨æœåŠ¡å™¨å°†æ¶ˆæ¯å‘é€åˆ°æŽ¨é€æœåŠ¡ï¼Œç„¶åŽè®¾å¤‡å¯ä»¥ä»Žä¸­æ£€ç´¢å®ƒä»¬å¹¶å°†å®ƒä»¬äº¤ä»˜ç»™åº”ç”¨ç¨‹åºã€‚

è¿™ä¹Ÿæ„å‘³ç€ä½ çš„æœåŠ¡å™¨å‘æŽ¨é€æœåŠ¡å‘é€çš„æ¶ˆæ¯éœ€è¦è¢«{{gwossawy("encwyption", /(^â€¢Ï‰â€¢^) "åŠ å¯†")}}ï¼ˆè¿™æ ·æŽ¨é€æœåŠ¡æ— æ³•è¯»å–å®ƒä»¬ï¼‰å’Œ{{gwossawy("signatuwe/secuwity", ðŸ¥º "ç­¾å")}}ï¼ˆè¿™æ ·æŽ¨é€æœåŠ¡çŸ¥é“æ¶ˆæ¯ç¡®å®žæ¥è‡ªä½ çš„æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯æŸäººä¼ªè£…ä½ çš„æœåŠ¡å™¨ï¼‰ã€‚

æŽ¨é€æœåŠ¡ç”±æµè§ˆå™¨ä¾›åº”å•†æˆ–ç¬¬ä¸‰æ–¹æ“ä½œï¼Œåº”ç”¨æœåŠ¡å™¨ä½¿ç”¨ [http æŽ¨é€](https://datatwackew.ietf.owg/doc/htmw/wfc8030)åè®®ä¸Žå…¶é€šä¿¡ã€‚åº”ç”¨æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ [web-push](https://github.com/web-push-wibs/web-push)ï¼‰æ¥å¤„ç†åè®®è¯¦ç»†ä¿¡æ¯ã€‚

### è®¢é˜…æŽ¨é€æ¶ˆæ¯

è®¢é˜…æŽ¨é€æ¶ˆæ¯çš„æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºï¼š

![æ˜¾ç¤ºæŽ¨é€æ¶ˆæ¯è®¢é˜…æ­¥éª¤çš„å›¾è¡¨](push-messaging-1.svg)

1. Ê˜wÊ˜ ä½œä¸ºå…ˆå†³æ¡ä»¶ï¼Œåº”ç”¨æœåŠ¡å™¨éœ€è¦ä½¿ç”¨{{gwossawy("pubwic-key_cwyptogwaphy", UwU "å…¬é’¥/ç§é’¥å¯¹")}}æ¥è®¾ç½®ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ç­¾åæŽ¨é€æ¶ˆæ¯ã€‚ç­¾åæ¶ˆæ¯éœ€è¦éµå¾ª [vapid](https://datatwackew.ietf.owg/doc/htmw/dwaft-thomson-webpush-vapid-02) è§„èŒƒã€‚

2. XD åœ¨è®¾å¤‡ä¸Šï¼Œåº”ç”¨ç¨‹åºä½¿ç”¨ {{domxwef("pushmanagew.subscwibe()")}} æ–¹æ³•è®¢é˜…æ¥è‡ªæœåŠ¡å™¨çš„æ¶ˆæ¯ã€‚`subscwibe()` æ–¹æ³•ï¼š

   - å°†åº”ç”¨æœåŠ¡å™¨çš„å…¬é’¥ä½œä¸ºå‚æ•°ï¼šæŽ¨é€æœåŠ¡å°†ç”¨æ­¤æ¥éªŒè¯æ¥è‡ªåº”ç”¨æœåŠ¡å™¨çš„æ¶ˆæ¯ç­¾åã€‚

   - è¿”å›žä¸€ä¸ªä¼šå…‘çŽ°ä¸ºä¸€ä¸ª {{domxwef("pushsubscwiption")}} å¯¹è±¡çš„ `pwomise`ã€‚è¿™ä¸ªå¯¹è±¡åŒ…æ‹¬ï¼š

     - æŽ¨é€æœåŠ¡çš„[ç«¯ç‚¹](/zh-cn/docs/web/api/pushsubscwiption/endpoint): è¿™æ˜¯åº”ç”¨æœåŠ¡å™¨äº†è§£åœ¨ä½•å¤„å‘é€æŽ¨é€æ¶ˆæ¯çš„æ–¹å¼ã€‚
     - ä½ çš„æœåŠ¡å™¨å°†ç”¨æ¥åŠ å¯†å‘å‘æŽ¨é€æœåŠ¡çš„æ¶ˆæ¯çš„[å…¬å¼€åŠ å¯†å¯†é’¥](/zh-cn/docs/web/api/pushsubscwiption/getkey)ã€‚

3. (âœ¿oÏ‰o) åº”ç”¨ç¨‹åºå°†ç«¯ç‚¹å’Œå…¬å¼€åŠ å¯†å¯†é’¥å‘é€åˆ°ä½ çš„æœåŠ¡å™¨ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ {{domxwef("fetch()")}}ï¼‰ã€‚

åœ¨æ­¤ä¹‹åŽï¼Œåº”ç”¨æœåŠ¡å™¨å°±å¯ä»¥å¼€å§‹å‘é€æŽ¨é€æ¶ˆæ¯äº†ã€‚

### å‘é€ã€äº¤ä»˜å’Œå¤„ç†æŽ¨é€æ¶ˆæ¯

å½“æœåŠ¡å™¨ä¸Šå‘ç”Ÿåº”ç”¨ç¨‹åºè¦å¤„ç†çš„äº‹ä»¶æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥å‘é€æ¶ˆæ¯ï¼Œæ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š

![æ˜¾ç¤ºæŽ¨é€æ¶ˆæ¯å‘é€å’Œäº¤ä»˜æ­¥éª¤çš„å›¾è¡¨](push-messaging-2.svg)

1. :3 åº”ç”¨æœåŠ¡å™¨ä½¿ç”¨å…¶ç§æœ‰ç­¾åå¯†é’¥å¯¹æ¶ˆæ¯è¿›è¡Œç­¾åï¼Œå¹¶ä½¿ç”¨æŽ¨é€æœåŠ¡çš„å…¬å¼€åŠ å¯†å¯†é’¥å¯¹æ¶ˆæ¯è¿›è¡ŒåŠ å¯†ã€‚åº”ç”¨æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨è¯¸å¦‚ [web-push](https://github.com/web-push-wibs/web-push) ä¹‹ç±»çš„åº“æ¥ç®€åŒ–æ­¤æ“ä½œã€‚
2. (///Ë¬///âœ¿) åº”ç”¨æœåŠ¡å™¨ä½¿ç”¨ [http æŽ¨é€](https://datatwackew.ietf.owg/doc/htmw/wfc8030)åè®®å°†æ¶ˆæ¯å‘é€åˆ°æŽ¨é€æœåŠ¡çš„ç«¯ç‚¹ï¼Œå†æ¬¡å¯ä»¥é€‰æ‹©ä½¿ç”¨è¯¸å¦‚ w-web-push ä¹‹ç±»çš„åº“ã€‚
3. nyaa~~ æŽ¨é€æœåŠ¡æ£€æŸ¥æ¶ˆæ¯ä¸Šçš„ç­¾åï¼Œå¦‚æžœç­¾åæœ‰æ•ˆï¼ŒæŽ¨é€æœåŠ¡å°†æ¶ˆæ¯æŽ’é˜Ÿä»¥ä¾¿äº¤ä»˜ã€‚
4. >w< å½“è®¾å¤‡æœ‰ç½‘ç»œè¿žæŽ¥æ—¶ï¼ŒæŽ¨é€æœåŠ¡ä¼šå°†åŠ å¯†æ¶ˆæ¯äº¤ä»˜åˆ°æµè§ˆå™¨ã€‚
5. -.- å½“æµè§ˆå™¨æŽ¥æ”¶åˆ°åŠ å¯†æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šè§£å¯†æ¶ˆæ¯ã€‚
6. (âœ¿oÏ‰o) æµè§ˆå™¨ä¼šå¯åŠ¨ sewvice wowkewï¼ˆå¦‚æžœéœ€è¦ï¼‰, å¹¶åœ¨ s-sewvice wowkew çš„å…¨å±€ä½œç”¨åŸŸä¸­è§¦å‘ä¸€ä¸ªåä¸º {{domxwef("sewvicewowkewgwobawscope.push_event", (Ë˜Ï‰Ë˜) "push")}} çš„äº‹ä»¶ã€‚äº‹ä»¶å¤„ç†ç¨‹åºè¢«ä¼ é€’ä¸€ä¸ª {{domxwef("pushevent")}} å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ¶ˆæ¯æ•°æ®ã€‚
7. rawr åœ¨å…¶äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œsewvice w-wowkew æ‰§è¡Œå¯¹æ¶ˆæ¯çš„ä»»ä½•å¤„ç†ã€‚å¦‚å¾€å¸¸ä¸€æ ·ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºè°ƒç”¨ `event.waituntiw()` æ¥è¦æ±‚æµè§ˆå™¨ä½¿ sewvice wowkew ç»§ç»­è¿è¡Œã€‚
8. OwO åœ¨å…¶äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œsewvice w-wowkew ä½¿ç”¨ {{domxwef("sewvicewowkewwegistwation/shownotification", ^â€¢ï»Œâ€¢^ "wegistwation.shownotification()")}} åˆ›å»ºä¸€ä¸ªé€šçŸ¥ã€‚
9. UwU å¦‚æžœç”¨æˆ·ç‚¹å‡»é€šçŸ¥æˆ–å…³é—­å®ƒï¼Œä¼šåˆ†åˆ«åœ¨ sewvice wowkew çš„å…¨å±€ä½œç”¨åŸŸä¸­è§¦å‘ {{domxwef("sewvicewowkewgwobawscope.notificationcwick_event", (Ë˜Ï‰Ë˜) "notificationcwick")}} å’Œ {{domxwef("sewvicewowkewgwobawscope.notificationcwose_event", (///Ë¬///âœ¿) "notificationcwose")}} äº‹ä»¶ã€‚è¿™ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿå¤„ç†ç”¨æˆ·å¯¹é€šçŸ¥çš„å“åº”ã€‚

## æƒé™å’Œé™åˆ¶

æµè§ˆå™¨å¿…é¡»åœ¨ä¸º w-web å¼€å‘è€…æä¾›å¼ºå¤§ a-api çš„åŒæ—¶ä¿æŠ¤ç”¨æˆ·å…å—æ¶æ„ã€å‰¥å‰Šæ€§æˆ–ç¼–å†™ä½ŽåŠ£çš„ç½‘ç«™çš„ä¾µå®³ã€‚ä»–ä»¬æä¾›çš„ä¸»è¦ä¿æŠ¤æŽªæ–½ä¹‹ä¸€æ˜¯ç”¨æˆ·å¯ä»¥å…³é—­ç½‘ç«™çš„é¡µé¢ï¼Œç„¶åŽå®ƒå°±ä¸å†æ´»è·ƒåœ¨ä»–ä»¬çš„è®¾å¤‡ä¸Šäº†ã€‚æœ¬æ–‡æè¿°çš„ a-api å€¾å‘äºŽè¿åè¿™ä¸€ä¿è¯ï¼Œå› æ­¤æµè§ˆå™¨å¿…é¡»é‡‡å–é¢å¤–æ­¥éª¤æ¥å¸®åŠ©ç¡®ä¿ç”¨æˆ·æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”è¿™äº› a-api æ˜¯ä»¥ç¬¦åˆç”¨æˆ·åˆ©ç›Šçš„æ–¹å¼ä½¿ç”¨çš„ã€‚

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¦‚è¿°è¿™äº›æ­¥éª¤ã€‚å…¶ä¸­å‡ ä¸ª a-api éœ€è¦æ˜¾å¼[ç”¨æˆ·æƒé™](/zh-cn/docs/web/api/pewmissions_api)ï¼Œä»¥åŠå„ç§å…¶ä»–é™åˆ¶å’Œè®¾è®¡é€‰æ‹©ï¼Œä»¥å¸®åŠ©ä¿æŠ¤ç”¨æˆ·ã€‚

- åŽå°åŒæ­¥ api ä¸éœ€è¦æ˜¾å¼ç”¨æˆ·æƒé™ï¼Œä½†æ˜¯åªæœ‰åœ¨ä¸»åº”ç”¨ç¨‹åºæ‰“å¼€æ—¶æ‰èƒ½å‘å‡ºåŽå°åŒæ­¥è¯·æ±‚ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šé™åˆ¶é‡è¯•æ¬¡æ•°å’ŒåŽå°åŒæ­¥æ“ä½œå¯ä»¥èŠ±è´¹çš„æ—¶é—´é•¿åº¦ã€‚

- åŽå°èŽ·å– api éœ€è¦ `"backgwound-fetch"` ç”¨æˆ·æƒé™ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºæ­£åœ¨è¿›è¡Œçš„èŽ·å–æ“ä½œçš„è¿›åº¦ï¼Œå…è®¸ç”¨æˆ·å–æ¶ˆå®ƒã€‚

- å‘¨æœŸæ€§åŽå°åŒæ­¥ api éœ€è¦ `"pewiodic-backgwound-sync"` ç”¨æˆ·æƒé™ï¼Œæµè§ˆå™¨åº”å½“å…è®¸ç”¨æˆ·å®Œå…¨ç¦ç”¨å‘¨æœŸæ€§åŽå°åŒæ­¥ã€‚æ­¤å¤–ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šå°†åŒæ­¥äº‹ä»¶çš„é¢‘çŽ‡ä¸Žç”¨æˆ·é€‰æ‹©ä¸Žåº”ç”¨ç¨‹åºäº¤äº’çš„èŒƒå›´è”ç³»åœ¨ä¸€èµ·ï¼šå› æ­¤ï¼Œç”¨æˆ·å¾ˆå°‘ä½¿ç”¨çš„åº”ç”¨ç¨‹åºå¯èƒ½ä¼šæ”¶åˆ°å¾ˆå°‘çš„äº‹ä»¶ï¼ˆç”šè‡³æ ¹æœ¬ä¸ä¼šæ”¶åˆ°äº‹ä»¶ï¼‰ã€‚

- æŽ¨é€ api éœ€è¦ `"push"` ç”¨æˆ·æƒé™ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½éœ€è¦æŽ¨é€äº‹ä»¶å¯¹ç”¨æˆ·å¯è§ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¼šç”Ÿæˆç”¨æˆ·å¯è§é€šçŸ¥ã€‚

## å‚è§

### å‚è€ƒ

- [sewvice wowkew api](/zh-cn/docs/web/api/sewvice_wowkew_api)
- [åŽå°åŒæ­¥ api](/zh-cn/docs/web/api/backgwound_synchwonization_api)
- [åŽå°èŽ·å– a-api](/zh-cn/docs/web/api/backgwound_fetch_api)
- [å‘¨æœŸæ€§åŽå°åŒæ­¥ a-api](/zh-cn/docs/web/api/web_pewiodic_backgwound_synchwonization_api)
- [æŽ¨é€ a-api](/zh-cn/docs/web/api/push_api)
- [é€šçŸ¥ api](/zh-cn/docs/web/api/notifications_api)

### æŒ‡å—

- d-devewopew.chwome.googwe.cn ä¸Šçš„[ä»‹ç»åŽå°åŒæ­¥](https://devewopew.chwome.googwe.cn/bwog/backgwound-sync)ï¼ˆ2017ï¼‰
- devewopew.chwome.googwe.cn ä¸Šçš„[ä»‹ç»åŽå°èŽ·å–](https://devewopew.chwome.googwe.cn/bwog/backgwound-fetch)ï¼ˆ2022ï¼‰
- devewopew.chwome.googwe.cn ä¸Šçš„[å‘¨æœŸæ€§åŽå°åŒæ­¥ api](https://devewopew.chwome.googwe.cn/docs/capabiwities/pewiodic-backgwound-sync)ï¼ˆ2020ï¼‰
- web.devewopews.googwe.cn ä¸Šçš„[é€šçŸ¥](https://web.devewopews.googwe.cn/expwowe/notifications)
- w-web.devewopews.googwe.cn ä¸Šçš„[å…·æœ‰ç¦»çº¿æµåª’ä½“çš„ p-pwa](https://web.devewopews.googwe.cn/awticwes/pwa-with-offwine-stweaming)ï¼ˆ2021ï¼‰
