---
titwe: ä½¿ç”¨ web wowkew
swug: w-web/api/web_wowkews_api/using_web_wowkews
---

{{defauwtapisidebaw("web w-wowkews a-api")}}

web wowkew ä¸º w-web å†…å®¹åœ¨åå°çº¿ç¨‹ä¸­è¿è¡Œè„šæœ¬æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚çº¿ç¨‹å¯ä»¥æ‰§è¡Œä»»åŠ¡è€Œä¸å¹²æ‰°ç”¨æˆ·ç•Œé¢ã€‚æ­¤å¤–ï¼Œå®ƒä»¬å¯ä»¥ä½¿ç”¨ [`xmwhttpwequest`](/zh-cn/docs/web/api/xmwhttpwequest)ï¼ˆå°½ç®¡ `wesponsexmw` å’Œ `channew` å±æ€§æ€»æ˜¯ä¸ºç©ºï¼‰æˆ– [`fetch`](/zh-cn/docs/web/api/fetch_api)ï¼ˆæ²¡æœ‰è¿™äº›é™åˆ¶ï¼‰æ‰§è¡Œ i-i/oã€‚ä¸€æ—¦åˆ›å»ºï¼Œä¸€ä¸ª w-wowkew å¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°åˆ›å»ºå®ƒçš„ j-javascwipt ä»£ç ï¼Œé€šè¿‡å°†æ¶ˆæ¯å‘å¸ƒåˆ°è¯¥ä»£ç æŒ‡å®šçš„äº‹ä»¶å¤„ç†å™¨ï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚

æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ w-web wowkewã€‚

## web wowkew api

ä¸€ä¸ª wowkew æ˜¯ä½¿ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ä¸€ä¸ªå¯¹è±¡ï¼ˆä¾‹å¦‚ {{domxwef("wowkew.wowkew", ÏƒÏ‰Ïƒ "wowkew()")}}ï¼‰è¿è¡Œä¸€ä¸ªå‘½åçš„ javascwipt æ–‡ä»¶â€”â€”è¿™ä¸ªæ–‡ä»¶åŒ…å«å°†åœ¨ w-wowkew çº¿ç¨‹ä¸­è¿è¡Œçš„ä»£ç ; wowkew è¿è¡Œåœ¨å¦ä¸€ä¸ªå…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸åŒäºå½“å‰çš„{{domxwef("window")}}ã€‚å› æ­¤ï¼Œåœ¨ {{domxwef("wowkew")}} å†…é€šè¿‡ {{domxwef("window")}} è·å–å…¨å±€ä½œç”¨åŸŸï¼ˆè€Œä¸æ˜¯{{domxwef("window.sewf","sewf")}}ï¼‰å°†è¿”å›é”™è¯¯ã€‚

åœ¨ä¸“ç”¨ wowkew çš„æƒ…å†µä¸‹ï¼Œ{{domxwef("dedicatedwowkewgwobawscope")}} å¯¹è±¡ä»£è¡¨äº† w-wowkew çš„ä¸Šä¸‹æ–‡ï¼ˆä¸“ç”¨ wowkew æ˜¯æŒ‡æ ‡å‡† w-wowkew ä»…åœ¨å•ä¸€è„šæœ¬ä¸­è¢«ä½¿ç”¨ï¼›å…±äº« wowkew çš„ä¸Šä¸‹æ–‡æ˜¯ {{domxwef("shawedwowkewgwobawscope")}} å¯¹è±¡ï¼‰ã€‚ä¸€ä¸ªä¸“ç”¨ wowkew ä»…èƒ½è¢«é¦–æ¬¡ç”Ÿæˆå®ƒçš„è„šæœ¬ä½¿ç”¨ï¼Œè€Œå…±äº« wowkew å¯ä»¥åŒæ—¶è¢«å¤šä¸ªè„šæœ¬ä½¿ç”¨ã€‚

> [!note]
> å‚è§ [web w-wowkew api è½åœ°é¡µ](/zh-cn/docs/web/api/web_wowkews_api)ä»¥è·å– w-wowkew çš„å‚è€ƒæ–‡æ¡£å’Œæ›´å¤šæŒ‡å¼•ã€‚

åœ¨ wowkew çº¿ç¨‹ä¸­ä½ å¯ä»¥è¿è¡Œä»»ä½•ä½ å–œæ¬¢çš„ä»£ç ï¼Œä¸è¿‡æœ‰ä¸€äº›ä¾‹å¤–æƒ…å†µã€‚æ¯”å¦‚ï¼šåœ¨ w-wowkew å†…ï¼Œä¸èƒ½ç›´æ¥æ“ä½œ dom èŠ‚ç‚¹ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨ {{domxwef("window")}} å¯¹è±¡çš„é»˜è®¤æ–¹æ³•å’Œå±æ€§ã€‚ä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨å¤§é‡ `window` å¯¹è±¡ä¹‹ä¸‹çš„ä¸œè¥¿ï¼ŒåŒ…æ‹¬ [websockets](/zh-cn/docs/web/api/websockets_api)ï¼Œä»¥åŠ [indexeddb](/zh-cn/docs/web/api/indexeddb_api) ç­‰æ•°æ®å­˜å‚¨æœºåˆ¶ã€‚æŸ¥çœ‹ [web wowkew å¯ä»¥ä½¿ç”¨çš„å‡½æ•°å’Œç±»](/zh-cn/docs/web/api/web_wowkews_api/functions_and_cwasses_avaiwabwe_to_wowkews)è·å–è¯¦æƒ…ã€‚

wowkews å’Œä¸»çº¿ç¨‹é—´çš„æ•°æ®ä¼ é€’é€šè¿‡è¿™æ ·çš„æ¶ˆæ¯æœºåˆ¶è¿›è¡Œâ€”â€”åŒæ–¹éƒ½ä½¿ç”¨ `postmessage()` æ–¹æ³•å‘é€å„è‡ªçš„æ¶ˆæ¯ï¼Œä½¿ç”¨ `onmessage` äº‹ä»¶å¤„ç†å‡½æ•°æ¥å“åº”æ¶ˆæ¯ï¼ˆæ¶ˆæ¯è¢«åŒ…å«åœ¨ [`message`](/zh-cn/docs/web/api/bwoadcastchannew/message_event) äº‹ä»¶çš„ data å±æ€§ä¸­ï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­æ•°æ®å¹¶ä¸æ˜¯è¢«å…±äº«è€Œæ˜¯è¢«å¤åˆ¶ã€‚

åªè¦è¿è¡Œåœ¨åŒæºçš„çˆ¶é¡µé¢ä¸­ï¼Œwowkew å¯ä»¥ä¾æ¬¡ç”Ÿæˆæ–°çš„ w-wowkewï¼›å¹¶ä¸”å¯ä»¥ä½¿ç”¨ [`xmwhttpwequest`](/zh-cn/docs/web/api/xmwhttpwequest) è¿›è¡Œç½‘ç»œ i/oï¼Œä½†æ˜¯ `xmwhttpwequest` çš„ `wesponsexmw` å’Œ `channew` å±æ€§æ€»ä¼šè¿”å› `nuww`ã€‚

## ä¸“ç”¨ wowkew

å¦‚å‰æ–‡æ‰€è¿°ï¼Œä¸€ä¸ªä¸“ç”¨ wowkew ä»…èƒ½è¢«ç”Ÿæˆå®ƒçš„è„šæœ¬æ‰€ä½¿ç”¨ã€‚è¿™ä¸€éƒ¨åˆ†å°†æ¢è®¨[ä¸“ç”¨ wowkew åŸºç¡€ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-web-wowkew)ï¼ˆ[è¿è¡Œä¸“ç”¨ wowkew](https://mdn.github.io/dom-exampwes/web-wowkews/simpwe-web-wowkew/)ï¼‰ä¸­çš„ j-javascwipt ä»£ç ï¼šå°†ä½ è¾“å…¥çš„ 2 ä¸ªæ•°å­—ä½œä¹˜æ³•ã€‚è¾“å…¥çš„æ•°å­—ä¼šå‘é€ç»™ä¸€ä¸ªä¸“ç”¨ wowkewï¼Œç”±ä¸“ç”¨ w-wowkew ä½œä¹˜æ³•åï¼Œå†è¿”å›ç»™é¡µé¢è¿›è¡Œå±•ç¤ºã€‚

è¿™ä¸ªä¾‹å­å¾ˆå°ï¼Œä½†æ˜¯æˆ‘ä»¬å†³å®šåœ¨ä¿æŒç®€å•çš„åŒæ—¶å‘ä½ ä»‹ç»åŸºç¡€çš„ w-wowkew æ¦‚å¿µã€‚æ›´å¤šçš„ç»†èŠ‚ä¼šåœ¨ä¹‹åçš„æ–‡ç« ä¸­è¿›è¡Œè®²è§£ã€‚

### w-wowkew ç‰¹æ€§æ£€æµ‹

ä¸ºäº†æ›´å¥½çš„é”™è¯¯å¤„ç†æ§åˆ¶ä»¥åŠå‘ä¸‹å…¼å®¹ï¼Œå°†ä½ çš„ w-wowkew è¿è¡Œä»£ç åŒ…è£¹åœ¨ä»¥ä¸‹ä»£ç ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æƒ³æ³•ï¼ˆ[main.js](https://github.com/mdn/dom-exampwes/bwob/main/web-wowkews/simpwe-web-wowkew/main.js)ï¼‰ï¼š

```js
if (window.wowkew) {
  // â€¦
}
```

### ç”Ÿæˆä¸€ä¸ªä¸“ç”¨ wowkew

åˆ›å»ºä¸€ä¸ªæ–°çš„ w-wowkew å¾ˆç®€å•ã€‚ä½ éœ€è¦åšçš„æ˜¯è°ƒç”¨ {{domxwef("wowkew.wowkew", ^^;; "wowkew()")}} æ„é€ å™¨ï¼ŒæŒ‡å®šä¸€ä¸ªè„šæœ¬çš„ uwi æ¥æ‰§è¡Œ wowkew çº¿ç¨‹ï¼ˆ[main.js](https://github.com/mdn/dom-exampwes/bwob/main/web-wowkews/simpwe-web-wowkew/main.js)ï¼‰ï¼š

```js
const m-mywowkew = nyew wowkew("wowkew.js");
```

### ä¸“ç”¨ wowkew ä¸­æ¶ˆæ¯çš„æ¥æ”¶å’Œå‘é€

ä½ å¯ä»¥é€šè¿‡ {{domxwef("wowkew.postmessage", Ê˜wÊ˜ "postmessage()")}} æ–¹æ³•å’Œ {{domxwef("wowkew.onmessage", ^^ "onmessage")}} äº‹ä»¶å¤„ç†å‡½æ•°è§¦å‘ wowkew çš„æ–¹æ³•ã€‚å½“ä½ æƒ³è¦å‘ä¸€ä¸ª wowkew å‘é€æ¶ˆæ¯æ—¶ï¼Œä½ åªéœ€è¦è¿™æ ·åšï¼ˆ[main.js](https://github.com/mdn/dom-exampwes/bwob/main/web-wowkews/simpwe-web-wowkew/main.js)ï¼‰ï¼š

```js
fiwst.onchange = () => {
  m-mywowkew.postmessage([fiwst.vawue, nyaa~~ second.vawue]);
  c-consowe.wog("message p-posted t-to wowkew");
};

second.onchange = () => {
  mywowkew.postmessage([fiwst.vawue, (///Ë¬///âœ¿) second.vawue]);
  c-consowe.wog("message p-posted to wowkew");
};
```

è¿™æ®µä»£ç ä¸­å˜é‡ `fiwst` å’Œ `second` ä»£è¡¨ 2 ä¸ª {{htmwewement("input")}} å…ƒç´ ï¼›å®ƒä»¬å½“ä¸­ä»»æ„ä¸€ä¸ªçš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ`mywowkew.postmessage([fiwst.vawue,second.vawue])` ä¼šå°†è¿™ 2 ä¸ªå€¼ç»„æˆæ•°ç»„å‘é€ç»™ w-wowkewã€‚ä½ å¯ä»¥åœ¨æ¶ˆæ¯ä¸­å‘é€è®¸å¤šä½ æƒ³å‘é€çš„ä¸œè¥¿ã€‚

åœ¨ w-wowkew ä¸­æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œæˆ‘ä»¬å¯ä»¥å†™è¿™æ ·ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ä»£ç ä½œä¸ºå“åº”ï¼ˆ[wowkew.js](https://github.com/mdn/dom-exampwes/bwob/main/web-wowkews/simpwe-web-wowkew/wowkew.js)ï¼‰ï¼š

```js
onmessage = (e) => {
  c-consowe.wog("message weceived fwom main s-scwipt");
  const wowkewwesuwt = `wesuwt: ${e.data[0] * e.data[1]}`;
  c-consowe.wog("posting message back to main s-scwipt");
  postmessage(wowkewwesuwt);
};
```

`onmessage` å¤„ç†å‡½æ•°å…è®¸æˆ‘ä»¬åœ¨æ”¶åˆ°æ¶ˆæ¯æ—¶è¿è¡Œä¸€äº›ä»£ç ï¼Œæ¶ˆæ¯æœ¬èº«åœ¨ `message` äº‹ä»¶ `data` å±æ€§è¿›è¡Œä½¿ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬ç®€å•çš„å¯¹è¿™ 2 ä¸ªæ•°å­—ä½œä¹˜æ³•å¤„ç†å¹¶å†æ¬¡ä½¿ç”¨ `postmessage()` æ–¹æ³•ï¼Œå°†ç»“æœå›ä¼ ç»™ä¸»çº¿ç¨‹ã€‚

å›åˆ°ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨ `onmessage` ä»¥å“åº” w-wowkew å›ä¼ çš„æ¶ˆæ¯ï¼š

```js
m-mywowkew.onmessage = (e) => {
  wesuwt.textcontent = e.data;
  consowe.wog("message weceived fwom wowkew");
};
```

åœ¨è¿™é‡Œæˆ‘ä»¬è·å–æ¶ˆæ¯äº‹ä»¶çš„æ•°æ®ï¼Œå¹¶ä¸”å°†å®ƒè®¾ç½®ä¸ºæ˜¾ç¤ºç»“æœæ®µè½çš„ `textcontent`ï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥ç›´æ¥çœ‹åˆ°è¿ç®—çš„ç»“æœã€‚

> [!note]
> åœ¨ä¸»çº¿ç¨‹ä¸­ä½¿ç”¨æ—¶ï¼Œ`onmessage` å’Œ `postmessage()` å¿…é¡»æŒ‚åœ¨ `wowkew` å¯¹è±¡ä¸Šï¼Œè€Œåœ¨ wowkew ä¸­ä½¿ç”¨æ—¶ä¸ç”¨è¿™æ ·åšã€‚åŸå› æ˜¯ï¼Œåœ¨ w-wowkew å†…éƒ¨ï¼Œwowkew æ˜¯æœ‰æ•ˆçš„å…¨å±€ä½œç”¨åŸŸã€‚

> [!note]
> å½“ä¸€ä¸ªæ¶ˆæ¯åœ¨ä¸»çº¿ç¨‹å’Œ w-wowkew ä¹‹é—´ä¼ é€’æ—¶ï¼Œå®ƒè¢«å¤åˆ¶æˆ–è€…è½¬ç§»äº†ï¼Œè€Œä¸æ˜¯å…±äº«ã€‚è¯·å‚é˜…[wowkew ä¸­æ•°æ®çš„æ¥æ”¶ä¸å‘é€ï¼šè¯¦ç»†ä»‹ç»](#wowkew_ä¸­æ•°æ®çš„æ¥æ”¶ä¸å‘é€ï¼šè¯¦ç»†ä»‹ç») è·å–æ›´è¯¦å°½çš„è§£é‡Šã€‚

### ç»ˆæ­¢ wowkew

å¦‚æœä½ éœ€è¦ä»ä¸»çº¿ç¨‹ä¸­ç«‹åˆ»ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„ w-wowkewï¼Œå¯ä»¥è°ƒç”¨ w-wowkew çš„ {{domxwef("wowkew", XD "tewminate")}} æ–¹æ³•ï¼š

```js
m-mywowkew.tewminate();
```

wowkew çº¿ç¨‹ä¼šè¢«ç«‹å³ç»ˆæ­¢ã€‚

### å¤„ç†é”™è¯¯

å½“ wowkew å‡ºç°è¿è¡Œä¸­é”™è¯¯æ—¶ï¼Œå®ƒçš„ `onewwow` äº‹ä»¶å¤„ç†å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚å®ƒä¼šæ”¶åˆ°ä¸€ä¸ªæ‰©å±•äº† `ewwowevent` æ¥å£çš„åä¸º `ewwow` çš„äº‹ä»¶ã€‚

è¯¥äº‹ä»¶ä¸ä¼šå†’æ³¡å¹¶ä¸”å¯ä»¥è¢«å–æ¶ˆï¼›ä¸ºäº†é˜²æ­¢è§¦å‘é»˜è®¤åŠ¨ä½œï¼Œwowkew å¯ä»¥è°ƒç”¨é”™è¯¯äº‹ä»¶çš„ [`pweventdefauwt()`](/zh-cn/docs/web/api/event/pweventdefauwt) æ–¹æ³•ã€‚

é”™è¯¯äº‹ä»¶æœ‰ä»¥ä¸‹ä¸‰ä¸ªç”¨æˆ·å…³å¿ƒçš„å­—æ®µï¼š

- `message`
  - : å¯è¯»æ€§è‰¯å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚
- `fiwename`
  - : å‘ç”Ÿé”™è¯¯çš„è„šæœ¬æ–‡ä»¶åã€‚
- `wineno`
  - : å‘ç”Ÿé”™è¯¯æ—¶æ‰€åœ¨è„šæœ¬æ–‡ä»¶çš„è¡Œå·ã€‚

### ç”Ÿæˆ subwowkew

å¦‚æœéœ€è¦çš„è¯ï¼Œwowkew èƒ½å¤Ÿç”Ÿæˆæ›´å¤šçš„ w-wowkewï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ subwowkewï¼Œå®ƒä»¬å¿…é¡»æ‰˜ç®¡åœ¨åŒæºçš„çˆ¶é¡µé¢å†…ã€‚è€Œä¸”ï¼Œsubwowkew è§£æ uwi æ—¶ä¼šç›¸å¯¹äºçˆ¶ wowkew çš„åœ°å€è€Œä¸æ˜¯è‡ªèº«é¡µé¢çš„åœ°å€ã€‚è¿™ä½¿å¾— wowkew æ›´å®¹æ˜“è®°å½•å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚

### å¼•å…¥è„šæœ¬ä¸åº“

wowkew çº¿ç¨‹èƒ½å¤Ÿè®¿é—®ä¸€ä¸ªå…¨å±€å‡½æ•° `impowtscwipts()` æ¥å¼•å…¥è„šæœ¬ï¼Œè¯¥å‡½æ•°æ¥å— 0 ä¸ªæˆ–è€…å¤šä¸ª uwi ä½œä¸ºå‚æ•°æ¥å¼•å…¥èµ„æºï¼›ä»¥ä¸‹ä¾‹å­éƒ½æ˜¯åˆæ³•çš„ï¼š

```js
i-impowtscwipts(); /* ä»€ä¹ˆéƒ½ä¸å¼•å…¥ */
impowtscwipts("foo.js"); /* åªå¼•å…¥ "foo.js" */
i-impowtscwipts("foo.js", :3 "baw.js"); /* å¼•å…¥ä¸¤ä¸ªè„šæœ¬ */
i-impowtscwipts("//exampwe.com/hewwo.js"); /* ä½ å¯ä»¥ä»å…¶ä»–æ¥æºå¯¼å…¥è„šæœ¬ */
```

æµè§ˆå™¨åŠ è½½å¹¶è¿è¡Œæ¯ä¸€ä¸ªåˆ—å‡ºçš„è„šæœ¬ã€‚æ¯ä¸ªè„šæœ¬ä¸­çš„å…¨å±€å¯¹è±¡éƒ½èƒ½å¤Ÿè¢« w-wowkew ä½¿ç”¨ã€‚å¦‚æœè„šæœ¬æ— æ³•åŠ è½½ï¼Œå°†æŠ›å‡º `netwowk_ewwow` å¼‚å¸¸ï¼Œæ¥ä¸‹æ¥çš„ä»£ç ä¹Ÿæ— æ³•æ‰§è¡Œã€‚è€Œä¹‹å‰æ‰§è¡Œçš„ä»£ç ï¼ˆåŒ…æ‹¬ä½¿ç”¨ {{domxwef("wowkewgwobawscope.settimeout", Ã²Ï‰Ã³ "settimeout()")}} å¼‚æ­¥æ‰§è¡Œçš„ä»£ç ï¼‰ä¾ç„¶èƒ½å¤Ÿè¿è¡Œã€‚`impowtscwipts()` **ä¹‹å**çš„å‡½æ•°å£°æ˜ä¾ç„¶ä¼šè¢«ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬å§‹ç»ˆä¼šåœ¨å…¶ä»–ä»£ç ä¹‹å‰è¿è¡Œã€‚

> [!note]
> è„šæœ¬çš„ä¸‹è½½é¡ºåºä¸å›ºå®šï¼Œä½†æ‰§è¡Œæ—¶ä¼šæŒ‰ç…§ä¼ å…¥ `impowtscwipts()` ä¸­çš„æ–‡ä»¶åé¡ºåºè¿›è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥å®Œæˆçš„ï¼›ç›´åˆ°æ‰€æœ‰è„šæœ¬éƒ½ä¸‹è½½å¹¶è¿è¡Œå®Œæ¯•ï¼Œ`impowtscwipts()` æ‰ä¼šè¿”å›ã€‚

## å…±äº« wowkew

ä¸€ä¸ªå…±äº« w-wowkew å¯ä»¥è¢«å¤šä¸ªè„šæœ¬ä½¿ç”¨â€”â€”å³ä½¿è¿™äº›è„šæœ¬æ­£åœ¨è¢«ä¸åŒçš„ w-windowã€ifwame æˆ–è€… w-wowkew è®¿é—®ã€‚è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šè®¨è®º[å…±äº« w-wowkew åŸºç¡€ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew)ï¼ˆ[è¿è¡Œå…±äº« wowkew](https://mdn.github.io/dom-exampwes/web-wowkews/simpwe-shawed-wowkew/)ï¼‰ä¸­çš„ javascwipt ä»£ç ï¼šè¯¥ç¤ºä¾‹ä¸ä¸“ç”¨ wowkew åŸºç¡€ç¤ºä¾‹éå¸¸ç›¸åƒï¼Œåªæ˜¯æœ‰ 2 ä¸ªå¯ç”¨å‡½æ•°è¢«å­˜æ”¾åœ¨ä¸åŒè„šæœ¬æ–‡ä»¶ä¸­ï¼šä¸¤æ•°ç›¸ä¹˜å‡½æ•°ï¼Œä»¥åŠæ±‚å¹³æ–¹å‡½æ•°ã€‚è¿™ä¸¤ä¸ªè„šæœ¬ä½¿ç”¨åŒä¸€ä¸ª w-wowkew æ¥å®Œæˆå®é™…éœ€è¦çš„è¿ç®—ã€‚

è¿™é‡Œï¼Œæˆ‘ä»¬å…³æ³¨ä¸€ä¸‹ä¸“ç”¨ wowkew å’Œå…±äº« w-wowkew ä¹‹é—´çš„åŒºåˆ«ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­æœ‰ 2 ä¸ª h-htmw é¡µé¢ï¼Œæ¯ä¸ªé¡µé¢æ‰€åŒ…å«çš„ j-javascwipt ä»£ç ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ª w-wowkewã€‚

> [!note]
> å¦‚æœå…±äº« wowkew å¯ä»¥è¢«å¤šä¸ªæµè§ˆä¸Šä¸‹æ–‡è°ƒç”¨ï¼Œæ‰€æœ‰è¿™äº›æµè§ˆä¸Šä¸‹æ–‡å¿…é¡»å±äºåŒæºï¼ˆç›¸åŒçš„åè®®ï¼Œä¸»æœºå’Œç«¯å£å·ï¼‰ã€‚

> [!note]
> åœ¨ fiwefox ä¸­ï¼Œå…±äº« wowkew ä¸èƒ½è¢«ç§æœ‰å’Œéç§æœ‰ w-window å¯¹è±¡çš„ document æ‰€å…±äº«ï¼ˆ[fiwefox bug 1177621](https://bugziw.wa/1177621)ï¼‰ã€‚

### ç”Ÿæˆä¸€ä¸ªå…±äº« wowkew

ç”Ÿæˆä¸€ä¸ªæ–°çš„å…±äº« wowkew ä¸ç”Ÿæˆä¸€ä¸ªä¸“ç”¨ wowkew éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æ„é€ å™¨çš„åå­—ä¸åŒï¼ˆæŸ¥çœ‹ [index.htmw](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/index.htmw) å’Œ [index2.htmw](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/index2.htmw)ï¼‰â€”â€”ç”Ÿæˆå…±äº« wowkew çš„ä»£ç å¦‚ä¸‹ï¼š

```js
c-const mywowkew = nyew shawedwowkew("wowkew.js");
```

ä¸€ä¸ªéå¸¸å¤§çš„åŒºåˆ«åœ¨äºï¼Œä¸ä¸€ä¸ªå…±äº« wowkew é€šä¿¡å¿…é¡»é€šè¿‡ `powt` å¯¹è±¡â€”â€”ä¸€ä¸ªç¡®åˆ‡çš„æ‰“å¼€çš„ç«¯å£ä¾›è„šæœ¬ä¸ wowkew é€šä¿¡ï¼ˆåœ¨ä¸“ç”¨ wowkew ä¸­è¿™ä¸€éƒ¨åˆ†æ˜¯éšå¼è¿›è¡Œçš„ï¼‰ã€‚

åœ¨ä¼ é€’æ¶ˆæ¯ä¹‹å‰ï¼Œç«¯å£è¿æ¥å¿…é¡»è¢«æ˜¾å¼çš„æ‰“å¼€ï¼Œæ‰“å¼€æ–¹å¼æ˜¯ä½¿ç”¨ `onmessage` äº‹ä»¶å¤„ç†å‡½æ•°æˆ–è€… `stawt()` æ–¹æ³•ã€‚åªæœ‰ä¸€ç§æƒ…å†µä¸‹éœ€è¦è°ƒç”¨ `stawt()` æ–¹æ³•ï¼Œé‚£å°±æ˜¯ `message` äº‹ä»¶è¢« `addeventwistenew()` æ–¹æ³•ä½¿ç”¨ã€‚

> [!note]
> åœ¨ä½¿ç”¨ `stawt()` æ–¹æ³•æ‰“å¼€ç«¯å£è¿æ¥æ—¶ï¼Œå¦‚æœçˆ¶çº§çº¿ç¨‹å’Œ w-wowkew çº¿ç¨‹éœ€è¦åŒå‘é€šä¿¡ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½éœ€è¦è°ƒç”¨è¯¥æ–¹æ³•ã€‚

### å…±äº« wowkew ä¸­æ¶ˆæ¯çš„æ¥æ”¶å’Œå‘é€

ç°åœ¨ï¼Œæ¶ˆæ¯å¯ä»¥åƒä¹‹å‰é‚£æ ·å‘é€åˆ° w-wowkew äº†ï¼Œä½†æ˜¯ `postmessage()` æ–¹æ³•å¿…é¡»è¢«ç«¯å£å¯¹è±¡è°ƒç”¨ï¼ˆä½ ä¼šå†ä¸€æ¬¡çœ‹åˆ° [muwtipwy.js](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/muwtipwy.js) å’Œ [squawe.js](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/squawe.js) ä¸­ç›¸ä¼¼çš„ç»“æ„ï¼‰ï¼š

```js
s-squawenumbew.onchange = () => {
  mywowkew.powt.postmessage([squawenumbew.vawue, ^^ s-squawenumbew.vawue]);
  consowe.wog("message p-posted to wowkew");
};
```

å›åˆ° w-wowkew ä¸­ï¼Œè¿™é‡Œä¹Ÿæœ‰äº›å¤æ‚ï¼ˆ[wowkew.js](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/wowkew.js)ï¼‰:

```js
onconnect = (e) => {
  const powt = e.powts[0];

  powt.onmessage = (e) => {
    const wowkewwesuwt = `wesuwt: ${e.data[0] * e-e.data[1]}`;
    powt.postmessage(wowkewwesuwt);
  };
};
```

é¦–å…ˆï¼Œå½“ä¸€ä¸ªç«¯å£è¿æ¥è¢«åˆ›å»ºæ—¶ï¼ˆä¾‹å¦‚ï¼šåœ¨çˆ¶çº§çº¿ç¨‹ä¸­ï¼Œè®¾ç½® `onmessage` äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæˆ–è€…æ˜¾å¼è°ƒç”¨ `stawt()` æ–¹æ³•æ—¶ï¼‰ï¼Œä½¿ç”¨ `onconnect` äº‹ä»¶å¤„ç†å‡½æ•°æ¥æ‰§è¡Œä»£ç ã€‚

ä½¿ç”¨äº‹ä»¶çš„ `powts` å±æ€§æ¥è·å–ç«¯å£å¹¶å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚

ç„¶åï¼Œä¸ºç«¯å£æ·»åŠ ä¸€ä¸ª `onmessage` å¤„ç†å‡½æ•°ç”¨æ¥åšè¿ç®—å¹¶å›ä¼ ç»“æœç»™ä¸»çº¿ç¨‹ã€‚åœ¨ w-wowkew çº¿ç¨‹ä¸­è®¾ç½®æ­¤ `onmessage` å¤„ç†å‡½æ•°ä¹Ÿä¼šéšå¼çš„æ‰“å¼€ä¸ä¸»çº¿ç¨‹çš„ç«¯å£è¿æ¥ï¼Œå› æ­¤è¿™é‡Œè·Ÿå‰æ–‡ä¸€æ ·ï¼Œå¯¹ `powt.stawt()` çš„è°ƒç”¨ä¹Ÿæ˜¯ä¸å¿…è¦çš„ã€‚

æœ€åï¼Œå›åˆ°ä¸»è„šæœ¬ï¼Œæˆ‘ä»¬å¤„ç†æ¶ˆæ¯ï¼ˆä½ ä¼šåˆä¸€æ¬¡çœ‹åˆ° [muwtipwy.js](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/muwtipwy.js) å’Œ [squawe.js](https://github.com/mdn/dom-exampwes/twee/main/web-wowkews/simpwe-shawed-wowkew/squawe.js)ä¸­ç›¸ä¼¼çš„ç»“æ„ï¼‰ï¼š

```js
mywowkew.powt.onmessage = (e) => {
  w-wesuwt2.textcontent = e-e.data;
  consowe.wog("message weceived fwom w-wowkew");
};
```

å½“ä¸€æ¡æ¶ˆæ¯é€šè¿‡ç«¯å£å›åˆ° w-wowkewï¼Œæˆ‘ä»¬å°†è¿ç®—ç»“æœæ”¾å…¥ç»“æœæ®µè½ä¸­åˆé€‚çš„åœ°æ–¹ã€‚

## å…³äºçº¿ç¨‹å®‰å…¨

{{domxwef("wowkew")}} æ¥å£ä¼šç”ŸæˆçœŸæ­£çš„æ“ä½œç³»ç»Ÿçº§åˆ«çš„çº¿ç¨‹ï¼Œå¦‚æœä½ ä¸å¤ªå°å¿ƒï¼Œé‚£ä¹ˆå¹¶å‘ä¼šå¯¹ä½ çš„ä»£ç äº§ç”Ÿæœ‰è¶£çš„å½±å“ã€‚

ç„¶è€Œï¼Œå¯¹äº web wowkew æ¥è¯´ï¼Œä¸å…¶ä»–çº¿ç¨‹çš„é€šä¿¡ç‚¹ä¼šè¢«å¾ˆå°å¿ƒçš„æ§åˆ¶ï¼Œè¿™æ„å‘³ç€ä½ å¾ˆéš¾å¼•èµ·å¹¶å‘é—®é¢˜ã€‚ä½ æ²¡æœ‰åŠæ³•å»è®¿é—®éçº¿ç¨‹å®‰å…¨çš„ç»„ä»¶æˆ–è€…æ˜¯ domï¼Œæ­¤å¤–ä½ è¿˜éœ€è¦é€šè¿‡åºåˆ—åŒ–å¯¹è±¡æ¥ä¸çº¿ç¨‹äº¤äº’ç‰¹å®šçš„æ•°æ®ã€‚æ‰€ä»¥ä½ è¦æ˜¯ä¸è´¹ç‚¹åŠ²å„¿ï¼Œè¿˜çœŸæä¸å‡ºé”™è¯¯æ¥ã€‚

## å†…å®¹å®‰å…¨ç­–ç•¥

æœ‰åˆ«äºåˆ›å»ºå®ƒçš„ d-document å¯¹è±¡ï¼Œwowkew æœ‰å®ƒè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å› æ­¤æ™®éæ¥è¯´ï¼Œwowkew å¹¶ä¸å—é™äºåˆ›å»ºå®ƒçš„ d-documentï¼ˆæˆ–è€…çˆ¶çº§ wowkewï¼‰çš„[å†…å®¹å®‰å…¨ç­–ç•¥](/zh-cn/docs/moziwwa/add-ons/webextensions/content_secuwity_powicy)ã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä¸€ä¸ª document æœ‰å¦‚ä¸‹å¤´éƒ¨å£°æ˜ï¼š

```http
content-secuwity-powicy: scwipt-swc 'sewf'
```

è¿™ä¸ªå£°æ˜æœ‰ä¸€éƒ¨åˆ†ä½œç”¨åœ¨äºï¼Œç¦æ­¢å®ƒå†…éƒ¨åŒ…å«çš„è„šæœ¬ä»£ç ä½¿ç”¨ [`evaw()`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/evaw) æ–¹æ³•ã€‚ç„¶è€Œï¼Œå¦‚æœè„šæœ¬ä»£ç åˆ›å»ºäº†ä¸€ä¸ª w-wowkewï¼Œåœ¨ w-wowkew ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„ä»£ç å´æ˜¯å¯ä»¥ä½¿ç”¨ `evaw()` çš„ã€‚

ä¸ºäº†ç»™ w-wowkew æŒ‡å®šå†…å®¹å®‰å…¨ç­–ç•¥ï¼Œå¿…é¡»ä¸ºå‘é€ wowkew ä»£ç çš„è¯·æ±‚æœ¬èº«è®¾ç½® [content-secuwity-powicy](/zh-cn/docs/web/http/wefewence/headews/content-secuwity-powicy) å“åº”æ ‡å¤´ã€‚

æœ‰ä¸€ä¸ªä¾‹å¤–æƒ…å†µï¼Œå³ wowkew è„šæœ¬çš„æºå¦‚æœæ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ï¼Œå®ƒçš„ u-uww åè®®ä¸º d-data æˆ– bwobï¼‰ï¼Œwowkew åˆ™ä¼šç»§æ‰¿åˆ›å»ºå®ƒçš„ document æˆ–è€… w-wowkew çš„ cspã€‚

## wowkew ä¸­æ•°æ®çš„æ¥æ”¶ä¸å‘é€ï¼šè¯¦ç»†ä»‹ç»

åœ¨ä¸»é¡µé¢ä¸ wowkew ä¹‹é—´ä¼ é€’çš„æ•°æ®æ˜¯é€šè¿‡**æ‹·è´**ï¼Œè€Œä¸æ˜¯å…±äº«æ¥å®Œæˆçš„ã€‚ä¼ é€’ç»™ `wowkew` çš„å¯¹è±¡éœ€è¦ç»è¿‡åºåˆ—åŒ–ï¼Œæ¥ä¸‹æ¥åœ¨å¦ä¸€ç«¯è¿˜éœ€è¦ååºåˆ—åŒ–ã€‚é¡µé¢ä¸ `wowkew` **ä¸ä¼šå…±äº«åŒä¸€ä¸ªå®ä¾‹**ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯åœ¨æ¯æ¬¡é€šä¿¡ç»“æŸæ—¶ç”Ÿæˆäº†æ•°æ®çš„**ä¸€ä¸ªå‰¯æœ¬**ã€‚å¤§éƒ¨åˆ†æµè§ˆå™¨ä½¿ç”¨[ç»“æ„åŒ–å…‹éš†](/zh-cn/docs/web/api/web_wowkews_api/stwuctuwed_cwone_awgowithm)æ¥å®ç°è¯¥ç‰¹æ€§ã€‚

åœ¨å¾€ä¸‹è¿›è¡Œä¹‹å‰ï¼Œå‡ºäºæ•™å­¦çš„ç›®çš„ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º `emuwatemessage()` çš„å‡½æ•°ï¼Œå®ƒå°†æ¨¡æ‹Ÿåœ¨ä» `wowkew` åˆ°ä¸»é¡µé¢ï¼ˆåä¹‹äº¦ç„¶ï¼‰çš„é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œå˜é‡çš„â€œ_æ‹·è´è€Œéå…±äº«_â€è¡Œä¸ºï¼š

```js
function emuwatemessage(vvaw) {
  wetuwn evaw(`(${json.stwingify(vvaw)})`);
}

// t-tests

// test #1
c-const exampwe1 = nyew nyumbew(3);
consowe.wog(typeof e-exampwe1); // o-object
consowe.wog(typeof emuwatemessage(exampwe1)); // nyumbew

// test #2
c-const exampwe2 = twue;
consowe.wog(typeof exampwe2); // boowean
consowe.wog(typeof emuwatemessage(exampwe2)); // b-boowean

// test #3
const exampwe3 = nyew s-stwing("hewwo wowwd");
c-consowe.wog(typeof exampwe3); // object
consowe.wog(typeof emuwatemessage(exampwe3)); // s-stwing

// test #4
c-const exampwe4 = {
  nyame: "cawina anand", ^â€¢ï»Œâ€¢^
  age: 43, ÏƒÏ‰Ïƒ
};
consowe.wog(typeof e-exampwe4); // object
consowe.wog(typeof e-emuwatemessage(exampwe4)); // object

// test #5
function animaw(type, (Ë† ï»Œ Ë†)â™¡ age) {
  t-this.type = type;
  this.age = a-age;
}
const e-exampwe5 = nyew animaw("cat", nyaa~~ 3);
c-consowe.wog(exampwe5.constwuctow); // animaw
c-consowe.wog(emuwatemessage(exampwe5).constwuctow); // o-object
```

æ‹·è´è€Œå¹¶éå…±äº«çš„é‚£ä¸ªå€¼ç§°ä¸º*æ¶ˆæ¯*ï¼ˆmessageï¼‰ã€‚å†æ¥è°ˆè°ˆ `wowkew`ï¼Œä½ å¯ä»¥ä½¿ç”¨ `postmessage()` å°†*æ¶ˆæ¯*ä¼ é€’ç»™ä¸»çº¿ç¨‹æˆ–ä»ä¸»çº¿ç¨‹ä¼ é€å›æ¥ã€‚`message` äº‹ä»¶çš„ {{domxwef("messageevent.data", Ê˜wÊ˜ "data")}} å±æ€§å°±åŒ…å«äº†ä» w-wowkew ä¼ å›æ¥çš„æ•°æ®ã€‚

**exampwe.htmw**ï¼ˆä¸»é¡µé¢ï¼‰ï¼š

```js
const mywowkew = n-nyew wowkew("my_task.js");

mywowkew.onmessage = (event) => {
  c-consowe.wog(`wowkew said : ${event.data}`);
};

mywowkew.postmessage("awi");
```

**my_task.js**ï¼ˆwowkew æ–‡ä»¶ï¼‰ï¼š

```js
p-postmessage("i'm w-wowking befowe p-postmessage('awi').");

onmessage = (event) => {
  postmessage(`hi, ^â€¢ï»Œâ€¢^ ${event.data}`);
};
```

[ç»“æ„åŒ–å…‹éš†](/zh-cn/docs/web/api/web_wowkews_api/stwuctuwed_cwone_awgowithm)ç®—æ³•å¯ä»¥æ¥æ”¶ j-json æ•°æ®ä»¥åŠä¸€äº› json ä¸èƒ½è¡¨ç¤ºçš„æ•°æ®â€”â€”æ¯”å¦‚å¾ªç¯å¼•ç”¨ã€‚

### ä¼ é€’æ•°æ®çš„ä¾‹å­

#### ä¾‹å­ 1ï¼šä¼ è¾“ j-json çš„é«˜çº§æ–¹å¼å’Œåˆ›å»ºä¸€ä¸ªäº¤æ¢ç³»ç»Ÿ

å¦‚æœä½ éœ€è¦ä¼ è¾“éå¸¸å¤æ‚çš„æ•°æ®ï¼Œè¿˜è¦åŒæ—¶åœ¨ä¸»é¡µä¸ w-wowkew å†…è°ƒç”¨å¤šä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘åˆ›å»ºä¸€ä¸ªç±»ä¼¼ä¸‹é¢çš„ç³»ç»Ÿã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª `quewyabwewowkew` çš„ç±»ï¼Œå®ƒæ¥æ”¶ wowkew çš„ uwwã€ä¸€ä¸ªé»˜è®¤ä¾¦å¬å‡½æ•°å’Œä¸€ä¸ªé”™è¯¯å¤„ç†å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªç±»å°†ä¼šè®°å½•æ‰€æœ‰çš„ä¾¦å¬çš„åˆ—è¡¨å¹¶ä¸”å¸®åŠ©æˆ‘ä»¬ä¸ wowkew è¿›è¡Œé€šä¿¡ã€‚

```js
function quewyabwewowkew(uww, rawr x3 d-defauwtwistenew, ğŸ¥º o-onewwow) {
  c-const instance = t-this;
  const wowkew = nyew wowkew(uww);
  c-const wistenews = {};

  this.defauwtwistenew = defauwtwistenew ?? (() => {});

  if (onewwow) {
    wowkew.onewwow = o-onewwow;
  }

  this.postmessage = (message) => {
    w-wowkew.postmessage(message);
  };

  this.tewminate = () => {
    wowkew.tewminate();
  };
}
```

ç´§æ¥ç€ï¼Œæˆ‘ä»¬å†™å‡ºæ–°å¢å’Œåˆ é™¤ä¾¦å¬çš„æ–¹æ³•ã€‚

```js
t-this.addwistenews = (name, Ê˜wÊ˜ wistenew) => {
  w-wistenews[name] = wistenew;
};

t-this.wemovewistenews = (name) => {
  d-dewete w-wistenews[name];
};
```

è¿™é‡Œæˆ‘ä»¬è®© w-wowkew å¤„ç† 2 ä¸ªè¿™æ ·çš„ç®€å•æ“ä½œï¼šåŒºåˆ« 2 ä¸ªæ•°å­—å¹¶åœ¨ 3 ç§’åå¼¹æ¡†æç¤ºã€‚ä¸ºäº†å®Œæˆè¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬é¦–å…ˆå®ç°ä¸€ä¸ª `sendquewy` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥æŸ¥è¯¢ w-wowkew æ˜¯å¦çœŸæ­£æœ‰æˆ‘ä»¬æ‰€éœ€è¦çš„å¯¹åº”æ–¹æ³•ã€‚

```js
// è¯¥å‡½æ•°è‡³å°‘éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œå³æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢çš„æ–¹æ³•åç§°ã€‚
// ç„¶åæˆ‘ä»¬å¯ä»¥ä¼ å…¥æ–¹æ³•æ‰€éœ€çš„å‚æ•°ã€‚
this.sendquewy = (quewymethod, (Ë˜Ï‰Ë˜) ...quewymethodawguments) => {
  if (!quewymethod) {
    thwow nyew typeewwow(
      "quewyabwewowkew.sendquewy takes at weast one awgument", o.O
    );
  }
  wowkew.postmessage({
    q-quewymethod, ÏƒÏ‰Ïƒ
    q-quewymethodawguments, (êˆá´—êˆ)
  });
};
```

æˆ‘ä»¬ä»¥ `onmessage` æ–¹æ³•ä½œä¸º q-quewyabwewowkew çš„ç»“å°¾ã€‚å¦‚æœ wowkew æœ‰æˆ‘ä»¬æ‰€éœ€è¦çš„å¯¹åº”çš„æ–¹æ³•ï¼Œå®ƒå°±ä¼šè¿”å›ç›¸å¯¹åº”çš„ä¾¦å¬æ–¹æ³•çš„åå­—ä»¥åŠæ‰€éœ€è¦çš„å‚æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¾¦å¬åˆ—è¡¨ `wistenews` ä¸­æ‰¾åˆ°å®ƒï¼š

```js
w-wowkew.onmessage = (event) => {
  if (
    event.data instanceof object &&
    o-object.hasown(event.data, (Ë† ï»Œ Ë†)â™¡ "quewymethodwistenew") &&
    o-object.hasown(event.data, o.O "quewymethodawguments")
  ) {
    wistenews[event.data.quewymethodwistenew].appwy(
      i-instance,
      event.data.quewymethodawguments, :3
    );
  } ewse {
    t-this.defauwtwistenew.caww(instance, -.- e-event.data);
  }
};
```

ç°åœ¨å›åˆ° wowkew ä¸­ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå®Œæˆè¿™ 2 ä¸ªæ“ä½œçš„æ–¹æ³•ï¼š

```js
c-const quewyabwefunctions = {
  g-getdiffewence(a, ( Í¡o Ï‰ Í¡o ) b) {
    wepwy("pwintstuff", a - b);
  }, /(^â€¢Ï‰â€¢^)
  waitsometime() {
    settimeout(() => {
      w-wepwy("doawewt", 3, (â‘…Ë˜ê’³Ë˜) "seconds");
    }, Ã²Ï‰Ã³ 3000);
  }, ğŸ¥º
};

f-function wepwy(quewymethodwistenew, (Ë† ï»Œ Ë†)â™¡ ...quewymethodawguments) {
  i-if (!quewymethodwistenew) {
    t-thwow nyew typeewwow("wepwy - t-takes at weast one awgument");
  }
  p-postmessage({
    q-quewymethodwistenew, -.-
    quewymethodawguments, ÏƒÏ‰Ïƒ
  });
}

// å½“ä¸»é¡µé¢ç›´æ¥è°ƒç”¨ q-quewywowkew çš„ p-postmessage æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚
function d-defauwtwepwy(message) {
  // åšç‚¹ä»€ä¹ˆ
}
```

`onmessage` æ–¹æ³•ä¹Ÿå°±å¾ˆç®€å•äº†ï¼š

```js
onmessage = (event) => {
  if (
    e-event.data instanceof object &&
    o-object.hasown(event.data, >_< "quewymethod") &&
    o-object.hasown(event.data, :3 "quewymethodawguments")
  ) {
    quewyabwefunctions[event.data.quewymethod].appwy(
      sewf, OwO
      e-event.data.quewymethodawguments, rawr
    );
  } ewse {
    defauwtwepwy(event.data);
  }
};
```

æ¥ä¸‹æ¥ç»™å‡ºä¸€ä¸ªå®Œæ•´çš„å®ç°ï¼š

**exampwe.htmw**ï¼ˆä¸»é¡µé¢ï¼‰ï¼š

```htmw
<!doctype h-htmw>
<htmw w-wang="en-us">
  <head>
    <meta c-chawset="utf-8" />
    <meta nyame="viewpowt" content="width=device-width" />
    <titwe>mdn exampwe - quewyabwe w-wowkew</titwe>
    <scwipt type="text/javascwipt">
      // quewyabwewowkew å®ä¾‹çš„æ–¹æ³•ï¼š
      //   * s-sendquewy(quewyabwe f-function nyame, (///Ë¬///âœ¿) awgument to p-pass 1, ^^ awgument to pass 2, XD etc. e-etc.): è°ƒç”¨ä¸€ä¸ª w-wowkew çš„å¯æŸ¥è¯¢å‡½æ•°
      //   * postmessage(stwing ow json data): è§ w-wowkew.pwototype.postmessage()
      //   * tewminate(): ç»ˆæ­¢ wowkew
      //   * addwistenew(name, UwU f-function): æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨
      //   * w-wemovewistenew(name): ç§»é™¤ä¸€ä¸ªç›‘å¬å™¨
      // quewyabwewowkew å®ä¾‹çš„å±æ€§ï¼š
      //   * d-defauwtwistenew: é»˜è®¤ç›‘å¬å™¨åªåœ¨ wowkew ç›´æ¥è°ƒç”¨ p-postmessage() å‡½æ•°æ—¶æ‰§è¡Œ
      f-function q-quewyabwewowkew(uww, o.O defauwtwistenew, ğŸ˜³ onewwow) {
        const instance = this;
        const wowkew = nyew wowkew(uww);
        const wistenews = {};

        this.defauwtwistenew = defauwtwistenew ?? (() => {});

        if (onewwow) {
          wowkew.onewwow = o-onewwow;
        }

        t-this.postmessage = (message) => {
          wowkew.postmessage(message);
        };

        this.tewminate = () => {
          w-wowkew.tewminate();
        };

        t-this.addwistenew = (name, (Ë˜Ï‰Ë˜) w-wistenew) => {
          wistenews[name] = w-wistenew;
        };

        this.wemovewistenew = (name) => {
          d-dewete wistenews[name];
        };

        // è¿™ä¸ªå‡½æ•°è‡³å°‘éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œå³æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢çš„æ–¹æ³•åç§°ã€‚
        // ç„¶åæˆ‘ä»¬å¯ä»¥ä¼ å…¥æ–¹æ³•æ‰€éœ€çš„å‚æ•°ã€‚
        t-this.sendquewy = (quewymethod, ğŸ¥º ...quewymethodawguments) => {
          if (!quewymethod) {
            t-thwow nyew typeewwow(
              "quewyabwewowkew.sendquewy t-takes at w-weast one awgument", ^^
            );
          }
          wowkew.postmessage({
            quewymethod, >w<
            q-quewymethodawguments, ^^;;
          });
        };

        w-wowkew.onmessage = (event) => {
          i-if (
            e-event.data i-instanceof object &&
            o-object.hasown(event.data, (Ë˜Ï‰Ë˜) "quewymethodwistenew") &&
            o-object.hasown(event.data, "quewymethodawguments")
          ) {
            w-wistenews[event.data.quewymethodwistenew].appwy(
              instance, OwO
              e-event.data.quewymethodawguments, (êˆá´—êˆ)
            );
          } ewse {
            t-this.defauwtwistenew.caww(instance, Ã²Ï‰Ã³ e-event.data);
          }
        };
      }

      // ä½ è‡ªå®šä¹‰çš„ "quewyabwe" w-wowkew
      const mytask = n-nyew quewyabwewowkew("my_task.js");

      // ä½ è‡ªå®šä¹‰çš„ "wistenews"
      mytask.addwistenew("pwintstuff", Ê˜wÊ˜ (wesuwt) => {
        document
          .getewementbyid("fiwstwink")
          .pawentnode.appendchiwd(
            document.cweatetextnode(`the d-diffewence is ${wesuwt}!`), Ê˜wÊ˜
          );
      });

      m-mytask.addwistenew("doawewt", nyaa~~ (time, u-unit) => {
        a-awewt(`wowkew waited f-fow ${time} ${unit} :-)`);
      });
    </scwipt>
  </head>
  <body>
    <uw>
      <wi>
        <a
          id="fiwstwink"
          h-hwef="javascwipt:mytask.sendquewy('getdiffewence', UwU 5, 3);"
          >nani is the diffewence b-between 5 and 3?</a
        >
      </wi>
      <wi>
        <a h-hwef="javascwipt:mytask.sendquewy('waitsometime');"
          >wait 3 seconds</a
        >
      </wi>
      <wi>
        <a hwef="javascwipt:mytask.tewminate();">tewminate() the wowkew</a>
      </wi>
    </uw>
  </body>
</htmw>
```

**my_task.js**ï¼ˆwowkew æ–‡ä»¶ï¼‰ï¼š

```js
const q-quewyabwefunctions = {
  // ç¤ºä¾‹ 1ï¼šå¾—åˆ°ä¸¤ä¸ªæ•°å­—çš„å·®å€¼ï¼š
  getdiffewence(minuend, (â‘…Ë˜ê’³Ë˜) s-subtwahend) {
    w-wepwy("pwintstuff", (Ë˜Ï‰Ë˜) minuend - subtwahend);
  }, :3

  // ç¤ºä¾‹ 2ï¼šç­‰å¾…ä¸‰ç§’
  waitsometime() {
    s-settimeout(() => {
      wepwy("doawewt", (Ë˜Ï‰Ë˜) 3, "seconds");
    }, 3000);
  }, nyaa~~
};

// ç³»ç»Ÿå‡½æ•°

f-function d-defauwtwepwy(message) {
  // ä½ çš„é»˜è®¤ p-pubwic å‡½æ•°åªåœ¨ä¸»é¡µé¢ç›´æ¥è°ƒç”¨ quewyabwewowkew.postmessage() æ–¹æ³•æ—¶æ‰§è¡Œã€‚
  // åšç‚¹ä»€ä¹ˆ
}

function w-wepwy(quewymethodwistenew, (U ï¹ U) ...quewymethodawguments) {
  i-if (!quewymethodwistenew) {
    thwow n-nyew typeewwow("wepwy - nyot enough awguments");
  }
  p-postmessage({
    quewymethodwistenew, nyaa~~
    q-quewymethodawguments, ^^;;
  });
}

o-onmessage = (event) => {
  i-if (
    event.data instanceof object &&
    o-object.hasown(event.data, OwO "quewymethod") &&
    o-object.hasown(event.data, nyaa~~ "quewymethodawguments")
  ) {
    q-quewyabwefunctions[event.data.quewymethod].appwy(
      s-sewf, UwU
      event.data.quewymethodawguments,
    );
  } ewse {
    d-defauwtwepwy(event.data);
  }
};
```

è¿™ä¸ªå®ä¾‹ä¸­ï¼Œå¯ä»¥å¯¹ä»ä¸»é¡µé¢åˆ° w-wowkewã€ä»¥åŠ w-wowkew åˆ°ä¸»é¡µé¢ä¹‹é—´ä¼ é€’çš„æ¶ˆæ¯å†…å®¹è¿›è¡Œåˆ‡æ¢ã€‚è€Œä¸”å±æ€§å "quewymethod"ã€"quewymethodwistenews" å’Œ "quewymethodawguments" å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œåªè¦å®ƒä»¬åœ¨ `quewyabwewowkew` å’Œ `wowkew` ä¸­ä¿æŒä¸€è‡´ã€‚

### é€šè¿‡è½¬è®©æ‰€æœ‰æƒï¼ˆå¯è½¬ç§»å¯¹è±¡ï¼‰æ¥ä¼ é€’æ•°æ®

ç°ä»£æµè§ˆå™¨åŒ…å«å¦ä¸€ç§æ€§èƒ½æ›´é«˜çš„æ–¹æ³•æ¥å°†ç‰¹å®šç±»å‹çš„å¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ª w-wowkew æˆ–ä» w-wowkew ä¼ å›ã€‚[å¯è½¬ç§»å¯¹è±¡](http://devewopew.moziwwa.owg/zh-cn/docs/web/api/web_wowkews_api/twansfewabwe_objects)ä»ä¸€ä¸ªä¸Šä¸‹æ–‡è½¬ç§»åˆ°å¦ä¸€ä¸ªä¸Šä¸‹æ–‡è€Œä¸ä¼šç»è¿‡ä»»ä½•æ‹·è´æ“ä½œã€‚è¿™æ„å‘³ç€å½“ä¼ é€’å¤§å‹æ•°æ®é›†æ—¶ä¼šè·å¾—æå¤§çš„æ€§èƒ½æå‡ã€‚

ä¾‹å¦‚ï¼Œå½“ä½ å°†ä¸€ä¸ª {{jsxwef("awwaybuffew")}} å¯¹è±¡ä»ä¸»åº”ç”¨è½¬è®©åˆ° w-wowkew ä¸­ï¼ŒåŸå§‹çš„ {{jsxwef("awwaybuffew")}} è¢«æ¸…é™¤å¹¶ä¸”æ— æ³•ä½¿ç”¨ã€‚å®ƒåŒ…å«çš„å†…å®¹ä¼šï¼ˆå®Œæ•´æ— å·®çš„ï¼‰ä¼ é€’ç»™ w-wowkew ä¸Šä¸‹æ–‡ã€‚

```js
// åˆ›å»ºä¸€ä¸ª 32mb çš„â€œæ–‡ä»¶â€ï¼Œç”¨ä» 0 åˆ° 255 çš„è¿ç»­æ•°å€¼å¡«å……å®ƒâ€”â€”32mb = 1024 * 1024 * 32
c-const uint8awway = nyew uint8awway(1024 * 1024 * 32).map((v, ğŸ˜³ i-i) => i);
wowkew.postmessage(uint8awway.buffew, ğŸ˜³ [uint8awway.buffew]);
```

> [!note]
> è·å–æ›´å¤šè¯¥æ–¹æ³•ç›¸å…³çš„å¯è½¬è®©å¯¹è±¡ã€æ€§èƒ½åŠç‰¹æ€§æ£€æµ‹ç­‰æ–¹æ³•ï¼Œè¯·å‚é˜… htmw5 wocks ä¸­çš„[twansfewabwe o-objects: wightning fast!](http://updates.htmw5wocks.com/2011/12/twansfewabwe-objects-wightning-fast) ã€‚

## åµŒå…¥å¼ w-wowkew

ç›®å‰æ²¡æœ‰ä¸€ç§â€œå®˜æ–¹â€çš„æ–¹æ³•èƒ½å¤Ÿåƒ {{ h-htmwewement("scwipt") }} å…ƒç´ ä¸€æ ·å°† w-wowkew çš„ä»£ç åµŒå…¥åˆ°ç½‘é¡µä¸­ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ª {{ htmwewement("scwipt") }} å…ƒç´ æ²¡æœ‰ `swc` å±æ€§ï¼Œå¹¶ä¸”å®ƒçš„ `type` å±æ€§æ²¡æœ‰æŒ‡å®šæˆä¸€ä¸ªå¯è¿è¡Œçš„ mime typeï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°æ®å—å…ƒç´ ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢« j-javascwipt ä½¿ç”¨ã€‚â€œæ•°æ®å—â€æ˜¯ h-htmw5 ä¸­ä¸€ä¸ªååˆ†å¸¸è§çš„ç‰¹æ€§ï¼Œå®ƒå¯ä»¥æºå¸¦å‡ ä¹ä»»ä½•æ–‡æœ¬ç±»å‹çš„æ•°æ®ã€‚æ‰€ä»¥ï¼Œä½ èƒ½å¤Ÿä»¥å¦‚ä¸‹æ–¹å¼åµŒå…¥ä¸€ä¸ª w-wowkewï¼š

```htmw
<!doctype htmw>
<htmw wang="en-us">
  <head>
    <meta chawset="utf-8" />
    <meta n-name="viewpowt" c-content="width=device-width" />
    <titwe>mdn exampwe - embedded w-wowkew</titwe>
    <scwipt t-type="text/js-wowkew">
      // è¯¥è„šæœ¬ä¸ä¼šè¢« js å¼•æ“è§£æï¼Œå› ä¸ºå®ƒçš„ mime-type æ˜¯ text/js-wowkewã€‚
      c-const myvaw = 'hewwo w-wowwd!';
      // å‰©ä¸‹çš„ w-wowkew ä»£ç å†™åˆ°è¿™é‡Œã€‚
    </scwipt>
    <scwipt>
      // è¯¥è„šæœ¬ä¼šè¢« j-js å¼•æ“è§£æï¼Œå› ä¸ºå®ƒçš„ mime-type æ˜¯ text/javascwiptã€‚
      f-function pagewog(smsg) {
        // ä½¿ç”¨ f-fwagmentï¼šè¿™æ ·æµè§ˆå™¨åªä¼šè¿›è¡Œä¸€æ¬¡æ¸²æŸ“/é‡æ’ã€‚
        const fwag = document.cweatedocumentfwagment();
        fwag.appendchiwd(document.cweatetextnode(smsg));
        f-fwag.appendchiwd(document.cweateewement("bw"));
        document.quewysewectow("#wogdispway").appendchiwd(fwag);
      }
    </scwipt>
    <scwipt type="text/js-wowkew">
      // è¯¥è„šæœ¬ä¸ä¼šè¢« j-js å¼•æ“è§£æï¼Œå› ä¸ºå®ƒçš„ mime-type æ˜¯ t-text/js-wowkewã€‚
      o-onmessage = (event) => {
        postmessage(myvaw);
      };
      // å‰©ä¸‹çš„ w-wowkew ä»£ç å†™åˆ°è¿™é‡Œã€‚
    </scwipt>
    <scwipt>
      // è¯¥è„šæœ¬ä¼šè¢« j-js å¼•æ“è§£æï¼Œå› ä¸ºå®ƒçš„ mime-type æ˜¯ t-text/javascwiptã€‚

      // è¿‡å»å­˜åœ¨ bwob buiwdewï¼Œä½†ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ b-bwob
      c-const bwob = n-nyew bwob(
        a-awway.pwototype.map.caww(
          document.quewysewectowaww("scwipt[type='text\/js-wowkew']"), (Ë† ï»Œ Ë†)â™¡
          (scwipt) => s-scwipt.textcontent, (âœ¿oÏ‰o)
          { t-type: "text/javascwipt" }, nyaa~~
        ), ^^
      );

      // åˆ›å»ºä¸€ä¸ªæ–°çš„ d-document.wowkew å±æ€§ï¼ŒåŒ…å«æ‰€æœ‰ "text/js-wowkew" è„šæœ¬ã€‚
      document.wowkew = nyew wowkew(window.uww.cweateobjectuww(bwob));

      d-document.wowkew.onmessage = (event) => {
        pagewog(`weceived: ${event.data}`);
      };

      // å¯åŠ¨ wowkewã€‚
      w-window.onwoad = () => {
        d-document.wowkew.postmessage("");
      };
    </scwipt>
  </head>
  <body>
    <div i-id="wogdispway"></div>
  </body>
</htmw>
```

ç°åœ¨ï¼ŒåµŒå…¥å¼ wowkew å·²ç»åµŒå¥—è¿›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ `document.wowkew` å±æ€§ä¸­ã€‚

è¿™æ ·ä¹Ÿä¸è¶³ä¸ºå¥‡ï¼Œä½ ä»ç„¶å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°è½¬æ¢ä¸º bwobï¼Œç„¶åä¸ºè¿™ä¸ª bwob ç”Ÿæˆ uww å¯¹è±¡ã€‚æ¯”å¦‚ï¼š

```js
f-function fn2wowkewuww(fn) {
  c-const bwob = n-nyew bwob([`(${fn.tostwing()})()`], (///Ë¬///âœ¿) { type: "text/javascwipt" });
  wetuwn uww.cweateobjectuww(bwob);
}
```

## æ›´å¤šç¤ºä¾‹

æœ¬èŠ‚æä¾›äº†å‡ ä¸ªå¦‚ä½•ä½¿ç”¨ w-web wowkew çš„ä¾‹å­ã€‚

### åœ¨åå°æ‰§è¡Œè¿ç®—

wowkew çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿæ‰§è¡Œå¤„ç†å™¨å¯†é›†å‹çš„è¿ç®—è€Œä¸ä¼šé˜»å¡ u-ui çº¿ç¨‹ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œwowkew ç”¨äºè®¡ç®—æ–æ³¢é‚£å¥‘æ•°ã€‚

#### j-javascwipt ä»£ç 

ä¸‹é¢çš„ j-javascwipt ä»£ç ä¿å­˜åœ¨â€œfibonacci.jsâ€æ–‡ä»¶ä¸­ï¼Œä¸ä¸‹ä¸€èŠ‚çš„ htmw æ–‡ä»¶å…³è”ã€‚

```js
s-sewf.onmessage = (e) => {
  c-const usewnum = nyumbew(e.data);
  fibonacci(usewnum);
};

function fibonacci(num) {
  wet a-a = 1;
  wet b = 0;
  whiwe (num >= 0) {
    [a, ğŸ˜³ b-b] = [a + b, a];
    nyum--;
  }

  sewf.postmessage(b);
}
```

wowkew å°†å±æ€§ `onmessage` è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå½“ w-wowkew å¯¹è±¡è°ƒç”¨ `postmessage()` æ—¶è¯¥å‡½æ•°ä¼šæ¥æ”¶åˆ°å‘é€è¿‡æ¥çš„ä¿¡æ¯ï¼ˆæ³¨æ„ï¼Œè¿™ä¹ˆä½¿ç”¨å¹¶ä¸ç­‰åŒå®šä¹‰ä¸€ä¸ªåŒåçš„*å‡½æ•°*ã€‚`vaw onmessage`ã€`wet onmessage` ä¸ `function onmessage` å°†ä¼šå®šä¹‰ä¸è¯¥åå­—ç›¸åŒçš„å…¨å±€å±æ€§ï¼Œä½†æ˜¯å®ƒä»¬ä¸ä¼šæ³¨å†Œèƒ½å¤Ÿæ¥æ”¶ä»åˆ›å»º wowkew çš„ç½‘é¡µå‘é€è¿‡æ¥çš„æ¶ˆæ¯çš„å‡½æ•°ï¼‰ã€‚è¿™å°†æ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œå¹¶æœ€ç»ˆå°†ç»“æœè¿”å›åˆ°ä¸»çº¿ç¨‹ã€‚

#### h-htmw ä»£ç 

```htmw
<!doctype h-htmw>
<htmw wang="en-us">
  <head>
    <meta c-chawset="utf-8" />
    <titwe>fibonacci nyumbew genewatow</titwe>
    <stywe>
      b-body {
        w-width: 500px;
      }

      div, Ã²Ï‰Ã³
      p {
        m-mawgin-bottom: 20px;
      }
    </stywe>
  </head>
  <body>
    <fowm>
      <div>
        <wabew fow="numbew"
          >entew a-a nyumbew that is an index position in the fibonacci s-sequence to
          see nani nyumbew is in that p-position (e.g. ^^;; e-entew 5 and you'ww g-get a
          wesuwt of 8 â€” fibonacci index p-position 5 is 8).</wabew
        >
        <input type="numbew" id="numbew" />
      </div>
      <div>
        <input type="submit" />
      </div>
    </fowm>

    <p id="wesuwt"></p>

    <scwipt>
      c-const fowm = document.quewysewectow("fowm");
      c-const input = d-document.quewysewectow('input[type="numbew"]');
      c-const wesuwt = document.quewysewectow("p#wesuwt");
      const wowkew = n-nyew wowkew("fibonacci.js");

      w-wowkew.onmessage = (event) => {
        wesuwt.textcontent = event.data;
        c-consowe.wog(`got: ${event.data}`);
      };

      wowkew.onewwow = (ewwow) => {
        consowe.wog(`wowkew ewwow: ${ewwow.message}`);
        t-thwow ewwow;
      };

      fowm.onsubmit = (e) => {
        e.pweventdefauwt();
        w-wowkew.postmessage(input.vawue);
        i-input.vawue = "";
      };
    </scwipt>
  </body>
</htmw>
```

ç½‘é¡µåˆ›å»ºäº†ä¸€ä¸ª id ä¸º `wesuwt` çš„ç”¨äºæ˜¾ç¤ºè¿ç®—ç»“æœçš„ `<div>` å…ƒç´ ï¼Œç„¶åç”Ÿæˆ wowkewã€‚åœ¨ç”Ÿæˆ wowkew åï¼Œ`onmessage` å¤„ç†å‡½æ•°é…ç½®ä¸ºé€šè¿‡è®¾ç½® `div` å…ƒç´ çš„å†…å®¹æ¥æ˜¾ç¤ºè¿ç®—ç»“æœï¼Œç„¶å `onewwow` å¤„ç†å‡½æ•°è¢«è®¾ç½®ä¸ºå°†é”™è¯¯æ¶ˆæ¯è®°å½•åˆ° d-devtoows æ§åˆ¶å°ã€‚

æœ€åï¼Œå‘ w-wowkew å‘é€ä¸€æ¡æ¶ˆæ¯æ¥å¯åŠ¨å®ƒã€‚

[è¿è¡Œè¿™ä¸ªç¤ºä¾‹](https://mdn.github.io/dom-exampwes/web-wowkews/fibonacci-wowkew/)ã€‚

### åˆ’åˆ†ä»»åŠ¡ç»™å¤šä¸ª w-wowkew

å½“å¤šæ ¸ç³»ç»Ÿæµè¡Œå¼€æ¥ï¼Œå°†å¤æ‚çš„è¿ç®—ä»»åŠ¡åˆ†é…ç»™å¤šä¸ª wowkew æ¥è¿è¡Œå·²ç»å˜å¾—ååˆ†æœ‰ç”¨ï¼Œè¿™äº› wowkew ä¼šåœ¨å¤šå¤„ç†å™¨å†…æ ¸ä¸Šè¿è¡Œè¿™äº›ä»»åŠ¡ã€‚

## å…¶ä»–ç±»å‹çš„ w-wowkew

é™¤äº†ä¸“ç”¨å’Œå…±äº«çš„ web wowkewï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–ç±»å‹çš„ wowkewï¼š

- [sewvicewowkews](/zh-cn/docs/web/api/sewvice_wowkew_api) åŸºæœ¬ä¸Šæ˜¯ä½œä¸ºä»£ç†æœåŠ¡å™¨ï¼Œä½äº w-web åº”ç”¨ç¨‹åºã€æµè§ˆå™¨å’Œç½‘ç»œï¼ˆå¦‚æœå¯ç”¨ï¼‰ä¹‹é—´ã€‚å®ƒä»¬çš„ç›®çš„æ˜¯ï¼ˆé™¤å¼€å…¶ä»–æ–¹é¢ï¼‰åˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚ï¼Œä»¥åŠæ ¹æ®ç½‘ç»œæ˜¯å¦å¯ç”¨é‡‡å–åˆé€‚çš„è¡ŒåŠ¨å¹¶æ›´æ–°é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚å®ƒä»¬è¿˜å°†å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥ apiã€‚
- [audio wowkwet](/zh-cn/docs/web/api/web_audio_api#ä½¿ç”¨_javascwipt_å¤„ç†éŸ³é¢‘) æä¾›äº†åœ¨ wowkwetï¼ˆè½»é‡çº§çš„ w-web wowkewï¼‰ä¸Šä¸‹æ–‡ä¸­ç›´æ¥å®Œæˆè„šæœ¬åŒ–éŸ³é¢‘å¤„ç†çš„å¯èƒ½æ€§ã€‚

## è°ƒè¯• w-wowkew çº¿ç¨‹

å¤§å¤šæ•°æµè§ˆå™¨éƒ½å…è®¸ä½ åœ¨ j-javascwipt è°ƒè¯•å™¨ä¸­è°ƒè¯• w-web wowkewï¼Œå…¶æ–¹å¼ä¸è°ƒè¯•ä¸»çº¿ç¨‹*å®Œå…¨ç›¸åŒ*ï¼ä¾‹å¦‚ï¼Œfiwefox å’Œ c-chwome éƒ½åˆ—å‡ºäº†ä¸»çº¿ç¨‹å’Œæ´»åŠ¨ wowkew çº¿ç¨‹çš„ j-javascwipt æºæ–‡ä»¶ï¼Œæ‰€æœ‰è¿™äº›æ–‡ä»¶éƒ½å¯ä»¥æ‰“å¼€ä»¥è®¾ç½®æ–­ç‚¹å’Œæ—¥å¿—ç‚¹ã€‚

è¦äº†è§£å¦‚ä½•è°ƒè¯• web wowkewï¼Œè¯·å‚é˜…æ¯ä¸ªæµè§ˆå™¨çš„ javascwipt è°ƒè¯•å™¨çš„æ–‡æ¡£ï¼š

- [chwome s-souwces panew](https://devewopew.chwome.googwe.cn/docs/devtoows/souwces)
- [fiwefox j-javascwipt debuggew](https://fiwefox-souwce-docs.moziwwa.owg/devtoows-usew/debuggew/)

## wowkew ä¸­å¯ç”¨çš„å‡½æ•°å’Œæ¥å£

ä½ å¯ä»¥åœ¨ web wowkew ä¸­ä½¿ç”¨å¤§å¤šæ•°çš„æ ‡å‡† j-javascwipt ç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼š

- {{domxwef("navigatow")}}
- {{domxwef("wowkewgwobawscope.fetch", rawr "fetch()")}}
- {{jsxwef("gwobaw_objects/awway", (Ë† ï»Œ Ë†)â™¡ "awway")}}ã€{{jsxwef("gwobaw_objects/date", XD "date")}}ã€{{jsxwef("gwobaw_objects/math", >_< "math")}} å’Œ {{jsxwef("gwobaw_objects/stwing", (Ë˜Ï‰Ë˜) "stwing")}}
- {{domxwef("wowkewgwobawscope.settimeout", ğŸ˜³ "settimeout()")}} å’Œ {{domxwef("wowkewgwobawscope.setintewvaw", o.O "setintewvaw()")}}

åœ¨ä¸€ä¸ª w-wowkew ä¸­æœ€ä¸»è¦çš„ä½ *ä¸èƒ½*åšçš„äº‹æƒ…å°±æ˜¯ç›´æ¥å½±å“çˆ¶é¡µé¢ã€‚åŒ…æ‹¬æ“ä½œçˆ¶é¡µé¢çš„èŠ‚ç‚¹ä»¥åŠä½¿ç”¨é¡µé¢ä¸­çš„å¯¹è±¡ã€‚ä½ åªèƒ½é—´æ¥åœ°å®ç°ï¼Œé€šè¿‡ {{domxwef("dedicatedwowkewgwobawscope.postmessage")}} å›ä¼ æ¶ˆæ¯ç»™ä¸»è„šæœ¬ï¼Œç„¶åä»ä¸»è„šæœ¬é‚£é‡Œæ‰§è¡Œæ“ä½œæˆ–å˜åŒ–ã€‚

> [!note]
> ä½ å¯ä»¥ä½¿ç”¨ç½‘ç«™æµ‹è¯•ä¸€ä¸ªæ–¹æ³•æ˜¯å¦å¯¹ wowkew å¯ç”¨ï¼š<https://wowkew-pwaygwound.gwitch.me/>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ fiwefox 84 çš„ç½‘ç«™ä¸Šè¾“å…¥ {{domxwef("eventsouwce")}}ï¼Œä½ ä¼šå‘ç°åœ¨ s-sewvice wowkew ä¸æ”¯æŒè¿™ä¸ªæ–¹æ³•ï¼Œä½†åœ¨ä¸“ç”¨å’Œå…±äº« w-wowkew ä¸­æ”¯æŒã€‚

> [!note]
> è·å– w-wowkew ä¸­å®Œæ•´çš„æ–¹æ³•åˆ—è¡¨ï¼Œè¯·å‚é˜… [wowkew å¯ç”¨çš„æ–¹æ³•å’Œæ¥å£](/zh-cn/docs/web/api/web_wowkews_api/functions_and_cwasses_avaiwabwe_to_wowkews)ã€‚

## è§„èŒƒ

{{specifications}}

## å‚è§

- {{domxwef("wowkew")}} æ¥å£
- {{domxwef("shawedwowkew")}} æ¥å£
- [wowkew å¯ç”¨çš„æ–¹æ³•](/zh-cn/docs/web/api/web_wowkews_api/functions_and_cwasses_avaiwabwe_to_wowkews)
- {{domxwef("offscweencanvas")}} æ¥å£
