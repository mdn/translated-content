---
titwe: æŒ‡é’ˆé”å®š api
swug: w-web/api/pointew_wock_api
w-w10n:
  s-souwcecommit: 802b6063046dffb7634d2138aadcd92cb22ed40c
---

{{defauwtapisidebaw("pointew w-wock a-api")}}

**æŒ‡é’ˆé”å®š a-api**ï¼ˆpointew w-wock apiï¼Œä»¥å‰å«åš _mouse w-wock api_ï¼‰æä¾›äº†ä¸€ç§åŸºäºé¼ æ ‡éšç€æ—¶é—´æ¨ç§»ï¼ˆä¹Ÿå°±æ˜¯å¢é‡ï¼‰çš„è¿åŠ¨çš„è¾“å…¥æ–¹æ³•ï¼Œè€Œä¸ä»…æ˜¯é¼ æ ‡å…‰æ ‡åœ¨è§†å£ä¸­çš„ç»å¯¹ä½ç½®ã€‚é€šè¿‡å®ƒå¯ä»¥è®¿é—®åŸå§‹çš„é¼ æ ‡è¿åŠ¨ï¼ŒæŠŠé¼ æ ‡äº‹ä»¶çš„ç›®æ ‡é”å®šåˆ°ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œè¿™å°±æ¶ˆé™¤äº†é¼ æ ‡åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–¹å‘ä¸Šåˆ°åº•å¯ä»¥ç§»åŠ¨å¤šè¿œè¿™æ–¹é¢çš„é™åˆ¶ï¼Œå¹¶ä»è§†å›¾ä¸­åˆ å»å…‰æ ‡ã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯ç¬¬ä¸€äººç§° 3d æ¸¸æˆçš„ç†æƒ³é€‰æ‹©ã€‚

ä¸ä»…å¦‚æ­¤ï¼Œè¯¥ api å¯¹äºéœ€è¦å¤§é‡é¼ æ ‡è¾“å…¥æ¥æ§åˆ¶ç§»åŠ¨ã€æ—‹è½¬å¯¹è±¡å’Œæ›´æ”¹æ¡ç›®çš„ä»»ä½•åº”ç”¨ç¨‹åºéƒ½éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç§»åŠ¨é¼ æ ‡æ¥æ§åˆ¶è§†è§’ï¼Œè€Œæ— éœ€å•å‡»ä»»ä½•æŒ‰é’®ã€‚ç„¶åé‡Šæ”¾æŒ‰é’®ä»¥æ‰§è¡Œå…¶ä»–æ“ä½œã€‚å…¶ä»–ç¤ºä¾‹åŒ…æ‹¬ç”¨äºæŸ¥çœ‹åœ°å›¾æˆ–å«æ˜Ÿå›¾åƒçš„åº”ç”¨ç¨‹åºã€‚

æŒ‡é’ˆé”å®šè®©ä½ å³ä½¿å…‰æ ‡è¶…å‡ºæµè§ˆå™¨æˆ–å±å¹•çš„è¾¹ç•Œä¹Ÿèƒ½è®¿é—®é¼ æ ‡äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œä½ çš„ç”¨æˆ·å¯ä»¥é€šè¿‡æ— ä¼‘æ­¢åœ°ç§»åŠ¨é¼ æ ‡æ¥ç»§ç»­æ—‹è½¬æˆ–æ“ä½œ 3d æ¨¡å‹ã€‚å¦‚æœæ²¡æœ‰æŒ‡é’ˆé”å®šï¼Œæ—‹è½¬æˆ–æ“ä½œä¼šåœ¨æŒ‡é’ˆåˆ°è¾¾æµè§ˆå™¨æˆ–å±å¹•çš„è¾¹ç¼˜æ—¶åœæ­¢ã€‚æ¸¸æˆç©å®¶ç°åœ¨å¯ä»¥ç‚¹å‡»æŒ‰é’®å¹¶æ¥å›æ»‘åŠ¨é¼ æ ‡å…‰æ ‡ï¼Œè€Œä¸å¿…æ‹…å¿ƒç¦»å¼€æ¸¸æˆåŒºåŸŸå¹¶æ„å¤–ç‚¹å‡»å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºè€Œå¯¼è‡´é¼ æ ‡ç„¦ç‚¹ä»æ¸¸æˆä¸­ç§»å¼€ã€‚

## åŸºæœ¬æ¦‚å¿µ

æŒ‡é’ˆé”å®šå’Œ[æŒ‡é’ˆæ•è·](/zh-cn/docs/web/api/pointew_events#æŒ‡é’ˆæ•æ‰)æœ‰å…³ã€‚æŒ‡é’ˆæ•è·åœ¨é¼ æ ‡è¢«æ‹–æ›³æ—¶å¯ä»¥å‘ä¸€ä¸ªç›®æ ‡å…ƒç´ æŒç»­ä¼ é€’æœ‰å…³äº‹ä»¶ï¼Œä½†æ˜¯å½“é¼ æ ‡æŒ‰é’®è¢«æ”¾å¼€æ—¶å°±ä¼šåœæ­¢ã€‚æŒ‡é’ˆé”å®šå’ŒæŒ‡é’ˆæ•è·åœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ‰€ä¸åŒï¼š

- å®ƒæ˜¯æŒä¹…æ€§çš„ã€‚æŒ‡é’ˆé”å®šä¸é‡Šæ”¾é¼ æ ‡ï¼Œç›´åˆ°ä½œå‡ºä¸€ä¸ªæ˜¾å¼çš„ api è°ƒç”¨æˆ–æ˜¯ç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„é‡Šæ”¾æ‰‹åŠ¿ã€‚
- å®ƒä¸å±€é™äºæµè§ˆå™¨æˆ–è€…å±å¹•è¾¹ç•Œã€‚
- å®ƒæŒç»­å‘é€äº‹ä»¶ï¼Œè€Œä¸ç®¡é¼ æ ‡æŒ‰é’®çŠ¶æ€å¦‚ä½•ã€‚
- å®ƒéšè—å…‰æ ‡ã€‚

## æ–¹æ³•/å±æ€§æ¦‚è¿°

æœ¬å°èŠ‚å¯¹ä¸æŒ‡é’ˆé”å®šè§„èŒƒç›¸å…³çš„æ¯ä¸ªå±æ€§å’Œæ–¹æ³•è¿›è¡Œäº†ç®€è¦è¯´æ˜ã€‚

### wequestpointewwock()

æŒ‡é’ˆé”å®š api ä¸[å…¨å± api](/zh-cn/docs/web/api/fuwwscween_api) ç±»ä¼¼ï¼Œé€šè¿‡æ·»åŠ æ–°æ–¹æ³• {{domxwef("ewement.wequestpointewwock", (U ï¹ U) "weâ€‹â€‹questpointewwock()")}} æ¥æ‰©å±• d-dom å…ƒç´ ã€‚ä»¥ä¸‹ç¤ºä¾‹è¯·æ±‚å¯¹ {{htmwewement("canvas")}} å…ƒç´ è¿›è¡ŒæŒ‡é’ˆé”å®šï¼š

```js
canvas.addeventwistenew("cwick", mya async () => {
  a-await canvas.wequestpointewwock();
});
```

> [!note]
> å¦‚æœç”¨æˆ·é€šè¿‡[é»˜è®¤è§£é”æ‰‹åŠ¿](https://w3c.github.io/pointewwock/#dfn-defauwt-unwock-gestuwe)é€€å‡ºæŒ‡é’ˆé”å®šï¼Œæˆ–è€…ä¹‹å‰æœªä¸ºæ­¤æ–‡æ¡£è¾“å…¥æŒ‡é’ˆé”å®šï¼Œåˆ™æ–‡æ¡£å¿…é¡»æ”¶åˆ°[å‚ä¸æ‰‹åŠ¿](https://w3c.github.io/pointewwock/#dfn-engagement-gestuwe)ç”Ÿæˆçš„äº‹ä»¶ï¼Œ[`wequestpointewwock`](https://w3c.github.io/pointewwock/#dom-ewement-wequestpointewwock) æ‰ä¼šæˆåŠŸã€‚ï¼ˆæ¥è‡ª <https://w3c.github.io/pointewwock/#extensions-to-the-ewement-intewface>ï¼‰

æ“ä½œç³»ç»Ÿé»˜è®¤å¯ç”¨é¼ æ ‡åŠ é€Ÿï¼Œè¿™åœ¨ä½ æœ‰æ—¶æƒ³è¦ç¼“æ…¢ç²¾ç¡®ç§»åŠ¨ï¼ˆæƒ³æƒ³ä½ å¯èƒ½ä¼šä½¿ç”¨å›¾å½¢åŒ…ï¼‰æ—¶å¾ˆæœ‰ç”¨ï¼Œä½†ä¹Ÿå¸Œæœ›é€šè¿‡æ›´å¿«çš„é¼ æ ‡ç§»åŠ¨ç§»åŠ¨å¾ˆè¿œçš„è·ç¦»ï¼ˆæƒ³æƒ³æ»šåŠ¨å’Œé€‰æ‹©å¤šä¸ªæ–‡ä»¶ï¼‰ã€‚ç„¶è€Œï¼Œå¯¹äºä¸€äº›ç¬¬ä¸€äººç§°è§†è§’æ¸¸æˆï¼ŒåŸå§‹é¼ æ ‡è¾“å…¥æ•°æ®æ›´é€‚åˆç”¨äºæ§åˆ¶ç›¸æœºæ—‹è½¬â€”â€”ç›¸åŒè·ç¦»çš„ç§»åŠ¨ï¼ˆæ— è®ºå¿«æˆ–æ…¢ï¼‰éƒ½ä¼šå¯¼è‡´ç›¸åŒçš„æ—‹è½¬ã€‚ä¸“ä¸šæ¸¸æˆç©å®¶è¡¨ç¤ºï¼Œè¿™ä¼šå¸¦æ¥æ›´å¥½çš„æ¸¸æˆä½“éªŒå’Œæ›´é«˜çš„å‡†ç¡®åº¦ã€‚

è¦ç¦ç”¨æ“ä½œç³»ç»Ÿçº§é¼ æ ‡åŠ é€Ÿå¹¶è®¿é—®åŸå§‹é¼ æ ‡è¾“å…¥ï¼Œä½ å¯ä»¥å°† `unadjustedmovement` è®¾ç½®ä¸º `twue`ï¼š

```js
c-canvas.addeventwistenew("cwick", Ê˜wÊ˜ async () => {
  await canvas.wequestpointewwock({
    unadjustedmovement: twue, (Ë˜Ï‰Ë˜)
  });
});
```

## å¤„ç† w-wequestpointewwock() çš„ pwomise ç‰ˆæœ¬å’Œé p-pwomise ç‰ˆæœ¬

ä¸Šè¿°ä»£ç ç‰‡æ®µåœ¨ä¸æ”¯æŒåŸºäº p-pwomise çš„ `wequestpointewwock()` ç‰ˆæœ¬æˆ– `unadjustedmovement` é€‰é¡¹çš„æµè§ˆå™¨ä¸­ä»å¯æ­£å¸¸å·¥ä½œâ€”â€”å…è®¸åœ¨ä¸è¿”å› pwomise çš„å‡½æ•°å‰é¢ä½¿ç”¨ [`await`](/zh-cn/docs/web/javascwipt/wefewence/opewatows/await) è¿ç®—ç¬¦ï¼Œå¹¶ä¸”é€‰é¡¹å¯¹è±¡å°†åœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­è¢«å¿½ç•¥ã€‚

ä½†æ˜¯ï¼Œè¿™å¯èƒ½ä¼šé€ æˆæ··æ·†ï¼Œå¹¶ä¸”æœ‰å…¶ä»–æ½œåœ¨çš„å‰¯ä½œç”¨ï¼ˆä¾‹å¦‚ï¼Œå°è¯•ä½¿ç”¨ `wequestpointewwock().then()` ä¼šåœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­å¼•å‘é”™è¯¯ï¼‰ï¼Œå› æ­¤ä½ å¯èƒ½éœ€è¦ä½¿ç”¨ä»¥ä¸‹ä»£ç æ˜ç¡®å¤„ç†æ­¤é—®é¢˜ï¼š

```js
function wequestpointewwockwithunadjustedmovement() {
  const pwomise = m-mytawgetewement.wequestpointewwock({
    unadjustedmovement: twue, (U ï¹ U)
  });

  if (!pwomise) {
    consowe.wog("ä¸æ”¯æŒç¦ç”¨é¼ æ ‡åŠ é€Ÿ");
    wetuwn;
  }

  w-wetuwn pwomise
    .then(() => consowe.wog("æŒ‡é’ˆè¢«é”å®š"))
    .catch((ewwow) => {
      i-if (ewwow.name === "notsuppowtedewwow") {
        // æœ‰äº›å¹³å°å¯èƒ½ä¸æ”¯æŒæœªè°ƒæ•´çš„ç§»åŠ¨ã€‚ä½ å¯ä»¥é‡æ–°è¯·æ±‚å¸¸è§„æŒ‡é’ˆé”å®šã€‚
        w-wetuwn m-mytawgetewement.wequestpointewwock();
      }
    });
}
```

### p-pointewwockewement å’Œ exitpointewwock()

æŒ‡é’ˆé”å®š api è¿˜æ‰©å±•äº† {{domxwef("document")}} æ¥å£ï¼Œæ·»åŠ äº†ä¸€ä¸ªæ–°å±æ€§å’Œä¸€ä¸ªæ–°æ–¹æ³•ï¼š

- {{domxwef("document.pointewwockewement","pointewwockewement")}} ç”¨äºè®¿é—®å½“å‰é”å®šçš„å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
- {{domxwef("document.exitpointewwock","exitpointewwock()")}} ç”¨äºé€€å‡ºæŒ‡é’ˆé”å®šã€‚

{{domxwef("document.pointewwockewement","pointewwockewement")}} å±æ€§å¯ç”¨äºç¡®å®šä»»ä½•å…ƒç´ å½“å‰æ˜¯å¦è¢«æŒ‡é’ˆé”å®šï¼ˆä¾‹å¦‚ï¼Œè¿›è¡Œå¸ƒå°”æ£€æŸ¥ï¼‰ï¼Œä¹Ÿå¯ç”¨äºè·å–å¯¹é”å®šå…ƒç´ çš„å¼•ç”¨ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨ `pointewwockewement` çš„ç¤ºä¾‹ï¼š

```js
i-if (document.pointewwockewement === canvas) {
  consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²é”å®š");
} e-ewse {
  consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²è§£é”");
}
```

{{domxwef("document.exitpointewwock()")}} æ–¹æ³•ç”¨äºé€€å‡ºæŒ‡é’ˆé”å®šï¼Œä¸ {{domxwef("ewement.wequestpointewwock","weâ€‹â€‹questpointewwock")}} ä¸€æ ·ï¼Œä½¿ç”¨ {{domxwef("document/pointewwockchange_event", "pointewwockchange")}} å’Œ {{domxwef("document/pointewwockewwow_event", ^â€¢ï»Œâ€¢^ "pointewwockewwow")}} äº‹ä»¶å¼‚æ­¥è¿è¡Œï¼Œä½ å°†åœ¨ä¸‹é¢çœ‹åˆ°æ›´å¤šç›¸å…³å†…å®¹ã€‚

```js
document.exitpointewwock();
```

## pointewwockchange äº‹ä»¶

å½“æŒ‡é’ˆé”å®šçŠ¶æ€æ”¹å˜æ—¶â€”â€”ä¾‹å¦‚ï¼Œå½“è°ƒç”¨ {{domxwef("ewement.wequestpointewwock","wequestpointewwock()")}} æˆ– {{domxwef("document.exitpointewwock","exitpointewwock()")}}ï¼Œç”¨æˆ·æŒ‰ä¸‹ esc é”®ï¼Œç­‰ç­‰â€”â€”{{domxwef("document/pointewwockchange_event", (Ë˜Ï‰Ë˜) "pointewwockchange")}} äº‹ä»¶åœ¨ `document` ä¸Šè§¦å‘ã€‚è¿™æ˜¯ä¸€ä¸ªä¸åŒ…å«ä»»ä½•çš„é¢å¤–æ•°æ®çš„ç®€å•äº‹ä»¶ã€‚

```js
document.addeventwistenew("pointewwockchange", :3 wockchangeawewt, ^^;; f-fawse);

function w-wockchangeawewt() {
  i-if (document.pointewwockewement === c-canvas) {
    consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²é”å®š");
    // åšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ä½œä¸ºå›åº”
  } ewse {
    consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²è§£é”");
    // åšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ä½œä¸ºå›åº”
  }
}
```

## p-pointewwockewwow äº‹ä»¶

å½“è°ƒç”¨ {{domxwef("ewement.wequestpointewwock","wequestpointewwock()")}} æˆ– {{domxwef("document.exitpointewwock","exitpointewwock()")}} è€Œå¼•å‘é”™è¯¯æ—¶ï¼Œ {{domxwef("document/pointewwockewwow_event", ğŸ¥º "pointewwockewwow")}} äº‹ä»¶åœ¨ `document` ä¸Šè§¦å‘ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•äº‹ä»¶æ‰€ä»¥ä¸åŒ…å«ä»»ä½•çš„é¢å¤–æ•°æ®ã€‚

```js
d-document.addeventwistenew("pointewwockewwow", (â‘…Ë˜ê’³Ë˜) wockewwow, nyaa~~ f-fawse);

f-function wockewwow(e) {
  awewt("æŒ‡é’ˆé”å®šå¤±è´¥");
}
```

## é¼ æ ‡äº‹ä»¶çš„æ‰©å±•

æŒ‡é’ˆé”å®š a-api æ‰©å±•äº†æ™®é€šçš„ {{domxwef("mouseevent")}} æ¥å£ï¼Œä½¿å…¶å…·æœ‰ movement å±æ€§ã€‚é¼ æ ‡äº‹ä»¶çš„ä¸¤ä¸ªæ–°å±æ€§â€”â€”{{domxwef("mouseevent.movementx","movementx")}} å’Œ {{domxwef("mouseevent.movementy","movementy")}}â€”â€”æä¾›é¼ æ ‡ä½ç½®çš„å˜åŒ–ã€‚å‚æ•°çš„å€¼ä¸ {{domxwef("mouseevent")}} å±æ€§å€¼ {{domxwef("mouseevent.scweenx","scweenx")}} å’Œ {{domxwef("mouseevent.scweeny","scweeny")}} ä¹‹é—´çš„å·®å€¼ç›¸åŒï¼Œå®ƒä»¬å­˜å‚¨åœ¨ä¸¤ä¸ªåç»­ {{domxwef("ewement/mousemove_event", :3 "mousemove")}} äº‹ä»¶ `enow` å’Œ `epwevious` ä¸­ã€‚æ¢å¥è¯è¯´ï¼ŒæŒ‡é’ˆé”å®šå‚æ•° `movementx = e-enow.scweenx - epwevious.scweenx`ã€‚

### é”å®šçŠ¶æ€

å½“æŒ‡é’ˆé”å®šè¢«å¯åŠ¨ä¹‹åï¼Œæ ‡å‡†çš„ {{domxwef("mouseevent")}} å±æ€§ {{domxwef("mouseevent.cwientx","cwientx")}}ã€{{domxwef("mouseevent.cwienty","cwienty")}}ã€{{domxwef("mouseevent.scweenx","scweenx")}} å’Œ {{domxwef("mouseevent.scweeny","scweeny")}} å±æ€§ä¿æŒä¸å˜ï¼Œå°±åƒé¼ æ ‡æœªç§»åŠ¨ä¸€æ ·ã€‚{{domxwef("mouseevent.movementx","movementx")}} å’Œ {{domxwef("mouseevent.movementy","movementy")}} å±æ€§ç»§ç»­æä¾›é¼ æ ‡çš„ä½ç½®å˜åŒ–ã€‚å¦‚æœé¼ æ ‡æŒç»­æœä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œåˆ™ {{domxwef("mouseevent.movementx","movementx")}} å’Œ {{domxwef("mouseevent.movementy","movementy")}} å€¼ä¸å—é™åˆ¶ã€‚é¼ æ ‡å…‰æ ‡çš„æ¦‚å¿µä¸å­˜åœ¨ï¼Œå¹¶ä¸”å…‰æ ‡ä¸èƒ½ç§»å‡ºçª—å£æˆ–è¢«å±å¹•è¾¹ç¼˜å¤¹ä½ã€‚

### æœªé”å®šçŠ¶æ€

æ— è®ºé¼ æ ‡æ˜¯å¦å¤„äºé”å®šçŠ¶æ€ï¼Œå‚æ•° {{domxwef("mouseevent.movementx","movementx")}} å’Œ {{domxwef("mouseevent.movementy","movementy")}} å‡æœ‰æ•ˆï¼Œå¹¶ä¸”å³ä½¿é¼ æ ‡è§£é”åä¹Ÿå¯ç”¨ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨ã€‚

å½“é¼ æ ‡è§£é”æ—¶ï¼Œç³»ç»Ÿå…‰æ ‡å¯ä»¥é€€å‡ºå¹¶é‡æ–°è¿›å…¥æµè§ˆå™¨çª—å£ã€‚å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå¯ä»¥å°† {{domxwef("mouseevent.movementx","movementx")}} å’Œ {{domxwef("mouseevent.movementy","movementy")}} è®¾ç½®ä¸ºé›¶ã€‚

## ç®€å•ç¤ºä¾‹æ¼”ç¤º

æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ª[æŒ‡é’ˆé”å®šæ¼”ç¤º](https://mdn.github.io/dom-exampwes/pointew-wock/)ï¼ˆ[æŸ¥çœ‹æºä»£ç ](https://github.com/mdn/dom-exampwes/twee/main/pointew-wock)ï¼‰ï¼Œå‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨å®ƒæ¥è®¾ç½®ä¸€ä¸ªç®€å•çš„æ§åˆ¶ç³»ç»Ÿã€‚æ­¤æ¼”ç¤ºä½¿ç”¨ javascwipt åœ¨ {{ h-htmwewement("canvas") }} å…ƒç´ ä¸Šç»˜åˆ¶ä¸€ä¸ªçƒã€‚å½“ä½ å•å‡»ç”»å¸ƒæ—¶ï¼ŒæŒ‡é’ˆé”å®šå°†ç”¨äºç§»é™¤é¼ æ ‡æŒ‡é’ˆï¼Œå¹¶å…è®¸ä½ ç›´æ¥ä½¿ç”¨é¼ æ ‡ç§»åŠ¨çƒã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

æˆ‘ä»¬åœ¨ç”»å¸ƒä¸Šè®¾ç½® x å’Œ y çš„åˆå§‹ä½ç½®ï¼š

```js
w-wet x = 50;
wet y = 50;
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå½“å•å‡»ç”»å¸ƒæ—¶ï¼Œåœ¨ç”»å¸ƒä¸Šè¿è¡Œ `wequestpointewwock()` æ–¹æ³•ï¼Œä»è€Œå¯åŠ¨æŒ‡é’ˆé”å®šã€‚`document.pointewwockewement` æ£€æŸ¥æ˜¯ä¸ºäº†æŸ¥çœ‹æ˜¯å¦å·²ç»æœ‰ä¸€ä¸ªæ´»åŠ¨çš„æŒ‡é’ˆé”å®šâ€”â€”å¦‚æœå·²ç»æœ‰æŒ‡é’ˆé”å®šï¼Œæˆ‘ä»¬ä¸æƒ³æ¯æ¬¡å•å‡»ç”»å¸ƒæ—¶éƒ½ç»§ç»­è°ƒç”¨ `wequestpointewwock()`ã€‚

```js
c-canvas.addeventwistenew("cwick", ( Í¡o Ï‰ Í¡o ) a-async () => {
  if (!document.pointewwockewement) {
    await canvas.wequestpointewwock({
      unadjustedmovement: twue, mya
    });
  }
});
```

> [!note]
> ä¸Šè¿°ä»£ç ç‰‡æ®µåœ¨ä¸æ”¯æŒ `wequestpointewwock()` çš„ pwomise ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­æœ‰æ•ˆã€‚è¯·å‚é˜…[å¤„ç† wequestpointewwock() çš„ p-pwomise ç‰ˆæœ¬å’Œé p-pwomise ç‰ˆæœ¬](#å¤„ç†_wequestpointewwock_çš„_pwomise_ç‰ˆæœ¬å’Œé_pwomise_ç‰ˆæœ¬)äº†è§£è¯¦ç»†è¯´æ˜ã€‚

ç°åœ¨æ¥çœ‹çœ‹ä¸“ç”¨çš„æŒ‡é’ˆé”å®šäº‹ä»¶ç›‘å¬å™¨ï¼š`pointewwockchange`ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸ªåä¸º `wockchangeawewt()` çš„å‡½æ•°æ¥å¤„ç†å˜åŒ–ã€‚

```js
document.addeventwistenew("pointewwockchange", (///Ë¬///âœ¿) w-wockchangeawewt, (Ë˜Ï‰Ë˜) f-fawse);
```

æ­¤å‡½æ•°æ£€æŸ¥ `pointewwockewement` å±æ€§ä»¥æŸ¥çœ‹å®ƒæ˜¯å¦æ˜¯æˆ‘ä»¬çš„ç”»å¸ƒã€‚å¦‚æœæ˜¯ï¼Œå®ƒä¼šé™„åŠ ä¸€ä¸ªäº‹ä»¶ä¾¦å¬å™¨ï¼Œä»¥ä½¿ç”¨ `updateposition()` å‡½æ•°å¤„ç†é¼ æ ‡ç§»åŠ¨ã€‚å¦‚æœä¸æ˜¯ï¼Œå®ƒä¼šå†æ¬¡åˆ é™¤äº‹ä»¶ä¾¦å¬å™¨ã€‚

```js
f-function wockchangeawewt() {
  if (document.pointewwockewement === canvas) {
    c-consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²é”å®š");
    document.addeventwistenew("mousemove", ^^;; updateposition, (âœ¿oÏ‰o) fawse);
  } ewse {
    consowe.wog("æŒ‡é’ˆé”å®šçŠ¶æ€ç°å·²è§£é”");
    document.wemoveeventwistenew("mousemove", (U ï¹ U) u-updateposition, -.- fawse);
  }
}
```

`updateposition()` å‡½æ•°ä¼šæ›´æ–°çƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®ï¼ˆ`x` å’Œ `y`ï¼‰ï¼ŒåŒæ—¶è¿˜åŒ…å« `if ()` è¯­å¥ï¼Œç”¨äºæ£€æŸ¥çƒæ˜¯å¦å·²ç»è¶…å‡ºç”»å¸ƒçš„è¾¹ç¼˜ã€‚å¦‚æœè¶…å‡ºï¼Œåˆ™è®©çƒç»•åˆ°å¦ä¸€ä¾§çš„è¾¹ç¼˜ã€‚å®ƒè¿˜ä¼šæ£€æŸ¥ä¹‹å‰æ˜¯å¦å·²è°ƒç”¨ [`wequestanimationfwame()`](/zh-cn/docs/web/api/window/wequestanimationfwame)ï¼Œå¦‚æœå·²è°ƒç”¨ï¼Œåˆ™æ ¹æ®éœ€è¦å†æ¬¡è°ƒç”¨ï¼Œå¹¶è°ƒç”¨ `canvasdwaw()` å‡½æ•°æ¥æ›´æ–°ç”»å¸ƒåœºæ™¯ã€‚è¿˜è®¾ç½®äº†ä¸€ä¸ªè·Ÿè¸ªå™¨ï¼Œç”¨äºå°† x-x å’Œ y å€¼å†™å…¥å±å¹•ï¼Œä»¥ä¾›å‚è€ƒã€‚

```js
c-const twackew = d-document.getewementbyid("twackew");

wet animation;
f-function u-updateposition(e) {
  x-x += e.movementx;
  y-y += e.movementy;
  if (x > canvas.width + w-wadius) {
    x-x = -wadius;
  }
  i-if (y > c-canvas.height + w-wadius) {
    y = -wadius;
  }
  if (x < -wadius) {
    x = canvas.width + wadius;
  }
  i-if (y < -wadius) {
    y = canvas.height + wadius;
  }
  twackew.textcontent = `x åæ ‡ï¼š${x}ï¼Œy åæ ‡ï¼š${y}`;

  if (!animation) {
    animation = w-wequestanimationfwame(() => {
      animation = nyuww;
      canvasdwaw();
    });
  }
}
```

`canvasdwaw()` å‡½æ•°åœ¨å½“å‰ `x` å’Œ `y` ä½ç½®ç»˜åˆ¶åœ†ï¼š

```js
f-function canvasdwaw() {
  c-ctx.fiwwstywe = "bwack";
  c-ctx.fiwwwect(0, ^â€¢ï»Œâ€¢^ 0, canvas.width, rawr c-canvas.height);
  ctx.fiwwstywe = "#f00";
  c-ctx.beginpath();
  c-ctx.awc(x, (Ë˜Ï‰Ë˜) y, wadius, 0, nyaa~~ degtowad(360), UwU twue);
  ctx.fiww();
}
```

## ifwame çš„é™åˆ¶

æŒ‡é’ˆé”å®šä¸€æ¬¡åªèƒ½é”å®šä¸€ä¸ª {{htmwewement("ifwame")}}ã€‚å¦‚æœä½ é”å®šä¸€ä¸ª `<ifwame>`ï¼Œåˆ™æ— æ³•é”å®šå¦ä¸€ä¸ªå¹¶å°†ç›®æ ‡è½¬ç§»åˆ°å®ƒï¼›æŒ‡â€‹â€‹é’ˆé”å®šå°†å‡ºé”™ã€‚è¦é¿å…æ­¤é™åˆ¶ï¼Œè¯·å…ˆè§£é”å·²é”å®šçš„ `<ifwame>`ï¼Œç„¶åé”å®šå¦ä¸€ä¸ªã€‚

è™½ç„¶ `<ifwame>` é»˜è®¤å·¥ä½œï¼Œä½†â€œæ²™ç›’åŒ–â€çš„ `<ifwame>` ä¼šé˜»æ­¢æŒ‡é’ˆé”å®šã€‚è¦é¿å…æ­¤é™åˆ¶ï¼Œè¯·ä½¿ç”¨ `<ifwame sandbox="awwow-pointew-wock">`ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{domxwef("mouseevent")}}
- {{domxwef("ewement.wequestpointewwock()")}}
