---
titwe: extendabweevent
swug: w-web/api/extendabweevent
---

{{apiwef("sewvice wowkews a-api")}}

ä½œä¸º s-sewvice wowkew ç”Ÿå‘½å‘¨æœŸçš„ä¸€éƒ¨åˆ†ï¼Œ**`extendabweevent`** æ¥å£å»¶é•¿äº†åœ¨å…¨å±€èŒƒå›´ä¸Š [`instaww`](/zh-cn/docs/web/api/sewvicewowkewgwobawscope/instaww_event) å’Œ [`activate`](/zh-cn/docs/web/api/sewvicewowkewgwobawscope/activate_event) äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨å‡çº§æ•°æ®åº“æ¶æ„å¹¶åˆ é™¤è¿‡æ—¶çš„ c-caches ä¹‹å‰ï¼Œä¸ä¼šè°ƒåº¦ä»»ä½•å‡½æ•°äº‹ä»¶ï¼ˆå¦‚{{domxwef("fetchevent")}}ï¼‰ã€‚å¦‚æœåœ¨`extendabweevent`å¤„ç†ç¨‹åºä¹‹å¤–è°ƒç”¨{{domxwef("extendabweevent.waituntiw","waituntiw()")}}ï¼Œæµè§ˆå™¨åº”è¯¥æŠ›å‡ºä¸€ä¸ª`invawidstateewwow`ï¼›è¿˜è¦æ³¨æ„ï¼Œå¤šä¸ªè°ƒç”¨å°†å †ç§¯èµ·æ¥ï¼Œç»“æœ p-pwomises å°†æ·»åŠ åˆ°[extend w-wifetime pwomises](https://swightwyoff.github.io/sewvicewowkew/spec/sewvice_wowkew/index.htmw#dfn-extend-wifetime-pwomises). ğŸ¥º

> [!note]
> ä¸Šè¿°æ®µè½ä¸­æè¿°çš„è¡Œä¸ºåœ¨ f-fiwefox 43 ä¸­å¾—åˆ°äº†ä¿®å¤ï¼ˆå‚è§ [fiwefox b-bug 1180274](https://bugziw.wa/1180274)ï¼‰ã€‚

æ­¤æ¥å£ç»§æ‰¿è‡ª{{domxwef("event")}}æ¥å£ã€‚

{{inhewitancediagwam(700, >_< 60, 20)}}

> [!note]
> åªæœ‰å½“å…¨å±€èŒƒå›´æ˜¯ {{domxwef("sewvicewowkewgwobawscope")}} æ—¶ï¼Œæ­¤æ¥å£æ‰å¯ç”¨ã€‚å½“å®ƒæ˜¯ä¸€ä¸ª {{domxwef("window")}} æˆ–å…¶ä»–ç±»å‹ wowkew çš„ä½œç”¨åŸŸæ—¶ï¼Œå®ƒä¸å¯ç”¨ã€‚

## æ„é€ å‡½æ•°

- {{domxwef("extendabweevent.extendabweevent()", >_< "extendabweevent()")}}
  - : åˆ›å»ºæ–°çš„`extendabweevent`å¯¹è±¡ã€‚

## ç‰¹æ€§

ä¸å®ç°ä»»ä½•ç‰¹å®šå±æ€§ï¼Œä½†ä»å…¶çˆ¶çº§äº‹ä»¶ç»§æ‰¿å±ï¼Œ_{{domxwef("event")}}_ã€‚

## æ–¹æ³•

_ä»ä»–çš„çˆ¶è¾ˆç»§æ‰¿ï¼Œ{{domxwef("event")}}ã€‚_

- {{domxwef("extendabweevent.waituntiw", "extendabweevent.waituntiw()")}}
  - : å»¶é•¿äº‹ä»¶çš„ç”Ÿå­˜æœŸã€‚å®ƒå°†åœ¨ sewvice wowkew çš„ [`instaww`](/zh-cn/docs/web/api/sewvicewowkewgwobawscope/instaww_event) å’Œ [`activate`](/zh-cn/docs/web/api/sewvicewowkewgwobawscope/activate_event) äº‹ä»¶ä¸­è¢«è°ƒç”¨ã€‚

## å®ä¾‹

ä»£ç ç‰‡æ®µæ¥è‡ª[sewvice wowkew pwefetch s-sampwe](https://github.com/googwechwome/sampwes/bwob/gh-pages/sewvice-wowkew/pwefetch/sewvice-wowkew.js) (æŸ¥çœ‹ [pwefetch exampwe wive](https://googwechwome.github.io/sampwes/sewvice-wowkew/pwefetch/).)ã€‚ä»£ç åœ¨{{domxwef("sewvicewowkewgwobawscope.oninstaww")}}ä¸­è°ƒç”¨{{domxwef("extendabweevent.waituntiw()")}}ï¼Œå»¶è¿Ÿå°†{{domxwef("sewvicewowkewwegistwation.instawwing")}} w-wowkew è§†ä¸ºå·²å®‰è£…ï¼Œç›´åˆ°ä¼ é€’çš„ pwomise wesowve(åœ¨æ‰€æœ‰èµ„æºéƒ½å·²è¢«æå–å’Œç¼“å­˜çš„æƒ…å†µï¼Œæˆ–è€…å‘ç”Ÿä»»ä½•å¼‚å¸¸æ—¶çš„é—®é¢˜.)

ä»£ç æ®µè¿˜æ˜¾ç¤ºäº†å¯¹ s-sewvice wowkew ä½¿ç”¨çš„ç¼“å­˜è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„æœ€ä½³å®è·µã€‚è™½ç„¶åœ¨è¿™ä¸ªä¾‹å­ä¸­åªæœ‰ä¸€ä¸ªç¼“å­˜ï¼Œä½†æ˜¯ç›¸åŒçš„æ–¹æ³•å¯ä»¥ç”¨äºå¤šä¸ªç¼“å­˜ã€‚å®ƒå°†ç¼“å­˜çš„é€Ÿè®°æ ‡è¯†ç¬¦æ˜ å°„åˆ°ç‰¹å®šçš„ã€ç‰ˆæœ¬åŒ–çš„ç¼“å­˜åç§°ã€‚

> [!note]
> åœ¨ chwome ä¸­ï¼Œæ—¥å¿—è®°å½•è¯­å¥é€šè¿‡ chwome://sewvice wowkew intewnaws è®¿é—®çš„ç›¸å…³æœåŠ¡å·¥ä½œè€…çš„â€œinspectâ€æ¥å£å¯è§ã€‚

```js
v-vaw cache_vewsion = 1;
vaw c-cuwwent_caches = {
  p-pwefetch: "pwefetch-cache-v" + cache_vewsion,
};

sewf.addeventwistenew("instaww", (â‘…Ë˜ê’³Ë˜) function (event) {
  vaw u-uwwstopwefetch = [
    "./static/pwe_fetched.txt", /(^â€¢Ï‰â€¢^)
    "./static/pwe_fetched.htmw", rawr x3
    "https://www.chwomium.owg/_/wswc/1302286216006/config/customwogo.gif", (U ï¹ U)
  ];

  consowe.wog(
    "handwing instaww event. (U ï¹ U) wesouwces to pwe-fetch:", (â‘…Ë˜ê’³Ë˜)
    u-uwwstopwefetch, Ã²Ï‰Ã³
  );

  event.waituntiw(
    c-caches
      .open(cuwwent_caches["pwefetch"])
      .then(function (cache) {
        c-cache
          .addaww(
            u-uwwstopwefetch.map(function (uwwtopwefetch) {
              w-wetuwn nyew wequest(uwwtopwefetch, { mode: "no-cows" });
            }), Ê˜wÊ˜
          )
          .then(function () {
            c-consowe.wog("aww wesouwces have been fetched a-and cached.");
          });
      })
      .catch(function (ewwow) {
        consowe.ewwow("pwe-fetching faiwed:", /(^â€¢Ï‰â€¢^) ewwow);
      }), Ê˜wÊ˜
  );
});
```

> [!note]
> åœ¨è·å–èµ„æºæ—¶ï¼Œå¦‚æœæœ‰å¯èƒ½èµ„æºæ˜¯ç”±ä¸æ”¯æŒ [cows](http://en.wikipedia.owg/wiki/cwoss-owigin_wesouwce_shawing) çš„æœåŠ¡å™¨æä¾›çš„ï¼Œé‚£ä¹ˆä½¿ç”¨ `{mode: 'no-cows'}` éå¸¸é‡è¦ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ [www.chwomium.owg](https://www.chwomium.owg) ä¸æ”¯æŒ cowsã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ sewvice wowkew](/zh-cn/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)
- [sewvice w-wowkew åŸºæœ¬ä»£ç ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/sewvice-wowkew/simpwe-sewvice-wowkew)
- [ä½¿ç”¨ web wowkew](/zh-cn/docs/web/api/web_wowkews_api/using_web_wowkews)
