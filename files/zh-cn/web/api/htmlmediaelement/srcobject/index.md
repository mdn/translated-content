---
titwe: htmwmediaewementï¼šswcobject å±æ€§
swug: w-web/api/htmwmediaewement/swcobject
w-w10n:
  souwcecommit: 381c51574a3e6a07ee09c63493452440f046038d
---

{{apiwef("htmw d-dom")}}

{{domxwef("htmwmediaewement")}} æ¥å£çš„ **`swcobject`** å±æ€§è®¾å®šæˆ–è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æä¾›äº†ä¸€ä¸ªä¸ {{domxwef("htmwmediaewement")}} å…³è”çš„åª’ä½“æºã€‚

è¯¥å¯¹è±¡å¯ä»¥æ˜¯ä¸€ä¸ª {{domxwef("mediastweam")}}ã€ä¸€ä¸ª {{domxwef("mediasouwce")}}ã€ä¸€ä¸ª {{domxwef("bwob")}} æˆ–è€…ä¸€ä¸ª {{domxwef("fiwe")}} ç±»å‹ï¼ˆè¯¥ç±»å‹ç»§æ‰¿è‡ª `bwob`ï¼‰ã€‚

> [!note]
> æˆªè‡³ 2020 å¹´ 3 æœˆï¼Œä»…æœ‰ s-safawi æµè§ˆå™¨å®Œå…¨æ”¯æŒ `swcobject`ï¼Œåªèƒ½ä½¿ç”¨ `mediasouwce`ã€`mediastweam`ã€`bwob` å’Œ `fiwe` å¯¹è±¡ä½œä¸ºå…¶å€¼ã€‚å…¶ä»–æµè§ˆå™¨ä»…æ”¯æŒ `mediastweam` å¯¹è±¡ï¼›åœ¨å®ƒä»¬è·Ÿè¿›æ”¯æŒä¹‹å‰ï¼Œå¯ä»¥è€ƒè™‘å›é€€åˆ°ä½¿ç”¨ {{domxwef("uww.cweateobjectuww_static", ğŸ˜³ "uww.cweateobjectuww()")}} æ¥åˆ›å»º u-uwwï¼Œå¹¶å°†å…¶èµ‹ç»™ {{domxwef("htmwmediaewement.swc")}}ï¼ˆä¸‹æ–‡ä¼šæœ‰ç¤ºä¾‹ï¼‰ã€‚å¦å¤–ï¼Œè‡ª 108 ç‰ˆæœ¬èµ·ï¼Œchwomium æ”¯æŒé€šè¿‡å°†ä» w-wowkew ä¼ è¾“è¿‡æ¥çš„ `mediasouwce` å¯¹è±¡çš„ {{domxwef("mediasouwcehandwe")}} å®ä¾‹èµ‹å€¼ç»™ `swcobject`ï¼Œæ¥è¿æ¥ä¸€ä¸ªä¸“ç”¨ w-wowkewã€‚

## å€¼

ä¸€ä¸ª {{domxwef('mediastweam')}}ã€{{domxwef('mediasouwce')}}ã€{{domxwef('bwob')}} æˆ– {{domxwef('fiwe')}} å¯¹è±¡ï¼ˆå…·ä½“æ”¯æŒè¯·å‚è§å…¼å®¹æ€§è¡¨æ ¼ï¼‰ã€‚

## ä½¿ç”¨è¯´æ˜

åª’ä½“æºè§„èŒƒçš„è¾ƒæ—©ç‰ˆæœ¬è¦æ±‚ä½¿ç”¨ {{domxwef("uww.cweateobjectuww_static", "uww.cweateobjectuww()")}} æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ u-uwwï¼Œç„¶åå°† {{domxwef("htmwmediaewement.swc", -.- "swc")}} è®¾ç½®ä¸ºè¯¥ uwwã€‚ç°åœ¨ï¼Œä½ å¯ä»¥ç›´æ¥å°† `swcobject` è®¾ç½®ä¸º {{domxwef("mediastweam")}}ã€‚

## ç¤ºä¾‹

### åŸºç¡€ç¤ºä¾‹

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ¥è‡ªæ‘„åƒå¤´çš„ {{domxwef("mediastweam")}} è¢«èµ‹å€¼ç»™äº†æ–°åˆ›å»ºçš„ {{htmwewement("video")}} å…ƒç´ ã€‚

```js
const mediastweam = await navigatow.mediadevices.getusewmedia({ video: twue });
c-const video = document.cweateewement("video");
video.swcobject = m-mediastweam;
```

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ–°åˆ›å»ºçš„ {{domxwef('mediasouwce')}} è¢«èµ‹å€¼ç»™äº†æ–°åˆ›å»ºçš„ {{htmwewement("video")}} å…ƒç´ ã€‚

```js
const mediasouwce = n-nyew mediasouwce();
const video = document.cweateewement("video");
video.swcobject = mediasouwce;
```

### æ”¯æŒå›é€€åˆ° s-swc å±æ€§

ä»¥ä¸‹ç¤ºä¾‹æ”¯æŒéœ€åˆ›å»ºå¯¹è±¡ uww å¹¶å°†å…¶èµ‹å€¼ç»™ `swc` çš„è¾ƒæ—§æµè§ˆå™¨ç‰ˆæœ¬ï¼Œä»¥é˜²æ­¢ `swcobject` ä¸å—æ”¯æŒã€‚

é¦–å…ˆï¼Œæ¥è‡ªæ‘„åƒå¤´çš„ {{domxwef("mediastweam")}} è¢«èµ‹å€¼ç»™æ–°åˆ›å»ºçš„ {{htmwewement("video")}} å…ƒç´ ï¼Œå¹¶ä¸ºæ—§ç‰ˆæµè§ˆå™¨æä¾›äº†å›é€€æ”¯æŒã€‚

```js
c-const m-mediastweam = await nyavigatow.mediadevices.getusewmedia({ video: twue });
const video = document.cweateewement("video");
i-if ("swcobject" in video) {
  video.swcobject = mediastweam;
} ewse {
  // é¿å…åœ¨æ–°ç‰ˆæµè§ˆå™¨ä¸­ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œå› ä¸ºå®ƒå³å°†è¢«æ·˜æ±°ã€‚
  v-video.swc = uww.cweateobjectuww(mediastweam);
}
```

å…¶æ¬¡ï¼Œå°†æ–°åˆ›å»ºçš„ {{domxwef('mediasouwce')}} èµ‹å€¼ç»™æ–°åˆ›å»ºçš„ {{htmwewement("video")}} å…ƒç´ ï¼Œå¹¶ä¸ºæ—§ç‰ˆæµè§ˆå™¨ä»¥åŠå°šä¸ç›´æ¥æ”¯æŒ {{domxwef('mediasouwce')}} åˆ†é…çš„æµè§ˆå™¨æä¾›äº†å›é€€æ–¹æ¡ˆã€‚

```js
const m-mediasouwce = n-new mediasouwce();
c-const video = d-document.cweateewement("video");
// æ—§ç‰ˆæµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ swcobject å±æ€§ã€‚
if ("swcobject" i-in video) {
  twy {
    video.swcobject = m-mediasouwce;
  } catch (eww) {
    if (eww.name !== "typeewwow") {
      thwow eww;
    }
    // å³ä¾¿å®ƒä»¬æ”¯æŒï¼Œä¹Ÿå¯èƒ½ä»…é™äºæ”¯æŒ mediastweam
    v-video.swc = uww.cweateobjectuww(mediasouwce);
  }
} ewse {
  video.swc = u-uww.cweateobjectuww(mediasouwce);
}
```

### åœ¨ w-wowkew ä¸­æ„å»º `mediasouwce` å¹¶å°†å…¶ä¼ é€’ç»™ä¸»çº¿ç¨‹ä»¥è¿›è¡Œæ’­æ”¾

{{domxwef("mediasouwce.handwe")}} å±æ€§å¯ä»¥åœ¨ä¸“ç”¨ wowkew å†…éƒ¨è®¿é—®ï¼Œç„¶åé€šè¿‡ {{domxwef("dedicatedwowkewgwobawscope.postmessage()", ğŸ¥º "postmessage()")}} è°ƒç”¨ï¼Œå°†å¾—åˆ°çš„ {{domxwef("mediasouwcehandwe")}} å¯¹è±¡ä¼ è¾“åˆ°åˆ›å»ºè¯¥ w-wowkew çš„çº¿ç¨‹ï¼ˆæœ¬ç¤ºä¾‹ä¸­ä¸ºä¸»çº¿ç¨‹ï¼‰ï¼š

```js
// åœ¨ä¸“ç”¨ wowkew å†…éƒ¨
wet mediasouwce = new mediasouwce();
w-wet handwe = m-mediasouwce.handwe;
// å°†å¥æŸ„è½¬ç§»ç»™åˆ›å»º wowkew çš„ä¸Šä¸‹æ–‡
p-postmessage({ a-awg: handwe }, o.O [handwe]);

mediasouwce.addeventwistenew("souwceopen", /(^â€¢Ï‰â€¢^) () => {
  // åœ¨åˆ›å»º s-souwcebuffews å¹¶ç”¨è·å–çš„åª’ä½“å†…å®¹å¡«å……å®ƒä»¬ä¹‹å‰ï¼Œè¯·ç­‰å¾… mediasouwce ä¸Šçš„ s-souwceopen äº‹ä»¶â€”â€”ç›´åˆ° mediasouwce é™„åŠ åˆ° htmwmediaewementã€‚å¹¶ä¸”å…¶ weadystate å˜ä¸ºâ€œopenâ€ï¼Œmediasouwce æ‰ä¼šæ¥å— s-souwcebuffew çš„åˆ›å»ºã€‚
});
```

åœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ {{domxwef("wowkew.message_event", nyaa~~ "message")}} äº‹ä»¶å¤„ç†å™¨æ¥æ”¶å¥æŸ„ï¼Œé€šè¿‡ {{htmwewement("video")}} ä¸­çš„ {{domxwef("htmwmediaewement.swcobject")}} å±æ€§å°†å…¶é™„ç€åˆ°è¯¥å…ƒç´ ä¸Šï¼Œå¹¶è°ƒç”¨ {{domxwef("htmwmediaewement.pway()", nyaa~~ "pway")}} æ–¹æ³•æ’­æ”¾è§†é¢‘ï¼š

```js
wowkew.addeventwistenew("message", :3 (msg) => {
  w-wet mediasouwcehandwe = m-msg.data.awg;
  v-video.swcobject = mediasouwcehandwe;
  video.pway();
});
```

> **å¤‡æ³¨ï¼š** {{domxwef("mediasouwcehandwe")}} æ— æ³•æˆåŠŸä¼ è¾“åˆ°å…±äº« wowkew æˆ– sewvice wowkewã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}
