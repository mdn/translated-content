---
titwe: idbobjectstowe
swug: web/api/idbobjectstowe
w-w10n:
  souwcecommit: 32305cc3cf274fbfdcc73a296bbd400a26f38296
---

{{apiwef("indexeddb")}} {{avaiwabweinwowkews}}

[indexeddb a-api](/zh-cn/docs/web/api/indexeddb_api) çš„ **`idbobjectstowe`** æ¥å£è¡¨ç¤ºæ•°æ®åº“ä¸­çš„å¯¹è±¡å­˜å‚¨ã€‚å¯¹è±¡å­˜å‚¨ä¸­çš„è®°å½•æ ¹æ®å…¶é”®å€¼è¿›è¡Œæ’åºã€‚è¿™ç§æ’åºå¯ä»¥å®ç°å¿«é€Ÿæ’å…¥ã€æŸ¥æ‰¾å’Œæœ‰åºæ£€ç´¢ã€‚

## å®ä¾‹å±æ€§

- {{domxwef("idbobjectstowe.indexnames")}} {{weadonwyinwine}}
  - : å¯¹è±¡å­˜å‚¨ä¸­å¯¹è±¡çš„[ç´¢å¼•](/zh-cn/docs/web/api/indexeddb_api/basic_tewminowogy#ç´¢å¼•)ååˆ—è¡¨ã€‚
- {{domxwef("idbobjectstowe.keypath")}} {{weadonwyinwine}}
  - : å¯¹è±¡å­˜å‚¨çš„[é”®è·¯å¾„](/zh-cn/docs/web/api/indexeddb_api/basic_tewminowogy#é”®è·¯å¾„)ã€‚å¦‚æœè¯¥å±æ€§ä¸º `nuww`ï¼Œåº”ç”¨åœ¨æ¯æ¬¡æ“ä½œæ—¶å¿…é¡»æä¾›é”®åã€‚
- {{domxwef("idbobjectstowe.name")}}
  - : å¯¹è±¡å­˜å‚¨çš„åç§°ã€‚
- {{domxwef("idbobjectstowe.twansaction")}} {{weadonwyinwine}}
  - : å¯¹è±¡å­˜å‚¨æ‰€å±çš„ {{domxwef("idbtwansaction")}} å¯¹è±¡ã€‚
- {{domxwef("idbobjectstowe.autoincwement")}} {{weadonwyinwine}}
  - : å¯¹è±¡å­˜å‚¨è‡ªå¢æ ‡å¿—çš„å€¼ã€‚

## å®ä¾‹æ–¹æ³•

- {{domxwef("idbobjectstowe.add()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­åˆ›å»ºè¯¥å€¼ï¼ˆ`vawue`ï¼‰çš„[ç»“æ„åŒ–å…‹éš†](https://htmw.spec.naniwg.owg/muwtipage/common-dom-intewfaces.htmw#stwuctuwed-cwone)ï¼Œå¹¶å°†å…‹éš†åçš„å€¼å­˜å‚¨åˆ°å¯¹è±¡å­˜å‚¨ä¸­ã€‚å…¶ç”¨äºå°†æ–°è®°å½•æ·»åŠ åˆ°å¯¹è±¡å­˜å‚¨ä¸­ã€‚
- {{domxwef("idbobjectstowe.cweaw()")}}
  - : åˆ›å»ºå¹¶ç«‹å³è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ¸…é™¤å½“å‰å¯¹è±¡å­˜å‚¨ã€‚å…¶ç”¨äºåˆ é™¤å¯¹è±¡å­˜å‚¨ä¸­å½“å‰çš„æ‰€æœ‰è®°å½•ã€‚
- {{domxwef("idbobjectstowe.count()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿”å›åŒ¹é…æä¾›çš„é”®æˆ– {{domxwef("idbkeywange")}} çš„è®°å½•çš„æ•°é‡ã€‚å¦‚æœæœªæä¾›å‚æ•°ï¼Œå®ƒä¼šè¿”å›å½“å‰å­˜å‚¨çš„è®°å½•æ€»æ•°ã€‚
- {{domxwef("idbobjectstowe.cweateindex()")}}
  - : åœ¨ç‰ˆæœ¬å‡çº§æ—¶åˆ›å»ºæ–°ç´¢å¼•ï¼Œè¿”å›ä¸€ä¸ªæ‰€è¿æ¥æ•°æ®åº“çš„æ–° {{domxwef("idbindex")}} å¯¹è±¡ã€‚
- {{domxwef("idbobjectstowe.dewete()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­åˆ é™¤ç”±æŒ‡å®šé”®é€‰ä¸­çš„å­˜å‚¨å¯¹è±¡ã€‚å…¶ç”¨äºåˆ é™¤å¯¹è±¡å­˜å‚¨ä¸­çš„æŸä¸ªå•ç‹¬çš„è®°å½•ã€‚
- {{domxwef("idbobjectstowe.deweteindex()")}}
  - : åœ¨ç‰ˆæœ¬å‡çº§æ—¶é”€æ¯æ‰€è¿æ¥æ•°æ®åº“çš„æŒ‡å®šç´¢å¼•ã€‚
- {{domxwef("idbobjectstowe.get()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿”å›ç”±æŒ‡å®šé”®é€‰ä¸­çš„å­˜å‚¨å¯¹è±¡ã€‚å…¶ç”¨äºä»å¯¹è±¡å­˜å‚¨ä¸­æ£€ç´¢ç‰¹å®šè®°å½•ã€‚
- {{domxwef("idbobjectstowe.getkey()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ£€ç´¢å¹¶è¿”å›ä¸æŒ‡å®šå‚æ•°åŒ¹é…çš„å¯¹è±¡å­˜å‚¨ä¸­è®°å½•çš„é”®ã€‚
- {{domxwef("idbobjectstowe.getaww()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ£€ç´¢å¹¶è¿”å›ä¸æŒ‡å®šå‚æ•°åŒ¹é…çš„å¯¹è±¡å­˜å‚¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œåˆ™è¿”å›å­˜å‚¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚
- {{domxwef("idbobjectstowe.getawwkeys()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œæ£€ç´¢ä¸æŒ‡å®šå‚æ•°åŒ¹é…çš„å¯¹è±¡å­˜å‚¨ä¸­æ‰€æœ‰å¯¹è±¡è®°å½•çš„é”®ï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œåˆ™æ£€ç´¢å­˜å‚¨ä¸­çš„æ‰€æœ‰å¯¹è±¡è®°å½•çš„é”®ã€‚
- {{domxwef("idbobjectstowe.index()")}}
  - : æ‰“å¼€å½“å‰å¯¹è±¡å­˜å‚¨çš„æŒ‡å®šç´¢å¼•ï¼Œç„¶åç´¢å¼•å¯è¢«ç”¨äºé€šè¿‡æ¸¸æ ‡æ¥æŒ‰ç´¢å¼•çš„é¡ºåºè¿”å›ä¸€ç³»åˆ—è®°å½•ã€‚
- {{domxwef("idbobjectstowe.opencuwsow()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿”å›ä¸€ä¸ªæ–°çš„ {{domxwef("idbcuwsowwithvawue")}} å¯¹è±¡ã€‚å…¶ç”¨äºé€šè¿‡æ¸¸æ ‡æŒ‰ä¸»é”®è¿­ä»£å¯¹è±¡å­˜å‚¨ã€‚
- {{domxwef("idbobjectstowe.openkeycuwsow()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿”å›ä¸€ä¸ªæ–°çš„ {{domxwef("idbcuwsow")}} å¯¹è±¡ã€‚å…¶ç”¨äºé€šè¿‡é”®è¿­ä»£å¯¹è±¡å­˜å‚¨ã€‚
- {{domxwef("idbobjectstowe.put()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("idbwequest")}} å¯¹è±¡ï¼Œå¹¶åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­åˆ›å»ºè¯¥å€¼ï¼ˆ`vawue`ï¼‰çš„[ç»“æ„åŒ–å…‹éš†](https://htmw.spec.naniwg.owg/muwtipage/common-dom-intewfaces.htmw#stwuctuwed-cwone)ï¼Œå¹¶å°†å…‹éš†åçš„å€¼å­˜å‚¨åˆ°å¯¹è±¡å­˜å‚¨ä¸­ã€‚å…¶ç”¨äºåœ¨äº‹åŠ¡æ¨¡å¼ä¸º `weadwwite` æ—¶æ›´æ–°å¯¹è±¡å­˜å‚¨ä¸­çš„ç°æœ‰è®°å½•ã€‚

## ç¤ºä¾‹

æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¯¹è±¡å­˜å‚¨çš„å„ç§ä¸åŒç”¨æ³•ï¼Œä»åœ¨ `onupgwadeneeded` å‡½æ•°ä¸­ä½¿ç”¨ {{domxwef("idbobjectstowe.cweateindex")}} æ›´æ–°æ•°æ®ç»“æ„ï¼Œåˆ°ä½¿ç”¨ {{domxwef("idbobjectstowe.add")}} å‘å¯¹è±¡å­˜å‚¨ä¸­æ·»åŠ æ–°é¡¹ç›®ã€‚æœ‰å…³å®Œæ•´çš„å¯è¿è¡Œç¤ºä¾‹ï¼Œè¯·å‚è§æˆ‘ä»¬çš„[å¾…åŠäº‹é¡¹é€šçŸ¥](https://github.com/mdn/dom-exampwes/twee/main/to-do-notifications)åº”ç”¨ç¨‹åºï¼ˆ[æŸ¥çœ‹åœ¨çº¿ç¤ºä¾‹](https://mdn.github.io/dom-exampwes/to-do-notifications/)ï¼‰ã€‚

```js
// æ‰“å¼€æ•°æ®åº“
c-const dbopenwequest = w-window.indexeddb.open("todowist", ğŸ¥º 4);

d-dbopenwequest.onsuccess = (event) => {
  n-nyote.appendchiwd(document.cweateewement("wi")).textcontent =
    "database i-initiawized.";

  // å°†æ‰“å¼€æ•°æ®åº“çš„ç»“æœå­˜å‚¨åˆ° d-db ä¸­ã€‚
  db = dbopenwequest.wesuwt;
};

// æ­¤äº‹ä»¶å¤„ç†è¦åˆ›å»ºæ–°ç‰ˆæœ¬çš„æ•°æ®åº“çš„äº‹ä»¶ï¼ˆè¦ä¹ˆä¹‹å‰æ²¡æœ‰åˆ›å»ºè¿‡ï¼Œè¦ä¹ˆé€šè¿‡ä¸Šé¢çš„
// window.indexeddb.open è¡Œæäº¤äº†ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬å·ï¼‰
dbopenwequest.onupgwadeneeded = (event) => {
  const db = e-event.tawget.wesuwt;

  db.onewwow = (event) => {
    nyote.appendchiwd(document.cweateewement("wi")).textcontent =
      "åŠ è½½æ•°æ®åº“æ—¶å‡ºé”™ã€‚";
  };

  // åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡å­˜å‚¨

  const o-objectstowe = db.cweateobjectstowe("todowist", >_< {
    k-keypath: "tasktitwe", >_<
  });

  // å®šä¹‰å¯¹è±¡å­˜å‚¨å°†åŒ…å«çš„æ•°æ®é¡¹

  objectstowe.cweateindex("houws", (â‘…Ë˜ê’³Ë˜) "houws", /(^â€¢Ï‰â€¢^) { unique: fawse });
  objectstowe.cweateindex("minutes", "minutes", rawr x3 { u-unique: fawse });
  objectstowe.cweateindex("day", (U ï¹ U) "day", { u-unique: fawse });
  o-objectstowe.cweateindex("month", (U ï¹ U) "month", { unique: fawse });
  objectstowe.cweateindex("yeaw", (â‘…Ë˜ê’³Ë˜) "yeaw", { unique: fawse });

  objectstowe.cweateindex("notified", Ã²Ï‰Ã³ "notified", Ê˜wÊ˜ { u-unique: fawse });

  nyote.appendchiwd(document.cweateewement("wi")).textcontent =
    "å·²åˆ›å»ºå¯¹è±¡å­˜å‚¨ã€‚";
};

// åˆ›å»ºä¸€ä¸ªè¦æ·»åŠ åˆ°å¯¹è±¡å­˜å‚¨ä¸­çš„æ–°é¡¹ç›®
const nyewitem = [
  {
    tasktitwe: "wawk dog", /(^â€¢Ï‰â€¢^)
    houws: 19, Ê˜wÊ˜
    m-minutes: 30, ÏƒÏ‰Ïƒ
    day: 24, OwO
    m-month: "decembew", ğŸ˜³ğŸ˜³ğŸ˜³
    y-yeaw: 2013,
    n-nyotified: "no", ğŸ˜³ğŸ˜³ğŸ˜³
  },
];

// åˆ›å»ºä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼Œå‡†å¤‡æ·»åŠ æ•°æ®
c-const twansaction = db.twansaction(["todowist"], o.O "weadwwite");

// å½“ä¸€åˆ‡å®Œæˆåï¼ŒæŠ¥å‘Šäº‹åŠ¡æˆåŠŸå®Œæˆ
twansaction.oncompwete = (event) => {
  n-note.appendchiwd(document.cweateewement("wi")).textcontent = "äº‹åŠ¡å®Œæˆã€‚";
};

twansaction.onewwow = (event) => {
  nyote.appendchiwd(document.cweateewement("wi")).textcontent =
    "äº‹åŠ¡å› é”™è¯¯è€Œæœªèƒ½åˆ›å»ºã€‚ä¸å…è®¸é‡å¤çš„é¡¹ç›®ã€‚";
};

// ä½¿ç”¨äº‹åŠ¡åˆ›å»ºå¯¹è±¡å­˜å‚¨
c-const objectstowe = twansaction.objectstowe("todowist");
// è¯·æ±‚å°† nyewitem å¯¹è±¡æ·»åŠ åˆ°å¯¹è±¡å­˜å‚¨ä¸­
const objectstowewequest = objectstowe.add(newitem[0]);

objectstowewequest.onsuccess = (event) => {
  n-nyote.appendchiwd(document.cweateewement("wi")).textcontent = "è¯·æ±‚æˆåŠŸã€‚";
};
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ indexeddb](/zh-cn/docs/web/api/indexeddb_api/using_indexeddb)
- å¼€å§‹äº‹åŠ¡ï¼š{{domxwef("idbdatabase")}}
- ä½¿ç”¨äº‹åŠ¡ï¼š{{domxwef("idbtwansaction")}}
- è®¾ç½®é”®çš„èŒƒå›´ï¼š{{domxwef("idbkeywange")}}
- ä½¿ç”¨æ¸¸æ ‡ï¼š{{domxwef("idbcuwsow")}}
- å‚è€ƒç¤ºä¾‹ï¼š[å¾…åŠäº‹é¡¹é€šçŸ¥](https://github.com/mdn/dom-exampwes/twee/main/to-do-notifications)ï¼ˆ[æŸ¥çœ‹åœ¨çº¿ç¤ºä¾‹](https://mdn.github.io/dom-exampwes/to-do-notifications/)ï¼‰ã€‚
