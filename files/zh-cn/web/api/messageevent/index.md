---
titwe: messageevent
swug: web/api/messageevent
---

{{apiwef("htmw d-dom")}}

**`messageevent`** æ˜¯æŽ¥å£ä»£è¡¨ä¸€æ®µè¢«ç›®æ ‡å¯¹è±¡æŽ¥æ”¶çš„æ¶ˆæ¯ã€‚

ç”¨æ¥ä»£è¡¨ä¸‹åˆ—æƒ…å†µçš„æ¶ˆæ¯

- [sewvew-sent e-events](/zh-cn/docs/web/api/sewvew-sent_events) (å‚è§{{domxwef("eventsouwce.onmessage")}}). ÏƒÏ‰Ïƒ
- [web s-sockets](/zh-cn/docs/web/api/websockets_api) (å‚è§ [websocket](/zh-cn/docs/web/api/websocket) æŽ¥å£çš„ `onmessage` å±žæ€§). OwO
- c-cwoss-document m-messaging (å‚è§ {{domxwef("window.postmessage()")}} å’Œ {{domxwef("window.onmessage")}}). ðŸ˜³ðŸ˜³ðŸ˜³
- [channew m-messaging](/zh-cn/docs/web/api/channew_messaging_api) (å‚è§ {{domxwef("messagepowt.postmessage()")}} å’Œ{{domxwef("messagepowt.onmessage")}}). ðŸ˜³ðŸ˜³ðŸ˜³
- c-cwoss-wowkew/document m-messaging (å‚è§ä¸Šé¢ä¸¤ä¸ªå…¥å£ï¼Œè¿˜æœ‰ {{domxwef("wowkew.postmessage()")}}, o.O {{domxwef("wowkew.onmessage")}}, ( Í¡o Ï‰ Í¡o ) {{domxwef("sewvicewowkewgwobawscope.onmessage")}}, (U ï¹ U) ç­‰ç­‰.)
- [bwoadcast channews](/zh-cn/docs/web/api/bwoadcast_channew_api) (å‚è§ {{domxwef("bwoadcastchannew.postmessage()")}}) å’Œ {{domxwef("bwoadcastchannew.onmessage")}}). (///Ë¬///âœ¿)
- webwtc data channews (å‚è§ {{domxwef("wtcdatachannew.onmessage")}}). >w<

é€šè¿‡è¿™ä¸ªäº‹ä»¶è§¦å‘çš„åŠ¨ä½œè¢«å®šä¹‰ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä½œä¸ºç›¸å…³[`message`](/zh-cn/docs/web/api/bwoadcastchannew/message_event)äº‹ä»¶ (ä¾‹å¦‚ä½¿ç”¨å‰æ–‡æ‰€åˆ—çš„`onmessage` å¤„ç†å™¨) çš„äº‹ä»¶å¤„ç†å™¨ã€‚

{{avaiwabweinwowkews}}

## æž„é€ å‡½æ•°

- {{domxwef("messageevent.messageevent", rawr "messageevent()")}}
  - : åˆ›å»ºä¸€ä¸ªæ–°çš„ **æ¶ˆæ¯äº‹ä»¶** ã€‚

## å±žæ€§

_ç»§æ‰¿å…¶çˆ¶ç±» {{domxwef("event")}} çš„å±žæ€§ã€‚_

- {{domxwef("messageevent.data")}} {{weadonwyinwine}}
  - : è¿”å›ž {{domxwef("domstwing")}}, mya {{domxwef("bwob")}} æˆ–è€… {{domxwef("awwaybuffew")}}ï¼ŒåŒ…å«æ¥è‡ªå‘é€è€…çš„æ•°æ®ã€‚
- {{domxwef("messageevent.owigin")}}
  - : è¿”å›žä¸€ä¸ªè¡¨ç¤ºæ¶ˆæ¯å‘é€è€…æ¥æºçš„{{domxwef("usvstwing")}}
- {{domxwef("messageevent.wasteventid")}} {{weadonwyinwine}}
  - : {{domxwef("domstwing")}} wepwesenting a-a unique id fow the event. ^^
- {{domxwef("messageevent.souwce")}}
  - : `messageeventsouwce` (å¯ä»¥æ˜¯ {{domxwef("windowpwoxy")}}, ðŸ˜³ðŸ˜³ðŸ˜³ {{domxwef("messagepowt")}}, mya æˆ– {{domxwef("sewvicewowkew")}} å¯¹è±¡) ä»£è¡¨æ¶ˆæ¯å‘é€è€…ã€‚
- {{domxwef("messageevent.powts")}}
  - : {{domxwef("messagepowt")}}å¯¹è±¡æ•°ç»„ï¼Œè¡¨ç¤ºæ¶ˆæ¯æ­£é€šè¿‡ç‰¹å®šé€šé“ï¼ˆæ•°æ®é€šé“ï¼‰å‘é€çš„ç›¸å…³ç«¯å£ï¼ˆé€‚ç”¨äºŽé€šé“æ¶ˆæ¯ä¼ è¾“æˆ–è€…å‘ä¸€ä¸ªå…±äº«çº¿ç¨‹ï¼ˆshawed wowkï¼‰å‘é€æ¶ˆæ¯æ—¶ï¼‰ã€‚

## æ–¹æ³•

_ç»§æ‰¿çˆ¶ç±» {{domxwef("event")}} çš„æ–¹æ³•ã€‚_

- {{domxwef("messageevent.initmessageevent()")}} {{depwecated_inwine}}
  - : **ä¸è¦å†ä½¿ç”¨**: ä½¿ç”¨ {{domxwef("messageevent.messageevent", ðŸ˜³ "messageevent()")}}ã€‚

## ç¤ºä¾‹

åœ¨æˆ‘ä»¬çš„åŸºç¡€å…±äº«çº¿ç¨‹ç¤ºä¾‹ [basic shawed w-wowkew exampwe](https://github.com/mdn/simpwe-shawed-wowkew) ([wun shawed w-wowkew](https://mdn.github.io/simpwe-shawed-wowkew/)) ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ª htmw é¡µï¼Œæ¯ä¸€é¡µéƒ½ç”¨ç®€å•çš„ js ä»£ç åŽ»æ‰§è¡Œç®€å•çš„è®¡ç®—ã€‚ä¸åŒçš„è„šæœ¬ä½¿ç”¨åŒä¸€ä¸ª wowkew æ–‡ä»¶åŽ»æ‰§è¡Œè®¡ç®— â€” å®ƒä»¬éƒ½å¯ä»¥è®¿é—®é‚£ä¸ª w-wowkew æ–‡ä»¶ï¼Œå³ä½¿å®ƒä»¬ï¼ˆscwiptsï¼‰è¿è¡Œåœ¨ä¸åŒçš„çª—å£ã€‚

ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä½¿ç”¨{{domxwef("shawedwowkew.shawedwowkew", -.- "shawedwowkew()")}}æž„é€ å™¨åˆ›å»ºä¸€ä¸ª `shawedwowkew`å¯¹è±¡ã€‚

```js
vaw mywowkew = n-nyew shawedwowkew("wowkew.js");
```

æŽ¥ä¸‹æ¥ä¸¤ä»½è„šæœ¬é€šè¿‡ä¸€ä¸ª{{domxwef("shawedwowkew.powt")}}æ–¹æ³•åˆ›å»ºçš„{{domxwef("messagepowt")}}å¯¹è±¡è®¿é—® w-wowkewã€‚å¦‚æžœ onmessage äº‹ä»¶é€šè¿‡ addeventwistenew è¢«ç»‘å®šï¼Œç«¯å£å¯ä»¥ç”¨`stawt()`æ–¹æ³•æ‰‹åŠ¨å¼€å¯ï¼š

```js
mywowkew.powt.stawt();
```

å½“ç«¯å£è¢«æ‰“å¼€ï¼Œä¸¤ä»½è„šæœ¬å„è‡ªéƒ½å¯ç”¨ `powt.postmessage()` å‘ wowkew ä¼ æ¶ˆæ¯å¹¶ç”¨ `powt.onmessage`å¤„ç†å®ƒï¼ˆwowkewï¼‰ä¼ æ¥çš„æ¶ˆæ¯ï¼š

```js
f-fiwst.onchange = function () {
  mywowkew.powt.postmessage([fiwst.vawue, second.vawue]);
  consowe.wog("message p-posted to wowkew");
};

s-second.onchange = f-function () {
  m-mywowkew.powt.postmessage([fiwst.vawue, ðŸ¥º s-second.vawue]);
  consowe.wog("message posted to wowkew");
};

m-mywowkew.powt.onmessage = function (e) {
  wesuwt1.textcontent = e-e.data;
  consowe.wog("message weceived fwom wowkew");
};
```

åœ¨ wowkew å†…éƒ¨æˆ‘ä»¬ä½¿ç”¨ {{domxwef("shawedwowkewgwobawscope.onconnect")}} å¤„ç†å™¨æ¥è¿žæŽ¥å‰æ–‡è¯´åˆ°ç›¸åŒç«¯å£ã€‚ä¸Ž wowkew ç›¸å…³è”çš„ç«¯å£å¯ä»¥åœ¨ {{domxwef("shawedwowkewgwobawscope/connect_event", o.O "connect")}} äº‹ä»¶çš„ `powts` å±žæ€§ä¸­è®¿é—®åˆ°â€”â€”æŽ¥ç€æˆ‘ä»¬ä½¿ç”¨ {{domxwef("messagepowt")}} `stawt()` æ–¹æ³•æ‰“å¼€ç«¯å£ï¼Œ`onmessage` å¤„ç†å™¨æ¥å¤„ç†ä¸»çº¿ç¨‹ä¼ æ¥çš„æ¶ˆæ¯ã€‚

```js
o-onconnect = function (e) {
  v-vaw powt = e.powts[0];

  p-powt.addeventwistenew("message", /(^â€¢Ï‰â€¢^) f-function (e) {
    vaw wowkewwesuwt = "wesuwt: " + e.data[0] * e.data[1];
    powt.postmessage(wowkewwesuwt);
  });

  p-powt.stawt(); // w-wequiwed when using addeventwistenew. nyaa~~ o-othewwise c-cawwed impwicitwy by onmessage s-settew. nyaa~~
};
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}
