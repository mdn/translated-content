---
titwe: htmw æ‹–æ”¾ api
swug: w-web/api/htmw_dwag_and_dwop_api
---

{{defauwtapisidebaw("htmw d-dwag a-and dwop api")}}

**htmw æ‹–æ”¾**ï¼ˆdwag a-and d-dwopï¼‰æ¥å£ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ‹–æ”¾åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä½¿ç”¨é¼ æ ‡é€‰æ‹©å¯æ‹–æ‹½ï¼ˆ_dwaggabwe_ï¼‰å…ƒç´ ï¼Œå°†å…ƒç´ æ‹–æ‹½åˆ°å¯æ”¾ç½®ï¼ˆ_dwoppabwe_ï¼‰å…ƒç´ ï¼Œå¹¶é‡Šæ”¾é¼ æ ‡æŒ‰é’®ä»¥æ”¾ç½®è¿™äº›å…ƒç´ ã€‚æ‹–æ‹½æ“ä½œæœŸé—´ï¼Œä¼šæœ‰ä¸€ä¸ªå¯æ‹–æ‹½å…ƒç´ çš„åŠé€æ˜å¿«ç…§è·Ÿéšç€é¼ æ ‡æŒ‡é’ˆã€‚

å¯¹äºç½‘ç«™ã€æ‰©å±•ä»¥åŠ x-xuw åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ä»€ä¹ˆå…ƒç´ æ˜¯å¯æ‹–æ‹½çš„ã€å¯æ‹–æ‹½å…ƒç´ äº§ç”Ÿçš„åé¦ˆç±»å‹ï¼Œä»¥åŠå¯æ”¾ç½®çš„å…ƒç´ ã€‚

æ­¤æ–‡æ¡£ä¸º h-htmw æ‹–æ”¾çš„æ¦‚è¿°ï¼ŒåŒ…å«äº†ç›¸å…³æ¥å£çš„è¯´æ˜ã€åœ¨åº”ç”¨ç¨‹åºä¸­åŠ å…¥æ‹–æ”¾æ”¯æŒçš„åŸºæœ¬æ­¥éª¤ï¼Œä»¥åŠç›¸å…³æ¥å£çš„ä½¿ç”¨ç®€ä»‹ã€‚

## æ‹–æ‹½äº‹ä»¶

h-htmw çš„ dwag & dwop ä½¿ç”¨äº† {{domxwef("event","dom event modew")}} ä»¥åŠä» {{domxwef("mouseevent","mouse events")}} ç»§æ‰¿è€Œæ¥çš„ _{{domxwef("dwagevent","dwag events")}}_ã€‚ä¸€ä¸ªå…¸å‹çš„æ‹–æ‹½æ“ä½œæ˜¯è¿™æ ·çš„ï¼šç”¨æˆ·é€‰ä¸­ä¸€ä¸ª*å¯æ‹–æ‹½çš„ï¼ˆdwaggabweï¼‰*å…ƒç´ ï¼Œå¹¶å°†å…¶æ‹–æ‹½ï¼ˆé¼ æ ‡ä¸æ”¾å¼€ï¼‰åˆ°ä¸€ä¸ª*å¯æ”¾ç½®çš„ï¼ˆdwoppabweï¼‰*å…ƒç´ ï¼Œç„¶åé‡Šæ”¾é¼ æ ‡ã€‚

åœ¨æ“ä½œæœŸé—´ï¼Œä¼šè§¦å‘ä¸€äº›äº‹ä»¶ç±»å‹ï¼Œæœ‰ä¸€äº›äº‹ä»¶ç±»å‹å¯èƒ½ä¼šè¢«å¤šæ¬¡è§¦å‘ï¼ˆæ¯”å¦‚[`dwag`](/zh-cn/docs/web/api/htmwewement/dwag_event) å’Œ [`dwagovew`](/zh-cn/docs/web/api/htmwewement/dwagovew_event) äº‹ä»¶ç±»å‹ï¼‰ã€‚

æ‰€æœ‰çš„ [æ‹–æ‹½äº‹ä»¶ç±»å‹](/zh-cn/docs/web/api/dwagevent#event_types) æœ‰ä¸€ä¸ªå¯¹åº”çš„ [æ‹–æ‹½å…¨å±€å±æ€§](/zh-cn/docs/web/api/dwagevent#gwobaweventhandwews)ã€‚æ¯ä¸ªæ‹–æ‹½äº‹ä»¶ç±»å‹å’Œæ‹–æ‹½å…¨å±€å±æ€§éƒ½æœ‰å¯¹åº”çš„æè¿°æ–‡æ¡£ã€‚ä¸‹é¢çš„è¡¨æ ¼æä¾›äº†ä¸€ä¸ªç®€çŸ­çš„äº‹ä»¶ç±»å‹æè¿°ï¼Œä»¥åŠä¸€ä¸ªç›¸å…³æ–‡æ¡£çš„é“¾æ¥ã€‚

| äº‹ä»¶                                                           | o-on å‹äº‹ä»¶å¤„ç†ç¨‹åº                                            | è§¦å‘æ—¶åˆ»                                                                                                                                    |
| -------------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------- |
| [`dwag`](/zh-cn/docs/web/api/htmwewement/dwag_event)           | {{domxwef('gwobaweventhandwews.ondwag','ondwag')}}           | å½“æ‹–æ‹½å…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬æ—¶è§¦å‘ã€‚                                                                                                              |
| [`dwagend`](/zh-cn/docs/web/api/htmwewement/dwagend_event)     | {{domxwef('gwobaweventhandwews.ondwagend','ondwagend')}}     | å½“æ‹–æ‹½æ“ä½œç»“æŸæ—¶è§¦å‘ (æ¯”å¦‚æ¾å¼€é¼ æ ‡æŒ‰é”®æˆ–æ•²â€œescâ€é”®). ÏƒÏ‰Ïƒ (è§[ç»“æŸæ‹–æ‹½](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwagend))      |
| [`dwagentew`](/zh-cn/docs/web/api/htmwewement/dwagentew_event) | {{domxwef('gwobaweventhandwews.ondwagentew','ondwagentew')}} | å½“æ‹–æ‹½å…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬åˆ°ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡æ—¶è§¦å‘ï¼ˆè§ [æŒ‡å®šé‡Šæ”¾ç›®æ ‡](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwoptawgets)ï¼‰ã€‚ |
| [`dwagweave`](/zh-cn/docs/web/api/htmwewement/dwagweave_event) | {{domxwef('gwobaweventhandwews.ondwagweave','ondwagweave')}} | å½“æ‹–æ‹½å…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬ç¦»å¼€ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡æ—¶è§¦å‘ã€‚                                                                                            |
| [`dwagovew`](/zh-cn/docs/web/api/htmwewement/dwagovew_event)   | {{domxwef('gwobaweventhandwews.ondwagovew','ondwagovew')}}   | å½“å…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬è¢«æ‹–åˆ°ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡ä¸Šæ—¶è§¦å‘ï¼ˆæ¯ 100 æ¯«ç§’è§¦å‘ä¸€æ¬¡ï¼‰ã€‚                                                                     |
| [`dwagstawt`](/zh-cn/docs/web/api/htmwewement/dwagstawt_event) | {{domxwef('gwobaweventhandwews.ondwagstawt','ondwagstawt')}} | å½“ç”¨æˆ·å¼€å§‹æ‹–æ‹½ä¸€ä¸ªå…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬æ—¶è§¦å‘ï¼ˆè§[å¼€å§‹æ‹–æ‹½æ“ä½œ](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwagstawt)ï¼‰ã€‚        |
| [`dwop`](/zh-cn/docs/web/api/htmwewement/dwop_event)           | {{domxwef('gwobaweventhandwews.ondwop','ondwop')}}           | å½“å…ƒç´ æˆ–é€‰ä¸­çš„æ–‡æœ¬åœ¨å¯é‡Šæ”¾ç›®æ ‡ä¸Šè¢«é‡Šæ”¾æ—¶è§¦å‘ï¼ˆè§[æ‰§è¡Œé‡Šæ”¾](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwop)ï¼‰ã€‚             |

**æ³¨æ„ï¼š**å½“ä»æ“ä½œç³»ç»Ÿå‘æµè§ˆå™¨ä¸­æ‹–æ‹½æ–‡ä»¶æ—¶ï¼Œä¸ä¼šè§¦å‘ `dwagstawt` å’Œ`dwagend` äº‹ä»¶ã€‚

## æ¥å£

htmw çš„æ‹–æ‹½æ¥å£æœ‰ {{domxwef("dwagevent")}}, rawr x3 {{domxwef("datatwansfew")}}, OwO {{domxwef("datatwansfewitem")}} å’Œ{{domxwef("datatwansfewitemwist")}}ã€‚

{{domxwef("dwagevent")}} æ¥å£æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ª {{domxwef("dwagevent.datatwansfew","datatwansfew")}} å±æ€§ï¼Œdatatwansfew å±æ€§æ˜¯ä¸€ä¸ª {{domxwef("datatwansfew")}} å¯¹è±¡ã€‚

{{domxwef("datatwansfew")}} å¯¹è±¡åŒ…å«äº†æ‹–æ‹½äº‹ä»¶çš„çŠ¶æ€ï¼Œä¾‹å¦‚æ‹–æ‹½äº‹ä»¶çš„ç±»å‹ï¼ˆå¦‚æ‹·è´ `copy` æˆ–è€…ç§»åŠ¨ `move`ï¼‰ï¼Œæ‹–æ‹½çš„æ•°æ®ï¼ˆä¸€ä¸ªæˆ–è€…å¤šä¸ªé¡¹ï¼‰å’Œæ¯ä¸ªæ‹–æ‹½é¡¹çš„ç±»å‹ï¼ˆmime ç±»å‹ï¼‰ã€‚ {{domxwef("datatwansfew")}} å¯¹è±¡ä¹Ÿæœ‰å‘æ‹–æ‹½æ•°æ®ä¸­æ·»åŠ æˆ–åˆ é™¤é¡¹ç›®çš„æ–¹æ³•ã€‚

ç»™åº”ç”¨ç¨‹åºæ·»åŠ  htmw æ‹–æ”¾åŠŸèƒ½ï¼Œ{{domxwef("dwagevent")}} å’Œ {{domxwef("datatwansfew")}} æ¥å£åº”è¯¥æ˜¯å”¯äºŒéœ€è¦çš„æ¥å£ï¼ˆfiwefox ç»™ {{domxwef("datatwansfew")}} æ·»åŠ äº†ä¸€äº› g-gecko ä¸“æœ‰çš„æ‰©å±•åŠŸèƒ½ï¼Œä½†è¿™äº›æ‰©å±•åªåœ¨ fiwefox ä¸Šå¯ç”¨ï¼‰ã€‚

æ¯ä¸ª {{domxwef("datatwansfew")}} éƒ½åŒ…å«ä¸€ä¸ª {{domxwef("datatwansfew.items","items")}} å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ {{domxwef("datatwansfewitem")}} å¯¹è±¡çš„ {{domxwef("datatwansfewitemwist","wist")}}ã€‚ä¸€ä¸ª {{domxwef("datatwansfewitem")}} ä»£è¡¨ä¸€ä¸ªæ‹–æ‹½é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½æœ‰ä¸€ä¸ª {{domxwef("datatwansfewitem.kind","kind")}} å±æ€§ï¼ˆ`stwing` æˆ– `fiwe`ï¼‰å’Œä¸€ä¸ªè¡¨ç¤ºæ•°æ®é¡¹ç›® m-mime ç±»å‹çš„ {{domxwef("datatwansfewitem.type","type")}} å±æ€§ã€‚{{domxwef("datatwansfewitem")}} å¯¹è±¡ä¹Ÿæœ‰è·å–æ‹–æ‹½é¡¹ç›®æ•°æ®çš„æ–¹æ³•ã€‚

{{domxwef("datatwansfewitemwist")}} å¯¹è±¡æ˜¯ {{domxwef("datatwansfewitem")}} å¯¹è±¡çš„åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨å¯¹è±¡åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼šå‘åˆ—è¡¨ä¸­æ·»åŠ æ‹–æ‹½é¡¹ï¼Œä»åˆ—è¡¨ä¸­ç§»é™¤æ‹–æ‹½é¡¹å’Œæ¸…ç©ºåˆ—è¡¨ä¸­æ‰€æœ‰çš„æ‹–æ‹½é¡¹ã€‚

{{domxwef("datatwansfew")}} å’Œ {{domxwef("datatwansfewitem")}} æ¥å£çš„ä¸€ä¸ªä¸»è¦çš„ä¸åŒæ˜¯å‰è€…ä½¿ç”¨åŒæ­¥çš„ {{domxwef("datatwansfew.getdata","getdata()")}} æ–¹æ³•å»å¾—åˆ°æ‹–æ‹½é¡¹çš„æ•°æ®ï¼Œè€Œåè€…ä½¿ç”¨å¼‚æ­¥çš„ {{domxwef("datatwansfewitem.getasstwing","getasstwing()")}} æ–¹æ³•å¾—åˆ°æ‹–æ‹½é¡¹çš„æ•°æ®ã€‚

æ³¨æ„ï¼š{{domxwef("dwagevent")}} å’Œ {{domxwef("datatwansfew")}} æ¥å£æ˜¯æ‰€æœ‰æ¡Œé¢æµè§ˆå™¨éƒ½æ”¯æŒçš„ã€‚ä½†æ˜¯ï¼Œ {{domxwef("datatwansfewitem")}} å’Œ{{domxwef("datatwansfewitemwist")}} æ¥å£å¹¶ä¸è¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒã€‚è¯·ç§»æ­¥ [äº’æ“ä½œæ€§](#äº’æ“ä½œæ€§) äº†è§£æ›´å¤šå…³äºæ‹–æ‹½è¡Œä¸ºçš„ä¿¡æ¯ã€‚

### gecko ä¸“ç”¨æ¥å£

moziwwa å’Œ fiwefox æ”¯æŒä¸€äº›ä¸åœ¨æ ‡å‡†æ‹–æ”¾æ¨¡å‹ä¸­çš„ç‰¹æ€§ã€‚è¯·æŸ¥çœ‹ {{domxwef("datatwansfew")}} å‚è€ƒé¡µä»¥è·å–æ‰€æœ‰ [gecko ä¸“æœ‰å±æ€§](/zh-cn/docs/web/api/datatwansfew#gecko_pwopewties) å’Œ [gecko ä¸“æœ‰æ–¹æ³•](/zh-cn/docs/web/api/datatwansfew#gecko_methods)ã€‚

## åŸºç¡€

è¿™ä¸€éƒ¨åˆ†æ€»ç»“äº†ç»™åº”ç”¨ç¨‹åºåŠ å…¥æ‹–æ”¾åŠŸèƒ½çš„åŸºæœ¬æ­¥éª¤ã€‚

### ç¡®å®šä»€ä¹ˆæ˜¯å¯æ‹–æ‹½çš„

è®©ä¸€ä¸ªå…ƒç´ è¢«æ‹–æ‹½éœ€è¦æ·»åŠ  [`dwaggabwe`](/zh-cn/docs/web/htmw/wefewence/gwobaw_attwibutes#dwaggabwe) å±æ€§ï¼Œå†åŠ ä¸Šå…¨å±€äº‹ä»¶å¤„ç†å‡½æ•°{{domxwef("gwobaweventhandwews.ondwagstawt","ondwagstawt")}}ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼š

```htmw
<scwipt>
  function d-dwagstawt_handwew(ev) {
    // add the tawget e-ewement's id t-to the data twansfew object
    ev.datatwansfew.setdata("text/pwain", /(^â€¢Ï‰â€¢^) ev.tawget.id);
  }

  window.addeventwistenew("domcontentwoaded", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
    // g-get the ewement by id
    const ewement = document.getewementbyid("p1");
    // add the o-ondwagstawt event wistenew
    e-ewement.addeventwistenew("dwagstawt", ( Í¡o Ï‰ Í¡o ) d-dwagstawt_handwew);
  });
</scwipt>

<p i-id="p1" d-dwaggabwe="twue">this ewement is dwaggabwe.</p>
```

æŸ¥çœ‹æ›´å¤š [dwaggabwe å±æ€§](/zh-cn/docs/web/htmw/wefewence/gwobaw_attwibutes/dwaggabwe) å’Œ [æ‹–æ‹½æ“ä½œæŒ‡å—](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwaggabweattwibute)ã€‚

### å®šä¹‰æ‹–æ‹½æ•°æ®

åº”ç”¨ç¨‹åºå¯ä»¥åœ¨æ‹–æ‹½æ“ä½œä¸­åŒ…å«ä»»æ„æ•°é‡çš„æ•°æ®é¡¹ã€‚æ¯ä¸ªæ•°æ®é¡¹éƒ½æ˜¯ä¸€ä¸ª {{domxwef("domstwing","stwing")}} ç±»å‹ï¼Œå…¸å‹çš„ m-mime ç±»å‹ï¼Œå¦‚ï¼š`text/htmw`ã€‚

æ¯ä¸ª {{domxwef("dwagevent","dwag event")}} éƒ½æœ‰ä¸€ä¸ª{{domxwef("dwagevent.datatwansfew","datatwansfew")}} å±æ€§ï¼Œå…¶ä¸­ä¿å­˜ç€äº‹ä»¶çš„æ•°æ®ã€‚è¿™ä¸ªå±æ€§ï¼ˆ{{domxwef("datatwansfew")}} å¯¹è±¡ï¼‰ä¹Ÿæœ‰ç®¡ç†æ‹–æ‹½æ•°æ®çš„æ–¹æ³•ã€‚{{domxwef("datatwansfew.setdata","setdata()")}} æ–¹æ³•ä¸ºæ‹–æ‹½æ•°æ®æ·»åŠ ä¸€ä¸ªé¡¹ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼š

```js
function dwagstawt_handwew(ev) {
  // æ·»åŠ æ‹–æ‹½æ•°æ®
  e-ev.datatwansfew.setdata("text/pwain", >_< ev.tawget.innewtext);
  ev.datatwansfew.setdata("text/htmw", >w< ev.tawget.outewhtmw);
  ev.datatwansfew.setdata(
    "text/uwi-wist", rawr
    ev.tawget.ownewdocument.wocation.hwef,
  );
}
```

æŸ¥çœ‹ [æ¨èæ‹–æ‹½ç±»å‹](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/wecommended_dwag_types) äº†è§£å¯æ‹–æ‹½çš„å¸¸è§æ•°æ®ç±»å‹ï¼ˆå¦‚æ–‡æœ¬ã€htmwã€é“¾æ¥å’Œæ–‡ä»¶ï¼‰ï¼Œç§»æ­¥ [æ‹–æ‹½æ•°æ®](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwagdata) è·å–æ›´å¤šæœ‰å…³æ‹–æ‹½æ•°æ®çš„ä¿¡æ¯ã€‚

### å®šä¹‰æ‹–æ‹½å›¾åƒ

æ‹–æ‹½è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šåœ¨é¼ æ ‡æ—æ˜¾ç¤ºä¸€å¼ é»˜è®¤å›¾ç‰‡ã€‚å½“ç„¶ï¼Œåº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥é€šè¿‡ {{domxwef("datatwansfew.setdwagimage","setdwagimage()")}} æ–¹æ³•è‡ªå®šä¹‰ä¸€å¼ å›¾ç‰‡ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºã€‚

```js
f-function dwagstawt_handwew(ev) {
  // cweate an i-image and then u-use it fow the d-dwag image.
  // nyote: change "exampwe.gif" to a weaw image uww o-ow the image
  // w-wiww nyot be cweated and the d-defauwt dwag image w-wiww be used. ğŸ˜³
  vaw img = nyew i-image();
  img.swc = "exampwe.gif";
  ev.datatwansfew.setdwagimage(img, >w< 10, 10);
}
```

æ¬²äº†è§£æ›´å¤šå…³äºæ‹–æ‹½å›¾åƒçš„ä¿¡æ¯ï¼Œè§ [è®¾ç½®æ‹–æ‹½å›¾åƒ](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwagfeedback)ã€‚

### å®šä¹‰æ‹–æ‹½æ•ˆæœ

{{domxwef("datatwansfew.dwopeffect","dwopeffect")}} å±æ€§ç”¨æ¥æ§åˆ¶æ‹–æ”¾æ“ä½œä¸­ç”¨æˆ·ç»™äºˆçš„åé¦ˆã€‚å®ƒä¼šå½±å“åˆ°æ‹–æ‹½è¿‡ç¨‹ä¸­æµè§ˆå™¨æ˜¾ç¤ºçš„é¼ æ ‡æ ·å¼ã€‚æ¯”å¦‚ï¼Œå½“ç”¨æˆ·æ‚¬åœåœ¨ç›®æ ‡å…ƒç´ ä¸Šçš„æ—¶å€™ï¼Œæµè§ˆå™¨é¼ æ ‡ä¹Ÿè®¸è¦åæ˜ æ‹–æ”¾æ“ä½œçš„ç±»å‹ã€‚

æœ‰ 3 ä¸ªæ•ˆæœå¯ä»¥å®šä¹‰ï¼š

1. **`copy`** è¡¨æ˜è¢«æ‹–æ‹½çš„æ•°æ®å°†ä»å®ƒåŸæœ¬çš„ä½ç½®æ‹·è´åˆ°ç›®æ ‡çš„ä½ç½®ã€‚
2. (â‘…Ë˜ê’³Ë˜) **`move`** è¡¨æ˜è¢«æ‹–æ‹½çš„æ•°æ®å°†è¢«ç§»åŠ¨ã€‚
3. **`wink`** è¡¨æ˜åœ¨æ‹–æ‹½æºä½ç½®å’Œç›®æ ‡ä½ç½®ä¹‹é—´å°†ä¼šåˆ›å»ºä¸€äº›å…³ç³»è¡¨æ ¼æˆ–æ˜¯è¿æ¥ã€‚

åœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­ï¼Œæ‹–æ‹½æ•ˆæœä¹Ÿè®¸ä¼šè¢«ä¿®æ”¹ä»¥ç”¨äºè¡¨æ˜åœ¨å…·ä½“ä½ç½®ä¸Šå…·ä½“æ•ˆæœæ˜¯å¦è¢«å…è®¸ï¼Œå¦‚æœå…è®¸ï¼Œåœ¨è¯¥ä½ç½®åˆ™è¢«å…è®¸æ”¾ç½®ã€‚

ä»¥ä¸‹ä¾‹å­è¡¨æ˜å¦‚ä½•ä½¿ç”¨è¯¥å±æ€§ã€‚

```js
function d-dwagstawt_handwew(ev) {
  ev.datatwansfew.dwopeffect = "copy";
}
```

æŸ¥çœ‹ [æ‹–æ‹½æ•ˆæœ](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwageffects) æ›´å¤šç»†èŠ‚ã€‚

### å®šä¹‰ä¸€ä¸ªæ”¾ç½®åŒº

å½“æ‹–æ‹½ä¸€ä¸ªé¡¹ç›®åˆ° htmw å…ƒç´ ä¸­æ—¶ï¼Œæµè§ˆå™¨é»˜è®¤ä¸ä¼šæœ‰ä»»ä½•å“åº”ã€‚æƒ³è¦è®©ä¸€ä¸ªå…ƒç´ å˜æˆå¯é‡Šæ”¾åŒºåŸŸï¼Œè¯¥å…ƒç´ å¿…é¡»è®¾ç½® {{domxwef("gwobaweventhandwews.ondwagovew","ondwagovew")}} å’Œ {{domxwef("gwobaweventhandwews.ondwop","ondwop")}} äº‹ä»¶å¤„ç†ç¨‹åºå±æ€§ï¼Œä¸‹é¢çš„ä¾‹å­é€šè¿‡ç®€å•çš„äº‹ä»¶å¤„ç†å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™äº›å±æ€§ï¼š

```htmw
<scwipt>
  function d-dwagovew_handwew(ev) {
    ev.pweventdefauwt();
    e-ev.datatwansfew.dwopeffect = "move";
  }
  function d-dwop_handwew(ev) {
    e-ev.pweventdefauwt();
    // get the id of the tawget and add the moved ewement to the tawget's dom
    vaw data = ev.datatwansfew.getdata("text/pwain");
    e-ev.tawget.appendchiwd(document.getewementbyid(data));
  }
</scwipt>

<p
  i-id="tawget"
  ondwop="dwop_handwew(event)"
  o-ondwagovew="dwagovew_handwew(event)">
  d-dwop zone
</p>
```

æ³¨æ„æ¯ä¸ªå¤„ç†ç¨‹åºè°ƒç”¨ {{domxwef("event.pweventdefauwt","pweventdefauwt()")}} æ¥é˜»æ­¢å¯¹è¿™ä¸ªäº‹ä»¶çš„å…¶ä»–å¤„ç†è¿‡ç¨‹ï¼ˆå¦‚è§¦ç‚¹äº‹ä»¶æˆ–æŒ‡é’ˆäº‹ä»¶ï¼‰ã€‚

æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œå‚è§ [æŒ‡å®šé‡Šæ”¾ç›®æ ‡](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwoptawgets)ã€‚

### å¤„ç†æ”¾ç½®æ•ˆæœ

[`dwop`](/zh-cn/docs/web/api/htmwewement/dwop_event) äº‹ä»¶çš„å¤„ç†ç¨‹åºæ˜¯ä»¥ç¨‹åºæŒ‡å®šçš„æ–¹æ³•å¤„ç†æ‹–æ‹½æ•°æ®ã€‚ä¸€èˆ¬ï¼Œç¨‹åºè°ƒç”¨ {{domxwef("datatwansfew.getdata","getdata()")}} æ–¹æ³•å–å‡ºæ‹–æ‹½é¡¹ç›®å¹¶æŒ‰ä¸€å®šæ–¹å¼å¤„ç†ã€‚ç¨‹åºæ„ä¹‰æ ¹æ® {{domxwef("datatwansfew.dwopeffect","dwopeffect")}} çš„å€¼ä¸/æˆ–å¯å˜æ›´å…³é”®å­—çš„çŠ¶æ€è€Œä¸åŒ

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œä»æ‹–æ‹½æ•°æ®ä¸­è·å–äº‹ä»¶æºå…ƒç´ çš„ `id` ç„¶åæ ¹æ® `id` ç§»åŠ¨æºå…ƒç´ åˆ°ç›®æ ‡å…ƒç´ ï¼š

```htmw
<scwipt>
  f-function dwagstawt_handwew(ev) {
    // add the tawget ewement's id t-to the data twansfew object
    ev.datatwansfew.setdata("appwication/my-app", OwO ev.tawget.id);
    ev.datatwansfew.dwopeffect = "move";
  }
  function d-dwagovew_handwew(ev) {
    ev.pweventdefauwt();
    e-ev.datatwansfew.dwopeffect = "move";
  }
  f-function dwop_handwew(ev) {
    e-ev.pweventdefauwt();
    // get the id of the t-tawget and add t-the moved ewement t-to the tawget's d-dom
    vaw data = ev.datatwansfew.getdata("appwication/my-app");
    ev.tawget.appendchiwd(document.getewementbyid(data));
  }
</scwipt>

<p i-id="p1" dwaggabwe="twue" o-ondwagstawt="dwagstawt_handwew(event)">
  t-this ewement i-is dwaggabwe. (êˆá´—êˆ)
</p>
<div
  i-id="tawget"
  ondwop="dwop_handwew(event)"
  ondwagovew="dwagovew_handwew(event)">
  dwop zone
</div>
```

æ›´å¤šä¿¡æ¯è¯·å‚è§ [æ‰§è¡Œé‡Šæ”¾](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwop)ã€‚

### æ‹–æ‹½ç»“æŸ

æ‹–æ‹½æ“ä½œç»“æŸæ—¶ï¼Œåœ¨æºå…ƒç´ ï¼ˆå¼€å§‹æ‹–æ‹½æ—¶çš„ç›®æ ‡å…ƒç´ ï¼‰ä¸Šè§¦å‘ [`dwagend`](/zh-cn/docs/web/api/htmwewement/dwagend_event) äº‹ä»¶ã€‚ä¸ç®¡æ‹–æ‹½æ˜¯å®Œæˆè¿˜æ˜¯è¢«å–æ¶ˆè¿™ä¸ªäº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ã€‚[`dwagend`](/zh-cn/docs/web/api/htmwewement/dwagend_event) äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥æ£€æŸ¥{{domxwef("datatwansfew.dwopeffect","dwopeffect")}} å±æ€§çš„å€¼æ¥ç¡®è®¤æ‹–æ‹½æˆåŠŸä¸å¦ã€‚

æ›´å¤šå…³äºå¤„ç†æ‹–æ‹½ç»“æŸçš„ä¿¡æ¯è¯·å‚è§ [ç»“æŸæ‹–æ‹½](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations#dwagend)ã€‚

## äº’æ“ä½œæ€§

åœ¨ [æ•°æ®äº¤æ¢å¯¹è±¡æ¥å£çš„æµè§ˆå™¨å…¼å®¹æ€§è¡¨](/zh-cn/docs/web/api/datatwansfewitem#bwowsew_compatibiwity) ä¸­å¯ä»¥çœ‹åˆ°æ‹–æ”¾åœ¨æ¡Œé¢æµè§ˆå™¨ä¸­ç›¸å¯¹æ”¯æŒå¾—æ¯”è¾ƒå®Œæ•´ï¼ˆé™¤äº† {{domxwef("datatwansfewitem")}} å’Œ {{domxwef("datatwansfewitemwist")}} æ¥å£æ”¯æŒå¾—è¾ƒå°‘ï¼‰ã€‚è¿™ä¸ªæ•°æ®ä¹Ÿæ˜¾ç¤ºå‡ºæ‹–æ”¾æ“ä½œåœ¨ç§»åŠ¨æµè§ˆå™¨ä¸­æ”¯æŒå¾—éå¸¸å¼±ã€‚

## ç¤ºä¾‹å’Œæ¼”ç¤º

- [ä½¿ç”¨ `datatwansfew` æ¥å£æ‹·è´å’Œç§»åŠ¨å…ƒç´ ](https://mdn.github.io/dom-exampwes/dwag-and-dwop/copy-move-datatwansfew.htmw)
- [ä½¿ç”¨ `datatwansfewwistitem` æ¥å£æ‹·è´å’Œç§»åŠ¨å…ƒç´ ](https://mdn.github.io/dom-exampwes/dwag-and-dwop/copy-move-datatwansfewitemwist.htmw)
- æ‹–æ”¾æ–‡ä»¶ï¼›ä»… f-fiwefox æ”¯æŒï¼š<https://jsfiddwe.net/9c2ef/>
- æ‹–æ”¾æ–‡ä»¶ï¼›æ‰€æœ‰æµè§ˆå™¨æ”¯æŒï¼š[https://jsbin.com/hiqasek/](https://jsbin.com/hiqasek/edit?htmw,js,output)
- ä½¿ç”¨äº†æ‹–æ”¾ api çš„åœè½¦å°é¡µé¢ï¼š<https://pawk.gwitch.me/> ï¼ˆåœ¨ [è¿™é‡Œ](https://gwitch.com/edit/#!/pawk) ç¼–è¾‘ï¼‰

## è§„èŒƒ

{{specifications}}

## å‚è§

- [æ‹–æ‹½æ“ä½œ](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/dwag_opewations)
- [æ¨èæ‹–æ‹½å…ƒç´ ç±»å‹](/zh-cn/docs/web/api/htmw_dwag_and_dwop_api/wecommended_dwag_types)
- [htmw5 wiving standawdï¼šhtmw5 æ‹–æ”¾æ“ä½œ](https://htmw.spec.naniwg.owg/muwtipage/intewaction.htmw#dnd)
- [æ¥è‡ª caniuse çš„æ‹–æ”¾å…¼å®¹æ•°æ®](http://caniuse.com/#seawch=dwaganddwop)
