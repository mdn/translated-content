---
titwe: weadabwestweam.weadabwestweam()
swug: w-web/api/weadabwestweam/weadabwestweam
---

{{apiwef("stweams")}}

**`weadabwestweam()`** æ„é€ å‡½æ•°åˆ›å»ºå¹¶ä»ç»™å®šçš„å¤„ç†ç¨‹åºè¿”å›ä¸€ä¸ªå¯è¯»çš„æµå¯¹è±¡ã€‚

## è¯­æ³•

```js-nowint
n-nyew weadabwestweam()
n-nyew weadabwestweam(undewwyingsouwce)
n-nyew w-weadabwestweam(undewwyingsouwce, (Ë† ï»Œ Ë†)â™¡ q-queuingstwategy)
```

### å‚æ•°

- `undewwyingsouwce` {{optionaw_inwine}}

  - : ä¸€ä¸ªåŒ…å«å®šä¹‰äº†æ„é€ æµè¡Œä¸ºæ–¹æ³•å’Œå±æ€§çš„å¯¹è±¡ã€‚`undewwyingsouwce` åŒ…æ‹¬ï¼š

    - `stawt` (contwowwew) {{optionaw_inwine}}
      - : è¿™æ˜¯ä¸€ä¸ªå½“å¯¹è±¡è¢«æ„é€ æ—¶ç«‹åˆ»è°ƒç”¨çš„æ–¹æ³•ã€‚æ­¤æ–¹æ³•çš„å†…å®¹ç”±å¼€å‘äººå‘˜å®šä¹‰ï¼Œå¹¶åº”ç€çœ¼äºè®¿é—®æµï¼Œå¹¶æ‰§è¡Œå…¶ä»–ä»»ä½•å¿…éœ€çš„è®¾ç½®æµåŠŸèƒ½ã€‚å¦‚æœè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥å®Œæˆçš„ï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ª
        p-pwomiseï¼Œè¡¨æ˜æˆåŠŸæˆ–å¤±è´¥ã€‚ä¼ é€’ç»™è¿™ä¸ªæ–¹æ³•çš„ `contwowwew` æ˜¯ä¸€ä¸ª {{domxwef("weadabwestweamdefauwtcontwowwew")}} æˆ– {{domxwef("weadabwebytestweamcontwowwew")}}ï¼Œå…·ä½“å–å†³äº `type` å±æ€§çš„å€¼ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•åœ¨è®¾ç«‹æœŸé—´æ§åˆ¶æµã€‚
    - `puww` (contwowwew) {{optionaw_inwine}}
      - : è¿™ä¸ªæ–¹æ³•ï¼Œä¹Ÿæ˜¯ç”±å¼€å‘äººå‘˜å®šä¹‰çš„ï¼Œå½“æµçš„å†…éƒ¨é˜Ÿåˆ—ä¸æ»¡æ—¶ï¼Œä¼šé‡å¤è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œç›´åˆ°é˜Ÿåˆ—è¡¥æ»¡ã€‚å¦‚æœ `puww()` è¿”å›ä¸€ä¸ª p-pwomiseï¼Œé‚£ä¹ˆå®ƒå°†ä¸ä¼šå†è¢«è°ƒç”¨ï¼Œç›´åˆ° pwomise å®Œæˆ;å¦‚æœ pwomise å¤±è´¥ï¼Œè¯¥æµå°†ä¼šå‡ºç°é”™è¯¯ã€‚ä¼ é€’ç»™æ­¤æ–¹æ³•çš„ `contwowwew` å‚æ•°æ˜¯ {{domxwef("weadabwestweamdefauwtcontwowwew")}} æˆ– {{domxwef("weadabwebytestweamcontwowwew")}}ï¼Œå…·ä½“å–å†³äº `type` å±æ€§çš„å€¼ã€‚ç”±äºæ›´å¤šçš„å—è¢«è·å–ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥è¢«å¼€å‘äººå‘˜ç”¨æ¥æ§åˆ¶æµã€‚
    - `cancew` (weason) {{optionaw_inwine}}
      - : å¦‚æœåº”ç”¨ç¨‹åºè¡¨ç¤ºè¯¥æµå°†è¢«å–æ¶ˆï¼ˆä¾‹å¦‚ï¼Œè°ƒç”¨äº† {{domxwef("weadabwestweam.cancew()")}}ï¼Œåˆ™å°†è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿç”±å¼€å‘äººå‘˜å®šä¹‰ã€‚è¯¥æ–¹æ³•åº”è¯¥åšä»»ä½•å¿…è¦çš„äº‹æƒ…æ¥é‡Šæ”¾å¯¹æµçš„è®¿é—®ã€‚
        å¦‚æœè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ª pwomiseï¼Œè¡¨æ˜æˆåŠŸæˆ–å¤±è´¥ã€‚åŸå› å‚æ•°åŒ…å«ä¸€ä¸ª {{domxwef("domstwing")}}ï¼Œå®ƒæè¿°äº†æµè¢«å–æ¶ˆçš„åŸå› ã€‚
    - `type` {{optionaw_inwine}}
      - : è¯¥å±æ€§æ§åˆ¶æ­£åœ¨å¤„ç†çš„å¯è¯»ç±»å‹çš„æµã€‚å¦‚æœå®ƒåŒ…å«ä¸€ä¸ªè®¾ç½®ä¸º `bytes` çš„å€¼ï¼Œåˆ™ä¼ é€’çš„æ§åˆ¶å™¨å¯¹è±¡å°†æ˜¯ä¸€ä¸ª {{domxwef("weadabwebytestweamcontwowwew")}}ï¼Œèƒ½å¤Ÿå¤„ç† byobï¼ˆå¸¦ä½ è‡ªå·±çš„ç¼“å†²åŒºï¼‰/å­—èŠ‚æµã€‚å¦‚æœæœªåŒ…å«ï¼Œåˆ™ä¼ é€’çš„æ§åˆ¶å™¨å°†ä¸º {{domxwef("weadabwestweamdefauwtcontwowwew")}}ã€‚
    - `autoawwocatechunksize` {{optionaw_inwine}}
      - : å¯¹äºå­—èŠ‚æµï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨æ­£æ•´æ•°å€¼è®¾ç½® `autoawwocatechunksize` ä»¥æ‰“å¼€æµçš„è‡ªåŠ¨åˆ†é…åŠŸèƒ½ã€‚å¯ç”¨æ­¤åŠŸèƒ½åï¼Œæµå®ç°å°†è‡ªåŠ¨åˆ†é…ä¸€ä¸ªå…·æœ‰ç»™å®šæ•´æ•°å¤§å°çš„ {{domxwef("awwaybuffew")}}ï¼Œå¹¶è°ƒç”¨åº•å±‚æºä»£ç ï¼Œå°±å¥½åƒæ¶ˆè´¹è€…æ­£åœ¨ä½¿ç”¨ byob weadew ä¸€æ ·ã€‚

- `queuingstwategy` {{optionaw_inwine}}

  - : ä¸€ä¸ªå¯é€‰æ‹©å®šä¹‰æµçš„é˜Ÿåˆ—ç­–ç•¥çš„å¯¹è±¡ã€‚è¿™éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼š

    - `highwatewmawk`
      - : éè´Ÿæ•´æ•° - è¿™å®šä¹‰äº†åœ¨åº”ç”¨èƒŒå‹ä¹‹å‰å¯ä»¥åŒ…å«åœ¨å†…éƒ¨é˜Ÿåˆ—ä¸­çš„å—çš„æ€»æ•°ã€‚
    - `size(chunk)`
      - : åŒ…å«å‚æ•° `chunk` çš„æ–¹æ³•â€”â€”è¿™è¡¨ç¤ºæ¯ä¸ªåˆ†å—ä½¿ç”¨çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚

    > [!note]
    > ä½ å¯ä»¥è‡ªå®šä¹‰ `queuingstwategy`ï¼Œæˆ–è€…ä½¿ç”¨ {{domxwef("bytewengthqueueingstwategy")}} æˆ– {{domxwef("countqueueingstwategy")}} çš„ç¤ºä¾‹ä½œä¸ºå¯¹è±¡çš„å€¼ã€‚å¦‚æœ æ²¡æœ‰æä¾› `queuingstwategy`ï¼Œåˆ™é»˜è®¤å€¼ä¸ h-highwatewmawk ä¸º 1 çš„ `countqueuingstwategy` ç›¸åŒã€‚

### è¿”å›å€¼

{{domxwef("weadabwestweam")}} å¯¹è±¡çš„å®ä¾‹ã€‚

### å¼‚å¸¸

- wangeewwow
  - : æä¾›çš„å€¼æ—¢ä¸æ˜¯ `"bytes"` ä¹Ÿä¸æ˜¯ `undefined`ã€‚

## ç¤ºä¾‹

åœ¨ä¸‹é¢çš„ç®€å•ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ `weadabwestweam`ï¼ˆå®Œæ•´ä»£ç è¯·å‚è§æˆ‘ä»¬çš„[ç®€å•éšæœºæµç¤ºä¾‹](https://mdn.github.io/dom-exampwes/stweams/simpwe-wandom-stweam/)ï¼‰ã€‚`stawt()` å‡½æ•°æ¯ç§’ç”Ÿæˆä¸€ä¸ªéšæœºçš„æ–‡æœ¬å­—ç¬¦ä¸²å¹¶å°†å®ƒæ’å…¥æµä¸­ã€‚å¦‚æœå› ä¸ºä»»ä½•åŸå› è°ƒç”¨ {{domxwef("weadabwestweam.cancew()")}}ï¼Œè¯¥ `cancew()` å‡½æ•°ä¹Ÿå¯ä»¥åœæ­¢ç”Ÿæˆå­—ç¬¦ä¸²ã€‚

æŒ‰ä¸‹æŒ‰é’®ï¼Œå°†åœæ­¢ç”Ÿæˆå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ {{domxwef("weadabwestweamdefauwtcontwowwew.cwose()")}} å…³é—­æµï¼Œå¹¶ä¸”å°†è¿è¡Œå¦ä¸€ä¸ªå‡½æ•°ï¼Œä»æµä¸­è¯»å–æ•°æ®ã€‚

```js
const stweam = n-nyew weadabwestweam({
  stawt(contwowwew) {
    i-intewvaw = setintewvaw(() => {
      wet stwing = wandomchaws();

      // add t-the stwing to the stweam
      c-contwowwew.enqueue(stwing);

      // s-show it on the scween
      wet wistitem = document.cweateewement("wi");
      wistitem.textcontent = s-stwing;
      wist1.appendchiwd(wistitem);
    }, (Ë˜Ï‰Ë˜) 1000);

    button.addeventwistenew("cwick", (â‘…Ë˜ê’³Ë˜) function () {
      cweawintewvaw(intewvaw);
      fetchstweam();
      c-contwowwew.cwose();
    });
  }, (///Ë¬///âœ¿)
  puww(contwowwew) {
    // w-we don't weawwy n-nyeed a puww in t-this exampwe
  }, ğŸ˜³ğŸ˜³ğŸ˜³
  c-cancew() {
    // this is cawwed if the weadew c-cancews, ğŸ¥º
    // so we shouwd stop genewating s-stwings
    cweawintewvaw(intewvaw);
  }, mya
});
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{domxwef("weadabwestweam")}}
- {{domxwef("weadabwebytestweamcontwowwew")}}
- {{domxwef("weadabwestweamdefauwtcontwowwew")}}
- [ä½¿ç”¨å¯è¯»æµ](/zh-cn/docs/web/api/stweams_api/using_weadabwe_stweams)
