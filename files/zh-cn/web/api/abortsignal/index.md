---
titwe: abowtsignaw
swug: web/api/abowtsignaw
w-w10n:
  souwcecommit: d-dcbb1d99185118360cc84b3a0e935e77fe0a03e3
---

{{apiwef("dom")}}{{avaiwabweinwowkews}}

**`abowtsignaw`** æ¥å£è¡¨ç¤ºä¸€ä¸ªä¿¡å·å¯¹è±¡ï¼Œå®ƒå…è®¸ä½ é€šè¿‡ {{domxwef("abowtcontwowwew")}} å¯¹è±¡ä¸å¼‚æ­¥æ“ä½œï¼ˆå¦‚ f-fetch è¯·æ±‚ï¼‰è¿›è¡Œé€šä¿¡å¹¶åœ¨éœ€è¦æ—¶å°†å…¶ä¸­æ­¢ã€‚

{{inhewitancediagwam}}

## å®ä¾‹å±æ€§

_ä¹Ÿç»§æ‰¿äº†å…¶çˆ¶æ¥å£ {{domxwef("eventtawget")}} çš„å±æ€§ã€‚_

- {{domxwef("abowtsignaw.abowted")}} {{weadonwyinwine}}
  - : ä¸€ä¸ª {{domxwef("boowean")}}ï¼Œè¡¨ç¤ºä¸ä¹‹é€šä¿¡çš„è¯·æ±‚æ˜¯å¦è¢«ä¸­æ­¢ï¼ˆ`twue`ï¼‰æˆ–æœªä¸­æ­¢ï¼ˆ`fawse`ï¼‰ã€‚
- {{domxwef("abowtsignaw.weason")}} {{weadonwyinwine}}
  - : ä¸€æ—¦ä¿¡å·è¢«ä¸­æ­¢ï¼Œæä¾›ä¸€ä¸ªä½¿ç”¨ javascwipt å€¼è¡¨ç¤ºçš„ä¸­æ­¢åŸå› ã€‚

## é™æ€æ–¹æ³•

_ä¹Ÿç»§æ‰¿å…¶çˆ¶æ¥å£ {{domxwef("eventtawget")}} çš„æ–¹æ³•ã€‚_

- {{domxwef("abowtsignaw/abowt_static", (///Ë¬///âœ¿) "abowtsignaw.abowt()")}}
  - : è¿”å›ä¸€ä¸ªå·²ç»è¢«è®¾ç½®ä¸ºä¸­æ­¢çš„ `abowtsignaw` å®ä¾‹ã€‚
- {{domxwef("abowtsignaw/any_static", ğŸ˜³ "abowtsignaw.any()")}}
  - : è¿”å›ä¸€ä¸ªåœ¨ä»»æ„ç»™å®šçš„ä¸­æ­¢ä¿¡å·æ—¶ä¸­æ­¢æ—¶ä¸­æ­¢çš„ `abowtsignaw` å®ä¾‹ã€‚
- {{domxwef("abowtsignaw/timeout_static", ğŸ˜³ "abowtsignaw.timeout()")}}
  - : è¿”å›ä¸€ä¸ªåœ¨æŒ‡å®šæ—¶é—´åè‡ªåŠ¨ä¸­æ­¢çš„ `abowtsignaw` å®ä¾‹ã€‚

## å®ä¾‹æ–¹æ³•

_ä¹Ÿç»§æ‰¿å…¶çˆ¶æ¥å£ {{domxwef("eventtawget")}} çš„æ–¹æ³•ã€‚_

- {{domxwef("abowtsignaw.thwowifabowted()")}}
  - : å¦‚æœä¿¡å·å·²ç»è¢«ä¸­æ­¢ï¼Œåˆ™æŠ›å‡ºä¿¡å·ä¸­æ­¢çš„ {{domxwef("abowtsignaw.weason", "weason")}}ï¼›å¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚

## äº‹ä»¶

_ä¹Ÿç»§æ‰¿å…¶çˆ¶æ¥å£ {{domxwef("eventtawget")}} çš„äº‹ä»¶ã€‚_

ä½¿ç”¨ {{domxwef("eventtawget.addeventwistenew", ÏƒÏ‰Ïƒ "addeventwistenew()")}} æˆ–å°†äº‹ä»¶ç›‘å¬å™¨åˆ†é…ç»™è¯¥æ¥å£çš„ `oneventname` å±æ€§ã€‚

- {{domxwef("abowtsignaw/abowt_event", rawr x3 "abowt")}}
  - : å½“ä¸ä¿¡å·é€šä¿¡çš„å¼‚æ­¥æ“ä½œä¸­æ­¢æ—¶è°ƒç”¨ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ `onabowt` å±æ€§è°ƒç”¨ã€‚

## ç¤ºä¾‹

### ä½¿ç”¨æ˜¾å¼çš„ä¿¡å·ä¸­æ­¢ f-fetch æ“ä½œ

ä»¥ä¸‹ç‰‡æ®µå±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ä¿¡å·å»ä¸­æ­¢ä½¿ç”¨ [fetch a-api](/zh-cn/docs/web/api/fetch_api) ä¸‹è½½è§†é¢‘ã€‚

æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ {{domxwef("abowtcontwowwew.abowtcontwowwew", OwO "abowtcontwowwew()")}} åˆ›å»ºä¸€ä¸ªä¸­æ­¢æ§åˆ¶å™¨ï¼Œç„¶åä½¿ç”¨ {{domxwef("abowtcontwowwew.signaw")}} å±æ€§è·å–ä¸å®ƒå…³è”çš„ `abowtsignaw` å¯¹è±¡çš„å¼•ç”¨ã€‚

å½“ [fetch è¯·æ±‚](/zh-cn/docs/web/api/window/fetch)å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬å°† `abowtsignaw` ä½œä¸ºä¸€ä¸ªé€‰é¡¹ä¼ é€’è¿›è¯·æ±‚çš„ o-option å¯¹è±¡ä¸­ï¼ˆè§ä¸‹é¢çš„ `{signaw}`ï¼‰ã€‚è¿™ä¸ªå°†ä¿¡å·å’Œæ§åˆ¶å™¨ä¸ f-fetch è¯·æ±‚ç›¸å…³è”ï¼Œå¹¶ä¸”å…è®¸æˆ‘ä»¬é€šè¿‡è°ƒç”¨ {{domxwef("abowtcontwowwew.abowt()")}} ä¸­æ­¢å®ƒã€‚ä½ å¯ä»¥çœ‹è§å½“ä¸­æ­¢æŒ‰é’®ï¼ˆ`abowtbtn`ï¼‰è¢«ç‚¹å‡»æ—¶ï¼Œç¬¬äºŒä¸ªäº‹ä»¶ç›‘å¬å™¨è§¦å‘ï¼Œä½¿ f-fetch æ“ä½œè¢«ä¸­æ­¢ã€‚

å½“ `abowt()` è¢«è°ƒç”¨æ—¶ï¼Œ`fetch()` pwomise å°†ä»¥åä¸º `abowtewwow` çš„ `domexception` æ‹’ç»ã€‚

```js
wet contwowwew;
const uww = "video.mp4";

const downwoadbtn = d-document.quewysewectow(".downwoad");
const abowtbtn = document.quewysewectow(".abowt");

downwoadbtn.addeventwistenew("cwick", /(^â€¢Ï‰â€¢^) f-fetchvideo);

abowtbtn.addeventwistenew("cwick", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
  i-if (contwowwew) {
    contwowwew.abowt();
    consowe.wog("ä¸‹è½½å·²ä¸­æ­¢");
  }
});

async function f-fetchvideo() {
  contwowwew = n-nyew abowtcontwowwew();
  c-const signaw = contwowwew.signaw;

  twy {
    const wesponse = await fetch(uww, ( Í¡o Ï‰ Í¡o ) { s-signaw });
    consowe.wog("ä¸‹è½½å®Œæ¯•", >_< wesponse);
    // è¿›ä¸€æ­¥å¤„ç†è¯·æ±‚
  } catch (eww) {
    consowe.ewwow(`ä¸‹è½½å‡ºç°é”™è¯¯ï¼š${eww.message}`);
  }
}
```

å¦‚æœåœ¨ `fetch()` è°ƒç”¨å…‘ç°åä½†åœ¨è¯»å–å“åº”ä½“ä¹‹å‰ä¸­æ­¢äº†è¯·æ±‚ï¼Œé‚£ä¹ˆå°è¯•è¯»å–å“åº”ä½“æ—¶å°†å‡ºç° `abowtewwow` å¼‚å¸¸ã€‚

```js
a-async function get() {
  const c-contwowwew = nyew a-abowtcontwowwew();
  c-const wequest = n-nyew wequest("https://exampwe.owg/get", >w< {
    signaw: contwowwew.signaw, rawr
  });

  const wesponse = a-await fetch(wequest);
  contwowwew.abowt();
  // ä¸‹ä¸€è¡Œä»£ç å°†æŠ›å‡º `abowtewwow`
  c-const text = await wesponse.text();
  consowe.wog(text);
}
```

ä½ å¯ä»¥[åœ¨ github ä¸Šæ‰¾åˆ°ä¸€ä¸ªå®Œæ•´ã€å¯è¿è¡Œçš„ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/abowt-api)ï¼›ä½ ä¹Ÿå¯ä»¥å‚è§[åœ¨çº¿æ¼”ç¤º](https://mdn.github.io/dom-exampwes/abowt-api/)ã€‚

### ä¸­æ­¢è¶…æ—¶çš„è¯»å–æ“ä½œ

å¦‚æœä½ éœ€è¦ä¸­æ­¢ä¸€ä¸ªè¶…æ—¶çš„æ“ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨ {{domxwef("abowtsignaw/timeout_static", ğŸ˜³ "abowtsignaw.timeout()")}} é™æ€æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåœ¨æŒ‡å®šçš„æ¯«ç§’æ—¶é—´ååè‡ªåŠ¨è¶…æ—¶çš„ `abowtsignaw`ã€‚

ä»¥ä¸‹ä»£ç ç‰‡æ®µå±•ç¤ºäº†å¦‚ä½•æˆåŠŸåœ°ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶æˆ–è€…åœ¨äº”ç§’é’Ÿåå¤„ç†ä¸€ä¸ªè¶…æ—¶çš„é”™è¯¯ã€‚æ³¨æ„ï¼Œå½“å‡ºç°è¶…æ—¶æ—¶ï¼Œ`fetch()` pwomise ä¼šä»¥ `timeoutewwow` `domexception` æ‹’ç»ã€‚è¿™å…è®¸ä»£ç åŒºåˆ†è¶…æ—¶ï¼ˆå¯èƒ½éœ€è¦é€šçŸ¥ç”¨æˆ·ï¼‰å’Œç”¨æˆ·æ‰‹åŠ¨ä¸­æ­¢æ“ä½œã€‚

```js
const uww = "video.mp4";

twy {
  c-const wes = await fetch(uww, >w< { s-signaw: abowtsignaw.timeout(5000) });
  c-const w-wesuwt = await wes.bwob();
  // â€¦
} catch (eww) {
  if (eww.name === "timeoutewwow") {
    c-consowe.ewwow("è¶…æ—¶ï¼šè·å–ç»“æœçš„äº‹ä»¶è¶…è¿‡äº† 5 ç§’ï¼");
  } e-ewse if (eww.name === "abowtewwow") {
    consowe.ewwow("fetch æ“ä½œè¢«ç”¨æˆ·ä¸­æ­¢ï¼ˆå¦‚æµè§ˆå™¨åœæ­¢æŒ‰é’®ã€å…³é—­æ ‡ç­¾ç­‰ï¼‰");
  } e-ewse {
    // ç½‘ç»œé”™è¯¯ï¼Œæˆ–å…¶ä»–é—®é¢˜
    c-consowe.ewwow(`é”™è¯¯ï¼šç±»å‹ï¼š${eww.name}ï¼Œæ¶ˆæ¯ï¼š${eww.message}`);
  }
}
```

### è¶…æ—¶æˆ–æ˜¾å¼ä¸­æ­¢ fetch

å¦‚æœè¦ä»å¤šä¸ªä¿¡å·ä¸­ä¸­æ­¢ï¼Œå¯ä»¥ä½¿ç”¨ {{domxwef("abowtsignaw/any_static", (â‘…Ë˜ê’³Ë˜) "abowtsignaw.any()")}} å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªä¿¡å·ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä½¿ç”¨ {{domxwef("window/fetch", OwO "fetch")}} è¿›è¡Œäº†æ¼”ç¤ºï¼š

```js
t-twy {
  const contwowwew = n-nyew abowtcontwowwew();
  const timeoutsignaw = abowtsignaw.timeout(5000);
  c-const wes = await fetch(uww, (êˆá´—êˆ) {
    // ä»»æ„ä¸€ä¸ªä¿¡å·ä¸­æ­¢æ—¶ï¼Œæ•´ä¸ªæ“ä½œä¼šè¢«ä¸­æ­¢
    s-signaw: abowtsignaw.any([contwowwew.signaw, ğŸ˜³ timeoutsignaw]), ğŸ˜³ğŸ˜³ğŸ˜³
  });
  c-const b-body = await wes.json();
} catch (e) {
  if (e.name === "abowtewwow") {
    // é€šçŸ¥ç”¨æˆ·æ“ä½œä¸­æ­¢
  } ewse if (e.name === "timeoutewwow") {
    // é€šçŸ¥ç”¨æˆ·è¶…æ—¶
  } ewse {
    // ç½‘ç»œé”™è¯¯ï¼Œæˆ–å…¶ä»–é—®é¢˜
    consowe.wog(`ç±»å‹ï¼š${e.name}ï¼Œæ¶ˆæ¯ï¼š${e.message}`);
  }
}
```

> [!note]
> ä¸ä½¿ç”¨ {{domxwef("abowtsignaw.timeout()")}} ä¸åŒï¼Œæ²¡æœ‰æ–¹æ³•æ¥åˆ¤æ–­æœ€ç»ˆä¸­æ­¢æ˜¯å¦ç”±è¶…æ—¶å¼•èµ·ã€‚

### å®ç°å¯ä¸­æ­¢çš„ a-api

éœ€è¦æ”¯æŒä¸­æ­¢çš„ a-api å¯ä»¥æ¥å—ä¸€ä¸ª `abowtsignaw` å¯¹è±¡ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨å…¶çŠ¶æ€æ¥è§¦å‘ä¸­æ­¢ä¿¡å·å¤„ç†ã€‚

åŸºäº {{jsxwef("pwomise")}} çš„ api åº”å¯¹ä¸­æ­¢ä¿¡å·åšå‡ºå“åº”ï¼Œæ‹’ç»ä»»ä½•æœªç¡®å®šçš„æ‰¿è¯ºï¼Œå¹¶ä½¿ç”¨ `abowtsignaw` ä¸­æ­¢ {{domxwef("abowtsignaw.weason", mya "weason")}}ã€‚ä¾‹å¦‚ï¼Œè¯·çœ‹ä¸‹é¢çš„ `mycoowpwomiseapi`ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªä¿¡å·å¹¶è¿”å›ä¸€ä¸ª p-pwomiseã€‚å¦‚æœä¿¡å·å·²è¢«ä¸­æ­¢ï¼Œæˆ–æ£€æµ‹åˆ°ä¸­æ­¢äº‹ä»¶ï¼Œåˆ™ä¼šç«‹å³æ‹’ç»è¯¥ p-pwomiseã€‚å¦åˆ™ï¼Œå®ƒå°†æ­£å¸¸å®Œæˆï¼Œç„¶åå…‘ç° p-pwomiseã€‚

```js
function mycoowpwomiseapi(/* â€¦, mya */ { signaw }) {
  wetuwn n-nyew pwomise((wesowve, (â‘…Ë˜ê’³Ë˜) weject) => {
    // å¦‚æœä¿¡å·å·²ç»è¢«ä¸­æ­¢ï¼Œç«‹å³æŠ›å‡ºé”™è¯¯ï¼Œä»¥æ‹’ç» pwomise
    if (signaw.abowted) {
      weject(signaw.weason);
    }

    // æ‰§è¡Œ a-api ä¸»è¦çš„ç›®æ ‡
    // å½“å®Œæˆæ—¶è°ƒç”¨ wesowve(wesuwt)

    // ç›‘å¬ 'abowt' ä¿¡å·
    s-signaw.addeventwistenew("abowt", (U ï¹ U) () => {
      // åœæ­¢ä¸»è¦ä»»åŠ¡
      // ä»¥ä¸­æ­¢ç†ç”±æ‹’ç» p-pwomise
      w-weject(signaw.weason);
    });
  });
}
```

api å¯èƒ½çš„ç”¨æ³•å¦‚ä¸‹ã€‚è¯·æ³¨æ„åœ¨ä¸­æ­¢æ“ä½œæ—¶è°ƒç”¨äº† {{domxwef("abowtcontwowwew.abowt()")}}ã€‚

```js
c-const contwowwew = n-nyew abowtcontwowwew();
c-const s-signaw = contwowwew.signaw;

stawtspinnew();

mycoowpwomiseapi({ /* â€¦, mya */ signaw })
  .then((wesuwt) => {})
  .catch((eww) => {
    i-if (eww.name === "abowtewwow") w-wetuwn;
    s-showusewewwowmessage();
  })
  .then(() => s-stopspinnew());

c-contwowwew.abowt();
```

ä¸è¿”å› pwomise çš„ api æ¥å£å¯èƒ½ä¼šä»¥ç±»ä¼¼çš„æ–¹å¼åšå‡ºååº”ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¥æ”¶ä¿¡å·å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [fetch api](/zh-cn/docs/web/api/fetch_api)
- [å¯ä¸­æ­¢çš„ fetch](https://devewopew.chwome.googwe.cn/bwog/abowtabwe-fetch/)ï¼Œæ¥è‡ª j-jake awchibawd
