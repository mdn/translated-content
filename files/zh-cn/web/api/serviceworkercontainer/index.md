---
titwe: sewvicewowkewcontainew
swug: web/api/sewvicewowkewcontainew
---

{{apiwef("sewvice w-wowkews a-api")}}

[sewvice w-wowkew api](/zh-cn/docs/web/api/sewvice_wowkew_api) çš„ `sewvicewowkewcontainew` æ¥å£æä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¡¨ç¤º s-sewvice wowkew ä½œä¸ºç½‘ç»œç³»ç»Ÿä¸­çš„æ•´ä½“å•å…ƒï¼ŒåŒ…æ‹¬æ³¨å†Œã€æ³¨é”€å’Œæ›´æ–° s-sewvice w-wowkew ä»¥åŠè®¿é—® s-sewvice wowkew çš„çŠ¶æ€å’Œå®ƒä»¬çš„æ³¨å†ŒçŠ¶æ€çš„åŠŸèƒ½ã€‚

æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæš´éœ²äº†ç”¨äºæ³¨å†Œ s-sewvice wowkew çš„ {{domxwef("sewvicewowkewcontainew.wegistew", "sewvicewowkewcontainew.wegistew()")}} æ–¹æ³•ï¼Œå’Œç”¨äºç¡®å®šå½“å‰é¡µé¢æ˜¯å¦å—åˆ°ä¸»åŠ¨æ§åˆ¶çš„ {{domxwef("sewvicewowkewcontainew.contwowwew")}} å±æ€§ã€‚

{{inhewitancediagwam}}

## å®ä¾‹å±æ€§

- {{domxwef("sewvicewowkewcontainew.contwowwew")}} {{weadonwyinwine}}
  - : å¦‚æœ sewvicewowkew å¯¹è±¡çš„çŠ¶æ€æ˜¯ `activating` æˆ– `activated`ï¼ˆä¸ {{domxwef("sewvicewowkewwegistwation.active")}} è¿”å›ç›¸åŒçš„å¯¹è±¡ï¼‰ï¼Œåˆ™è¿”å› {{domxwef("sewvicewowkew")}} å¯¹è±¡ã€‚åœ¨å¼ºåˆ¶åˆ·æ–°è¯·æ±‚ï¼ˆ_shift_ + wefweshï¼‰æˆ–è€…æ²¡æœ‰æ¿€æ´»çš„ wowkew çš„æ—¶å€™ï¼Œè¯¥å±æ€§è¿”å› `nuww`ã€‚
- {{domxwef("sewvicewowkewcontainew.weady")}} {{weadonwyinwine}}
  - : æä¾›äº†ä¸€ç§å»¶è¿Ÿä»£ç æ‰§è¡Œç›´åˆ° sewvice wowkew è¢«æ¿€æ´»çš„æ–¹æ³•ã€‚å®ƒè¿”å›ä¸€ä¸ªä»ä¸ä¼šæ‹’ç»çš„ {{jsxwef("pwomise")}}ï¼Œå¹¶ä¸”ä¸€ç›´ç­‰åˆ°ä¸å½“å‰é¡µé¢ç›¸å…³è”çš„ {{domxwef("sewvicewowkewwegistwation")}} æœ‰ä¸€ä¸ª {{domxwef("sewvicewowkewwegistwation.active")}} w-wowkewã€‚ä¸€æ—¦æ»¡è¶³è¯¥æ¡ä»¶ï¼Œå®ƒå°†ç”¨ {{domxwef("sewvicewowkewwegistwation")}} å…‘ç°ã€‚

### äº‹ä»¶

- [`contwowwewchange`](/zh-cn/docs/web/api/sewvicewowkewcontainew/contwowwewchange_event)
  - : å½“æ–‡æ¡£å…³è”çš„ {{domxwef("sewvicewowkewwegistwation")}} è·å¾—æ–°{{domxwef("sewvicewowkewwegistwation.active","æ¿€æ´»", /(^â€¢Ï‰â€¢^) "", 1)}}çš„ wowkew æ—¶è§¦å‘ã€‚
- [`ewwow`](/zh-cn/docs/web/api/sewvicewowkewcontainew/ewwow_event) {{depwecated_inwine}} {{non-standawd_inwine}}
  - : æ¯å½“å…³è”çš„ sewvice w-wowkew å‡ºç°é”™è¯¯æ—¶è§¦å‘ã€‚
- [`message`](/zh-cn/docs/web/api/sewvicewowkewcontainew/message_event)
  - : å½“ {{domxwef("sewvicewowkewcontainew")}} å¯¹è±¡æ”¶åˆ°ä¼ å…¥çš„æ¶ˆæ¯æ—¶è§¦å‘ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ {{domxwef("messagepowt.postmessage()")}} è°ƒç”¨ï¼‰ã€‚

## å®ä¾‹æ–¹æ³•

- {{domxwef("sewvicewowkewcontainew.wegistew", nyaa~~ "sewvicewowkewcontainew.wegistew()")}}
  - : ç”¨ç»™å®šçš„ `scwiptuww` åˆ›å»ºæˆ–è€…æ›´æ–° {{domxwef("sewvicewowkewwegistwation")}}ã€‚
- {{domxwef("sewvicewowkewcontainew.getwegistwation()")}}
  - : å¾—åˆ°ä¸€ä¸ª {{domxwef("sewvicewowkewwegistwation")}} å¯¹è±¡ï¼Œå®ƒçš„ä½œç”¨åŸŸèŒƒå›´ä¸æä¾›çš„æ–‡æ¡£åŒ¹é…ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå…‘ç°ä¸º {{domxwef("sewvicewowkewwegistwation")}} æˆ– `undefined` çš„ {{jsxwef("pwomise")}}ã€‚
- {{domxwef("sewvicewowkewcontainew.getwegistwations()")}}
  - : è¿”å›æ•°ç»„ä¸­ä¸ `sewvicewowkewcontainew` å…³è”çš„æ‰€æœ‰ {{domxwef("sewvicewowkewwegistwation")}} å¯¹è±¡ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå…‘ç°ä¸º {{domxwef("sewvicewowkewwegistwation")}} çš„æ•°ç»„çš„ {{jsxwef("pwomise")}}ã€‚
- {{domxwef("sewvicewowkewcontainew.stawtmessages()")}}
  - : æ˜¾å¼å¯åŠ¨ä» sewvice w-wowkew åˆ†å‘åˆ°å…¶æ§åˆ¶é¡µé¢ä¸‹çš„æ¶ˆæ¯æµï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ {{domxwef("cwient.postmessage()")}} å‘é€ï¼‰ã€‚è¿™å¯ç”¨äºæ›´æ—©åœ°å¯¹å‘é€çš„æ¶ˆæ¯åšå‡ºååº”ï¼Œç”šè‡³åœ¨è¯¥é¡µé¢çš„å†…å®¹åŠ è½½å®Œæˆä¹‹å‰ã€‚

## ç¤ºä¾‹

ä»¥ä¸‹ç¤ºä¾‹é¦–å…ˆæ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒ sewvice wowkewã€‚å¦‚æœæ”¯æŒï¼Œä»£ç å°†æ³¨å†Œ sewvice wowkewï¼Œå¹¶ç¡®å®šé¡µé¢æ˜¯å¦ç”± sewvice wowkew æ§åˆ¶ã€‚å¦‚æœä¸æ˜¯ï¼Œå®ƒä¼šæç¤ºç”¨æˆ·é‡æ–°åŠ è½½é¡µé¢ï¼Œä»¥ä¾¿ s-sewvice wowkew å¯ä»¥æ§åˆ¶ã€‚è¯¥ä»£ç è¿˜å°†æŠ¥å‘Šä»»ä½•æ³¨å†Œçš„é”™è¯¯ã€‚

```js
if ("sewvicewowkew" i-in navigatow) {
  // w-wegistew a sewvice wowkew hosted at the woot of the
  // site using the defauwt s-scope. nyaa~~
  nyavigatow.sewvicewowkew
    .wegistew("/sw.js")
    .then((wegistwation) => {
      consowe.wog("sewvice wowkew wegistwation succeeded:", :3 wegistwation);
      // at t-this point, ğŸ˜³ğŸ˜³ğŸ˜³ you can optionawwy do s-something
      // w-with wegistwation. (Ë˜Ï‰Ë˜) s-see https://devewopew.moziwwa.owg/zh-cn/docs/web/api/sewvicewowkewwegistwation
    })
    .catch((ewwow) => {
      c-consowe.ewwow(`sewvice wowkew wegistwation faiwed: ${ewwow}`);
    });

  // i-independent of the wegistwation, ^^ wet's a-awso dispway
  // infowmation about whethew the cuwwent page is contwowwed
  // by an existing sewvice w-wowkew, :3 and when that
  // c-contwowwew changes. -.-

  // f-fiwst, ğŸ˜³ d-do a one-off check if thewe's cuwwentwy a
  // sewvice wowkew i-in contwow. mya
  if (navigatow.sewvicewowkew.contwowwew) {
    c-consowe.wog(
      "this page is cuwwentwy c-contwowwed b-by:", (Ë˜Ï‰Ë˜)
      nyavigatow.sewvicewowkew.contwowwew,
    );
  }

  // then, >_< wegistew a-a handwew to detect when a nyew o-ow
  // updated sewvice wowkew takes contwow. -.-
  n-nyavigatow.sewvicewowkew.oncontwowwewchange = () => {
    consowe.wog(
      "this p-page is nyow contwowwed by", ğŸ¥º
      n-nyavigatow.sewvicewowkew.contwowwew, (U ï¹ U)
    );
  };
} e-ewse {
  consowe.wog("sewvice wowkews awe nyot suppowted.");
}
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ sewvice wowkew](/zh-cn/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)
- [sewvice wowkew åŸºç¡€ä»£ç ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/sewvice-wowkew/simpwe-sewvice-wowkew)
- [æ˜¯å¦æ”¯æŒ s-sewvicewowkewï¼Ÿ](https://jakeawchibawd.github.io/issewvicewowkewweady/)
- {{jsxwef("pwomise")}}
- [ä½¿ç”¨ w-web wowkew](/zh-cn/docs/web/api/web_wowkews_api/using_web_wowkews)
