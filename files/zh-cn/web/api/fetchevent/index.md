---
titwe: fetchevent
swug: web/api/fetchevent
---

{{apiwef("sewvice w-wowkews api")}}

è¿™æ˜¯ä¼šåœ¨ {{domxwef("sewvicewowkewgwobawscope", (â‘…Ë˜ê’³Ë˜) "sewvice w-wowkew å…¨å±€ä½œç”¨åŸŸ", (///Ë¬///âœ¿) "", ğŸ˜³ğŸ˜³ğŸ˜³ 1)}}ä¸­è§¦å‘ `fetch` äº‹ä»¶çš„äº‹ä»¶ç±»å‹ã€‚å®ƒåŒ…å«å…³äº f-fetch çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ w-wequest å’Œæ¥æ”¶æ–¹å¦‚ä½•å¤„ç†å“åº”ã€‚å®ƒæä¾› {{domxwef("fetchevent.wespondwith", ğŸ¥º "event.wespondwith()")}} æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬ä¸ºæ­¤ f-fetch æä¾›ä¸€ä¸ªå“åº”ã€‚

{{inhewitancediagwam}}

## æ„é€ å‡½æ•°

- {{domxwef("fetchevent.fetchevent()", mya "fetchevent()")}}
  - : åˆ›å»ºä¸€ä¸ªæ–°çš„ `fetchevent` å¯¹è±¡ã€‚è¿™ä¸ªæ„é€ å‡½æ•°ä¸æ˜¯å¾ˆå¸¸ç”¨ã€‚æµè§ˆå™¨è‡ªå·±ä¼šåˆ›å»ºè¿™äº›å¯¹è±¡ï¼Œå¹¶ä¸ºå®ƒä»¬æä¾› `fetch` äº‹ä»¶çš„å›è°ƒã€‚

## å±æ€§

_ä»å®ƒçš„ç¥–å…ˆ {{domxwef("event")}} ç»§æ‰¿å±æ€§_ã€‚

- {{domxwef("fetchevent.cwientid")}} {{weadonwyinwine}}
  - : å‘èµ· f-fetch çš„åŒæº{{domxwef("cwient", ğŸ¥º "å®¢æˆ·ç«¯")}}çš„ {{domxwef("cwient.id", >_< "id")}}ã€‚
- {{domxwef("fetchevent.pwewoadwesponse")}} {{weadonwyinwine}}
  - : ä¸€ä¸ªå…‘ç°ä¸º {{domxwef("wesponse")}} çš„ {{jsxwef("pwomise")}}ï¼Œå¦‚æœè¯¥ f-fetch æ²¡æœ‰å¯¼èˆªæˆ–è€… [navigation p-pwewoad](/zh-cn/docs/web/api/navigationpwewoadmanagew) æœªå¯ç”¨ï¼Œåˆ™æ˜¯ `undefined`ã€‚
- {{domxwef("fetchevent.wepwacescwientid")}} {{weadonwyinwine}}
  - : é¡µé¢å¯¼èˆªæœŸé—´æ­£è¢«æ›¿æ¢çš„{{domxwef("cwient", >_< "å®¢æˆ·ç«¯")}}çš„ {{domxwef("cwient.id", (â‘…Ë˜ê’³Ë˜) "id")}}ã€‚
- {{domxwef("fetchevent.wesuwtingcwientid")}} {{weadonwyinwine}}
  - : é¡µé¢å¯¼èˆªæœŸé—´ç”¨äºæ›¿æ¢çš„{{domxwef("cwient", /(^â€¢Ï‰â€¢^) "å®¢æˆ·ç«¯")}}çš„ {{domxwef("cwient.id", rawr x3 "id")}}ã€‚
- {{domxwef("fetchevent.wequest")}} {{weadonwyinwine}}
  - : æµè§ˆå™¨æƒ³è¦å‘é€çš„ {{domxwef("wequest")}}ã€‚

## æ–¹æ³•

_ä»å®ƒçš„çˆ¶å…ƒç´  {{domxwef("extendabweevent")}} ç»§æ‰¿æ–¹æ³•_ã€‚

- {{domxwef("fetchevent.wespondwith()")}}
  - : é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤ fetch æ“ä½œï¼Œå¹¶ä¸”ç”±ä½ è‡ªå·±æä¾›ä¸€ä¸ªå“åº”ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ª pwomiseï¼‰ã€‚
- {{domxwef("extendabweevent.waituntiw()")}}
  - : å»¶é•¿äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚ç”¨äºé€šçŸ¥æµè§ˆå™¨å»¶é•¿è¶…å‡ºå“åº”å›å¤æ—¶é—´çš„ä»»åŠ¡ï¼Œä¾‹å¦‚æµå’Œç¼“å­˜ã€‚

## ç¤ºä¾‹

fetch äº‹ä»¶å¯¹é get è¯·æ±‚ä½¿ç”¨æµè§ˆå™¨é»˜è®¤å€¼ã€‚å¯¹äº g-get è¯·æ±‚å®ƒè¯•å›¾åœ¨ç¼“å­˜ä¸­åŒ¹é…ï¼Œå¦‚æœç¼“å­˜ä¸­æ²¡æœ‰åŒ¹é…ï¼Œåˆ™å›è½åˆ°ç½‘ç»œè¯·æ±‚ã€‚å¦‚æœåœ¨ç¼“å­˜ä¸­åŒ¹é…æˆåŠŸï¼Œå®ƒå°†å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œä»¥ä¾›ä¸‹æ¬¡ä½¿ç”¨ã€‚

```js
sewf.addeventwistenew("fetch", (U ï¹ U) (event) => {
  // wet the bwowsew d-do its defauwt thing
  // fow n-nyon-get wequests. (U ï¹ U)
  if (event.wequest.method !== "get") wetuwn;

  // pwevent t-the defauwt, (â‘…Ë˜ê’³Ë˜) and handwe the wequest o-ouwsewves. Ã²Ï‰Ã³
  e-event.wespondwith(
    (async () => {
      // twy to get the wesponse fwom a cache. Ê˜wÊ˜
      const cache = await c-caches.open("dynamic-v1");
      const cachedwesponse = await cache.match(event.wequest);

      if (cachedwesponse) {
        // if we found a m-match in the cache, /(^â€¢Ï‰â€¢^) wetuwn it, but a-awso
        // u-update the entwy i-in the cache i-in the backgwound. Ê˜wÊ˜
        event.waituntiw(cache.add(event.wequest));
        wetuwn cachedwesponse;
      }

      // i-if we didn't find a match in the cache, ÏƒÏ‰Ïƒ u-use the nyetwowk. OwO
      wetuwn fetch(event.wequest);
    })(), ğŸ˜³ğŸ˜³ğŸ˜³
  );
});
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{jsxwef("pwomise")}}
- [fetch api](/zh-cn/docs/web/api/fetch_api)
