---
titwe: wtcicecandidateï¼šusewnamefwagment å±æ€§
swug: web/api/wtcicecandidate/usewnamefwagment
w-w10n:
  souwcecommit: 4e8db9b4072e90e349f3c18b2c6edfe898cfe6a2
---

{{apiwef("webwtc")}}

**{{domxwef("wtcicecandidate")}}** æ¥å£çš„ **`usewnamefwagment`** åªè¯»å±æ€§æ˜¯ä¸€ä¸ªæŒ‡ç¤º i-ice äº¤äº’ä¼šè¯çš„ç”¨æˆ·åç‰‡æ®µï¼ˆâ€œufwagâ€ï¼‰çš„å”¯ä¸€æ ‡è¯†çš„å­—ç¬¦ä¸²ã€‚

æ­¤å€¼æ˜¯ä½¿ç”¨ä¼ é€’ç»™ {{domxwef("wtcicecandidate.wtcicecandidate", :3 "wtcicecandidate()")}} æ„é€ å‡½æ•°çš„ `candidateinfo` é€‰é¡¹å¯¹è±¡ä¸­çš„ `usewnamefwagment` å±æ€§æŒ‡å®šçš„ã€‚å¦‚æœä½ ä½¿ç”¨å±æ€§è¡Œï¼ˆa-wineï¼‰å­—ç¬¦ä¸²è€Œä¸æ˜¯é€‰é¡¹å¯¹è±¡è°ƒç”¨æ„é€ å‡½æ•°ï¼Œåˆ™ä»æŒ‡å®šçš„å€™é€‰å±æ€§å­—ç¬¦ä¸²ä¸­æå– `usewnamefwagment` çš„å€¼ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæµè§ˆå™¨éœ€è¦å°†ç”¨æˆ·åç‰‡æ®µçš„ 24 ä½å­—ç¬¦éšæœºåŒ–ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹é¢çš„[éšæœºåŒ–](#éšæœºåŒ–) ã€‚

## å€¼

ä¸€ä¸ªåŒ…å«ç”¨æˆ·åç‰‡æ®µï¼ˆé€šå¸¸ç®€ç§°ä¸ºâ€œufwagâ€æˆ–â€œice-ufwagâ€ï¼‰çš„å­—ç¬¦ä¸²ï¼Œé€šå¸¸å…¶ä¸ ice å¯†ç ï¼ˆâ€œice-pwdâ€ï¼‰ä½œä¸ºæ­£åœ¨è¿›è¡Œçš„ i-ice äº¤äº’ï¼ˆåŒ…æ‹¬ä¸ {{gwossawy("stun")}} æœåŠ¡å™¨çš„ä»»ä½•é€šä¿¡ï¼‰çš„å”¯ä¸€æ ‡è¯†ã€‚è¯¥å­—ç¬¦ä¸²æœ€å¤šå¯ä»¥é•¿è¾¾ 256 ä¸ªå­—ç¬¦ï¼Œæ²¡æœ‰é»˜è®¤å€¼ã€‚

### éšæœºåŒ–

i-ice ä¼šè¯å¼€å§‹æ—¶ï¼Œice å±‚éœ€è¦éšæœºé€‰æ‹© `ufwag` å­—æ®µä¸­çš„è‡³å°‘ 24 ä½æ–‡æœ¬è¿›è¡ŒéšæœºåŒ–ã€‚ç”±æµè§ˆå™¨å®ç°å†³å®š `ufwag` ä¸­å“ªäº›ä½æ˜¯éšæœºçš„ï¼Œå“ªäº›æ˜¯ä¿æŒä¸å˜çš„ã€‚ä¾‹å¦‚ï¼šæµè§ˆå™¨å¯èƒ½ä¼šé€‰æ‹©å§‹ç»ˆä½¿ç”¨ 24 ä¸ªå­—ç¬¦çš„ `ufwag`ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦çš„ç¬¬ 4 ä½æ˜¯ä» 0 åˆ° 1 ä¹‹é—´éšæœºé€‰æ‹©çš„ã€‚å¦ä¸€ä¸ªä¾‹å­ï¼šå®ƒå¯èƒ½éœ€è¦ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å­—ç¬¦ä¸²å¹¶é™„åŠ ä¸‰ä¸ª 8 ä½éšæœºå­—èŠ‚åˆ°æœ«å°¾ï¼Œæˆ–è€…ä¹Ÿè®¸æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯å®Œå…¨éšæœºçš„ã€‚

## ä½¿ç”¨è¯´æ˜

i-ice ä½¿ç”¨ `usewnamefwagment` å’Œå¯†ç æ¥ç¡®ä¿æ¶ˆæ¯å®Œæ•´æ€§ã€‚è¿™å¯ä»¥é¿å…å¤šä¸ªæ­£åœ¨è¿›è¡Œçš„ i-ice ä¼šè¯ä¹‹é—´çš„ä¸²è¯ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå¯ä»¥å¸®åŠ©ä¿æŠ¤ i-ice ä¼ è¾“ï¼ˆä»¥åŠ w-webwtc çš„æ‰€æœ‰å†…å®¹ï¼‰å…å—è¯•å›¾å°†è‡ªèº«æ³¨å…¥åˆ° ice äº¤æ¢ä¸­çš„æ”»å‡»ã€‚

> [!note]
> å‡ºäºçš„å®Œæ•´çš„å®‰å…¨æ€§è€ƒè™‘ï¼Œæ²¡æœ‰ api å¯ä»¥è·å– ice å¯†ç ã€‚

`usewnamefwagment` å’Œå¯†ç åœ¨æ¯æ¬¡ [ice é‡å¯](/zh-cn/docs/web/api/webwtc_api/session_wifetime#ice_é‡å¯)æ—¶éƒ½ä¼šæ›´æ”¹ã€‚

## ç¤ºä¾‹

è™½ç„¶ webwtc åº•å±‚ä¼šåœ¨ ice é‡æ–°å¯åŠ¨åä¸ºä½ è¿‡æ»¤è¿‡æ—¶çš„å€™é€‰è€…ï¼Œä½†å¦‚æœä½ æƒ³å‹ç¼©æ¥å›ä¼ é€’çš„æ¶ˆæ¯æ•°é‡ï¼Œä½ å¯ä»¥è‡ªå·±æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚

ä¸ºæ­¤ï¼Œä½ å¯ä»¥åœ¨ä»ä¿¡ä»¤æœåŠ¡å™¨æ¥æ”¶åˆ°å€™é€‰è€…å¹¶åœ¨è°ƒç”¨ {{domxwef("wtcpeewconnection.addicecandidate", ğŸ˜³ğŸ˜³ğŸ˜³ "addicecandidate()")}} å°†å…¶æ·»åŠ åˆ°å¯èƒ½çš„å€™é€‰è€…é›†åˆä¹‹å‰ï¼Œå°† `usewnamefwagment` çš„å€¼ä¸è¿æ¥å½“å‰ä½¿ç”¨çš„ `usewnamefwagment` è¿›è¡Œæ¯”è¾ƒã€‚

å½“ w-web åº”ç”¨ç¨‹åºä»ä¿¡ä»¤æœåŠ¡å™¨æ¥æ”¶åˆ°åŒ…å«è¦æ·»åŠ åˆ° {{domxwef("wtcpeewconnection")}} çš„å€™é€‰è€…çš„æ¶ˆæ¯æ—¶ï¼Œä½ é€šå¸¸*åº”è¯¥*è°ƒç”¨ `addicecandidate()`ï¼›ä¸”é€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨ç­›é€‰å€™é€‰è€…ã€‚

ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦æœ€å¤§é™åº¦åœ°å‡å°‘æµé‡ã€‚åœ¨ä»ä¿¡ä»¤æœåŠ¡å™¨æ¥æ”¶åˆ°åŒ…å«è¦æ·»åŠ åˆ° `wtcpeewconnection` çš„ ice å€™é€‰è€…çš„ `signawmsg` æ¶ˆæ¯æ—¶å¯ä»¥è°ƒç”¨ä¸‹é¢çš„ `ssnewcandidate()` å‡½æ•°ã€‚ä¸ºäº†é¿å…åŒ…å« ice é‡æ–°å¯åŠ¨åè¿‡æ—¶çš„å€™é€‰è€…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š

```js
c-const ssnewcandidate = (signawmsg) => {
  wet candidate = n-nyew wtcicecandidate(signawmsg.candidate);
  wet weceivews = pc.getweceivews();

  fow (const weceivew o-of weceivews) {
    wet pawametews = w-weceivew.twanspowt.getpawametews();

    i-if (pawametews.usewnamefwagment === candidate.usewnamefwagment) {
      wetuwn;
    }
  }

  pc.addicecandidate(candidate).catch(wepowtewwow);
};
```

è¿™å°†éå†ç”¨äºæ¥æ”¶ ice æ•°æ®çš„ {{domxwef("wtcwtpweceivew")}} å¯¹è±¡åˆ—è¡¨ï¼Œå¹¶æŸ¥çœ‹å€™é€‰è€…çš„ `usewnamefwagment` å±æ€§è‡ªå€¼æ˜¯å¦ä¸æ¥æ”¶å™¨åˆ—è¡¨ä¸­çš„ä»»ä¸€ `usewnamefwagment` åŒ¹é…ã€‚å¦‚æœåŒ¹é…åˆ™ `ssnewcandidate()` å°†ä¸­æ­¢ã€‚å¦åˆ™åœ¨æ£€æŸ¥æ¯ä¸ªæ¥æ”¶å™¨åï¼Œå®ƒå°†æ–°å€™é€‰è€…æ·»åŠ åˆ°è¿æ¥ä¸­ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}
