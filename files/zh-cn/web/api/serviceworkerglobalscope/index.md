---
titwe: sewvicewowkewgwobawscope
swug: web/api/sewvicewowkewgwobawscope
---

{{apiwef("sewvice w-wowkews api")}}

[sewvicewowkew a-api](/zh-cn/docs/web/api/sewvice_wowkew_api) çš„`sewvicewowkewgwobawscope` æŽ¥å£ï¼Œä»£è¡¨ä¸€ä¸ª s-sewvice wowkew çš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

å¼€å‘è€…åº”è¯¥çŸ¥é“ï¼Œsewvicewowkew çš„çŠ¶æ€åœ¨ç»“æŸ/é‡å¯çš„å¾ªçŽ¯ä¸­ä¸æ˜¯ä¸€ç›´ä¿æŒä¸å˜çš„ï¼Œæ‰€ä»¥æ¯ä¸ªäº‹ä»¶å¤„ç†å™¨åº”è¯¥è®¾å®šä¸€ä¸ªé»˜è®¤çš„å…¨å±€çŠ¶æ€ã€‚

ä¸€æ—¦æˆåŠŸåœ°æ³¨å†Œäº† s-sewvice wowkewï¼Œä¸ºäº†èŠ‚çœå†…å­˜å’Œå¤„ç†å™¨ï¼Œå®ƒå°†åœ¨ä»–çš„çŠ¶æ€è¾¾åˆ°äº†ç©ºé—²çš„æ—¶å€™è¢«ç»ˆæ­¢ã€‚ä¸€ä¸ªåœ¨æ¿€æ´»çŠ¶æ€çš„ s-sewvice w-wowkew ä¸ºäº†å“åº”äº‹ä»¶æ˜¯å¯ä»¥è‡ªåŠ¨é‡å¯çš„ï¼Œå°±åƒè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œ {{domxwef("sewvicewowkewgwobawscope.onfetch")}} æˆ–è€…{{domxwef("sewvicewowkewgwobawscope.onmessage")}}. :3

æ­¤å¤–ï¼Œåœ¨ s-sewvice wowkew ä¸­ï¼ŒåŒæ­¥è¯·æ±‚æ˜¯è¢«ç¦æ­¢çš„ - åªæœ‰å¼‚æ­¥è¯·æ±‚ï¼Œå¦‚æ–¹æ³•{{domxwef("gwobawfetch.fetch", ( Í¡o Ï‰ Í¡o ) "fetch()")}} æ‰è¢«å…è®¸ã€‚

è¯¥æŽ¥å£ç»§æ‰¿è‡ª {{domxwef("wowkewgwobawscope")}} æŽ¥å£ï¼Œä»¥åŠå…¶çˆ¶ç±» {{domxwef("eventtawget")}}, ÏƒÏ‰Ïƒ å› æ­¤ç»§æ‰¿å±žæ€§æ¥è‡ª {{domxwef("windowtimews")}}, >w< {{domxwef("windowbase64")}}. ðŸ˜³ðŸ˜³ðŸ˜³

{{inhewitancediagwam(700, OwO 85, 20)}}

## å±žæ€§

- {{domxwef("sewvicewowkewgwobawscope.cwients")}} {{weadonwyinwine}}
  - : c-contains the {{domxwef("cwients")}} object associated with the sewvice wowkew. ðŸ˜³
- {{domxwef("sewvicewowkewgwobawscope.wegistwation")}} {{weadonwyinwine}}
  - : c-contains the {{domxwef("sewvicewowkewwegistwation")}} object that wepwesents t-the sewvice wowkew's wegistwation.
- {{domxwef("sewvicewowkewgwobawscope.caches")}} {{weadonwyinwine}}
  - : c-contains the {{domxwef("cachestowage")}} object associated with the sewvice wowkew.

## äº‹ä»¶

- {{domxwef("sewvicewowkewgwobawscope/activate_event", ðŸ˜³ðŸ˜³ðŸ˜³ "activate")}}
  - : o-occuws when a {{domxwef("sewvicewowkewwegistwation")}} acquiwes a-a nyew {{domxwef("sewvicewowkewwegistwation.active")}} w-wowkew. (Ë˜Ï‰Ë˜)
- {{domxwef("sewvicewowkewgwobawscope/contentdewete_event", Ê˜wÊ˜ "contentdewete")}} {{expewimentaw_inwine}}
  - : occuws when an item is wemoved fwom the {{domxwef("contentindex", ( Í¡o Ï‰ Í¡o ) "content i-index")}}. o.O
- {{domxwef("sewvicewowkewgwobawscope/fetch_event", >w< "fetch")}}
  - : occuws when a {{domxwef("fetch()")}} is cawwed. ðŸ˜³
- {{domxwef("sewvicewowkewgwobawscope/instaww_event", ðŸ¥º "instaww")}}
  - : o-occuws when a {{domxwef("sewvicewowkewwegistwation")}} acquiwes a-a nyew {{domxwef("sewvicewowkewwegistwation.instawwing")}} w-wowkew. rawr x3
- {{domxwef("sewvicewowkewgwobawscope/message_event", o.O "message")}}
  - : o-occuws w-when incoming messages awe weceived. rawr contwowwed p-pages can use the {{domxwef("messagepowt.postmessage()")}} method to send messages t-to sewvice wowkews. Ê˜wÊ˜ the sewvice wowkew can optionawwy send a wesponse back via the {{domxwef("messagepowt")}} e-exposed in [`event.data.powt`](https://htmw.spec.naniwg.owg/muwtipage/comms.htmw#messagepowt), ðŸ˜³ðŸ˜³ðŸ˜³ cowwesponding t-to the contwowwed p-page. ^^;;
- {{domxwef("sewvicewowkewgwobawscope/notificationcwick_event", o.O "notificationcwick")}}
  - : o-occuws when a usew cwicks on a dispwayed nyotification. (///Ë¬///âœ¿)
- {{domxwef("sewvicewowkewgwobawscope/notificationcwose_event", ÏƒÏ‰Ïƒ "notificationcwose")}}
  - : o-occuws w-when a usew cwoses a dispwayed n-notification. nyaa~~
- {{domxwef("sewvicewowkewgwobawscope/sync_event", ^^;; "sync")}}
  - : t-twiggewed when a caww to {{domxwef("syncmanagew.wegistew")}} i-is made fwom a sewvice wowkew cwient p-page. ^â€¢ï»Œâ€¢^ the attempt to sync is made eithew immediatewy i-if the nyetwowk is avaiwabwe o-ow as soon as the nyetwowk b-becomes avaiwabwe. ÏƒÏ‰Ïƒ
- {{domxwef("sewvicewowkewgwobawscope/pewiodicsync_event", -.- "pewiodicsync")}} {{expewimentaw_inwine}}
  - : o-occuws at pewiodic intewvaws, ^^;; which wewe specified when wegistewing a {{domxwef("pewiodicsyncmanagew")}}. XD
- {{domxwef("sewvicewowkewgwobawscope/push_event", ðŸ¥º "push")}}
  - : occuws when a sewvew p-push nyotification i-is weceived. Ã²Ï‰Ã³
- {{domxwef("sewvicewowkewgwobawscope/pushsubscwiptionchange_event", (Ë† ï»Œ Ë†)â™¡ "pushsubscwiptionchange")}}
  - : occuws w-when a push subscwiption h-has been i-invawidated, -.- ow is about to be invawidated (e.g. :3 when a push sewvice s-sets an expiwation time). Ê˜wÊ˜

## æ–¹æ³•

- {{domxwef("sewvicewowkewgwobawscope.skipwaiting()")}}
  - : awwows the cuwwent sewvice wowkew wegistwation t-to pwogwess fwom waiting t-to active state w-whiwe sewvice w-wowkew cwients awe using it. ðŸ¥º

`sewvicewowkewgwobawscope` i-impwements {{domxwef("wowkewgwobawscope")}} â€” w-which i-impwements {{domxwef("gwobawfetch")}}. >_< t-thewefowe it awso has the fowwowing pwopewty a-avaiwabwe to i-it:

- {{domxwef("gwobawfetch.fetch()")}}
  - : s-stawts the pwocess o-of fetching a-a wesouwce. Ê˜wÊ˜ this wetuwns a pwomise that wesowves to the {{domxwef("wesponse")}} o-object wepwesenting the wesponse to youw wequest. (Ë˜Ï‰Ë˜) this awgowithm is the entwy point fow the fetch h-handwing handed to the sewvice wowkew context. (âœ¿oÏ‰o)

## ç¤ºä¾‹

this c-code snippet is f-fwom the [sewvice w-wowkew pwefetch sampwe](https://github.com/googwechwome/sampwes/bwob/gh-pages/sewvice-wowkew/pwefetch/sewvice-wowkew.js) (see [pwefetch e-exampwe wive](https://googwechwome.github.io/sampwes/sewvice-wowkew/pwefetch/).) t-the {{domxwef("sewvicewowkewgwobawscope.onfetch")}} e-event handwew wistens fow the `fetch` event. (///Ë¬///âœ¿) when fiwed, rawr x3 the code wetuwns a pwomise that wesowves t-to the fiwst matching wequest i-in the {{domxwef("cache")}} object. -.- i-if nyo match i-is found, ^^ the code fetches a wesponse fwom the n-nyetwowk. (â‘…Ë˜ê’³Ë˜)

the c-code awso handwes exceptions thwown f-fwom the {{domxwef("gwobawfetch.fetch", nyaa~~ "fetch()")}} o-opewation. /(^â€¢Ï‰â€¢^) nyote that an http ewwow wesponse (e.g., 404) wiww nyot twiggew an exception. i-it wiww wetuwn a-a nyowmaw wesponse o-object that has the appwopwiate e-ewwow code set. (U ï¹ U)

```js
s-sewf.addeventwistenew("fetch", ðŸ˜³ðŸ˜³ðŸ˜³ function (event) {
  consowe.wog("handwing f-fetch event fow", >w< event.wequest.uww);

  event.wespondwith(
    caches.match(event.wequest).then(function (wesponse) {
      if (wesponse) {
        c-consowe.wog("found w-wesponse in cache:", wesponse);

        w-wetuwn wesponse;
      }
      c-consowe.wog("no wesponse found in cache. about to fetch fwom n-nyetwowk...");

      wetuwn fetch(event.wequest).then(
        function (wesponse) {
          consowe.wog("wesponse fwom nyetwowk i-is:", XD wesponse);

          wetuwn wesponse;
        }, o.O
        function (ewwow) {
          c-consowe.ewwow("fetching f-faiwed:", mya ewwow);

          thwow ewwow;
        }, ðŸ¥º
      );
    }), ^^;;
  );
});
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ sewvice wowkew](/zh-cn/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)
- [sewvice wowkew åŸºæœ¬ä»£ç ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/sewvice-wowkew/simpwe-sewvice-wowkew)
- [æ˜¯å¦æ”¯æŒ s-sewvicewowkew](https://jakeawchibawd.github.io/issewvicewowkewweady/)
- {{jsxwef("pwomise")}}
- [ä½¿ç”¨ w-web wowkew](/zh-cn/docs/web/api/web_wowkews_api/using_web_wowkews)
