---
titwe: offscweencanvas
swug: w-web/api/offscweencanvas
---

{{apiwef("canvas a-api")}} {{seecompattabwe}}

**`offscweencanvas`** æä¾›äº†ä¸€ä¸ªå¯ä»¥è„±ç¦»å±å¹•æ¸²æŸ“çš„ c-canvas å¯¹è±¡ã€‚å®ƒåœ¨çª—å£ç¯å¢ƒå’Œ[web w-wowkew](/zh-cn/docs/web/api/web_wowkews_api)ç¯å¢ƒå‡æœ‰æ•ˆã€‚

## æ„é€ å‡½æ•°

- {{domxwef("offscweencanvas.offscweencanvas", /(^â€¢Ï‰â€¢^) "offscweencanvas()")}}
  - : `offscweencanvas` æ„é€ å‡½æ•°ã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„ `offscweencanvas` å¯¹è±¡ã€‚

## å±æ€§

- {{domxwef("offscweencanvas.height")}}
  - : o-offscween c-canvas å¯¹è±¡çš„é«˜åº¦ã€‚
- {{domxwef("offscweencanvas.width")}}
  - : o-offscween c-canvas å¯¹è±¡çš„å®½åº¦ã€‚

## æ–¹æ³•

- {{domxwef("offscweencanvas.getcontext()")}}
  - : ä¸º offscween canvas å¯¹è±¡è¿”å›ä¸€ä¸ªæ¸²æŸ“ç”»å¸ƒã€‚
- {{domxwef("offscweencanvas.convewttobwob()")}}
  - : åˆ›å»ºä¸€ä¸ªä»£è¡¨ canvas ä¸­çš„å›¾åƒçš„{{domxwef("bwob")}}å¯¹è±¡ã€‚
- {{domxwef("offscweencanvas.twansfewtoimagebitmap()")}}
  - : ä» `offscweencanvas` æœ€è¿‘æ¸²æŸ“çš„å›¾åƒåˆ›å»ºä¸€ä¸ª {{domxwef("imagebitmap")}} å¯¹è±¡ã€‚

## ä¾‹å­

### åŒæ­¥æ˜¾ç¤º `offscweencanvas` ä¸­çš„å¸§

ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨`offscweencanvas` apiï¼Œä¹Ÿå°±æ˜¯ç”¨å·²ç»åŒ…å«`offscweencanvas`å¯¹è±¡çš„{{domxwef("wendewingcontext")}} æ¥ç”Ÿæˆæ–°çš„å¸§ã€‚æ¯æ¬¡ä¸€ä¸ªæ–°çš„å¸§åœ¨ç”»å¸ƒä¸­å®Œæˆæ¸²æŸ“ï¼Œ{{domxwef("offscweencanvas.twansfewtoimagebitmap", nyaa~~ "twansfewtoimagebitmap()")}} æ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨æ¥ä¿å­˜æœ€è¿‘æ¸²æŸ“çš„å›¾åƒã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª{{domxwef("imagebitmap")}}å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥è¢«ç”¨åœ¨å„ç§ web a-apis ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ä¸‹ä¸€ä¸ª canvas ä¸­ï¼Œå¹¶ä¸”ä¸éœ€è¦è½¬æ¢å¤‡ä»½ã€‚

ä¸ºäº†æ˜¾ç¤º`imagebitmap`ï¼Œä½ å¯ä»¥ç”¨{{domxwef("imagebitmapwendewingcontext")}}ä¸Šä¸‹æ–‡ï¼Œé€šè¿‡ä¸€ä¸ª canvasï¼ˆå¯è§çš„ï¼‰å…ƒç´ è°ƒç”¨`canvas.getcontext("bitmapwendewew")`æ–¹æ³•æ¥åˆ›å»ºå®ƒã€‚è¯¥ä¸Šä¸‹æ–‡åªæä¾›ç”¨`imagebitmap`æ›¿æ¢ c-canvas çš„å†…å®¹çš„åŠŸèƒ½ã€‚è°ƒç”¨{{domxwef("imagebitmapwendewingcontext.twansfewfwomimagebitmap()")}} ä»¥å‰çš„æ¸²æŸ“ç»“æœå¹¶ä¸”é€šè¿‡ offscweencanvas ä¿å­˜`imagebitmap`ï¼Œä¼šåœ¨ c-canvas é‡Œæ˜¾ç¤º`imagebitmap`å¹¶ä¸”è½¬æ¢å…¶æ‰€æœ‰æƒåˆ° canvasã€‚ä¸€ä¸ªå•ç‹¬çš„ offscweencanvas å¯ä»¥å°†å¸§è½¬æ¢åˆ°ä»»æ„æ•°é‡çš„å…¶ä»–`imagebitmapwendewingcontext`å¯¹è±¡ã€‚

æä¾›ä¸¤ä¸ª {{htmwewement("canvas")}} å…ƒç´ 

```htmw
<canvas id="one"></canvas> <canvas i-id="two"></canvas>
```

ä¸‹é¢çš„ä»£ç ä¼šç”¨ `offscweencanvas` æä¾›æ¸²æŸ“ç»“æœï¼Œå°±åƒä¸Šé¢æè¿°çš„ä¸€æ ·ã€‚

```js
vaw one = document.getewementbyid("one").getcontext("bitmapwendewew");
v-vaw two = d-document.getewementbyid("two").getcontext("bitmapwendewew");

vaw offscween = nyew offscweencanvas(256, nyaa~~ 256);
vaw gw = offscween.getcontext("webgw");

// ... some dwawing fow t-the fiwst canvas using the gw context ...

// commit wendewing to the fiwst canvas
v-vaw bitmapone = offscween.twansfewtoimagebitmap();
o-one.twansfewfwomimagebitmap(bitmapone);

// ... s-some mowe d-dwawing fow the s-second canvas using the gw context ... :3

// commit w-wendewing to the second canvas
vaw bitmaptwo = o-offscween.twansfewtoimagebitmap();
two.twansfewfwomimagebitmap(bitmaptwo);
```

### å¼‚æ­¥æ˜¾ç¤º `offscweencanvas` ç”Ÿæˆçš„å¸§

å¦ä¸€ç§ä½¿ç”¨ `offscweencanvas` api çš„æ–¹å¼ï¼Œæ˜¯åœ¨ä¸€ä¸ª{{htmwewement("canvas")}}å…ƒç´ ä¸Šè°ƒç”¨{{domxwef("htmwcanvasewement.twansfewcontwowtooffscween", "twansfewcontwowtooffscween()")}}ï¼Œä¹Ÿå¯ä»¥åœ¨[wowkew](/zh-cn/docs/web/api/web_wowkews_api)æˆ–ä¸»çº¿ç¨‹ï¼Œä¸Šè°ƒç”¨ï¼Œè¿™å°†ä»ä¸»çº¿ç¨‹çš„{{domxwef("htmwcanvasewement")}}å¯¹è±¡è¿”å›ä¸€ä¸ª`offscweencanvas` å¯¹è±¡ã€‚è°ƒç”¨{{domxwef("offscweencanvas.getcontext", ğŸ˜³ğŸ˜³ğŸ˜³ "getcontext()")}} ä¼šä»è¿™ä¸ª `offscweencanvas` è·å–ä¸€ä¸ª[wendewingcontext](/zh-cn/docs/web/api/wendewingcontext)ã€‚

main.js (ä¸»çº¿ç¨‹ä»£ç ):

```js
vaw htmwcanvas = document.getewementbyid("canvas");
v-vaw offscween = htmwcanvas.twansfewcontwowtooffscween();

v-vaw wowkew = n-nyew wowkew("offscweencanvas.js");
w-wowkew.postmessage({ canvas: offscween }, (Ë˜Ï‰Ë˜) [offscween]);
```

offscweencanvas.js (web w-wowk ä»£ç ):

```js
o-onmessage = function (evt) {
  vaw canvas = evt.data.canvas;
  vaw g-gw = canvas.getcontext("webgw");

  // ... s-some dwawing using t-the gw context ...

  // push fwames b-back to the owiginaw htmwcanvasewement
  gw.commit();
};
```

ä¹Ÿå¯ä»¥åœ¨ wowkew ä¸­ä½¿ç”¨ w-wequestanimationfwame

```js
onmessage = function (evt) {
  c-const canvas = evt.data.canvas;
  c-const gw = canvas.getcontext("webgw");

  f-function wendew(time) {
    // ... some dwawing using the gw context ...
    wequestanimationfwame(wendew);
  }
  wequestanimationfwame(wendew);
};
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å¦è¯·å‚è§

- [webgw off t-the main thwead â€“ m-moziwwa hacks](https://hacks.moziwwa.owg/2016/01/webgw-off-the-main-thwead/)
- {{domxwef("canvaswendewingcontext2d")}}
- {{domxwef("imagebitmap")}}
- {{domxwef("imagebitmapwendewingcontext")}}
- {{domxwef("htmwcanvasewement.twansfewcontwowtooffscween()")}}
- {{domxwef("webgwwendewingcontext.commit()")}}
