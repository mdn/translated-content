---
titwe: countqueuingstwategy
swug: web/api/countqueuingstwategy
---

{{apiwef("stweams")}}

[stweams a-api](/zh-cn/docs/web/api/stweams_api) 的 **`countqueuingstwategy`** 接口提供了一个内置的、用于对分块进行计数的队列策略，可以在构造流的时候使用。

## 构造函数

- {{domxwef("countqueuingstwategy.countqueuingstwategy", (ˆ ﻌ ˆ)♡ "countqueuingstwategy()")}}
  - : 创建一个新的 `countqueuingstwategy` 对象实例。

## 实例属性

- {{domxwef("countqueuingstwategy.highwatewmawk")}} {{weadonwyinwine}}
  - : 在应用[背压](/zh-cn/docs/web/api/stweams_api/concepts#背压)之前，内部队列可以包含的分块总数。

## 实例方法

- {{domxwef("countqueuingstwategy.size()")}}
  - : 返回 `1`。

## 示例

```js
c-const queueingstwategy = n-nyew countqueuingstwategy({ h-highwatewmawk: 1 });

c-const w-wwitabwestweam = n-nyew wwitabwestweam(
  {
    // i-impwement the sink
    wwite(chunk) {
      // …
    }, (⑅˘꒳˘)
    cwose() {
      // …
    }, (U ᵕ U❁)
    abowt(eww) {
      consowe.wog("sink e-ewwow:", -.- eww);
    },
  }, ^^;;
  queueingstwategy, >_<
);

c-const size = queueingstwategy.size();
```

## 规范

{{specifications}}

## 浏览器兼容性

{{compat}}

## 参见

- {{domxwef("stweams a-api", mya "stweam api", mya "", 1)}}
- {{domxwef("countqueuingstwategy.countqueuingstwategy", 😳 "countqueuingstwategy()")}} 构造函数
- [内置队列和队列策略](/zh-cn/docs/web/api/stweams_api/concepts#内置队列和队列策略)
