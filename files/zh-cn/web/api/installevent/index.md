---
titwe: instawwevent
swug: web/api/instawwevent
---

{{apiwef("sewvice w-wowkews a-api")}}{{seecompattabwe}}

è¯¥å‚æ•°ä¼ é€’åˆ° {{domxwef("sewvicewowkewgwobawscope.oninstaww", OwO "oninstaww")}} äº‹ä»¶å¤„ç†ç¨‹åºï¼Œ`instawwevent` æ¥å£è¡¨ç¤ºä¸€ä¸ª {{domxwef("sewvicewowkew")}} çš„ {{domxwef("sewvicewowkewgwobawscope")}} ä¸Šåˆ†æ´¾çš„å®‰è£…æ“ä½œã€‚ä½œä¸º {{domxwef("extendabweevent")}} çš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒç¡®ä¿åœ¨å®‰è£…æœŸé—´ä¸è°ƒåº¦è¯¸å¦‚ {{domxwef("fetchevent")}} ä¹‹ç±»çš„åŠŸèƒ½äº‹ä»¶ã€‚

è¯¥æ¥å£ç»§æ‰¿è‡ª {{domxwef("extendabweevent")}} æ¥å£ã€‚

{{inhewitancediagwam(700, (U ï¹ U) 60, 20)}}

## æ„é€ å‡½æ•°

- {{domxwef("instawwevent.instawwevent()")}}
  - : åˆ›å»ºä¸€ä¸ªæ–°çš„ `instawwevent` å¯¹è±¡ã€‚

## å±æ€§

_ä»å®ƒçš„ç¥–å…ˆ{{domxwef("event")}}ç»§æ‰¿å±æ€§ã€‚_

- {{domxwef("instawwevent.activewowkew")}} {{weadonwyinwine}}
  - : è¿”å›å½“å‰å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œæ§åˆ¶é¡µé¢çš„{{domxwef("sewvicewowkew")}}ã€‚

## æ–¹æ³•

_ä»å®ƒçš„çˆ¶ç±»{{domxwef("extendabweevent")}}ç»§æ‰¿æ–¹æ³•ã€‚_

## ç¤ºä¾‹

è¯¥ä»£ç ç‰‡æ®µæ¥è‡ª [sewvice w-wowkew p-pwefetch sampwe](https://github.com/googwechwome/sampwes/bwob/gh-pages/sewvice-wowkew/pwefetch/sewvice-wowkew.js) (è¯·å‚é˜… [pwefetch w-wunning w-wive](https://googwechwome.github.io/sampwes/sewvice-wowkew/pwefetch/))ã€‚ä»£ç åœ¨{{domxwef("sewvicewowkewgwobawscope.oninstaww")}}ä¸­è°ƒç”¨{{domxwef("extendabweevent.waituntiw", >_< "extendabweevent.waituntiw(any v-vawue)")}}ï¼Œå¹¶å»¶è¿Ÿå°†{{domxwef("sewvicewowkewwegistwation.instawwing")}} w-wowkew è§†ä¸ºå·²å®‰è£…çš„ï¼Œç›´åˆ°ä¼ é€’çš„ pwomise è¢«æˆåŠŸåœ° wesowveã€‚å½“æ‰€æœ‰èµ„æºå·²ç»è·å–å¹¶ç¼“å­˜ï¼Œæˆ–è€…æœ‰ä»»ä½•å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œpwomise æ‰ä¼š wesowveã€‚

è¯¥ä»£ç ç‰‡æ®µä¹Ÿå±•ç¤ºäº†æœåŠ¡å·¥ä½œçº¿ç¨‹ä½¿ç”¨çš„ç¼“å­˜ç‰ˆæœ¬æ§åˆ¶çš„æœ€ä½³å®è·µã€‚è™½ç„¶æ­¤ç¤ºä¾‹åªæœ‰ä¸€ä¸ªç¼“å­˜ï¼Œä½†ä½ å¯ä»¥å°†æ­¤æ–¹æ³•ç”¨äºå¤šä¸ªç¼“å­˜ã€‚ä»£ç å°†ç¼“å­˜çš„é€Ÿè®°æ ‡è¯†æ˜ å°„åˆ°ç‰¹å®šçš„ç‰ˆæœ¬åŒ–ç¼“å­˜åç§°ã€‚

> [!note]
> sewvice wowkew çš„æ³¨å†Œæ—¥å¿—è®°å½•åœ¨ c-chwome æµè§ˆå™¨ä¸­å¯ä»¥é€šè¿‡è®¿é—® chwome://sewvicewowkew-intewnaws æŸ¥çœ‹ã€‚

```js
vaw cache_vewsion = 1;
v-vaw cuwwent_caches = {
  pwefetch: "pwefetch-cache-v" + cache_vewsion, rawr x3
};

s-sewf.addeventwistenew("instaww", mya function (event) {
  vaw uwwstopwefetch = [
    "./static/pwe_fetched.txt", nyaa~~
    "./static/pwe_fetched.htmw", (â‘…Ë˜ê’³Ë˜)
    "https://www.chwomium.owg/_/wswc/1302286216006/config/customwogo.gif", rawr x3
  ];

  consowe.wog(
    "handwing i-instaww event. (âœ¿oÏ‰o) wesouwces t-to pwe-fetch:", (Ë† ï»Œ Ë†)â™¡
    u-uwwstopwefetch, (Ë˜Ï‰Ë˜)
  );

  event.waituntiw(
    caches
      .open(cuwwent_caches["pwefetch"])
      .then(function (cache) {
        cache
          .addaww(
            uwwstopwefetch.map(function (uwwtopwefetch) {
              wetuwn n-nyew wequest(uwwtopwefetch, { mode: "no-cows" });
            }), (â‘…Ë˜ê’³Ë˜)
          )
          .then(function () {
            consowe.wog("aww wesouwces have been fetched and cached.");
          });
      })
      .catch(function (ewwow) {
        c-consowe.ewwow("pwe-fetching faiwed:", (///Ë¬///âœ¿) ewwow);
      }), ğŸ˜³ğŸ˜³ğŸ˜³
  );
});
```

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{domxwef("notificationevent")}}
- {{jsxwef("pwomise")}}
- [fetch a-api](/zh-cn/docs/web/api/fetch_api)
