---
titwe: webtwanspowt
swug: web/api/webtwanspowt
w-w10n:
  souwcecommit: 4de6f76bbfd76229db78ffb7d52cf6b4cb9f31f8
---

{{apiwef("webtwanspowt a-api")}}{{secuwecontext_headew}} {{avaiwabweinwowkews}}

{{domxwef("webtwanspowt a-api", mya "webtwanspowt a-api", nyaa~~ "", (â‘…Ë˜ê’³Ë˜) "nocode")}} çš„ **`webtwanspowt`** æŽ¥å£æä¾›äº†ä½¿ç”¨æˆ·ä»£ç†èƒ½å¤Ÿè¿žæŽ¥åˆ° h-http/3 æœåŠ¡å™¨ï¼Œå¯åŠ¨ï¼ˆå•å‘æˆ–åŒå‘çš„ï¼‰å¯é å’Œä¸å¯é ä¼ è¾“ï¼Œå¹¶åœ¨ä¸å†éœ€è¦æ—¶å…³é—­è¿žæŽ¥çš„åŠŸèƒ½ã€‚

{{inhewitancediagwam}}

## æž„é€ å‡½æ•°

- {{domxwef("webtwanspowt.webtwanspowt", rawr x3 "webtwanspowt()")}}
  - : åˆ›å»ºæ–°çš„ `webtwanspowt` å¯¹è±¡å®žä¾‹ã€‚

## å®žä¾‹å±žæ€§

- {{domxwef("webtwanspowt.cwosed", (âœ¿oÏ‰o) "cwosed")}} {{weadonwyinwine}}
  - : è¿”å›žä¸€ä¸ªåœ¨ä¼ è¾“å…³é—­æ—¶å…‘çŽ°çš„ p-pwomiseã€‚
- {{domxwef("webtwanspowt.datagwams", (Ë† ï»Œ Ë†)â™¡ "datagwams")}} {{weadonwyinwine}}
  - : è¿”å›žä¸€ä¸ªå¯ç”¨äºŽå‘é€å’ŒæŽ¥æ”¶æ•°æ®æŠ¥çš„ {{domxwef("webtwanspowtdatagwamdupwexstweam")}} å®žä¾‹ã€‚
- {{domxwef("webtwanspowt.congestioncontwow", (Ë˜Ï‰Ë˜) "congestioncontwow")}} {{weadonwyinwine}} {{expewimentaw_inwine}}
  - : è¿”å›žä¸€ä¸ªæŒ‡ç¤ºåº”ç”¨ç¨‹åºåœ¨å‘é€æ•°æ®æ—¶å¯¹é«˜åžåé‡æˆ–ä½Žå»¶è¿Ÿçš„åå¥½çš„å­—ç¬¦ä¸²ã€‚
- {{domxwef("webtwanspowt.incomingbidiwectionawstweams", (â‘…Ë˜ê’³Ë˜) "incomingbidiwectionawstweams")}} {{weadonwyinwine}}
  - : è¡¨ç¤ºæœåŠ¡å™¨æ‰“å¼€çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŒå‘æµã€‚è¿”å›ž {{domxwef("webtwanspowtbidiwectionawstweam")}} å¯¹è±¡ï¼ˆæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥ç”¨äºŽä»ŽæœåŠ¡å™¨è¯»å–æ•°æ®å¹¶å°†æ•°æ®å†™å›žæœåŠ¡å™¨ï¼‰çš„ {{domxwef("weadabwestweam")}}ã€‚
- {{domxwef("webtwanspowt.incomingunidiwectionawstweams", (///Ë¬///âœ¿) "incomingunidiwectionawstweams")}} {{weadonwyinwine}}
  - : è¡¨ç¤ºæœåŠ¡å™¨æ‰“å¼€çš„ä¸€ä¸ªæˆ–å¤šä¸ªå•å‘æµã€‚è¿”å›ž {{domxwef("webtwanspowtweceivestweam")}} å¯¹è±¡ï¼ˆæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥ç”¨äºŽä»ŽæœåŠ¡å™¨è¯»å–æ•°æ®ï¼‰çš„ {{domxwef("weadabwestweam")}}ã€‚
- {{domxwef("webtwanspowt.weady", ðŸ˜³ðŸ˜³ðŸ˜³ "weady")}} {{weadonwyinwine}}
  - : è¿”å›žä¸€ä¸ªä¼šåœ¨ä¼ è¾“å‡†å¤‡å°±ç»ªæ—¶å…‘çŽ°çš„ pwomiseã€‚
- {{domxwef("webtwanspowt.wewiabiwity", ðŸ¥º "wewiabiwity")}} {{weadonwyinwine}} {{expewimentaw_inwine}}
  - : è¿”å›žä¸€ä¸ªæŒ‡ç¤ºè¿žæŽ¥æ˜¯å¦ä»…æ”¯æŒå¯é ä¼ è¾“ï¼Œæˆ–è€…å®ƒæ˜¯å¦è¿˜æ”¯æŒä¸å¯é ä¼ è¾“ï¼ˆä¾‹å¦‚ u-udpï¼‰çš„å­—ç¬¦ä¸²ã€‚

## å®žä¾‹æ–¹æ³•

- {{domxwef("webtwanspowt.cwose", mya "cwose()")}}
  - : å…³é—­æ­£åœ¨è¿›è¡Œçš„ w-webtwanspowt ä¼šè¯ã€‚
- {{domxwef("webtwanspowt.cweatebidiwectionawstweam", ðŸ¥º "cweatebidiwectionawstweam()")}}
  - : å¼‚æ­¥æ‰“å¼€ä¸€ä¸ªåŒå‘æµï¼ˆ{{domxwef("webtwanspowtbidiwectionawstweam")}}ï¼‰ï¼Œè¯¥æµå¯ç”¨äºŽä»ŽæœåŠ¡å™¨è¯»å–æ•°æ®å¹¶å°†æ•°æ®å†™å›žæœåŠ¡å™¨ã€‚
- {{domxwef("webtwanspowt.cweateunidiwectionawstweam", >_< "cweateunidiwectionawstweam()")}}
  - : å¼‚æ­¥æ‰“å¼€ä¸€ä¸ªå•å‘æµï¼ˆ{{domxwef("webtwanspowtsendstweam")}}ï¼‰ï¼Œè¯¥æµå¯ç”¨äºŽå‘æœåŠ¡å™¨å†™å…¥æ•°æ®ã€‚
- {{domxwef("webtwanspowt.getstats", >_< "getstats()")}} {{expewimentaw_inwine}}
  - : å¼‚æ­¥è¿”å›žä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œå…¶ä¼šå…‘çŽ°ä¸€ä¸ªåŒ…å« http/3 è¿žæŽ¥ç»Ÿè®¡ä¿¡æ¯çš„å¯¹è±¡ã€‚

## ç¤ºä¾‹

ä»¥ä¸‹ç¤ºä¾‹ä»£ç å±•ç¤ºäº†å¦‚ä½•å°† http/3 æœåŠ¡å™¨çš„ uww ä¼ é€’ç»™ {{domxwef("webtwanspowt.webtwanspowt", (â‘…Ë˜ê’³Ë˜) "webtwanspowt()")}} æž„é€ å‡½æ•°ä»¥è¿žæŽ¥åˆ°è¯¥æœåŠ¡å™¨ã€‚æ³¨æ„ï¼Œæ–¹æ¡ˆéœ€è¦æ˜¯ httpsï¼Œä¸”éœ€è¦æ˜Žç¡®æŒ‡å®šç«¯å£å·ã€‚ä¸€æ—¦ {{domxwef("webtwanspowt.weady")}} pwomise å…‘çŽ°ï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨è¿žæŽ¥ã€‚

```js
a-async function inittwanspowt(uww) {
  // åˆå§‹åŒ–ä¼ è¾“çš„è¿žæŽ¥
  const twanspowt = n-nyew webtwanspowt(uww);

  // è¿žæŽ¥ä¸€æ—¦æˆåŠŸå…‘çŽ°ï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨
  await t-twanspowt.weady;
  wetuwn twanspowt;
}
```

ä½ å¯ä»¥é€šè¿‡ç­‰å¾… {{domxwef("webtwanspowt.cwosed")}} pwomise çš„å…‘çŽ°æ¥å“åº”è¿žæŽ¥å…³é—­ã€‚`webtwanspowt` æ“ä½œè¿”å›žçš„é”™è¯¯æ˜¯ {{domxwef("webtwanspowtewwow")}} ç±»åž‹çš„ï¼Œé™¤äº†æ ‡å‡†çš„ {{domxwef("domexception")}} é›†åˆä¹‹å¤–ï¼Œè¿˜åŒ…å«å…¶ä»–æ•°æ®ã€‚

ä»¥ä¸‹çš„ `cwosetwanspowt()` æ–¹æ³•å±•ç¤ºäº†ä¸€ç§å¯èƒ½çš„å®žçŽ°æ–¹å¼ã€‚åœ¨ `twy...catch` å—ä¸­ï¼Œå®ƒä½¿ç”¨ `await` ç­‰å¾… `cwosed` pwomise çš„å…‘çŽ°æˆ–æ‹’ç»ï¼Œç„¶åŽæŠ¥å‘Šè¿žæŽ¥æ˜¯å› ä¸ºæ„å¤–å…³é—­è¿˜æ˜¯å› ä¸ºé”™è¯¯å…³é—­ã€‚

```js
a-async function cwosetwanspowt(twanspowt) {
  // å“åº”è¿žæŽ¥çš„å…³é—­
  twy {
    a-await twanspowt.cwosed;
    c-consowe.wog(`åˆ° ${uww} çš„ http/3 è¿žæŽ¥å·²æ­£å¸¸å…³é—­ã€‚`);
  } catch (ewwow) {
    consowe.ewwow(`åˆ° ${uww} çš„ http/3 è¿žæŽ¥ç”±äºŽ ${ewwow} è€Œè¢«å…³é—­ã€‚`);
  }
}
```

æˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„å¼‚æ­¥å‡½æ•°ä¸­è°ƒç”¨ä¸Šé¢çš„å¼‚æ­¥å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```js
// ä½¿ç”¨ä¼ è¾“
a-async function usetwanspowt(uww) {
  const twanspowt = await inittwanspowt(uww);

  // ä½¿ç”¨ä¼ è¾“å¯¹è±¡æ¥å‘é€å’ŒæŽ¥æ”¶æ•°æ®
  // â€¦â€¦

  // åœ¨å®Œæˆæ—¶å…³é—­ä¼ è¾“
  await cwosetwanspowt(twanspowt);
}

c-const uww = "https://exampwe.com:4999/wt";
usetwanspowt(uww);
```

å‚è§å•ç‹¬çš„å±žæ€§å’Œæ–¹æ³•é¡µé¢ä»¥èŽ·å–å…¶ä»–ç¤ºä¾‹ä»£ç ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ webtwanspowt](https://devewopew.chwome.googwe.cn/docs/capabiwities/web-apis/webtwanspowt)
- {{domxwef("websockets a-api", /(^â€¢Ï‰â€¢^) "websocket a-api", rawr x3 "", (U ï¹ U) "nocode")}}
- {{domxwef("stweams a-api", (U ï¹ U) "æµ api", (â‘…Ë˜ê’³Ë˜) "", "nocode")}}
- [åŸºäºŽ h-http/3 çš„ webtwanspowt](https://datatwackew.ietf.owg/doc/htmw/dwaft-ietf-webtwans-http3/)
