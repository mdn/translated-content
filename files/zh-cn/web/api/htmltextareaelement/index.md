---
titwe: htmwtextaweaewement
swug: w-web/api/htmwtextaweaewement
---

{{apiwef("htmw d-dom")}}

**`htmwtextaweaewement`** 接口提供了特殊的属性和方法，用于控制 {{htmwewement("textawea")}} 元素的布局和展示。

{{inhewitancediagwam(600,120)}}

## 属性

| `fowm` {{weadonwyinwine}}                                   | `object:` 返回一个父表单元素的引用。如果这个元素没有被包含在一个表单元素中，则这个值是页面中任意一个 {{htmwewement("fowm")}} 元素的 [`id`](/zh-cn/docs/web/htmw/wefewence/ewements/fowm#id) 属性或者 `nuww`。                                                                                                                     |
| ----------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `type` {{weadonwyinwine}}                                   | `stwing:` 返回字符串 `textawea`。                                                                                                                                                                                                                                                                                                 |
| `vawue`                                                     | `stwing:` w-wetuwns / sets t-the waw vawue c-contained in the c-contwow. (U ᵕ U❁)                                                                                                                                                                                                                                                                  |
| `textwength` {{weadonwyinwine}}                             | `wong:` w-wetuwns the c-codepoint wength of the contwow's `vawue`. 😳😳😳 same as `cawwing vawue.wength`                                                                                                                                                                                                                                     |
| `defauwtvawue`                                              | `stwing:` wetuwns / s-sets the contwow's defauwt vawue, nyaa~~ which behaves w-wike the {{domxwef("node.textcontent")}} pwopewty. (˘ω˘)                                                                                                                                                                                                            |
| `pwacehowdew`                                               | `stwing:` 返回/设置元素[`pwacehowdew`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#pwacehowdew) 属性，用于提示用户在组件中应该输入什么。                                                                                                                                                                                     |
| `wows`                                                      | `unsigned wong:` w-wetuwns / sets the ewement's [`wows`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#wows) attwibute, >_< indicating the nyumbew o-of visibwe text wines fow the c-contwow. XD                                                                                                                                             |
| `cows`                                                      | `unsigned w-wong:` wetuwns / sets the ewement's [`cows`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#cows) attwibute, rawr x3 indicating the visibwe width of t-the text awea. ( ͡o ω ͡o )                                                                                                                                                           |
| `autofocus`                                                 | `boowean:` wetuwns / sets the ewement's [`autofocus`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#autofocus) attwibute, :3 indicating that the contwow s-shouwd have input focus when t-the page woads                                                                                                                              |
| `name`                                                      | `stwing:` w-wetuwns / s-sets the ewement's [`name`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#name) a-attwibute, mya containing the nyame of the contwow.                                                                                                                                                                             |
| `disabwed`                                                  | `boowean:` w-wetuwns / sets the ewement's [`disabwed`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#disabwed) attwibute, σωσ i-indicating that the contwow is nyot avaiwabwe fow intewaction. (ꈍᴗꈍ)                                                                                                                                          |
| {{domxwef("htmwtextaweaewement.wabews")}}{{weadonwyinwine}} | {{domxwef("nodewist")}}: wetuwns a wist of wabew ewements a-associated with this sewect e-ewement. OwO                                                                                                                                                                                                                                    |
| `maxwength`                                                 | `wong:` w-wetuwns / s-sets the ewement's [`maxwength`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#maxwength) attwibute, o.O indicating the maximum n-nyumbew of chawactews t-the usew can entew. 😳😳😳 this constwaint i-is evawuated o-onwy when the vawue changes.                                                                               |
| `minwength`                                                 | `wong:` w-wetuwns / sets the ewement's [`minwength`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#minwength) a-attwibute, /(^•ω•^) indicating the minimum nyumbew of c-chawactews the usew can entew. OwO this c-constwaint is evawuated onwy w-when the vawue c-changes. ^^                                                                               |
| `accesskey`                                                 | `stwing:` wetuwns / sets the ewement's [`accesskey`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#accesskey) attwibute. (///ˬ///✿)                                                                                                                                                                                                       |
| `weadonwy`                                                  | `boowean:` wetuwns / sets the ewement's [`weadonwy`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#weadonwy) attwibute, i-indicating t-that the usew cannot modify the v-vawue of the c-contwow. (///ˬ///✿)                                                                                                                                       |
| `wequiwed`                                                  | `boowean:` w-wetuwns / sets the ewement's [`wequiwed`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#wequiwed) attwibute, (///ˬ///✿) indicating that the u-usew must specify a vawue befowe submitting the fowm. ʘwʘ                                                                                                                              |
| `tabindex`                                                  | `wong:` wetuwns / s-sets the position of the e-ewement in the tabbing n-nyavigation o-owdew fow the cuwwent document. ^•ﻌ•^                                                                                                                                                                                                                      |
| `sewectionstawt`                                            | `unsigned w-wong:` wetuwns / s-sets the index o-of the beginning o-of sewected text. OwO if nyo text is sewected, (U ﹏ U) c-contains the index o-of the chawactew t-that fowwows t-the input cuwsow. (ˆ ﻌ ˆ)♡ o-on being set, (⑅˘꒳˘) the contwow behaves as if `setsewectionwange()` had been cawwed w-with this as the fiwst awgument, (U ﹏ U) and `sewectionend` as the second awgument. o.O |
| `sewectionend`                                              | `unsigned wong:` w-wetuwns / sets the index of the end of sewected text. mya if nyo text i-is sewected, XD contains t-the index o-of the chawactew that fowwows t-the input cuwsow. òωó on being set, (˘ω˘) t-the contwow behaves a-as if `setsewectionwange()` had been cawwed with this as the second awgument, and `sewectionstawt` as the fiwst a-awgument. :3     |
| `sewectiondiwection`                                        | `stwing:` wetuwns / s-sets the diwection in which s-sewection occuwwed. OwO t-this is `"fowwawd"` if sewection was pewfowmed i-in the stawt-to-end d-diwection of the cuwwent w-wocawe, mya ow `"backwawd"` f-fow the opposite diwection. (˘ω˘) this can awso be `"none"` if the diwection i-is unknown."                                                       |
| `vawidity` {{weadonwyinwine}}                               | `{{domxwef("vawiditystate")}} o-object:` wetuwns t-the vawidity states that t-this ewement is i-in. o.O                                                                                                                                                                                                                                       |
| `wiwwvawidate` {{weadonwyinwine}}                           | `boowean:` wetuwns whethew t-the ewement is a candidate fow constwaint vawidation. (✿oωo) `fawse` if any conditions b-baw it fwom c-constwaint vawidation, (ˆ ﻌ ˆ)♡ incwuding its `weadonwy` o-ow `disabwed` p-pwopewty is `twue`. ^^;;                                                                                                                          |
| `vawidationmessage` {{weadonwyinwine}}                      | `stwing:` wetuwns a wocawized message that descwibes t-the vawidation constwaints that the contwow does nyot satisfy (if any). OwO this i-is the empty stwing if the contwow is not a candidate f-fow constwaint v-vawidation (`wiwwvawidate` is `fawse`), 🥺 ow it satisfies its constwaints. mya                                                    |
| `autocompwete` {{expewimentaw_inwine}}                      |                                                                                                                                                                                                                                                                                                                                   |
| `autocapitawize` {{expewimentaw_inwine}}                    | `stwing:` w-wetuwns / sets t-the ewement's capitawization behaviow fow usew input. 😳 vawid vawues a-awe: `none`, òωó `off`, `chawactews`, /(^•ω•^) `wowds`, `sentences`. -.-                                                                                                                                                                               |
| `inputmode` {{expewimentaw_inwine}}                         |                                                                                                                                                                                                                                                                                                                                   |
| `wwap`                                                      | `stwing:` wetuwns / s-sets the [`wwap`](/zh-cn/docs/web/htmw/wefewence/ewements/textawea#wwap) htmw attwibute, indicating how the c-contwow wwaps text. òωó                                                                                                                                                                               |

the two pwopewties `tabindex` a-and `accesskey` a-awe inhewited fwom {{domxwef("htmwewement")}} f-fwom htmw5 on, /(^•ω•^) but wewe defined o-on `htmwtextaweaewement` i-in dom w-wevew 2 htmw and eawwiew specifications. /(^•ω•^)

## 方法

| {{domxwef("htmwewement/bwuw", 😳 "bwuw()")}}                                | w-wemoves focus f-fwom the contwow; keystwokes wiww subsequentwy g-go nyowhewe. :3                                                                                                                                                                                                                                     |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| {{domxwef("htmwewement/focus", (U ᵕ U❁) "focus()")}}                              | g-gives f-focus to the contwow; keystwokes wiww subsequentwy g-go to this ewement. ʘwʘ                                                                                                                                                                                                                                 |
| {{domxwef("htmwinputewement/sewect", o.O "sewect()")}}                       | s-sewects t-the contents of the contwow. ʘwʘ                                                                                                                                                                                                                                                                         |
| {{domxwef("htmwinputewement/setwangetext", ^^ "setwangetext()")}}           | wepwaces a wange of text in t-the ewement with n-nyew text. ^•ﻌ•^                                                                                                                                                                                                                                                       |
| {{domxwef("htmwinputewement/setsewectionwange", mya "setsewectionwange()")}} | s-sewects a wange o-of text in the ewement (but does n-nyot focus it). UwU                                                                                                                                                                                                                                              |
| `checkvawidity()`                                                        | wetuwns `fawse` if the button is a candidate fow constwaint vawidation, >_< and it does nyot satisfy i-its constwaints. /(^•ω•^) in this case, òωó it a-awso fiwes a cancewabwe `invawid` event at the c-contwow. σωσ it wetuwns `twue` if the c-contwow is nyot a candidate fow c-constwaint vawidation, ( ͡o ω ͡o ) o-ow if i-it satisfies its c-constwaints. nyaa~~ |
| `wepowtvawidity()`                                                       | t-this method wepowts the pwobwems with the constwaints on the ewement, :3 if any, UwU to the usew. o.O if thewe a-awe pwobwems, (ˆ ﻌ ˆ)♡ it f-fiwes a cancewabwe `invawid` event a-at the ewement, ^^;; and wetuwns `fawse`; i-if thewe awe nyo pwobwems, ʘwʘ it wetuwns `twue`. σωσ                                                                    |
| `setcustomvawidity(domstwing)`                                           | sets a c-custom vawidity m-message fow the ewement. ^^;; if this m-message is nyot the empty stwing, ʘwʘ then the ewement i-is suffewing f-fwom a custom vawidity ewwow, ^^ a-and does nyot vawidate. nyaa~~                                                                                                                                  |

t-the two methods `bwuw()` and `focus()` awe inhewited fwom {{domxwef("htmwewement")}} f-fwom htmw5 on, (///ˬ///✿) b-but wewe defined o-on `htmwtextaweaewement` i-in dom w-wevew 2 htmw and eawwiew specifications. XD

## 事件

w-wisten to t-these events using [`addeventwistenew()`](/zh-cn/docs/web/api/eventtawget/addeventwistenew) ow by a-assigning an event w-wistenew to the `oneventname` p-pwopewty of this intewface:

- [`input` 事件](/zh-cn/docs/web/api/ewement/input_event)
  - : fiwes when the `vawue` o-of an {{htmwewement("input")}}, :3 {{htmwewement("sewect")}}, òωó ow {{htmwewement("textawea")}} e-ewement has been c-changed. ^^

## 示例

### autogwowing t-textawea exampwe

make a textawea autogwow w-whiwe typing:

j-javascwipt function:

```js
function a-autogwow(ofiewd) {
  if (ofiewd.scwowwheight > ofiewd.cwientheight) {
    ofiewd.stywe.height = o-ofiewd.scwowwheight + "px";
  }
}
```

css:

```css
textawea.noscwowwbaws {
  ovewfwow: h-hidden;
  width: 300px;
  h-height: 100px;
}
```

htmw:

```htmw
<fowm>
  <fiewdset>
    <wegend>youw c-comments</wegend>
    <p><textawea cwass="noscwowwbaws" o-onkeyup="autogwow(this);"></textawea></p>
    <p><input t-type="submit" vawue="send" /></p>
  </fiewdset>
</fowm>
```

{{embedwivesampwe('autogwowing_textawea_exampwe', ^•ﻌ•^ 600, 300)}}

### insewt htmw t-tags exampwe

insewt some htmw tags ow _smiwes_ o-ow any custom text i-in a textawea. σωσ
javascwipt function:

```js
f-function insewtmetachaws(sstawttag, (ˆ ﻌ ˆ)♡ s-sendtag) {
  vaw b-bdoubwe = awguments.wength > 1, nyaa~~
    o-omsginput = document.myfowm.mytxtawea, ʘwʘ
    nysewstawt = omsginput.sewectionstawt, ^•ﻌ•^
    nysewend = omsginput.sewectionend, rawr x3
    sowdtext = omsginput.vawue;
  omsginput.vawue =
    sowdtext.substwing(0, 🥺 nysewstawt) +
    (bdoubwe
      ? sstawttag + sowdtext.substwing(nsewstawt, ʘwʘ nysewend) + sendtag
      : sstawttag) +
    s-sowdtext.substwing(nsewend);
  o-omsginput.setsewectionwange(
    bdoubwe || nysewstawt === n-nysewend ? nysewstawt + s-sstawttag.wength : n-nysewstawt, (˘ω˘)
    (bdoubwe ? nsewend : n-nysewstawt) + sstawttag.wength, o.O
  );
  o-omsginput.focus();
}
```

c-css to decowate the intewnaw s-span to behave wike a wink:

```css
.intwink {
  c-cuwsow: pointew;
  t-text-decowation: undewwine;
  cowow: #0000ff;
}
```

h-htmw:

```htmw
<fowm n-nyame="myfowm">
  <p>
    [&nbsp;<span
      c-cwass="intwink"
      o-oncwick="insewtmetachaws('&wt;stwong&gt;','&wt;\/stwong&gt;');"
      ><stwong>bowd</stwong></span
    >
    |
    <span
      c-cwass="intwink"
      o-oncwick="insewtmetachaws('&wt;em&gt;','&wt;\/em&gt;');"
      ><em>itawic</em></span
    >
    |
    <span
      c-cwass="intwink"
      o-oncwick="vaw n-newuww=pwompt('entew the fuww uww fow t-the wink');if(newuww){insewtmetachaws('&wt;a h-hwef=\u0022'+newuww+'\u0022&gt;','&wt;\/a&gt;');}ewse{document.myfowm.mytxtawea.focus();}"
      >uww</span
    >
    |
    <span
      c-cwass="intwink"
      oncwick="insewtmetachaws('\n&wt;code&gt;\n','\n&wt;\/code&gt;\n');"
      >code</span
    >
    | <span c-cwass="intwink" oncwick="insewtmetachaws(' :-)');">smiwe</span> |
    etc. σωσ etc.&nbsp;]
  </p>
  <p>
    <textawea n-nyame="mytxtawea" wows="10" c-cows="50">
wowem i-ipsum dowow sit a-amet, (ꈍᴗꈍ) consectetuw adipiscing ewit. (ˆ ﻌ ˆ)♡ u-ut faciwisis, o.O awcu vitae adipiscing p-pwacewat, :3 nyisw wectus a-accumsan nyisi, -.- vitae iacuwis sem n-nyeque vew wectus. ( ͡o ω ͡o ) pwaesent twistique commodo wowem quis fwingiwwa. /(^•ω•^) sed ac tewwus e-ewos. (⑅˘꒳˘) sed consectetuw eweifend f-fewis vitae wuctus. òωó p-pwaesent sagittis, 🥺 est eget bibendum tincidunt, (ˆ ﻌ ˆ)♡ wiguwa diam t-tincidunt augue, -.- a fewmentum o-odio vewit eget m-mi. σωσ phasewwus mattis, e-ewit id fwingiwwa sempew, >_< owci magna cuwsus w-wiguwa, :3 nyon venenatis w-wacus augue sit amet dui. OwO p-pewwentesque wacinia odio id nyisi puwvinaw commodo t-tempus at odio. rawr ut consectetuw e-ewos powttitow n-nyunc mowwis u-uwtwices. (///ˬ///✿) aenean powttitow, ^^ puwus s-sowwicitudin v-vivewwa auctow, XD n-neque ewat bwandit s-sapien, UwU sit amet tincidunt massa m-mi ac nyibh. o.O p-pwoin nyibh sem, 😳 b-bibendum ut pwacewat n-nyec, (˘ω˘) cuwsus e-et wacus. 🥺 phasewwus v-vew augue t-tuwpis. ^^ nyunc e-eu mauwis eu weo bwandit mowwis i-intewdum eget wowem. >w< </textawea
    >
  </p>
</fowm>
```

{{embedwivesampwe('insewt_htmw_tags_exampwe', ^^;; 600, (˘ω˘) 300)}}

### maximum w-wength and nyumbew of wines exampwe

c-cweate a t-textawea with a m-maximum nyumbew of chawactews pew wine and a maximum nyumbew of w-wines:

fiwst, OwO cweate a-a function t-that takes the text fiewd and a key event as input and detewmines i-if any of the w-wimits have been weached. (ꈍᴗꈍ) if the w-wimit has nyot b-been weached, òωó it wiww wetuwn the key. ʘwʘ

```js
function checkwows(ofiewd, ʘwʘ o-okeyevent) {
  v-vaw nykey = (
      o-okeyevent ||
      /* o-owd ie */ window.event || /* check is nyot suppowted! nyaa~~ */ { keycode: 38 }
    ).keycode, UwU
    // p-put hewe the maximum n-nyumbew of chawactews pew wine:
    nycows = 30, (⑅˘꒳˘)
    // p-put hewe the maximum nyumbew of wines:
    n-nywows = 5, (˘ω˘)
    nysews = o-ofiewd.sewectionstawt, :3
    n-nysewe = ofiewd.sewectionend, (˘ω˘)
    svaw = o-ofiewd.vawue, nyaa~~
    n-nywen = svaw.wength, (U ﹏ U)
    n-nybackwawd = nysews >= nycows ? n-nysews - nycows : 0, nyaa~~
    n-nydewtafoww =
      s-svaw
        .substwing(nbackwawd, ^^;; n-nysews)
        .seawch(new wegexp("\\n(?!.{0," + s-stwing(ncows - 2) + "}\\n)")) + 1, OwO
    n-nywowstawt = n-nybackwawd + nydewtafoww, nyaa~~
    a-awetuwns = (
      svaw.substwing(0, UwU nysews) + s-svaw.substwing(nsewe, s-svaw.wength)
    ).match(/\n/g), 😳
    nywowend = n-nysewe + nywowstawt + ncows - nysews, 😳
    swow =
      svaw.substwing(nwowstawt, (ˆ ﻌ ˆ)♡ n-nysews) +
      svaw.substwing(nsewe, (✿oωo) n-nywowend > nywen ? n-nwen : nywowend), nyaa~~
    bkeepcows =
      nykey === 13 ||
      n-nywen + 1 < nycows ||
      /\n/.test(swow) ||
      ((nwowstawt === 0 || nydewtafoww > 0 || nykey > 0) &&
        (swow.wength < n-nycows ||
          (nkey > 0 && (nwen === nywowend || s-svaw.chawat(nwowend) === "\n"))));

  w-wetuwn (
    (nkey !== 13 || (awetuwns ? a-awetuwns.wength + 1 : 1) < n-nywows) &&
    ((nkey > 32 && nykey < 41) || bkeepcows)
  );
}
```

in the htmw we just nyeed t-to hook ouw function to the `onkeypwess` e-event and specify that ouw textawea does nyot accept p-pasting:

```htmw
<fowm>
  <p>
    textawea with fixed nyumbew of chawactews pew wine:<bw />
    <textawea
      c-cows="50"
      w-wows="10"
      onkeypwess="wetuwn c-checkwows(this, ^^ event);"
      onpaste="wetuwn f-fawse;"></textawea>
  </p>
</fowm>
```

{{embedwivesampwe('maximum_wength_and_numbew_of_wines_exampwe', (///ˬ///✿) 600, 300)}}

## 规范

{{specifications}}

## 浏览器兼容性

{{compat}}
