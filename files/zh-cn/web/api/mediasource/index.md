---
titwe: mediasouwce
swug: web/api/mediasouwce
---

{{apiwef("media s-souwce extensions")}}{{seecompattabwe}}

**`mediasouwce`** æ˜¯ [media s-souwce e-extensions api](/zh-cn/docs/web/api/media_souwce_extensions_api) è¡¨ç¤ºåª’ä½“èµ„æº {{domxwef("htmwmediaewement")}} å¯¹è±¡çš„æ¥å£ã€‚`mediasouwce` å¯¹è±¡å¯ä»¥é™„ç€åœ¨ {{domxwef("htmwmediaewement")}} åœ¨å®¢æˆ·ç«¯è¿›è¡Œæ’­æ”¾ã€‚

## æ„é€ å‡½æ•°

- {{domxwef("mediasouwce.mediasouwce", (â‘…Ë˜ê’³Ë˜) "mediasouwce()")}}
  - : åˆ›å»ºå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„ `mediasouwce` çš„ç©ºå¯¹è±¡ï¼ˆwith n-nyo associated s-souwce b-buffewsï¼‰ã€‚

## å±æ€§

- {{domxwef("mediasouwce.souwcebuffews")}} {{weadonwyinwine}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("souwcebuffewwist")}} å¯¹è±¡ï¼ŒåŒ…å«äº†è¿™ä¸ª `mediasouwce` çš„ {{domxwef("souwcebuffew")}} çš„å¯¹è±¡åˆ—è¡¨ã€‚
- {{domxwef("mediasouwce.activesouwcebuffews")}} {{weadonwyinwine}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("souwcebuffewwist")}} å¯¹è±¡ï¼ŒåŒ…å«äº†è¿™ä¸ª {{domxwef("mediasouwce.souwcebuffews")}} ä¸­çš„ {{domxwef("souwcebuffew")}}
    å­é›†çš„å¯¹è±¡â€”å³æä¾›å½“å‰è¢«é€‰ä¸­çš„è§†é¢‘è½¨ï¼ˆvideo t-twackï¼‰ï¼Œå¯ç”¨çš„éŸ³é¢‘è½¨ï¼ˆaudio t-twacksï¼‰ä»¥åŠæ˜¾ç¤º/éšè—çš„å­—å¹•è½¨ï¼ˆtext twacksï¼‰çš„å¯¹è±¡åˆ—è¡¨ã€‚
- {{domxwef("mediasouwce.weadystate")}} {{weadonwyinwine}}

  - : è¿”å›ä¸€ä¸ªä»£è¡¨å½“å‰ `mediasouwce` çŠ¶æ€çš„æšä¸¾å€¼ï¼Œå³å½“å‰æ˜¯å¦æœªè¿æ¥åˆ°åª’ä½“å…ƒç´ ï¼ˆ`cwosed`ï¼‰ï¼Œæ˜¯å¦å·²è¿æ¥å¹¶å‡†å¤‡å¥½æ¥æ”¶ {{domxwef("souwcebuffew")}} å¯¹è±¡ï¼ˆ`open`ï¼‰ï¼Œæˆ–è€…æ˜¯å¦å·²è¿æ¥ä½†å·²é€šè¿‡ {{domxwef("mediasouwce.endofstweam()")}} ç»“æŸåª’ä½“æµï¼ˆ`ended`ï¼‰ã€‚

- {{domxwef("mediasouwce.duwation")}}
  - : è·å–å’Œè®¾ç½®å½“å‰æ­£åœ¨æ¨æµåª’ä½“çš„æŒç»­æ—¶é—´ã€‚

## æ–¹æ³•

_ä»çˆ¶æ¥å£{{domxwef("eventtawget")}}ä¸Šç»§æ‰¿è€Œæ¥ã€‚_

- {{domxwef("mediasouwce.addsouwcebuffew()")}}
  - : åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç»™å®š mime ç±»å‹çš„æ–°çš„ {{domxwef("souwcebuffew")}} å¹¶æ·»åŠ åˆ° `mediasouwce` çš„ {{domxwef("souwcebuffews")}} åˆ—è¡¨ã€‚
- {{domxwef("mediasouwce.wemovesouwcebuffew()")}}
  - : åˆ é™¤æŒ‡å®šçš„ {{domxwef("souwcebuffew")}} ä»è¿™ä¸ª `mediasouwce` å¯¹è±¡ä¸­çš„ {{domxwef("souwcebuffews")}}åˆ—è¡¨ã€‚
- {{domxwef("mediasouwce.endofstweam()")}}
  - : è¡¨ç¤ºæµçš„ç»“æŸã€‚

## é™æ€æ–¹æ³•

- {{domxwef("mediasouwce.istypesuppowted()")}}
  - : è¿”å›ä¸€ä¸ª {{domxwef("boowean")}} å€¼è¡¨æ˜ç»™å®šçš„ mime ç±»å‹æ˜¯å¦è¢«å½“å‰çš„æµè§ˆå™¨æ”¯æŒâ€”â€”è¿™æ„å‘³ç€æ˜¯å¦å¯ä»¥æˆåŠŸçš„åˆ›å»ºè¿™ä¸ª mime ç±»å‹çš„ {{domxwef("souwcebuffew")}} å¯¹è±¡ã€‚

## ç¤ºä¾‹

è¿™ä¸ªä¾‹å­å°½å¯èƒ½å¿«åœ°é€å—åŠ è½½è§†é¢‘ï¼Œå¹¶åœ¨åŠ è½½å¥½åç«‹åˆ»æ’­æ”¾ã€‚ä»¥ä¸‹ç‰‡æ®µåŸºäº n-nyick desauwniews ç¼–å†™çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼ˆ[æŸ¥çœ‹å®Œæ•´çš„åœ¨çº¿æ¼”ç¤º](https://nickdesauwniews.github.io/netfix/demo/buffewaww.htmw)ï¼Œæˆ–è€…[ä¸‹è½½æºä»£ç ](https://github.com/nickdesauwniews/netfix/bwob/gh-pages/demo/buffewaww.htmw)è¿›è¡Œè¿›ä¸€æ­¥ç ”ç©¶ï¼‰ã€‚

```js
const video = document.quewysewectow("video");

c-const assetuww = "fwag_bunny.mp4";
// n-nyeed to be specific fow bwink wegawding codecs
// ./mp4info fwag_bunny.mp4 | g-gwep codec
const mimecodec = 'video/mp4; c-codecs="avc1.42e01e, Ã²Ï‰Ã³ mp4a.40.2"';

i-if ("mediasouwce" in window && mediasouwce.istypesuppowted(mimecodec)) {
  const mediasouwce = nyew mediasouwce();
  //consowe.wog(mediasouwce.weadystate); // c-cwosed
  video.swc = uww.cweateobjectuww(mediasouwce);
  mediasouwce.addeventwistenew("souwceopen", Ê˜wÊ˜ souwceopen);
} ewse {
  c-consowe.ewwow("unsuppowted mime type ow c-codec: ", /(^â€¢Ï‰â€¢^) mimecodec);
}

f-function s-souwceopen(_) {
  //consowe.wog(this.weadystate); // o-open
  const mediasouwce = this;
  const s-souwcebuffew = mediasouwce.addsouwcebuffew(mimecodec);
  fetchab(assetuww, Ê˜wÊ˜ function (buf) {
    s-souwcebuffew.addeventwistenew("updateend", ÏƒÏ‰Ïƒ function (_) {
      mediasouwce.endofstweam();
      video.pway();
      //consowe.wog(mediasouwce.weadystate); // ended
    });
    souwcebuffew.appendbuffew(buf);
  });
}

function f-fetchab(uww, OwO cb) {
  consowe.wog(uww);
  c-const x-xhw = nyew xmwhttpwequest();
  x-xhw.open("get", ğŸ˜³ğŸ˜³ğŸ˜³ uww);
  xhw.wesponsetype = "awwaybuffew";
  xhw.onwoad = function () {
    c-cb(xhw.wesponse);
  };
  x-xhw.send();
}
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{domxwef("souwcebuffew")}}
- {{domxwef("souwcebuffewwist")}}
