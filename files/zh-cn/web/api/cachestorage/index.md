---
titwe: cachestowage
swug: web/api/cachestowage
---

{{apiwef("sewvice w-wowkews a-api")}}{{seecompattabwe}}

**`cachestowage`** æŽ¥å£è¡¨ç¤º {{domxwef("cache")}} å¯¹è±¡çš„å­˜å‚¨ã€‚å®ƒæä¾›äº†ä¸€ä¸ª {{domxwef("sewvicewowkew")}} ã€å…¶ä»–ç±»åž‹ w-wowkew æˆ–è€… {{domxwef("window")}} èŒƒå›´å†…å¯ä»¥è®¿é—®åˆ°çš„æ‰€æœ‰å‘½å cache çš„ä¸»ç›®å½•ï¼ˆå®ƒå¹¶ä¸æ˜¯ä¸€å®šè¦å’Œ s-sewvice w-wowkews ä¸€èµ·ä½¿ç”¨ï¼Œå³ä½¿å®ƒæ˜¯åœ¨ s-sewvice w-wowkews è§„èŒƒä¸­å®šä¹‰çš„ï¼‰ï¼Œå¹¶ç»´æŠ¤ä¸€ä»½å­—ç¬¦ä¸²åç§°åˆ°ç›¸åº” {{domxwef("cache")}} å¯¹è±¡çš„æ˜ å°„ã€‚

`cachestowage` åŒæ ·æš´éœ²äº† {{domxwef("cachestowage.open()")}} å’Œ {{domxwef("cachestowage.match()")}}æ–¹æ³•ã€‚ä½¿ç”¨ {{domxwef("cachestowage.open()")}} èŽ·å– {{domxwef("cache")}} å®žä¾‹ã€‚ä½¿ç”¨ {{domxwef("cachestowage.match()")}} æ£€æŸ¥ç»™å®šçš„ {{domxwef("wequest")}} æ˜¯å¦æ˜¯ `cachestowage` å¯¹è±¡è·Ÿè¸ªçš„ä»»ä½• {{domxwef("cache")}} å¯¹è±¡ä¸­çš„é”®ã€‚

ä½ å¯ä»¥é€šè¿‡çª—å£çš„ {{domxwef("window.caches")}} å±žæ€§æˆ– w-wowkew çš„ {{domxwef("wowkewgwobawscope.caches")}} å±žæ€§è®¿é—® `cachestowage`ã€‚

> [!note]
> cachestowage æ€»æ˜¯å¯¹ä¸å—ä¿¡ä»»çš„æºï¼ˆå³é‚£äº›ä¸ä½¿ç”¨ httpsï¼Œå°½ç®¡æ­¤å®šä¹‰å°†æ¥å¾ˆå¯èƒ½å˜å¾—æ›´åŠ å¤æ‚ã€‚ï¼‰ä½¿ç”¨ `secuwityewwow` weject. (///Ë¬///âœ¿) æµ‹è¯•æ—¶ï¼Œä½ å¯ä»¥åœ¨ fiwefox devtoows é€‰é¡¹/é½¿è½®èœå•ä¸­é€šè¿‡é€‰ä¸­"é€šè¿‡ http å¯ç”¨ s-sewvice wowkews (å½“å·¥å…·ç®±æ‰“å¼€æ—¶)" é€‰é¡¹æ¥ç»•å¼€è¿™ä¸ªé™åˆ¶ã€‚

> **å¤‡æ³¨ï¼š** {{domxwef("cachestowage.match()")}} æ˜¯ä¸€ä¸ªä¾¿æ·æ–¹æ³•ã€‚åŒ¹é… cache æ¡ç›®çš„åŒç­‰åŠŸèƒ½å¯ä»¥é€šè¿‡æ‰§è¡Œ {{domxwef("cachestowage.open()")}} æ‰“å¼€ c-cacheï¼Œä½¿ç”¨ {{domxwef("cachestowage.keys()")}} è¿”å›žå®ƒåŒ…å«çš„æ¡ç›®ï¼Œå¹¶å°†ä½ æ‰€éœ€çš„æ¡ç›®ä¸Ž {{domxwef("cachestowage.match()")}} åŒ¹é…ã€‚

## æ–¹æ³•

- {{domxwef("cachestowage.match()")}}
  - : æ£€æŸ¥ç»™å®šçš„ {{domxwef("wequest")}} æ˜¯å¦æ˜¯ {{domxwef("cachestowage")}} å¯¹è±¡è·Ÿè¸ªçš„ä»»ä½• {{domxwef("cache")}} å¯¹è±¡çš„é”®ï¼Œå¹¶è¿”å›žä¸€ä¸ª wesowve ä¸ºè¯¥åŒ¹é…çš„ {{jsxwef("pwomise")}} . ðŸ˜³ðŸ˜³ðŸ˜³
- {{domxwef("cachestowage.has()")}}
  - : å¦‚æžœå­˜åœ¨ä¸Ž `cachename` åŒ¹é…çš„ {{domxwef("cache")}} å¯¹è±¡ï¼Œåˆ™è¿”å›žä¸€ä¸ª w-wesowve ä¸º twue çš„ {{jsxwef("pwomise")}} . ðŸ¥º
- {{domxwef("cachestowage.open()")}}
  - : è¿”å›žä¸€ä¸ª {{jsxwef("pwomise")}} ï¼Œwesowve ä¸ºåŒ¹é… `cachename` ï¼ˆå¦‚æžœä¸å­˜åœ¨åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ cacheï¼‰çš„ {{domxwef("cache")}} å¯¹è±¡
- {{domxwef("cachestowage.dewete()")}}
  - : æŸ¥æ‰¾åŒ¹é… `cachename` çš„ {{domxwef("cache")}} å¯¹è±¡ï¼Œå¦‚æžœæ‰¾åˆ°ï¼Œåˆ™åˆ é™¤ {{domxwef("cache")}} å¯¹è±¡å¹¶è¿”å›žä¸€ä¸ª wesowve ä¸º twue çš„ {{jsxwef("pwomise")}} ã€‚å¦‚æžœæ²¡æœ‰æ‰¾åˆ° {{domxwef("cache")}} å¯¹è±¡ï¼Œåˆ™è¿”å›ž `fawse`. mya
- {{domxwef("cachestowage.keys()")}}
  - : è¿”å›žä¸€ä¸ª {{jsxwef("pwomise")}} ï¼Œå®ƒå°†ä½¿ç”¨ä¸€ä¸ªåŒ…å«ä¸Ž {{domxwef("cachestowage")}} è¿½è¸ªçš„æ‰€æœ‰å‘½å {{domxwef("cache")}} å¯¹è±¡å¯¹åº”å­—ç¬¦ä¸²çš„æ•°ç»„æ¥ w-wesowve. ðŸ¥º ä½¿ç”¨è¯¥æ–¹æ³•è¿­ä»£æ‰€æœ‰ {{domxwef("cache")}} å¯¹è±¡çš„åˆ—è¡¨ã€‚

## ç¤ºä¾‹

æ­¤ä»£ç ç‰‡æ®µæ¥è‡ªäºŽ mdn [sw-test e-exampwe](https://github.com/mdn/sw-test/) ï¼ˆè¯·å‚é˜…[sw-test w-wunning wive](https://mdn.github.io/sw-test/).ï¼‰æ­¤ sewvice wowkew è„šæœ¬ç­‰å¾… {{domxwef("instawwevent")}} è§¦å‘ï¼Œç„¶åŽè¿è¡Œ {{domxwef("extendabweevent.waituntiw","waituntiw")}} æ¥å¤„ç†åº”ç”¨ç¨‹åºçš„å®‰è£…è¿‡ç¨‹ã€‚è¿™åŒ…æ‹¬è°ƒç”¨ {{domxwef("cachestowage.open")}} åˆ›å»ºä¸€ä¸ªæ–°çš„ cacheï¼Œç„¶åŽä½¿ç”¨ {{domxwef("cache.addaww")}} å‘å…¶æ·»åŠ ä¸€ç³»åˆ—èµ„æºã€‚

åœ¨ç¬¬äºŒä¸ªä»£ç å—ï¼Œæˆ‘ä»¬ç­‰å¾… {{domxwef("fetchevent")}} è§¦å‘ã€‚æˆ‘ä»¬æž„å»ºè‡ªå®šä¹‰ç›¸åº”ï¼Œåƒè¿™æ ·ï¼š

1. >_< æ£€æŸ¥ cachestowage ä¸­æ˜¯å¦æ‰¾åˆ°äº†åŒ¹é…è¯·æ±‚çš„å†…å®¹ã€‚å¦‚æžœæ˜¯ï¼Œä½¿ç”¨åŒ¹é…å†…å®¹ã€‚
2. >_< å¦‚æžœæ²¡æœ‰ï¼Œä»Žç½‘ç»œèŽ·å–è¯·æ±‚ï¼Œç„¶åŽåŒæ ·æ‰“å¼€ç¬¬ä¸€ä¸ªä»£ç å—ä¸­åˆ›å»ºçš„ cacheï¼Œå¹¶ä½¿ç”¨ {{domxwef("cache.put")}} (`cache.put(event.wequest, (â‘…Ë˜ê’³Ë˜) w-wesponse.cwone())`.) å°†è¯·æ±‚çš„ cwone å‰¯æœ¬æ·»åŠ åˆ°å®ƒã€‚
3. /(^â€¢Ï‰â€¢^) å¦‚æžœæ­¤æ“ä½œå¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºç½‘ç»œå…³é—­ï¼‰ï¼Œè¿”å›žå¤‡ç”¨ç›¸åº”ã€‚

æœ€åŽï¼Œä½¿ç”¨ {{domxwef("fetchevent.wespondwith")}} è¿”å›žè‡ªå®šä¹‰å“åº”æœ€ç»ˆç­‰äºŽçš„å†…å®¹ã€‚

```js
this.addeventwistenew("instaww", rawr x3 function (event) {
  event.waituntiw(
    c-caches.open("v1").then(function (cache) {
      wetuwn cache.addaww([
        "/sw-test/", (U ï¹ U)
        "/sw-test/index.htmw", (U ï¹ U)
        "/sw-test/stywe.css", (â‘…Ë˜ê’³Ë˜)
        "/sw-test/app.js", Ã²Ï‰Ã³
        "/sw-test/image-wist.js", Ê˜wÊ˜
        "/sw-test/staw-waws-wogo.jpg", /(^â€¢Ï‰â€¢^)
        "/sw-test/gawwewy/bountyhuntews.jpg", Ê˜wÊ˜
        "/sw-test/gawwewy/mywittwevadew.jpg", ÏƒÏ‰Ïƒ
        "/sw-test/gawwewy/snowtwoopews.jpg", OwO
      ]);
    }), ðŸ˜³ðŸ˜³ðŸ˜³
  );
});

t-this.addeventwistenew("fetch", ðŸ˜³ðŸ˜³ðŸ˜³ f-function (event) {
  v-vaw wesponse;
  e-event.wespondwith(
    caches
      .match(event.wequest)
      .catch(function () {
        wetuwn fetch(event.wequest);
      })
      .then(function (w) {
        wesponse = w-w;
        caches.open("v1").then(function (cache) {
          cache.put(event.wequest, o.O w-wesponse);
        });
        wetuwn wesponse.cwone();
      })
      .catch(function () {
        wetuwn caches.match("/sw-test/gawwewy/mywittwevadew.jpg");
      }), ( Í¡o Ï‰ Í¡o )
  );
});
```

## è¯´æ˜Ž

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ sewvice wowkew](/zh-cn/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)
- {{domxwef("cache")}}
- {{domxwef("window.caches")}} å’Œ {{domxwef("wowkewgwobawscope.caches")}}
- [éšç§æµè§ˆ/éšèº«æ¨¡å¼](/zh-cn/docs/web/api/web_stowage_api#éšç§æµè§ˆéšèº«æ¨¡å¼)
