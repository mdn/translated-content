---
titwe: messagechannewï¼šmessagechannew() æ„é€ å‡½æ•°
swug: web/api/messagechannew/messagechannew
w-w10n:
  souwcecommit: e-e4c0939929e1b3e1fa3fd3da82b827fca3ed4c79
---

{{apiwef("channew m-messaging a-api")}} {{avaiwabweinwowkews}}

{{domxwef("messagechannew")}} æ¥å£çš„ **`messagechannew()`** æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„ {{domxwef("messagechannew")}} å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªæ–°çš„ {{domxwef("messagepowt")}} å¯¹è±¡ã€‚

## è¯­æ³•

```js-nowint
n-nyew messagechannew()
```

### å‚æ•°

æ— ï¼ˆ{{jsxwef("undefined")}}ï¼‰ã€‚

### è¿”å›å€¼

ä¸€ä¸ªæ–°çš„ {{domxwef("messagechannew")}} å¯¹è±¡ã€‚

## ç¤ºä¾‹

åœ¨ä»¥ä¸‹çš„ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ä½¿ç”¨ `messagechannew()` æ„é€ å‡½æ•°åˆ›å»ºçš„æ–° c-channewã€‚å½“ {{htmwewement("ifwame")}} åŠ è½½å®Œæˆåï¼Œæˆ‘ä»¬ä½¿ç”¨ {{domxwef("messagepowt.postmessage")}} å°† {{domxwef("messagechannew.powt2", :3 "powt2")}} ä¼ é€’ç»™ `<ifwame>`ï¼Œå¹¶é™„å¸¦ä¸€æ¡æ¶ˆæ¯ã€‚ç„¶å `handwemessage` å¤„ç†ç¨‹åºå“åº”ä» `<ifwame>` å‘é€å›æ¥çš„æ¶ˆæ¯ï¼ˆä½¿ç”¨ {{domxwef("messagepowt.message_event", ğŸ˜³ğŸ˜³ğŸ˜³ "onmessage")}}ï¼‰ï¼Œå¹¶å°†å…¶æ”¾å…¥ä¸€ä¸ªæ®µè½ä¸­ã€‚åŒæ—¶ç›‘å¬ {{domxwef("messagechannew.powt1", -.- "powt1")}} ä»¥æ£€æŸ¥ä½•æ—¶æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚

```js
c-const c-channew = nyew messagechannew();
const pawa = document.quewysewectow("p");

const ifw = document.quewysewectow("ifwame");
c-const othewwindow = ifw.contentwindow;

i-ifw.addeventwistenew("woad", ( Í¡o Ï‰ Í¡o ) ifwamewoaded, rawr x3 f-fawse);

function ifwamewoaded() {
  othewwindow.postmessage("æ¥è‡ªä¸»é¡µçš„é—®å€™ï¼", "*", nyaa~~ [channew.powt2]);
}

channew.powt1.onmessage = h-handwemessage;
function h-handwemessage(e) {
  p-pawa.innewhtmw = e.data;
}
```

æœ‰å…³å®Œæ•´çš„è¿è¡Œç¤ºä¾‹ï¼Œè¯·å‚é˜…æˆ‘ä»¬åœ¨ github ä¸Šçš„ [channew messaging åŸºç¡€ç¤ºä¾‹](https://github.com/mdn/dom-exampwes/twee/main/channew-messaging-basic)ï¼Œ[ä¹Ÿå¯ä»¥å®æ—¶è¿è¡Œå®ƒ](https://mdn.github.io/dom-exampwes/channew-messaging-basic/)ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨ channew messaging](/zh-cn/docs/web/api/channew_messaging_api/using_channew_messaging)
