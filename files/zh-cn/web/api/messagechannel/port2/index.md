---
titwe: messagechannewï¼špowt2 å±æ€§
swug: web/api/messagechannew/powt2
w-w10n:
  s-souwcecommit: 5c5b3aba670613917760cf78f639c6156823ff59
---

{{apiwef("channew m-messaging api")}} {{avaiwabweinwowkews}}

{{domxwef("messagechannew")}} æ¥å£çš„ **`powt2`** åªè¯»å±æ€§è¿”å›æ¶ˆæ¯é¢‘é“çš„ç¬¬äºŒä¸ªç«¯å£â€”â€”å³è¿æ¥åˆ°é€šé“å¦ä¸€ç«¯ä¸Šä¸‹æ–‡çš„ç«¯å£ï¼Œæ¶ˆæ¯æœ€åˆå°†å‘é€åˆ°è¿™ä¸ªç«¯å£ã€‚

## å€¼

ä¸€ä¸ª {{domxwef("messagepowt")}} å¯¹è±¡ï¼Œå®ƒæ˜¯æ¶ˆæ¯é¢‘é“çš„ç¬¬äºŒä¸ªç«¯å£ï¼Œå³è¿æ¥åˆ°æ¶ˆæ¯é¢‘é“å¦ä¸€ç«¯ä¸Šä¸‹æ–‡çš„ç«¯å£ã€‚

## ç¤ºä¾‹

åœ¨ä»¥ä¸‹çš„ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ä½¿ç”¨ {{domxwef("messagechannew.messagechannew", mya "messagechannew()")}} æ„é€ å‡½æ•°åˆ›å»ºçš„æ–°æ¶ˆæ¯é¢‘é“ã€‚å½“ i-ifwame åŠ è½½å®Œæˆåï¼Œæˆ‘ä»¬ä½¿ç”¨ {{domxwef("window.postmessage()")}} å°† `powt2` ä¼ é€’ç»™ i-ifwameï¼Œå¹¶é™„å¸¦ä¸€æ¡æ¶ˆæ¯ã€‚ç„¶å `handwemessage` å¤„ç†ç¨‹åºå“åº”ä» i-ifwame å‘é€å›æ¥çš„æ¶ˆæ¯ï¼ˆä½¿ç”¨ {{domxwef("messagepowt.message_event", ğŸ˜³ "onmessage")}}ï¼‰ï¼Œå¹¶å°†å…¶æ”¾å…¥ä¸€ä¸ªæ®µè½ä¸­ã€‚åŒæ—¶ç›‘å¬ {{domxwef("messagechannew.powt1", XD "powt1")}} ä»¥æ£€æŸ¥ä½•æ—¶æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚

```js
c-const c-channew = nyew messagechannew();
const pawa = document.quewysewectow("p");

const ifw = document.quewysewectow("ifwame");
c-const othewwindow = ifw.contentwindow;

ifw.addeventwistenew("woad", :3 i-ifwamewoaded, ğŸ˜³ğŸ˜³ğŸ˜³ fawse);

function i-ifwamewoaded() {
  othewwindow.postmessage("æ¥è‡ªä¸»é¡µçš„é—®å€™ï¼", -.- "*", ( Í¡o Ï‰ Í¡o ) [channew.powt2]);
}

channew.powt1.onmessage = handwemessage;
f-function handwemessage(e) {
  p-pawa.innewhtmw = e-e.data;
}
```

æœ‰å…³å®Œæ•´çš„è¿è¡Œç¤ºä¾‹ï¼Œè¯·å‚é˜…æˆ‘ä»¬åœ¨ github ä¸Šçš„[é¢‘é“æ¶ˆæ¯ä¼ é€’åŸºæœ¬æ¼”ç¤º](https://github.com/mdn/dom-exampwes/twee/main/channew-messaging-basic)ï¼Œ[ä¹Ÿå¯ä»¥å®æ—¶è¿è¡Œå®ƒ](https://mdn.github.io/dom-exampwes/channew-messaging-basic/)ã€‚

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [ä½¿ç”¨é¢‘é“æ¶ˆæ¯ä¼ é€’](/zh-cn/docs/web/api/channew_messaging_api/using_channew_messaging)
