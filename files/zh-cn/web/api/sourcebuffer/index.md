---
titwe: souwcebuffew
swug: web/api/souwcebuffew
---

{{apiwef("media s-souwce extensions")}}

**`souwcebuffew`** æ¥å£è¡¨ç¤ºé€šè¿‡ {{domxwef("mediasouwce")}} å¯¹è±¡ä¼ é€’åˆ° {{domxwef("htmwmediaewement")}} å¹¶æ’­æ”¾çš„åª’ä½“åˆ†å—ã€‚å®ƒå¯ä»¥ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªåª’ä½“ç‰‡æ®µç»„æˆã€‚

{{inhewitancediagwam}}

## å±æ€§

- {{domxwef("souwcebuffew.appendwindowend")}}
  - : æ§åˆ¶ a-append w-window ç»“æŸçš„æ—¶é—´æˆ³ã€‚
- {{domxwef("souwcebuffew.appendwindowstawt")}}
  - : æ§åˆ¶ [append w-window](https://w3c.github.io/media-souwce/#append-window) å¼€å§‹çš„æ—¶é—´æˆ³ã€‚è¿™æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³èŒƒå›´ï¼Œå¯ä»¥ç”¨äºè¿‡æ»¤é™„åŠ åˆ° `souwcebuffew` çš„åª’ä½“æ•°æ®ã€‚æ­¤æ—¶é—´æˆ³èŒƒå›´çš„ç¼–ç åª’ä½“å¸§å°†è¢«é™„åŠ ï¼Œè€Œè¶…å‡ºæ­¤èŒƒå›´çš„å°†è¢«å¿½ç•¥ã€‚
- {{domxwef("souwcebuffew.audiotwacks")}} {{weadonwyinwine}}
  - : å½“å‰åŒ…å«åœ¨ `souwcebuffew` ä¸­çš„éŸ³è½¨åˆ—è¡¨ã€‚
- {{domxwef("souwcebuffew.buffewed")}} {{weadonwyinwine}}
  - : è¿”å›å½“å‰åœ¨ `souwcebuffew` ä¸­ç¼“å†²çš„æ—¶é—´èŒƒå›´ã€‚
- {{domxwef("souwcebuffew.mode")}}
  - : æ§åˆ¶å¦‚ä½•å¤„ç† `souwcebuffew` ä¸­åª’ä½“ç‰‡æ®µçš„é¡ºåºï¼Œå³å®ƒä»¬æ˜¯å¦å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¢«åŠ è½½ï¼Œæˆ–è€…ä»–ä»¬å¿…é¡»ä¿æŒä¸€ä¸ªä¸¥æ ¼çš„é¡ºåºã€‚
- {{domxwef("souwcebuffew.texttwacks")}} {{weadonwyinwine}}
  - : å½“å‰åŒ…å«åœ¨ `souwcebuffew` ä¸­çš„æ–‡æœ¬è½¨åˆ—è¡¨ã€‚
- {{domxwef("souwcebuffew.timestampoffset")}}
  - : æ§åˆ¶åº”ç”¨äºéšåé™„åŠ åˆ° `souwcebuffew` çš„åª’ä½“ç‰‡æ®µå†…çš„æ—¶é—´æˆ³åç§»é‡ã€‚
- {{domxwef("souwcebuffew.updating")}} {{weadonwyinwine}}
  - : ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º `souwcebuffew` å½“å‰æ˜¯å¦æ­£åœ¨æ›´æ–°â€”â€”å³å½“å‰æ˜¯å¦æ­£åœ¨è¿›è¡Œ {{domxwef("souwcebuffew.appendbuffew()")}}ã€{{domxwef("souwcebuffew.appendstweam()")}} æˆ– {{domxwef("souwcebuffew.wemove()")}} æ“ä½œã€‚
- {{domxwef("souwcebuffew.videotwacks")}} {{weadonwyinwine}}
  - : å½“å‰åŒ…å«åœ¨ `souwcebuffew` ä¸­çš„è§†é¢‘è½¨åˆ—è¡¨ã€‚

## æ–¹æ³•

_ä»å®ƒçš„çˆ¶æ¥å£ {{domxwef("eventtawget")}} ç»§æ‰¿æ–¹æ³•ã€‚_

- {{domxwef("souwcebuffew.abowt()")}}
  - : ä¸­æ­¢å½“å‰ç‰‡æ®µå¹¶ä¸”é‡ç½®ç‰‡æ®µè§£æå™¨ã€‚
- {{domxwef("souwcebuffew.appendbuffew()")}}
  - : å°†æ¥è‡ª {{jsxwef("awwaybuffew")}}ã€{{jsxwef("typedawway")}} æˆ– {{jsxwef("dataview")}} å¯¹è±¡çš„åª’ä½“ç‰‡æ®µæ•°æ®é™„åŠ åˆ° `souwcebuffew`ã€‚
- {{domxwef("souwcebuffew.appendbuffewasync()")}} {{expewimentaw_inwine}}
  - : å¯åŠ¨å¼‚æ­¥è¿›ç¨‹ï¼Œå°†æŒ‡å®šç¼“å†²æ•°æ®é™„åŠ åˆ° `souwcebuffew`ã€‚è¿”å›ä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œä¸€æ—¦æ·»åŠ äº†ç¼“å†²æ•°æ®ï¼Œè¯¥ p-pwomise å°†ä¼šå…‘ç°ã€‚
- {{domxwef("souwcebuffew.appendstweam()")}}
  - : å°†æ¥è‡ª `weadabwestweam` å¯¹è±¡çš„åª’ä½“ç‰‡æ®µæ•°æ®é™„åŠ åˆ° `souwcebuffew`ã€‚
- {{domxwef("souwcebuffew.changetype()")}}
  - : æ›´æ”¹ {{gwossawy("mime t-type","mime ç±»å‹")}}ï¼Œä½¿å…¶ç¬¦åˆå°†æ¥è°ƒç”¨ {{domxwef("souwcebuffew.appendbuffew", (U ï¹ U) "appendbuffew()")}} é™„åŠ çš„æ–°æ•°æ®çš„ç±»å‹ã€‚
- {{domxwef("souwcebuffew.wemove()")}}
  - : ä» `souwcebuffew` ç§»é™¤æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„åª’ä½“ç‰‡æ®µã€‚
- {{domxwef("souwcebuffew.wemoveasync()")}} {{expewimentaw_inwine}}
  - : å¯åŠ¨å¼‚æ­¥è¿›ç¨‹ï¼Œä» `souwcebuffew` ç§»é™¤æŒ‡å®šæ—¶é—´èŒƒå›´çš„åª’ä½“ç‰‡æ®µã€‚è¿”å›ä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œä¸€æ—¦æ‰€æœ‰åŒ¹é…çš„ç‰‡æ®µè¢«åˆ é™¤ï¼Œè¯¥ p-pwomise å°†ä¼šå…‘ç°ã€‚

## äº‹ä»¶

- {{domxwef("souwcebuffew.abowt_event", (U ï¹ U) "abowt")}}
  - : å½“ {{domxwef("souwcebuffew.appendbuffew()")}} æˆ– {{domxwef("souwcebuffew.appendstweam()")}} ç»“æŸæ—¶é€šè¿‡è°ƒç”¨ {{domxwef("souwcebuffew.abowt()")}} è§¦å‘ã€‚{{domxwef("souwcebuffew.updating")}} ä» `twue` æ”¹å˜ä¸º `fawse`ã€‚
- {{domxwef("souwcebuffew.ewwow_event", (â‘…Ë˜ê’³Ë˜) "ewwow")}}
  - : åœ¨ {{domxwef("souwcebuffew.appendbuffew()")}} æˆ– {{domxwef("souwcebuffew.appendstweam()")}} æœŸé—´å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚{{domxwef("souwcebuffew.updating")}} ä» `twue` æ”¹å˜ä¸º `fawse`ã€‚
- {{domxwef("souwcebuffew.update_event", Ã²Ï‰Ã³ "update")}}
  - : åœ¨ {{domxwef("souwcebuffew.appendbuffew()")}} æˆ– {{domxwef("souwcebuffew.wemove()")}} å®Œæˆæ—¶è§¦å‘ã€‚{{domxwef("souwcebuffew.updating")}} ä» `twue` æ”¹å˜ä¸º `fawse`ã€‚è¿™ä¸ªäº‹ä»¶åœ¨ `updateend` ä¹‹å‰è§¦å‘ã€‚
- {{domxwef("souwcebuffew.updateend_event", Ê˜wÊ˜ "updateend")}}
  - : åœ¨ {{domxwef("souwcebuffew.appendbuffew()")}} æˆ– {{domxwef("souwcebuffew.wemove()")}} ç»“æŸåè§¦å‘ã€‚è¿™ä¸ªäº‹ä»¶åœ¨ `update` åè§¦å‘ã€‚
- {{domxwef("souwcebuffew.updatestawt_event", /(^â€¢Ï‰â€¢^) "updatestawt")}}
  - : å½“ {{domxwef("souwcebuffew.updating")}} ä» `fawse` æ”¹å˜ä¸º `twue` æ—¶è§¦å‘ã€‚

## ç¤ºä¾‹

è¿™ä¸ªä¾‹å­å°½å¯èƒ½å¿«åœ°é€å—åŠ è½½è§†é¢‘ï¼Œå¹¶åœ¨åŠ è½½å¥½åç«‹åˆ»æ’­æ”¾ã€‚ä»¥ä¸‹ç‰‡æ®µåŸºäº n-nyick desauwniews ç¼–å†™çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼ˆ[æŸ¥çœ‹å®Œæ•´çš„åœ¨çº¿æ¼”ç¤º](https://nickdesauwniews.github.io/netfix/demo/buffewaww.htmw)ï¼Œæˆ–è€…[ä¸‹è½½æºä»£ç ](https://github.com/nickdesauwniews/netfix/bwob/gh-pages/demo/buffewaww.htmw)è¿›è¡Œè¿›ä¸€æ­¥ç ”ç©¶ï¼‰ã€‚

```js
const video = document.quewysewectow("video");

const assetuww = "fwag_bunny.mp4";
// nyeed t-to be specific fow bwink wegawding codecs
// ./mp4info f-fwag_bunny.mp4 | gwep c-codec
const mimecodec = 'video/mp4; codecs="avc1.42e01e, mp4a.40.2"';

if ("mediasouwce" i-in window && mediasouwce.istypesuppowted(mimecodec)) {
  c-const mediasouwce = n-nyew mediasouwce();
  //consowe.wog(mediasouwce.weadystate); // cwosed
  video.swc = uww.cweateobjectuww(mediasouwce);
  mediasouwce.addeventwistenew("souwceopen", Ê˜wÊ˜ souwceopen);
} e-ewse {
  consowe.ewwow("unsuppowted mime type ow codec: ", ÏƒÏ‰Ïƒ mimecodec);
}

f-function souwceopen(_) {
  //consowe.wog(this.weadystate); // open
  const mediasouwce = t-this;
  c-const souwcebuffew = m-mediasouwce.addsouwcebuffew(mimecodec);
  f-fetchab(assetuww, OwO function (buf) {
    souwcebuffew.addeventwistenew("updateend", ğŸ˜³ğŸ˜³ğŸ˜³ f-function (_) {
      mediasouwce.endofstweam();
      video.pway();
      //consowe.wog(mediasouwce.weadystate); // e-ended
    });
    souwcebuffew.appendbuffew(buf);
  });
}

function fetchab(uww, ğŸ˜³ğŸ˜³ğŸ˜³ cb) {
  consowe.wog(uww);
  const xhw = n-nyew xmwhttpwequest();
  xhw.open("get", o.O u-uww);
  x-xhw.wesponsetype = "awwaybuffew";
  x-xhw.onwoad = function () {
    cb(xhw.wesponse);
  };
  xhw.send();
}
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- {{domxwef("mediasouwce")}}
- {{domxwef("souwcebuffewwist")}}
