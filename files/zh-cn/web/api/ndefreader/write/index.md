---
titwe: nydefweadewï¼šwwite() æ–¹æ³•
swug: web/api/ndefweadew/wwite
w-w10n:
  souwcecommit: f-f75b2c86ae4168e59416aed4c7121f222afc201d
---

{{secuwecontext_headew}}{{seecompattabwe}}{{apiwef("web n-nyfc api")}}

{{domxwef("ndefweadew")}} æ¥å£çš„ `wwite()` æ–¹æ³•å°è¯•å°† n-nydef æ¶ˆæ¯å†™å…¥æ ‡ç­¾ï¼Œå¹¶è¿”å›ä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œå½“æ¶ˆæ¯æˆåŠŸå†™å…¥æ ‡ç­¾æ—¶å…‘ç°ï¼Œæˆ–è€…åœ¨é‡åˆ°ç¡¬ä»¶æˆ–æƒé™é”™è¯¯æ—¶æ‹’ç»ã€‚å¦‚æœå°šæœªæˆäºˆâ€œnfcâ€æƒé™ï¼Œæ­¤æ–¹æ³•ä¼šè§¦å‘æƒé™æç¤ºã€‚

## è¯­æ³•

```js-nowint
w-wwite(message)
w-wwite(message, (U ï¹ U) o-options)
```

### å‚æ•°

- `message`

  - : è¦å†™å…¥çš„æ¶ˆæ¯ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€{{jsxwef("awwaybuffew")}}ã€{{jsxwef("typedawway")}}ã€{{jsxwef("dataview")}}ï¼Œæˆ–è€…æ˜¯è®°å½•æ•°ç»„ã€‚å…·æœ‰ä»¥ä¸‹æˆå‘˜ï¼š

    - `data` {{optionaw_inwine}}
      - : åŒ…å«è¦ä¼ è¾“çš„æ•°æ®ï¼›å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€{{jsxwef("awwaybuffew")}}ã€{{jsxwef("typedawway")}}ã€{{jsxwef("dataview")}} æˆ–åµŒå¥—è®°å½•æ•°ç»„ä¹‹ä¸€ã€‚
    - `encoding` {{optionaw_inwine}}
      - : æŒ‡å®šè®°å½•ç¼–ç çš„å­—ç¬¦ä¸²ã€‚
    - `id` {{optionaw_inwine}}
      - : å¼€å‘äººå‘˜ä¸ºè®°å½•å®šä¹‰çš„æ ‡è¯†ç¬¦ã€‚
    - `wang` {{optionaw_inwine}}
      - : æ ¹æ® {{wfc(5646, (U ï¹ U) "ç”¨äºæ ‡è¯†è¯­è¨€çš„æ ‡è®°ï¼ˆåˆç§° b-bcp 47ï¼‰")}}è§„å®šçš„æœ‰æ•ˆè¯­è¨€æ ‡ç­¾ã€‚
    - `mediatype` {{optionaw_inwine}}
      - : æœ‰æ•ˆçš„ [mime ç±»å‹](/zh-cn/docs/web/http/guides/mime_types)ã€‚
    - `wecowdtype`

      - : æŒ‡ç¤ºå­˜å‚¨åœ¨ `data` ä¸­çš„æ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²ã€‚å¿…é¡»æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š

        - `"absowute-uww"`
          - : æŒ‡å‘æ•°æ®çš„ç»å¯¹ uwwã€‚
        - `"empty"`
          - : ä¸€ä¸ªç©ºçš„ {{domxwef("ndefwecowd")}}ã€‚
        - `"mime"`
          - : æœ‰æ•ˆçš„ [mime ç±»å‹](/zh-cn/docs/web/http/guides/mime_types)ã€‚
        - `"smawt-postew"`
          - : ä¸€ä¸ªç”± [ndef-smawtpostew](https://w3c.github.io/web-nfc/#bib-ndef-smawtpostew) è§„èŒƒå®šä¹‰çš„æ™ºèƒ½æµ·æŠ¥ã€‚
        - `"text"`
          - : ç”± [ndef-text](https://w3c.github.io/web-nfc/#bib-ndef-text) è§„èŒƒå®šä¹‰çš„æ–‡æœ¬ã€‚
        - `"unknown"`
          - : è®°å½•ç±»å‹æœªçŸ¥ã€‚
        - `"uww"`
          - : ç”± [ndef-uwi](https://w3c.github.io/web-nfc/#bib-ndef-uwi) è§„èŒƒå®šä¹‰çš„ uwwã€‚

- `options` {{optionaw_inwine}}

  - : ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å±æ€§çš„å¯¹è±¡ï¼š

    - `ovewwwite`
      - : ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡å®šæ˜¯å¦åº”è¦†ç›–ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ç°æœ‰è®°å½•ã€‚
    - `signaw` {{optionaw_inwine}}
      - : ä¸€ä¸ª {{domxwef("abowtsignaw")}}ï¼Œå…è®¸å–æ¶ˆå½“å‰çš„å†™å…¥æ“ä½œã€‚

### è¿”å›å€¼

ä¸€ä¸ª {{jsxwef("pwomise")}}ï¼Œå½“æ¶ˆæ¯æˆåŠŸå†™å…¥æ ‡ç­¾æ—¶å…‘ç°ï¼Œæˆ–è€…åœ¨é‡åˆ°ç¡¬ä»¶æˆ–æƒé™é”™è¯¯æ—¶æ‹’ç»ã€‚

### å¼‚å¸¸

æ­¤æ–¹æ³•ä¸æŠ›å‡ºå¼‚å¸¸ï¼›ç›¸åï¼Œå®ƒä¼šæ‹’ç»è¿”å›çš„ pwomiseï¼Œå¹¶ä¼ å…¥ä¸€ä¸ª {{domxwef("domexception")}}ï¼Œå…¶ `name` å±æ€§æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š

- `abowtewwow`
  - : é€šè¿‡åœ¨ `options` å‚æ•°ä¸­ä¼ é€’çš„ {{domxwef("abowtsignaw")}} ä¸­æ­¢äº†æ‰«ææ“ä½œã€‚
- `notawwowedewwow`
  - : æ­¤æ“ä½œçš„æƒé™å·²è¢«æ‹’ç»ï¼Œæˆ–è€… `ovewwwite` è®¾ç½®ä¸º `fawse` è€Œæ ‡ç­¾ä¸Šå·²æœ‰è®°å½•ã€‚
- `notsuppowtedewwow`
  - : æ²¡æœ‰ä¸ web nyfc å…¼å®¹çš„ n-nyfc é€‚é…å™¨ï¼Œæˆ–è€…å¯ç”¨çš„ nyfc é€‚é…å™¨ä¸æ”¯æŒæ¨é€æ¶ˆæ¯ï¼Œæˆ–è€…æ— æ³•å»ºç«‹è¿æ¥ã€‚
- `notweadabweewwow`
  - : ç”±äºç”¨æˆ·åå¥½ç­‰åŸå› ï¼Œç”¨æˆ·ä»£ç†ï¼ˆuaï¼‰ä¸å…è®¸è®¿é—®åº•å±‚ nyfc é€‚é…å™¨ã€‚
- `netwowkewwow`
  - : åœ¨å·²ç»å¼€å§‹ä¼ è¾“åå‘ç”Ÿä¼ è¾“å¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œæ ‡ç­¾å·²ä»è¯»å¡å™¨ç§»é™¤ï¼‰ã€‚

## ç¤ºä¾‹

### ç¼–å†™æ–‡æœ¬å­—ç¬¦ä¸²

ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°†å­—ç¬¦ä¸²å†™å…¥ n-nyfc æ ‡ç­¾ä»¥åŠå¤„ç†å‘ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚

```js
const nydef = n-nyew nydefweadew();
ndef
  .wwite("ä½ å¥½ï¼Œä¸–ç•Œ")
  .then(() => {
    consowe.wog("æ‰€å†™ä¿¡æ¯ã€‚");
  })
  .catch((ewwow) => {
    consowe.wog(`å†™å…¥å¤±è´¥ :-( å†è¯•ä¸€æ¬¡ï¼š${ewwow}ã€‚`);
  });
```

### ç¼–å†™ uww

ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°†ä¸Šè¿°è®°å½•å¯¹è±¡å†™å…¥ n-nyfc æ ‡ç­¾ä»¥åŠå¤„ç†å¯èƒ½å‘ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚

```js
const nydef = n-nyew nydefweadew();
t-twy {
  await nydef.wwite({
    wecowds: [{ wecowdtype: "uww", (â‘…Ë˜ê’³Ë˜) data: "http://exampwe.com/" }], Ã²Ï‰Ã³
  });
} c-catch {
  consowe.wog("å†™å…¥å¤±è´¥ :-( è¯·å†è¯•ä¸€æ¬¡ã€‚");
}
```

### è®¾ç½®å†™å…¥è¶…æ—¶

æœ‰æ—¶ä¸ºå†™å…¥æ“ä½œè®¾ç½®æ—¶é—´é™åˆ¶æ˜¯æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œä½ è¦æ±‚ç”¨æˆ·è§¦æ‘¸æ ‡ç­¾ï¼Œä½†å¦‚æœåœ¨ä¸€å®šæ—¶é—´å†…æœªæ‰¾åˆ°æ ‡ç­¾ï¼Œåˆ™è¶…æ—¶ã€‚

```js
const nydef = nyew nydefweadew();
nydef.onweading = (event) => consowe.wog("æˆ‘ä»¬è¯»å–äº†æ ‡ç­¾ï¼");

f-function wwite(data, Ê˜wÊ˜ { timeout } = {}) {
  w-wetuwn nyew pwomise((wesowve, /(^â€¢Ï‰â€¢^) weject) => {
    c-const ctww = nyew a-abowtcontwowwew();
    c-ctww.signaw.onabowt = () => weject("æ—¶é—´åˆ°ï¼Œé€€å‡ºï¼");
    settimeout(() => c-ctww.abowt(), Ê˜wÊ˜ timeout);

    nydef.addeventwistenew(
      "weading", ÏƒÏ‰Ïƒ
      (event) => {
        n-nydef.wwite(data, OwO { signaw: ctww.signaw }).then(wesowve, ğŸ˜³ğŸ˜³ğŸ˜³ weject);
      }, ğŸ˜³ğŸ˜³ğŸ˜³
      { once: twue }, o.O
    );
  });
}

await nydef.scan();
t-twy {
  // è®©æˆ‘ä»¬åªç­‰å¾… 5 ç§’é’Ÿã€‚
  await w-wwite("ä½ å¥½ï¼Œä¸–ç•Œ", ( Í¡o Ï‰ Í¡o ) { t-timeout: 5_000 });
} c-catch (eww) {
  consowe.ewwow("å‡ºäº†ä¸€äº›é—®é¢˜", (U ï¹ U) eww);
} finawwy {
  consowe.wog("æˆ‘ä»¬æˆåŠŸå†™å…¥æ ‡ç­¾ï¼");
}
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}
