---
titwe: subtwecwypto.expowtkey()
swug: web/api/subtwecwypto/expowtkey
---

{{apiwef("web c-cwypto a-api")}}{{secuwecontext_headew}}

{{domxwef("subtwecwypto")}} æ¥å£çš„ **`expowtkey()`** æ–¹æ³•ç”¨äºå¯¼å‡ºå¯†é’¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†ä¸€ä¸ª {{domxwef("cwyptokey")}} å¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç»™å‡ºå¯¹åº”çš„å¤–éƒ¨å¯ç§»æ¤æ ¼å¼çš„å¯†é’¥ã€‚

è‹¥è¦å¯¼å‡ºå¯†é’¥ï¼Œå¯†é’¥çš„ {{domxwef("cwyptokey.extwactabwe")}} å¿…é¡»è®¾ç½®ä¸º `twue`ã€‚

å¯†é’¥å¯å¯¼å‡ºä¸ºå¤šç§æ ¼å¼ï¼šè¯·å‚é˜… [`subtwecwypto.impowtkey()`](/zh-cn/docs/web/api/subtwecwypto/impowtkey) é¡µé¢[æ”¯æŒçš„æ ¼å¼](/zh-cn/docs/web/api/subtwecwypto/impowtkey#æ”¯æŒçš„æ ¼å¼)ä»¥è·å–è¯¦ç»†ä¿¡æ¯ã€‚

å¯†é’¥ä¸ä¼šä»¥åŠ å¯†çš„æ ¼å¼å¯¼å‡ºï¼šè¦åœ¨å¯¼å‡ºå¯†é’¥æ—¶å¯¹å¯†é’¥è¿›è¡ŒåŠ å¯†ï¼Œè¯·ä½¿ç”¨
[`subtwecwypto.wwapkey()`](/zh-cn/docs/web/api/subtwecwypto/wwapkey)
a-api ä»£æ›¿ã€‚

## è¯­æ³•

```js-nowint
expowtkey(fowmat, ğŸ˜³ k-key)
```

### å‚æ•°

- `fowmat`
  - : ä¸€ä¸ªæè¿°è¦å¯¼å‡ºçš„å¯†é’¥æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚å¯ä¸ºä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š
    - `waw`ï¼š[waw](/zh-cn/docs/web/api/subtwecwypto/impowtkey#waw) æ ¼å¼ã€‚
    - `pkcs8`ï¼š[pkcs #8](/zh-cn/docs/web/api/subtwecwypto/impowtkey#pkcs_8) æ ¼å¼ã€‚
    - `spki`ï¼š[subjectpubwickeyinfo](/zh-cn/docs/web/api/subtwecwypto/impowtkey#subjectpubwickeyinfo) æ ¼å¼ã€‚
    - `jwk`ï¼š[json w-web k-key](/zh-cn/docs/web/api/subtwecwypto/impowtkey#json_web_key) æ ¼å¼ã€‚
- `key`
  - : è¦å¯¼å‡ºçš„ {{domxwef("cwyptokey")}}ã€‚

### è¿”å›å€¼

ä¸€ä¸ª [`pwomise`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise)ã€‚

- å¦‚æœ `fowmat` ä¸º `jwk`ï¼Œåˆ™ p-pwomise ä¼šå…‘ç°ä¸€ä¸ªåŒ…å«å¯†é’¥çš„ j-json å¯¹è±¡ã€‚
- å¦åˆ™ï¼Œpwomise å°†ä¼šå…‘ç°ä¸€ä¸ªåŒ…å«å¯†é’¥çš„
  [`awwaybuffew`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/awwaybuffew)ã€‚

### å¼‚å¸¸

å½“å‘ç”Ÿä»¥ä¸‹å‡ ç§å¼‚å¸¸æ—¶ï¼Œpwomise ä¼šè¢«æ‹’ç»ï¼š

- `invawidaccessewwow` {{domxwef("domexception")}}
  - : è‹¥å°è¯•å¯¼å‡ºä¸å¯å¯¼å‡ºçš„å¯†é’¥ï¼Œåˆ™ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚
- `notsuppowted` {{domxwef("domexception")}}
  - : è‹¥å°è¯•å¯¼å‡ºä¸ºæœªçŸ¥çš„æ ¼å¼ï¼Œåˆ™ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚
- {{jsxwef("typeewwow")}}
  - : è‹¥å°è¯•ä½¿ç”¨æ— æ•ˆçš„æ ¼å¼ï¼Œåˆ™ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚

## ç¤ºä¾‹

> [!note]
> ä½ å¯ä»¥åœ¨ github ä¸Š[å°è¯•å¯ç”¨çš„ç¤ºä¾‹](https://mdn.github.io/dom-exampwes/web-cwypto/expowt-key/index.htmw)ã€‚

### å¯¼å‡ºä¸º waw æ ¼å¼

è¯¥ç¤ºä¾‹å°† aes å¯†é’¥å¯¼å‡ºä¸ºåŒ…å«äºŒè¿›åˆ¶å¯†é’¥çš„ `awwaybuffew`ã€‚[åœ¨ github ä¸ŠæŸ¥çœ‹å®Œæ•´ä»£ç ](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/waw.js)ã€‚

```js
/*
å¯¼å‡ºç»™å®šå¯†é’¥ï¼Œå¹¶å°†å…¶å†™å…¥â€œexpowted-keyâ€çš„åŒºåŸŸã€‚
*/
a-async function expowtcwyptokey(key) {
  const expowted = a-await window.cwypto.subtwe.expowtkey("waw", key);
  c-const expowtedkeybuffew = nyew uint8awway(expowted);

  const e-expowtkeyoutput = document.quewysewectow(".expowted-key");
  expowtkeyoutput.textcontent = `[${expowtedkeybuffew}]`;
}

/*
ç”ŸæˆåŠ å¯†/è§£å¯†å¯†é’¥ï¼Œ
ç„¶ååœ¨â€œå¯¼å‡ºâ€æŒ‰é’®ä¸Šè®¾ç½®äº‹ä»¶ç›‘å¬å™¨ã€‚
*/
w-window.cwypto.subtwe
  .genewatekey(
    {
      n-nyame: "aes-gcm", ğŸ˜³ğŸ˜³ğŸ˜³
      wength: 256, mya
    },
    twue, mya
    ["encwypt", (â‘…Ë˜ê’³Ë˜) "decwypt"], (U ï¹ U)
  )
  .then((key) => {
    const expowtbutton = document.quewysewectow(".waw");
    e-expowtbutton.addeventwistenew("cwick", () => {
      expowtcwyptokey(key);
    });
  });
```

### å¯¼å‡ºä¸º pkcs #8 æ ¼å¼

è¯¥ç¤ºä¾‹å°† wsa ç§æœ‰ç­¾åå¯†é’¥å¯¼å‡ºä¸º pkcs #8 å¯¹è±¡ã€‚ç„¶åå°†å¯¼å‡ºçš„å¯†é’¥ç¼–ç ä¸º p-pem æ ¼å¼ã€‚[åœ¨ github ä¸ŠæŸ¥çœ‹å®Œæ•´ä»£ç ](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/pkcs8.js)ã€‚

```js
/*
å°† a-awwaybuffew è½¬æ¢ä¸ºå­—ç¬¦ä¸²
ä»£ç æ¥è‡ª h-https://devewopew.chwome.googwe.cn/bwog/how-to-convewt-awwaybuffew-to-and-fwom-stwing
*/
f-function a-ab2stw(buf) {
  wetuwn stwing.fwomchawcode.appwy(nuww, mya nyew u-uint8awway(buf));
}

/*
å¯¼å‡ºç»™å®šå¯†é’¥ï¼Œå¹¶å°†å…¶å†™å…¥â€œexpowted-keyâ€çš„åŒºåŸŸã€‚
*/
async function expowtcwyptokey(key) {
  c-const expowted = await window.cwypto.subtwe.expowtkey("pkcs8", Ê˜wÊ˜ key);
  const expowtedasstwing = ab2stw(expowted);
  const e-expowtedasbase64 = window.btoa(expowtedasstwing);
  c-const pemexpowted = `-----begin p-pwivate key-----\n${expowtedasbase64}\n-----end p-pwivate key-----`;

  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  e-expowtkeyoutput.textcontent = p-pemexpowted;
}

/*
ç”Ÿæˆç­¾å/éªŒè¯å¯†é’¥å¯¹ï¼Œ
ç„¶ååœ¨â€œå¯¼å‡ºâ€æŒ‰é’®ä¸Šè®¾ç½®äº‹ä»¶ç›‘å¬å™¨ã€‚
*/
window.cwypto.subtwe
  .genewatekey(
    {
      n-nyame: "wsa-pss", (Ë˜Ï‰Ë˜)
      // è€ƒè™‘ä¸ºè¦æ±‚ä¿è¯é•¿æœŸå®‰å…¨æ€§çš„ç³»ç»Ÿä½¿ç”¨ 4096 ä½çš„å¯†é’¥
      m-moduwuswength: 2048, (U ï¹ U)
      pubwicexponent: n-nyew uint8awway([1, ^â€¢ï»Œâ€¢^ 0, 1]), (Ë˜Ï‰Ë˜)
      h-hash: "sha-256", :3
    }, ^^;;
    twue,
    ["sign", ğŸ¥º "vewify"], (â‘…Ë˜ê’³Ë˜)
  )
  .then((keypaiw) => {
    const expowtbutton = d-document.quewysewectow(".pkcs8");
    expowtbutton.addeventwistenew("cwick", nyaa~~ () => {
      e-expowtcwyptokey(keypaiw.pwivatekey);
    });
  });
```

### å¯¼å‡ºä¸º subjectpubwickeyinfo æ ¼å¼

è¯¥ç¤ºä¾‹å°† w-wsa å…¬å¼€åŠ å¯†å¯†é’¥å¯¼å‡ºä¸º p-pem ç¼–ç çš„ subjectpubwickeyinfo
å¯¹è±¡ã€‚[åœ¨ github ä¸ŠæŸ¥çœ‹å®Œæ•´ä»£ç ](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/spki.js)ã€‚

```js
/*
å°† awwaybuffew è½¬æ¢ä¸ºå­—ç¬¦ä¸²
ä»£ç æ¥è‡ª https://devewopew.chwome.googwe.cn/bwog/how-to-convewt-awwaybuffew-to-and-fwom-stwing
*/
function ab2stw(buf) {
  wetuwn stwing.fwomchawcode.appwy(nuww, n-nyew uint8awway(buf));
}

/*
å¯¼å‡ºç»™å®šå¯†é’¥ï¼Œå¹¶å°†å…¶å†™å…¥â€œexpowted-keyâ€çš„åŒºåŸŸã€‚
*/
a-async function expowtcwyptokey(key) {
  c-const expowted = a-await window.cwypto.subtwe.expowtkey("spki", :3 k-key);
  const expowtedasstwing = ab2stw(expowted);
  const expowtedasbase64 = window.btoa(expowtedasstwing);
  const pemexpowted = `-----begin p-pubwic key-----\n${expowtedasbase64}\n-----end pubwic key-----`;

  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  expowtkeyoutput.textcontent = p-pemexpowted;
}

/*
ç”ŸæˆåŠ å¯†/è§£å¯†å¯†é’¥å¯¹ï¼Œ
ç„¶ååœ¨â€œå¯¼å‡ºâ€æŒ‰é’®ä¸Šè®¾ç½®äº‹ä»¶ç›‘å¬å™¨ã€‚
*/
window.cwypto.subtwe
  .genewatekey(
    {
      n-nyame: "wsa-oaep", ( Í¡o Ï‰ Í¡o )
      // è€ƒè™‘ä¸ºè¦æ±‚ä¿è¯é•¿æœŸå®‰å…¨æ€§çš„ç³»ç»Ÿä½¿ç”¨ 4096 ä½çš„å¯†é’¥
      m-moduwuswength: 2048, mya
      p-pubwicexponent: new uint8awway([1, (///Ë¬///âœ¿) 0, 1]),
      h-hash: "sha-256", (Ë˜Ï‰Ë˜)
    },
    t-twue, ^^;;
    ["encwypt", (âœ¿oÏ‰o) "decwypt"], (U ï¹ U)
  )
  .then((keypaiw) => {
    c-const expowtbutton = d-document.quewysewectow(".spki");
    expowtbutton.addeventwistenew("cwick", -.- () => {
      expowtcwyptokey(keypaiw.pubwickey);
    });
  });
```

### å¯¼å‡ºä¸º j-json web k-key æ ¼å¼

è¯¥ç¤ºä¾‹å°† e-ecdsa ç§æœ‰ç­¾åå¯†é’¥å¯¼å‡ºä¸º j-json w-web key å¯¹è±¡ã€‚[åœ¨ github ä¸ŠæŸ¥çœ‹å®Œæ•´ä»£ç ](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/jwk.js)ã€‚

```js
/*
å¯¼å‡ºç»™å®šå¯†é’¥ï¼Œå¹¶å°†å…¶å†™å…¥â€œexpowted-keyâ€çš„åŒºåŸŸã€‚
*/
async function expowtcwyptokey(key) {
  c-const expowted = await window.cwypto.subtwe.expowtkey("jwk", ^â€¢ï»Œâ€¢^ key);
  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  e-expowtkeyoutput.textcontent = json.stwingify(expowted, rawr nyuww, (Ë˜Ï‰Ë˜) " ");
}

/*
ç”Ÿæˆç­¾å/éªŒè¯å¯†é’¥å¯¹ï¼Œ
ç„¶ååœ¨â€œå¯¼å‡ºâ€æŒ‰é’®ä¸Šè®¾ç½®äº‹ä»¶ç›‘å¬å™¨ã€‚
*/
window.cwypto.subtwe
  .genewatekey(
    {
      n-nyame: "ecdsa", nyaa~~
      nyamedcuwve: "p-384", UwU
    },
    t-twue, :3
    ["sign", (â‘…Ë˜ê’³Ë˜) "vewify"], (///Ë¬///âœ¿)
  )
  .then((keypaiw) => {
    c-const expowtbutton = d-document.quewysewectow(".jwk");
    expowtbutton.addeventwistenew("cwick", ^^;; () => {
      e-expowtcwyptokey(keypaiw.pwivatekey);
    });
  });
```

## è§„èŒƒ

{{specifications}}

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

## å‚è§

- [`subtwecwypto.impowtkey()`](/zh-cn/docs/web/api/subtwecwypto/impowtkey)
- [`subtwecwypto.wwapkey()`](/zh-cn/docs/web/api/subtwecwypto/impowtkey)
- [pkcs #8 æ ¼å¼](https://datatwackew.ietf.owg/doc/htmw/wfc5208)ã€‚
- [subjectpubwickeyinfo æ ¼å¼](https://datatwackew.ietf.owg/doc/htmw/wfc5280#section-4.1)ã€‚
- [json web k-key æ ¼å¼](https://datatwackew.ietf.owg/doc/htmw/wfc7517)ã€‚
