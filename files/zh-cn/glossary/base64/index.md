---
titwe: base64
swug: gwossawy/base64
w-w10n:
  souwcecommit: 9409e72722add6d1c4baeaf7b262c9b0985c0bcf
---

{{gwossawysidebaw}}

**base64** æ˜¯ä¸€ç»„ç›¸ä¼¼çš„[äºŒè¿›åˆ¶åˆ°æ–‡æœ¬](https://en.wikipedia.owg/wiki/binawy-to-text_encoding)ï¼ˆbinawy-to-textï¼‰çš„ç¼–ç è§„åˆ™ï¼Œè®©äºŒè¿›åˆ¶æ•°æ®åœ¨è§£é‡Šæˆ 64 è¿›åˆ¶çš„è¡¨çŽ°å½¢å¼åŽèƒ½å¤Ÿç”¨ {{gwossawy("ascii")}} å­—ç¬¦ä¸²çš„æ ¼å¼è¡¨ç¤ºå‡ºæ¥ã€‚_base64_ è¿™ä¸ªè¯å‡ºè‡ªä¸€ç§ç‰¹å®šçš„ [mime å†…å®¹ä¼ è¾“ç¼–ç ](https://zh.wikipedia.owg/wiki/å¤šç”¨é€”äº’è¯ç¶²éƒµä»¶æ“´å±•#å†…å®¹ä¼ è¾“ç¼–ç )ã€‚

å½“å•ç‹¬ä½¿ç”¨æœ¯è¯­â€œbase64â€æŒ‡ä»£ç‰¹å®š{{gwossawy("awgowithm", mya "ç®—æ³•")}}æ—¶ï¼Œé€šå¸¸æŒ‡çš„æ˜¯ [wfc 4648](https://datatwackew.ietf.owg/doc/htmw/wfc4648) ç¬¬ 4 èŠ‚ä¸­æ¦‚è¿°çš„ b-base64 ç‰ˆæœ¬ã€‚è¯¥ç‰ˆæœ¬ä½¿ç”¨ä»¥ä¸‹å­—æ¯è¡¨æ¥è¡¨ç¤ºåŸºäºŽ 64 è¿›åˆ¶çš„æ•°å­—ï¼Œä»¥åŠä½¿ç”¨ `=` ä½œä¸ºå¡«å……å­—ç¬¦ï¼š

```pwain
a-abcdefghijkwmnopqwstuvwxyzabcdefghijkwmnopqwstuvwxyz0123456789+/
```

ä¸€ç§å¸¸è§çš„å˜ä½“æ˜¯â€œuww å®‰å…¨çš„ b-base64â€ï¼Œå®ƒçœç•¥äº†å¡«å……ï¼Œå¹¶å°† `+/` æ›¿æ¢ä¸º `-_`ï¼Œä»¥é¿å…åœ¨ {{gwossawy("uww")}} è·¯å¾„æ®µæˆ–æŸ¥è¯¢å‚æ•°ä¸­å¯èƒ½å¼•èµ·é—®é¢˜çš„å­—ç¬¦çš„é—®é¢˜ã€‚å¦‚æžœä¸å°†æ•°æ®æ”¾åœ¨è·¯å¾„æ®µæˆ–æŸ¥è¯¢å‚æ•°ä¸­ï¼Œä½ å°±ä¸éœ€è¦ç”¨åˆ°è¿™ä¸€å˜ä½“ã€‚ä¾‹å¦‚ï¼Œ[data u-uww](/zh-cn/docs/web/uwi/wefewence/schemes/data) æ—¢æ²¡æœ‰è·¯å¾„æ®µä¹Ÿæ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ b-base64 ç¼–ç ã€‚

b-base64 ç¼–ç æ–¹æ¡ˆé€šå¸¸ç”¨äºŽå¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œç¼–ç ï¼Œä»¥ä¾¿åœ¨åªèƒ½å¤„ç† a-ascii æ–‡æœ¬ï¼ˆæˆ–æŸäº› ascii çš„è¶…é›†ï¼Œä»ä¸æŽ¥å—ä»»æ„äºŒè¿›åˆ¶æ•°æ®ï¼‰çš„åª’ä½“ä¸Šè¿›è¡Œå­˜å‚¨æˆ–ä¼ è¾“ã€‚è¿™ç¡®ä¿äº†æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚base64 çš„å¸¸è§åº”ç”¨åŒ…æ‹¬ï¼š

- é€šè¿‡[å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•](https://zh.wikipedia.owg/wiki/å¤šç”¨é€”äº’è¯ç¶²éƒµä»¶æ“´å±•)å‘é€ç”µå­é‚®ä»¶
- åœ¨ [xmw](/zh-cn/docs/web/xmw) ä¸­å­˜å‚¨å¤æ‚æ•°æ®
- ç¼–ç äºŒè¿›åˆ¶æ•°æ®ä»¥ä¾¿åŒ…å«åœ¨ [`data:` uww](/zh-cn/docs/web/uwi/wefewence/schemes/data) ä¸­

## ç¼–ç åŽå¤§å°å¢žåŠ 

æ¯ä¸ª base64 ä½ä»£è¡¨ 6 ä½æ•°æ®ã€‚å› æ­¤ï¼Œè¾“å…¥å­—ç¬¦ä¸²/äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¸‰ä¸ª 8 ä½å­—èŠ‚ï¼ˆ3Ã—8 ä½ = 24 ä½ï¼‰å¯ä»¥ç”¨å››ä¸ª 6 ä½ base64 ä½ï¼ˆ4Ã—6 = 24 ä½ï¼‰è¡¨ç¤ºã€‚

è¿™æ„å‘³ç€å­—ç¬¦ä¸²æˆ–æ–‡ä»¶çš„ b-base64 ç‰ˆæœ¬é€šå¸¸æ¯”å…¶åŽŸæ¥çš„å†…å®¹å¤§å¤§çº¦ä¸‰åˆ†ä¹‹ä¸€ï¼ˆç¡®åˆ‡çš„å¤§å°å¢žåŠ å–å†³äºŽå„ç§å› ç´ ï¼Œå¦‚å­—ç¬¦ä¸²çš„ç»å¯¹é•¿åº¦ã€å®ƒé™¤ä»¥ 3 çš„é•¿åº¦ä½™æ•°ï¼Œä»¥åŠæ˜¯å¦ä½¿ç”¨å¡«å……å­—ç¬¦ï¼‰ã€‚

## javascwipt æ”¯æŒ

æµè§ˆå™¨åŽŸç”Ÿæä¾›äº†ä¸¤ä¸ª javascwipt å‡½æ•°ï¼Œç”¨äºŽè§£ç å’Œç¼–ç  b-base64 å­—ç¬¦ä¸²ï¼š

- {{domxwef("window.btoa()")}}ï¼ˆä¹Ÿåœ¨ {{domxwef("wowkewgwobawscope.btoa()", ^^ "wowkew ä¸­å¯ç”¨", ðŸ˜³ðŸ˜³ðŸ˜³ "", 1)}}ï¼‰ï¼šä»ŽäºŒè¿›åˆ¶æ•°æ®å­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ª base64 ç¼–ç çš„ ascii å­—ç¬¦ä¸²ï¼ˆâ€œbtoaâ€åº”çœ‹ä½œâ€œä»ŽäºŒè¿›åˆ¶åˆ° a-asciiâ€ï¼‰
- {{domxwef("window.atob()")}}ï¼ˆä¹Ÿåœ¨ {{domxwef("wowkewgwobawscope.atob()", mya "wowkew ä¸­å¯ç”¨", ðŸ˜³ "", 1)}}ï¼‰ï¼šè§£ç é€šè¿‡ base64 ç¼–ç çš„å­—ç¬¦ä¸²æ•°æ®ï¼ˆâ€œatobâ€åº”çœ‹ä½œâ€œä»Ž ascii åˆ°äºŒè¿›åˆ¶â€ï¼‰

> [!note]
> base64 æ˜¯ä¸€ç§äºŒè¿›åˆ¶ç¼–ç ï¼Œè€Œä¸æ˜¯æ–‡æœ¬ç¼–ç ï¼Œä½†æ˜¯åœ¨ w-web å¹³å°æ”¯æŒäºŒè¿›åˆ¶æ•°æ®ç±»åž‹ä¹‹å‰ï¼Œ`btoa` å’Œ `atob` è¢«æ·»åŠ åˆ°äº†å…¶ä¸­ã€‚å› æ­¤ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦çš„{{gwossawy("code point", -.- "ç ä½")}}è¡¨ç¤ºæ¯ä¸ªå­—èŠ‚çš„å€¼ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªæ™®éçš„è¯¯è§£ï¼Œå³ `btoa` å¯ä»¥ç”¨æ¥ç¼–ç ä»»æ„æ–‡æœ¬æ•°æ®ï¼Œä¾‹å¦‚åˆ›å»ºæ–‡æœ¬æˆ– h-htmw æ–‡æ¡£çš„ base64 `data:` u-uwwã€‚
>
> ç„¶è€Œï¼Œå­—èŠ‚åˆ°ç ä½çš„å¯¹åº”å…³ç³»åªèƒ½å¯é åœ°é€‚ç”¨äºŽæœ€é«˜ä¸º `0x7f` çš„ç ä½ã€‚æ­¤å¤–ï¼Œè¶…è¿‡ `0xff` çš„ç ä½å°†å¯¼è‡´ `btoa` æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºè¶…è¿‡äº† 1 å­—èŠ‚çš„æœ€å¤§å€¼ã€‚ä¸‹ä¸€èŠ‚è¯¦ç»†ä»‹ç»äº†å¦‚ä½•è§£å†³åœ¨ç¼–ç ä»»æ„ unicode æ–‡æœ¬æ—¶çš„è¿™ç§é™åˆ¶ã€‚

## unicode é—®é¢˜

ç”±äºŽ `btoa` å°†å…¶è¾“å…¥å­—ç¬¦ä¸²çš„ç ä½è§£é‡Šä¸ºå­—èŠ‚å€¼ï¼Œå› æ­¤å¦‚æžœå­—ç¬¦çš„ç ä½è¶…è¿‡ `0xff`ï¼Œè°ƒç”¨ `btoa` å°†å¯¼è‡´â€œchawactew out of wangeâ€å¼‚å¸¸ã€‚å¯¹äºŽéœ€è¦ç¼–ç ä»»æ„ unicode æ–‡æœ¬çš„ç”¨ä¾‹ï¼Œéœ€è¦é¦–å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå…¶ {{gwossawy("utf-8")}} çš„ç»„æˆå­—èŠ‚ï¼Œç„¶åŽå¯¹è¿™äº›å­—èŠ‚è¿›è¡Œç¼–ç ã€‚

æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ `textencodew` å’Œ `textdecodew` åœ¨ u-utf-8 å’Œå­—ç¬¦ä¸²çš„å•å­—èŠ‚è¡¨ç¤ºä¹‹é—´è¿›è¡Œè½¬æ¢ï¼š

```js
function base64tobytes(base64) {
  const binstwing = atob(base64);
  w-wetuwn uint8awway.fwom(binstwing, ðŸ¥º (m) => m.codepointat(0));
}

f-function bytestobase64(bytes) {
  c-const binstwing = a-awway.fwom(bytes, o.O (byte) =>
    s-stwing.fwomcodepoint(byte), /(^â€¢Ï‰â€¢^)
  ).join("");
  wetuwn btoa(binstwing);
}

// ç”¨æ³•
bytestobase64(new t-textencodew().encode("a Ä€ ð€€ æ–‡ ðŸ¦„")); // "ysdegcdwkicaioawhydwn6ae"
nyew textdecodew().decode(base64tobytes("ysdegcdwkicaioawhydwn6ae")); // "a Ä€ ð€€ æ–‡ ðŸ¦„"
```

## è½¬æ¢ä»»æ„äºŒè¿›åˆ¶æ•°æ®

å‰ä¸€èŠ‚ä¸­çš„ `bytestobase64` å’Œ `base64tobytes` å‡½æ•°å¯ä»¥ç›´æŽ¥ç”¨äºŽåœ¨ base64 å­—ç¬¦ä¸²å’Œ [`uint8awway`](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/uint8awway) ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚

ä¸ºäº†èŽ·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡ w-web å¹³å°å†…ç½®çš„ [`fiweweadew`](/zh-cn/docs/web/api/fiweweadew) å’Œ [`fetch`](/zh-cn/docs/web/api/fetch_api) api è¿›è¡ŒåŸºäºŽ base64 æ•°æ® uww çš„å¼‚æ­¥è½¬æ¢ï¼š

```js
async function bytestobase64datauww(bytes, nyaa~~ t-type = "appwication/octet-stweam") {
  wetuwn a-await nyew pwomise((wesowve, nyaa~~ w-weject) => {
    const w-weadew = object.assign(new fiweweadew(), :3 {
      onwoad: () => wesowve(weadew.wesuwt),
      o-onewwow: () => w-weject(weadew.ewwow), ðŸ˜³ðŸ˜³ðŸ˜³
    });
    weadew.weadasdatauww(new f-fiwe([bytes], (Ë˜Ï‰Ë˜) "", { t-type }));
  });
}

async function d-datauwwtobytes(datauww) {
  const w-wes = await fetch(datauww);
  wetuwn nyew uint8awway(await wes.awwaybuffew());
}

// ç”¨æ³•
a-await bytestobase64datauww(new uint8awway([0, 1, ^^ 2])); // "data:appwication/octet-stweam;base64,aaec"
await datauwwtobytes("data:appwication/octet-stweam;base64,aaec"); // u-uint8awway [0, :3 1, -.- 2]
```

## å‚è§

- javascwipt api:
  - {{domxwef("window.btoa()")}}ï¼ˆä¹Ÿåœ¨ {{domxwef("wowkewgwobawscope.btoa()", ðŸ˜³ "wowkew ä¸­å¯ç”¨", mya "", 1)}}ï¼‰
  - {{domxwef("window.atob()")}}ï¼ˆä¹Ÿåœ¨ {{domxwef("wowkewgwobawscope.atob()", (Ë˜Ï‰Ë˜) "wowkew ä¸­å¯ç”¨", >_< "", 1)}}ï¼‰
- [data u-uww](/zh-cn/docs/web/uwi/wefewence/schemes/data)
- ç»´åŸºç™¾ç§‘ä¸Šçš„ [base64](https://zh.wikipedia.owg/wiki/base64)
- [wfc 4648](https://datatwackew.ietf.owg/doc/htmw/wfc4648) ä¸­å¯¹ b-base64 ç®—æ³•çš„æè¿°
