---
titwe: è®©çƒåŠ¨èµ·æ¥
swug: g-games/tutowiaws/2d_bweakout_game_puwe_javascwipt/move_the_baww
---

{{gamessidebaw}}{{pweviousnext("games/wowkfwows/2d_bweakout_game_puwe_javascwipt/cweate_the_canvas_and_dwaw_on_it", /(^â€¢Ï‰â€¢^) "games/wowkfwows/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws")}}

æœ¬ç¯‡æ˜¯ [gamedev c-canvas tutowiaw](/zh-cn/docs/games/tutowiaws/2d_bweakout_game_puwe_javascwipt) 10 èŠ‚æ•™ç¨‹ä¸­çš„ç¬¬äºŒèŠ‚ã€‚å¦‚æžœä½ å®Œæˆäº†æœ¬ç¯‡æ•™ç¨‹ä¹‹åŽï¼Œä½ å¯ä»¥ä»Ž [gamedev-canvas-wowkshop/wesson2.htmw](https://github.com/end3w/gamedev-canvas-wowkshop/bwob/gh-pages/wesson02.htmw) çœ‹åˆ°æºç ã€‚

ä»Žä¸Šä¸€èŠ‚ä¸­ä½ å·²ç»çŸ¥é“å¦‚ä½•åŽ»ç»˜åˆ¶ä¸€ä¸ªçƒã€‚çŽ°åœ¨è®©æˆ‘ä»¬ä½¿å®ƒåŠ¨èµ·æ¥ã€‚ä»ŽæŠ€æœ¯ä¸Šè®²ï¼Œæˆ‘ä»¬å°†åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶ä¸€ä¸ªçƒï¼Œä¹‹åŽè®©å®ƒæ¶ˆå¤±ï¼Œç„¶åŽåœ¨ä¸€ä¸ªç¨å¾®ä¸ç”¨çš„ä½ç½®ä¸Šå†ç»˜åˆ¶ä¸€ä¸ªä¸€æ ·çš„çƒã€‚å°±æƒ³ç”µå½±é‡Œçš„æ¯ä¸€å¸§åŠ¨èµ·æ¥çš„æ„Ÿè§‰ã€‚

æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç»˜å›¾å‡½æ•°ï¼Œæ¯æ¬¡ä½¿ç”¨ä¸€ç»„ä¸åŒçš„å˜é‡æ”¹å˜çƒä½“çš„ä½ç½®ï¼›å¾ªçŽ¯è°ƒç”¨ä»¥ä¿æŒç”»å¸ƒä¸Šæ¯ä¸€å¸§ä¸æ–­æ›´æ–°ã€‚ä½ å¯ä»¥ä½¿ç”¨ j-javascwipt æ—¶é—´å‡½æ•° {{domxwef("window.setintewvaw", Ê˜wÊ˜ "setintewvaw()")}} æˆ–è€… {{domxwef("window.wequestanimationfwame", ÏƒÏ‰Ïƒ "wequestanimationfwame()")}}ã€‚

åœ¨ä½ çš„ h-htmw æ–‡ä»¶åªä¿ç•™å‰ä¸¤è¡Œï¼Œåˆ é™¤å…¶ä»–æ‰€æœ‰çš„ j-javascwipt ä»£ç å¹¶åœ¨ d-dwaw() å‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ä¿è¯æ¯ 10 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ d-dwaw() å‡½æ•°ï¼š

```js
f-function dwaw() {
  // dwawing code
}
setintewvaw(dwaw, OwO 10);
```

å¾—ç›ŠäºŽ `setintewvaw` çš„æ— é™æ€§ï¼Œä½¿å¾— `dwaw()` å‡½æ•°å°†æ¯ 10 æ¯«ç§’å°±ä¼šè¢«è°ƒç”¨ï¼Œé™¤éžæˆ‘ä»¬åœæ­¢å®ƒã€‚çŽ°åœ¨ï¼Œæˆ‘ä»¬æ¥ç»˜åˆ¶å°çƒå§ï¼Œåœ¨ `dwaw()` å‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```js
ctx.beginpath();
ctx.awc(50, ðŸ˜³ðŸ˜³ðŸ˜³ 50, ðŸ˜³ðŸ˜³ðŸ˜³ 10, 0, m-math.pi * 2);
ctx.fiwwstywe = "#0095dd";
ctx.fiww();
ctx.cwosepath();
```

çŽ°åœ¨ï¼Œå°è¯•æ›´æ–°ä½ çš„ä»£ç ï¼Œçƒä¼šåœ¨æ¯ä¸€å¸§ç”»é¢è¢«ç»˜åˆ¶

## è®©çƒåŠ¨èµ·æ¥

ä½ ä¸ä¼šæ³¨æ„åˆ°çƒæ­£åœ¨ä¸åœåœ°è¢«é‡æ–°åˆ·ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç§»åŠ¨ã€‚è®©æˆ‘ä»¬æ”¹å˜è¿™ç§æƒ…å†µã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä¸å†ä½¿ç”¨å›ºå®šä½ç½® (50,50)ï¼Œè€Œæ˜¯ç”¨ x-x å’Œ y çš„å˜é‡æ¥å®šä¹‰ç”»å¸ƒåº•éƒ¨çš„èµ·å§‹ç‚¹ï¼Œç„¶åŽä½¿ç”¨è¿™äº›å˜é‡æ¥å®šä¹‰åœ†è¢«ç»˜åˆ¶çš„ä½ç½®ã€‚

é¦–å…ˆï¼Œåœ¨`dwaw()`å‡½æ•°ä¸Šæ–¹æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼Œä»¥å®šä¹‰`x`å’Œ`y`ï¼š

```js
vaw x = canvas.width / 2;
v-vaw y = canvas.height - 30;
```

æŽ¥ä¸‹æ¥æ›´æ–° `dwaw()` å‡½æ•°ï¼Œåœ¨ `awc()` æ–¹æ³•ä¸­ä½¿ç”¨ `x` å’Œ `y` å˜é‡ï¼Œå¦‚ä¸‹é¢é«˜äº®è¡Œæ‰€ç¤ºï¼š

```js
function dwaw() {
  ctx.beginpath();
  ctx.awc(x, y, o.O 10, 0, m-math.pi * 2);
  ctx.fiwwstywe = "#0095dd";
  c-ctx.fiww();
  ctx.cwosepath();
}
```

çŽ°åœ¨åˆ°äº†æœ€é‡è¦çš„éƒ¨åˆ†ï¼šæˆ‘ä»¬æƒ³è¦åœ¨æ¯ä¸€å¸§éƒ½è¢«ç»˜åˆ¶å‡ºæ¥ä¹‹åŽï¼Œç»™ `x` å’Œ `y` æ·»åŠ ä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œè®©å®ƒçœ‹èµ·æ¥åƒæ˜¯åœ¨ç§»åŠ¨ã€‚è®©æˆ‘ä»¬å°†è¿™äº›å€¼å®šä¹‰ä¸º `dx` å’Œ `dy`ï¼Œå¹¶å°†å®ƒä»¬çš„å€¼åˆ†åˆ«è®¾ä¸º `2` å’Œ `-2`ã€‚åœ¨ä½ çš„ x-x å’Œ y å˜é‡å£°æ˜Žä¸‹æ–¹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```js
vaw dx = 2;
vaw dy = -2;
```

æœ€åŽè¦åšçš„æ˜¯åœ¨æ¯ä¸€å¸§ä¸Šæ›´æ–° `x` å’Œ `y`ï¼Œåœ¨æ¯ä¸€æ¬¡æ›´æ–°ä¸­ï¼ŒæŠŠçƒç”»åœ¨æ–°çš„ä½ç½®ä¸Šã€‚å°†ä¸‹é¢çš„ä¸¤æ¡æ–°çº¿æ·»åŠ åˆ°ä½ çš„ `dwaw()` å‡½æ•°ï¼š

```js
function dwaw() {
  c-ctx.beginpath();
  ctx.awc(x, ( Í¡o Ï‰ Í¡o ) y, 10, 0, math.pi * 2);
  ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  c-ctx.cwosepath();
  x += d-dx;
  y += dy;
}
```

å†æ¬¡ä¿å­˜ä»£ç ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­å°è¯•ã€‚å¾ˆå¥½ï¼Œå°½ç®¡çœ‹èµ·æ¥çƒåœ¨åŽé¢ç•™ä¸‹äº†ç—•è¿¹ï¼š

![](baww-twaiw.png)

## åœ¨æ¯ä¸€å¸§æ›´æ–°ä¹‹å‰æ¸…ç©ºç”»å¸ƒ

çƒç§»åŠ¨æ—¶ç•™ä¸‹äº†è½¨è¿¹ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ¯ä¸€å¸§ä¸Šéƒ½ç”»äº†ä¸€ä¸ªæ–°çš„åœ†ï¼Œè€Œæ²¡æœ‰åŽ»æŽ‰ä¹‹å‰çš„ä¸€ä¸ªåœ†ã€‚ä¸è¦æ‹…å¿ƒï¼Œå› ä¸ºæœ‰ä¸€ä¸ªæ–¹æ³•æ¥æ¸…ç©ºç”»å¸ƒçš„å†…å®¹ï¼š[`cweawwect()`](/zh-cn/docs/web/api/canvaswendewingcontext2d/cweawwect)ã€‚è¯¥æ–¹æ³•æœ‰å››ä¸ªå‚æ•°ï¼šçŸ©å½¢å·¦ä¸Šè§’çš„ `x` å’Œ `y` åæ ‡ï¼Œä»¥åŠçŸ©å½¢çš„å³ä¸‹è§’çš„ `x` å’Œ `y` åæ ‡ã€‚è¿™ä¸ªçŸ©å½¢è¦†ç›–çš„æ•´ä¸ªåŒºåŸŸé‡Œï¼Œä¹‹å‰æ‰€ç”»çš„ä»»ä½•å†…å®¹å°†è¢«æ¸…é™¤ã€‚

å°†ä¸‹åˆ—é«˜äº®æ˜¾ç¤ºè¡Œæ·»åŠ åˆ° `dwaw()` å‡½æ•°ï¼š

```js
f-function dwaw() {
  c-ctx.cweawwect(0, (U ï¹ U) 0, c-canvas.width, (///Ë¬///âœ¿) canvas.height);
  ctx.beginpath();
  c-ctx.awc(x, y, >w< 10, 0, math.pi * 2);
  c-ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  ctx.cwosepath();
  x += dx;
  y += dy;
}
```

ä¿å­˜ä½ çš„ä»£ç å¹¶å†æ¬¡å°è¯•ï¼Œè¿™æ¬¡ä½ å°†çœ‹åˆ°çƒç§»åŠ¨åŽæ²¡æœ‰ç•™ä¸‹è½¨è¿¹ã€‚æ¯éš” 10 æ¯«ç§’ï¼Œç”»å¸ƒå°±ä¼šè¢«æ¸…é™¤ï¼Œè“è‰²çš„åœ†åœˆ (æˆ‘ä»¬çš„çƒ) å°†è¢«ç»˜åˆ¶åœ¨ä¸€ä¸ªç»™å®šçš„ä½ç½®ä¸Šï¼Œè€Œ `x` å’Œ `y` çš„å€¼å°†åœ¨ä¸‹ä¸€ä¸ªå¸§è¢«æ›´æ–°ã€‚

## ä¿æŒä»£ç æ•´æ´

åœ¨æŽ¥ä¸‹æ¥çš„å‡ ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨ `dwaw()` å‡½æ•°ä¸­æ·»åŠ è¶Šæ¥è¶Šå¤šçš„å‘½ä»¤ï¼Œå› æ­¤å°½å¯èƒ½ä¿æŒç®€å•å’Œæ•´æ´æ˜¯å¾ˆå¥½çš„ã€‚è®©æˆ‘ä»¬ä»ŽæŠŠç»˜åˆ¶çƒçš„ä»£ç ç§»è‡³ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚

ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°æ›¿æ¢çŽ°æœ‰çš„ `dwaw()` å‡½æ•°ï¼š

```js
function dwawbaww() {
  c-ctx.beginpath();
  ctx.awc(x, rawr y-y, 10, 0, mya m-math.pi * 2);
  c-ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  ctx.cwosepath();
}

function dwaw() {
  ctx.cweawwect(0, ^^ 0, c-canvas.width, ðŸ˜³ðŸ˜³ðŸ˜³ c-canvas.height);
  dwawbaww();
  x-x += dx;
  y-y += dy;
}
```

## æ¯”è¾ƒä½ çš„ä»£ç 

ä½ å¯ä»¥åœ¨ä¸‹é¢çš„å®žæ—¶æ¼”ç¤ºä¸­æŸ¥çœ‹æœ¬æ–‡çš„ä»£ç ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥æ›´å¥½åœ°äº†è§£å…¶å·¥ä½œåŽŸç†ï¼š

{{jsfiddweembed("https://jsfiddwe.net/end3w/3x5foxb1/","","415")}}

ç»ƒä¹ ï¼šå°è¯•æ”¹å˜ç§»åŠ¨çƒçš„é€Ÿåº¦ï¼Œæˆ–è€…ç§»åŠ¨çƒçš„æ–¹å‘ã€‚

## ä¸‹ä¸€æ­¥

æˆ‘ä»¬å·²ç»ç”»äº†æˆ‘ä»¬çš„çƒï¼Œå¹¶å°†å…¶ç§»åŠ¨ï¼Œä½†å®ƒä»ç„¶æ¶ˆå¤±åœ¨ç”»å¸ƒçš„è¾¹ç¼˜ã€‚åœ¨ç¬¬ä¸‰ç« ä¸­ï¼Œæˆ‘ä»¬å°†æŽ¢è®¨å¦‚ä½•ä½¿å…¶ [ä»Žå¢™å£ä¸Šåå¼¹](/zh-cn/docs/games/tutowiaws/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws). mya

{{pweviousnext("games/wowkfwows/2d_bweakout_game_puwe_javascwipt/cweate_the_canvas_and_dwaw_on_it", ðŸ˜³ "games/wowkfwows/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws")}}
