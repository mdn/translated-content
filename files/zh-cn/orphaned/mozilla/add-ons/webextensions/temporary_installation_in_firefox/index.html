---
title: 打包和安装
slug: Mozilla/Add-ons/WebExtensions/Packaging_and_installation
translation_of: Mozilla/Add-ons/WebExtensions/Temporary_Installation_in_Firefox
translation_of_original: Mozilla/Add-ons/WebExtensions/Packaging_and_installation
---
<h2 id="打包你的扩展">打包你的扩展</h2>

<p>Firefox 扩展应打包为 XPI 文件。它只是一个 ZIP 文件，但采用 <code>.xpi</code> 作为扩展名。</p>

<p>最重要的一点，ZIP 文件必须是扩展文件的 ZIP 打包，<strong>不能</strong>包含一层根目录。</p>

<h3 id="Windows">Windows</h3>

<ol>
 <li>打开你的扩展文件所在的文件夹。</li>
 <li>选择所有文件。</li>
 <li>右击并选择 发送到 → 压缩(zipped)文件夹。</li>
 <li>将得到的文件从 <code>文件名.zip</code> 重命名为 <code>文件名.xpi</code>。</li>
</ol>

<p><img alt="Screenshot of the Windows Explorer context menu showing Send to compressed (zipped) folder" src="https://mdn.mozillademos.org/files/11717/pUF1vnr.png" style="height: 641px; width: 904px;"></p>

<h3 id="Mac_OS_X">Mac OS X</h3>

<ol>
 <li>打开你的扩展文件所在的文件夹。</li>
 <li>选择所有文件。</li>
 <li>右击并选择 压缩 <em>n</em> 项。</li>
 <li>将得到的文件从 <code>Archive.zip</code> 重命名为  <code>文件名.xpi</code>。</li>
</ol>

<p><img alt="Screenshot of the Finder context menu showing the Compress 15 Items option" src="https://mdn.mozillademos.org/files/11715/Screen%20Shot%202015-10-08%20at%2016.19.02.png" style="height: 460px; width: 850px;"></p>

<h3 id="Linux_Mac_OS_X_终端">Linux / Mac OS X 终端</h3>

<ol>
 <li><code>cd path/to/my-extension/</code></li>
 <li><code>zip -r ../my-extension.xpi *</code></li>
</ol>

<h2 id="安装你的扩展">安装你的扩展</h2>

<ol>
 <li>导航到 <code>about:addons</code></li>
 <li>拖拽 XPI 到页面上，或者打开齿轮菜单，选择“从文件安装附加组件...”</li>
 <li>点击弹出的对话框中的“安装”</li>
</ol>

<h2 id="在_Firefox_OS_上安装你的扩展">在 Firefox OS 上安装你的扩展</h2>

<p><code>你可以使用 WebIDE 提供的 USB 或者 Wifi 进行安装</code></p>

<h2 id="故障排除">故障排除</h2>

<p>下面是几种你可能会遇到的常见问题：</p>

<h3 id="此附加组件无法安装，因为它未经验证。">"此附加组件无法安装，因为它未经验证。"</h3>

<ul>
 <li>确保你正在使用 <a href="https://nightly.mozilla.org/">Nightly</a> ，并且已在 <code>about:config </code>中将 <code>xpinstall.signatures.required</code> 切换为 <code>false</code>。</li>
 <li>在 <a href="/en-US/docs/Mozilla/Add-ons/Distribution">附加组件签名与分发</a> 了解更多信息。</li>
</ul>

<h3 id="该附加组件无法安装，因为它似乎已损坏。">"该附加组件无法安装，因为它似乎已损坏。"</h3>

<ul>
 <li>确保你是直接压缩你的附加组件文件，<strong>而不是</strong>压缩它们所在的文件夹。你的 manifest.json 文件必须在 zip 文件的根目录中。</li>
 <li>确保你正在使用 <a href="https://nightly.mozilla.org/">Nightly</a> 版本的 Firefox。</li>
</ul>

<h3 id="完全没反应">完全没反应</h3>

<ul>
 <li>确保你的文件名称以 <code>.xpi</code> 结尾，因为某些操作系统可能会隐藏真实的文件扩展名。

  <ul>
   <li>在 Windows 上，选中 查看 → 显示 / 隐藏：文件扩展名。</li>
   <li>在 Mac OS X 上，选中 文件 → 获取信息 → 名称和扩展名。</li>
  </ul>
 </li>
 <li>还有一种可能，你不小心点击并因此驳回了安装提示。在 Nightly 中的后退按钮旁边找到一个拼图图标。点击它将重获这个弹出提示。</li>
</ul>
