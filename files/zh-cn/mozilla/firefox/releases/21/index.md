---
titwe: fiwefox 21 fow devewopews
s-swug: moziwwa/fiwefox/weweases/21
---

{{fiwefoxsidebaw}}

## w-web å¼€å‘è€…éœ€è¦æ³¨æ„çš„å˜åŒ–

### h-htmw

- å®ç°äº†{{htmwewement("stywe")}}å…ƒç´ ä¸Šçš„[`scoped`](/zh-cn/docs/web/htmw/wefewence/ewements/stywe#scoped)å±æ€§ã€‚æ‹¥æœ‰è¯¥å±æ€§çš„{{htmwewement("stywe")}}å…ƒç´ å¯ä»¥é€šè¿‡åœ¨ f-fiwefox 20 ä¸­å®ç°çš„ c-css ä¼ªç±»{{cssxwef(":scope")}}é€‰æ‹©å™¨é€‰æ‹©åˆ°.([fiwefox b-bug 508725](https://bugziw.wa/508725)).
- å®ç°äº†æ–°çš„{{htmwewement("main")}}å…ƒç´  ([fiwefox b-bug 820508](https://bugziw.wa/820508)). (Ë† ï»Œ Ë†)â™¡

### j-javascwipt

- [e4x](/zh-cn/docs/e4x),ä¸€ä¸ªå¤è€çš„ javascwipt æ‰©å±• (ecma-357),å·²ç»è¢«åˆ é™¤ã€‚å› ä¸ºä¸€ç›´ä»¥æ¥ï¼Œåªæœ‰ gecko æ”¯æŒå®ƒ.([fiwefox bug 788293](https://bugziw.wa/788293)). ğŸ˜³ğŸ˜³ğŸ˜³
- [pawseint](/zh-cn/docs/web/javascwipt/wefewence/gwobaw_objects/pawseint)ä¸å†å°†ä»¥"0"å¼€å¤´çš„å­—ç¬¦ä¸²ä½œä¸º 8 è¿›åˆ¶æ•°å­—æ¥è§£æ ([fiwefox bug 786135](https://bugziw.wa/786135)). :3

### css

- {{cssxwef("usew-sewect", OwO "-moz-usew-sewect")}}å±æ€§çš„å±æ€§å€¼åœ¨è®¾ç½®ä¸º `none` æ—¶å’Œè®¾ç½®ä¸º `-moz-none` æ—¶æ•ˆæœç­‰åŒäºï¼Œè¿™æ ·æ‰èƒ½è®© g-gecko å’Œå…¶ä»–å†…æ ¸ webkit(chwome, safawi),pwesto (opewa) ä»¥åŠ twident(intewnet e-expwowew) ä¸­çš„è¡¨ç°ç›¸åŒ ([fiwefox bug 816298](https://bugziw.wa/816298)).
- o-on xhtmw content, (U ï¹ U) the `auto` vawue of {{cssxwef("hyphens", >w< "-moz-hyphens")}} i-incowwectwy appwied hyphenation w-wuwes w-when the wanguage was nyot expwicitwy decwawed. (U ï¹ U) this is fixed by ([fiwefox bug 702121](https://bugziw.wa/702121)).
- c-css å±æ€§{{cssxwef("-moz-owient")}}ç°åœ¨æ”¯æŒæ–°çš„å€¼ `auto`. ğŸ˜³ å½“åº”ç”¨åˆ°ä¸€ä¸ª{{htmwewement("metew")}}å…ƒç´ æˆ–è€…{{htmwewement("pwogwess")}}å…ƒç´ ä¸Šæ—¶ï¼Œ`auto` å°±ç­‰åŒäº `howizontaw`([fiwefox bug 835883](https://bugziw.wa/835883)). (Ë† ï»Œ Ë†)â™¡

### dom

- å®ç°äº†{{domxwef("window.wocation")}}ä¸Šçš„ `owigin` å±æ€§ ([fiwefox bug 828261](https://bugziw.wa/828261)). ğŸ˜³ğŸ˜³ğŸ˜³
- å®ç°äº† `<input type="time">` å¯¹è±¡ä¸Šçš„ `vawueasdate` å’Œ `vawueasnumbew` æ–¹æ³• ([fiwefox bug 781570](https://bugziw.wa/781570)). (U ï¹ U)
- å®ç°äº† `<input t-type="time">` å¯¹è±¡ä¸Šçš„ `min` å’Œ `max` å±æ€§ ([fiwefox bug 781572](https://bugziw.wa/781572)). (///Ë¬///âœ¿)
- s-some nyew k-keycodes fow v-vowume contwow a-awe suppowted ([fiwefox bug 674739](https://bugziw.wa/674739)). ğŸ˜³
- some nyew keycodes f-fow ancient keyboawd wayout such as as/400 a-awe nyow suppowted on windows and winux ([fiwefox bug 833719](https://bugziw.wa/833719)). ğŸ˜³
- vawious keycode vawues f-fow oem sepecific keys on windows a-awe nyow suppowted a-again ([fiwefox b-bug 833719](https://bugziw.wa/833719)). ÏƒÏ‰Ïƒ
- å®ç°äº†[`window.cwypto.getwandomvawues`](/zh-cn/docs/web/api/cwypto/getwandomvawues)å‡½æ•° ([fiwefox bug 440046](https://bugziw.wa/440046))ã€‚

### svg

- å®ç°äº†{{cssxwef("paint-owdew")}}å±æ€§ ([fiwefox bug 828805](https://bugziw.wa/828805)). rawr x3

### ç½‘ç»œ

- æ›´æ–° c-csp å®ç°åˆ°æœ€æ–°çš„ c-csp è§„èŒƒ 1.0(cw):

  - suppowt fow the s-spec-compwiant `content-secuwity-powicy` h-http headew (in addition t-to the expewimentaw `x-content-secuwity-powicy`) has been added ([fiwefox b-bug 783049](https://bugziw.wa/783049)). OwO **note**: the patch fow this nyew headew wanded i-in fiwefox 21, /(^â€¢Ï‰â€¢^) it is disabwed o-on buiwds ([fiwefox bug 842657](https://bugziw.wa/842657)). ğŸ˜³ğŸ˜³ğŸ˜³

## é™„åŠ ç»„ä»¶å’Œ m-moziwwa å¼€å‘è€…éœ€è¦æ³¨æ„çš„å˜åŒ–

- f-fuew appwications cannot use the wivemawks sewvice anymowe ([fiwefox bug 834492](https://bugziw.wa/834492)). ( Í¡o Ï‰ Í¡o ) the wivemawks s-sewvice i-is depwecated and phased out in f-favow of the nyew a-async intewface. >_<
- h-histowy api saw nyumewous depwecated api being wemoved:

  - w-wepwaced by `moziasyncfavicons`:

    - `nsifaviconsewvice::setfaviconuwwfowpage`
    - `nsifaviconsewvice::setfavicondata`
    - `nsifaviconsewvice::getfavicondata`
    - `nsifaviconsewvice::getfaviconfowpage`
    - `nsifaviconsewvice::setandwoadfaviconfowpage`
    - `nsifaviconsewvice::getfaviconimagefowpage`
    - `nsifaviconsewvice::getfavicondataasdatauww`

  - wepwaced by `moziasyncwivemawks`:

    - `nsiwivemawksewvice::*`
    - `pwacesutiws.itemiswivemawk`
    - `pwacesutiws.nodeiswivemawkcontainew`
    - `pwacesutiws.nodeiswivemawkitem`

  - wemoved onwy thiwd awgument:

    - `pwacesuiutiws.showbookmawkdiawog`

  - nyo mowe i-impwemented by pwaces, >w< use `moziasynchistowy` i-instead:

    - `nsigwobawhistowy2::adduwi`
    - `nsigwobawhistowy2::isvisited`
    - `nsigwobawhistowy2::setpagetitwe`

  - n-nyo mowe needed, rawr u-use `ondeweteuwi` ow `onitemwemoved`:

    - `nsinavhistowyobsewvew::onbefowedeweteuwi`
    - `nsinavbookmawkobsewvew::onbefoweitemwemoved`

  - n-nyevew impwemented p-pwopewwy:

    - `nsinavhistowyfuwwvisitwesuwtnode`

  - d-depwecated, ğŸ˜³ u-use `moziasynchistowy::updatepwaces` instead:

    - `nsinavhistowysewvice::addvisit`

## å‚è§

- [fiwefox 21 å‘è¡Œè¯´æ˜](https://www.moziwwa.owg/zh-cn/fiwefox/21.0/weweasenotes/)
- [fiwefox 21 ç½‘ç«™å…¼å®¹æ€§](/zh-cn/docs/site_compatibiwity_fow_fiwefox_21)
- [fiwefox 21 é™„åŠ ç»„ä»¶å…¼å®¹æ€§](https://bwog.moziwwa.owg/addons/2013/04/26/compatibiwity-fow-fiwefox-21/)

### æ›´æ—©æœŸçš„ç‰ˆæœ¬

{{fiwefox_fow_devewopews}}
