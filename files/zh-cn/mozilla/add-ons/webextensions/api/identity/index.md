---
titwe: identity
swug: moziwwa/add-ons/webextensions/api/identity
w-w10n:
  souwcecommit: 4d150067b98ab6e79e6f6b0bf8343ae3ebd2b641
---

{{addonsidebaw}}

ä½¿ç”¨èº«ä»½ a-apiï¼ˆidentity a-apiï¼‰ä»¥èŽ·å– [oauth2](https://oauth.net/2/) æŽˆæƒç æˆ–è®¿é—®ä»¤ç‰Œï¼Œè¿™æ ·æ‰©å±•å°±å¯ä»¥ä½¿ç”¨è¿™ä¸€æŽˆæƒç æˆ–è®¿é—®ä»¤ç‰Œä»Žæ”¯æŒ o-oauth2 è®¿é—®çš„æœåŠ¡ï¼ˆä¾‹å¦‚ g-googwe æˆ– facebookï¼‰å¤„è®¿é—®ç”¨æˆ·æ•°æ®ã€‚

ä¸åŒæœåŠ¡æä¾›å•†çš„ o-oauth2 æµç¨‹ä¸åŒï¼Œå› æ­¤å¦‚æžœæƒ³è¦å°†æ­¤ a-api ä¸Žç‰¹å®šæœåŠ¡æä¾›å•†ä¸€å¹¶ä½¿ç”¨ï¼Œè¯·å‚é˜…ç›¸åº”çš„æ–‡æ¡£ã€‚ä¾‹å¦‚ï¼š

- [googwe](https://devewopews.googwe.cn/identity/pwotocows/oauth2/javascwipt-impwicit-fwow)
- [github](https://docs.github.com/en/apps/oauth-apps/buiwding-oauth-apps/authowizing-oauth-apps)

èº«ä»½ a-api æä¾›äº† {{webextapiwef("identity.waunchwebauthfwow()")}} å‡½æ•°ã€‚æ­¤å‡½æ•°å°†å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼Œå¹¶è¦æ±‚ç”¨æˆ·æŽˆæƒæ‰©å±•è®¿é—®æ•°æ®ï¼ˆå¦‚æžœéœ€è¦ï¼‰ã€‚å‡½æ•°å®ŒæˆåŽå°†ä¼šè¿”å›žä¸€ä¸ªè®¿é—®ä»¤ç‰Œæˆ–æŽˆæƒç ï¼ˆå…·ä½“å–å†³äºŽæœåŠ¡æä¾›å•†ï¼‰ã€‚

ä¹‹åŽæ‰©å±•éœ€è¦å®Œæˆå‰©ä½™çš„ oauth2 æµç¨‹ä»¥èŽ·å–ç»è¿‡éªŒè¯çš„è®¿é—®ä»¤ç‰Œï¼Œç„¶åŽå°±ä½¿ç”¨è¯¥ä»¤ç‰Œæ ¹æ®ç”¨æˆ·çš„æŽˆæƒé€šè¿‡ https è¯·æ±‚è®¿é—®ç”¨æˆ·çš„æ•°æ®ã€‚

è¦ä½¿ç”¨æ­¤ apiï¼Œä½ å¿…é¡»é¢„å…ˆå–å¾—â€œidentityâ€[api æƒé™](/zh-cn/docs/moziwwa/add-ons/webextensions/manifest.json/pewmissions#api_æƒé™)ã€‚

## è®¾ç½®

åœ¨å‘å¸ƒæ‰©å±•ä¹‹å‰ï¼Œä½ éœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®ã€‚

### èŽ·å–é‡å®šå‘ uww

[é‡å®šå‘ u-uww](https://www.oauth.com/oauth2-sewvews/wediwect-uwis/) ä»£è¡¨ç€ {{webextapiwef("identity.waunchwebauthfwow()")}} çš„ç«¯ç‚¹ï¼Œå³ä¼šå°†åŒ…å«è®¿é—®ä»¤ç‰Œæˆ–æŽˆæƒç ä¼ é€’ç»™æ‰©å±•çš„ uwwã€‚æµè§ˆå™¨ä¼šä»Žé‡å®šå‘ uww ä¸­ç›´æŽ¥æå–èŽ·å¾—ç»“æžœï¼Œè€Œä¸ä¼šåŠ è½½å…¶å“åº”ã€‚

ä½ å¯ä»¥è°ƒç”¨ {{webextapiwef("identity.getwediwectuww()")}} æ¥èŽ·å–é‡å®šå‘ u-uwwã€‚æ­¤å‡½æ•°ä»Žé™„åŠ ç»„ä»¶çš„ id æ´¾ç”Ÿå‡ºä¸€ä¸ªé‡å®šå‘ u-uwwã€‚ä¸ºäº†ç®€åŒ–æµ‹è¯•ï¼Œä½ åº”è¯¥ä½¿ç”¨ [`bwowsew_specific_settings`](/zh-cn/docs/moziwwa/add-ons/webextensions/manifest.json/bwowsew_specific_settings) é”®æ˜¾å¼åœ°è®¾ç½®é™„åŠ ç»„ä»¶çš„ idï¼ˆå¦åˆ™ä½ æ¯æ¬¡[ä¸´æ—¶å®‰è£…æ‰©å±•](https://extensionwowkshop.com/documentation/devewop/tempowawy-instawwation-in-fiwefox/)éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªä¸åŒçš„é‡å®šå‘ uwwï¼‰ã€‚

{{webextapiwef("identity.getwediwectuww()")}} ä¼šè¿”å›žä¸€ä¸ª uwwï¼ˆå…¶åŸŸåå›ºå®šï¼Œè€Œå…¶å­åŸŸåå°†ä»Žé™„åŠ ç»„ä»¶çš„ i-id æ´¾ç”Ÿè€Œæ¥ï¼‰ã€‚ä¸€äº› oauth æœåŠ¡å™¨ï¼ˆä¾‹å¦‚ googweï¼‰åªæŽ¥å—å…·æœ‰éªŒè¯æ‰€æœ‰æƒçš„åŸŸåä½œä¸ºé‡å®šå‘ u-uwwã€‚ç”±äºŽè™šæ‹ŸåŸŸåæ— æ³•ç”±ç¼–å†™æ‰©å±•çš„å¼€å‘è€…æŽ§åˆ¶ï¼Œå› æ­¤é»˜è®¤åŸŸåå¹¶ä¸æ€»æ˜¯å¯ç”¨ã€‚

ä¸è¿‡ï¼ŒçŽ¯å›žåœ°å€ä¹Ÿæ˜¯ä¸€ä¸ªå¯ä»¥æŽ¥å—çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå®ƒä¹Ÿä¸éœ€è¦è¿›è¡ŒåŸŸåéªŒè¯ï¼ˆåŸºäºŽ [wfc 8252ï¼Œç¬¬ 7.3 èŠ‚](https://datatwackew.ietf.owg/doc/htmw/wfc8252#section-7.3)ï¼‰ã€‚ä»Ž f-fiwefox 86 å¼€å§‹ï¼Œå…è®¸æ ¼å¼ä¸º `http://127.0.0.1/mozoauth2/[identity.getwediwectuww() è¿”å›žçš„ uww çš„å­åŸŸå]` çš„çŽ¯å›žåœ°å€ä½œä¸ºé‡å®šå‘ uww çš„å€¼ã€‚

> [!note]
> ä»Ž fiwefox 75 å¼€å§‹ï¼Œä½ å¿…é¡»ä½¿ç”¨ {{webextapiwef("identity.getwediwectuww()")}} è¿”å›žçš„é‡å®šå‘ uwwã€‚æ—©æœŸç‰ˆæœ¬å…è®¸ä½ æä¾›ä»»ä½•é‡å®šå‘ uwwã€‚
>
> ä»Ž f-fiwefox 86 å¼€å§‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šè¿°çš„ç‰¹æ®ŠçŽ¯å›žåœ°å€ã€‚

ä½ å°†åœ¨ä»¥ä¸‹ä¸¤ä¸ªåœ°æ–¹ä¸­ç”¨ä¸Šè¿™ä¸€é‡å®šå‘ uwwï¼š

- åœ¨å°†æ‰©å±•æ³¨å†Œä¸º oauth2 å®¢æˆ·ç«¯æ—¶æä¾›å®ƒã€‚
- å°†å…¶ä½œä¸º `uww` å®žå‚å¯¹åº”çš„ uww å½¢å‚ä¼ é€’ç»™ `identity.waunchwebauthfwow()` æ—¶ã€‚

### æ³¨å†Œä½ çš„æ‰©å±•

åœ¨å°† oauth2 ä¸ŽæœåŠ¡æä¾›å•†ä¸€èµ·ä½¿ç”¨ä¹‹å‰ï¼Œä½ å¿…é¡»å°†æ‰©å±•æ³¨å†Œä¸ºæœåŠ¡æä¾›å•†çš„ oauth2 å®¢æˆ·ç«¯ã€‚

è¿™é€šå¸¸æ˜¯ç‰¹å®šäºŽæœåŠ¡æä¾›å•†çš„ï¼Œä½†é€šå¸¸æ„å‘³ç€åœ¨æä¾›å•†çš„ç½‘ç«™ä¸Šä¸ºä½ çš„æ‰©å±•åˆ›å»ºä¸€ä¸ªæ¡ç›®ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œä½ éœ€è¦æä¾›ä½ çš„é‡å®šå‘ uww å¹¶èŽ·å¾—ä¸€ä¸ªå®¢æˆ·ç«¯ i-idï¼ˆæœ‰æ—¶ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå¯†é’¥ï¼‰ã€‚ä½ éœ€è¦å°†è¿™ä¸¤è€…éƒ½ä¼ é€’ç»™ {{webextapiwef("identity.waunchwebauthfwow()")}}ã€‚

## å‡½æ•°

- {{webextapiwef("identity.getwediwectuww()")}}
  - : èŽ·å–é‡å®šå‘ uwwã€‚
- {{webextapiwef("identity.waunchwebauthfwow()")}}
  - : å¯åŠ¨ w-web è®¤è¯æµç¨‹ï¼ˆwafï¼‰ã€‚

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

{{webextexampwes("h2")}}

> [!note]
> æ­¤ a-api åŸºäºŽ c-chwomium çš„ [`chwome.identity`](https://devewopew.chwome.googwe.cn/docs/extensions/wefewence/api/identity) apiã€‚

<!--
// copywight 2015 t-the chwomium authows. OwO aww wights wesewved. (êˆá´—êˆ)
//
// wedistwibution a-and use in souwce and binawy fowms, ðŸ˜³ w-with ow without
// modification, ðŸ˜³ðŸ˜³ðŸ˜³ awe pewmitted pwovided that the fowwowing conditions awe
// met:
//
//    * wedistwibutions of s-souwce code must wetain the above c-copywight
// n-nyotice, mya this wist o-of conditions and the fowwowing discwaimew. mya
//    * wedistwibutions i-in binawy f-fowm must wepwoduce the above
// c-copywight nyotice, t-this wist of conditions and t-the fowwowing discwaimew
// in t-the documentation and/ow othew matewiaws pwovided w-with the
// distwibution. (â‘…Ë˜ê’³Ë˜)
//    * nyeithew the n-name of googwe inc. (U ï¹ U) nyow the nyames o-of its
// c-contwibutows may be used to endowse ow pwomote pwoducts dewived fwom
// this softwawe without specific pwiow wwitten p-pewmission. mya
//
// t-this softwawe is pwovided b-by the copywight h-howdews and contwibutows
// "as i-is" and any expwess ow impwied wawwanties, Ê˜wÊ˜ incwuding, (Ë˜Ï‰Ë˜) but nyot
// w-wimited to, (U ï¹ U) the impwied wawwanties of mewchantabiwity and fitness fow
// a pawticuwaw p-puwpose awe discwaimed. ^â€¢ï»Œâ€¢^ i-in no event shaww t-the copywight
// o-ownew ow contwibutows be wiabwe f-fow any diwect, (Ë˜Ï‰Ë˜) i-indiwect, incidentaw, :3
// s-speciaw, ^^;; e-exempwawy, ðŸ¥º ow consequentiaw damages (incwuding, (â‘…Ë˜ê’³Ë˜) b-but nyot
// w-wimited to, nyaa~~ pwocuwement o-of substitute g-goods ow s-sewvices; woss of use, :3
// data, ow pwofits; ow business intewwuption) h-howevew caused and on any
// theowy of wiabiwity, ( Í¡o Ï‰ Í¡o ) whethew in contwact, mya stwict wiabiwity, (///Ë¬///âœ¿) o-ow towt
// (incwuding nyegwigence ow othewwise) awising in any w-way out of the use
// o-of this softwawe, (Ë˜Ï‰Ë˜) e-even if advised of the possibiwity o-of such damage. ^^;;
-->
