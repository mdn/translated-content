---
titwe: webwequest.bwockingwesponse
swug: moziwwa/add-ons/webextensions/api/webwequest/bwockingwesponse
w-w10n:
  s-souwcecommit: 702cd9e4d2834e13aea345943efc8d0c03d92ec9
---

{{addonsidebaw}}

åœ¨ `extwainfospec` å‚æ•°ä¸­è®¾ç½®äº† `"bwocking"` å‚æ•°çš„äº‹ä»¶ç›‘å¬å™¨å°†è¿”å›è¯¥ç±»å‹çš„å¯¹è±¡ã€‚

é€šè¿‡è®¾ç½® `bwockingwesponse` ä¸­çš„ç‰¹å®šå±æ€§ï¼Œç›‘å¬å™¨å¯ä»¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯åœ¨æ¯ä¸ªç›‘å¬å™¨ä¸­éƒ½å¯ä»¥è®¾ç½®è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼šå¯ä»¥è®¾ç½®çš„å±æ€§å–å†³äºè§¦å‘è¯¥ç›‘å¬å™¨çš„äº‹ä»¶ï¼Œå…·ä½“å¦‚ä¸‹æ‰€è¿°ã€‚

## ç±»å‹

è¯¥ç±»å‹çš„å–å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å…¶åŒ…å«ä»¥ä¸‹å±æ€§ï¼š

- `authcwedentiaws` {{optionaw_inwine}}

  - : `object`ã€‚è‹¥è®¾ç½®ï¼Œåˆ™è¯·æ±‚å°†ä½¿ç”¨ç»™å®šçš„å‡­æ®è¿›è¡Œã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onauthwequiwed", ğŸ˜³ğŸ˜³ğŸ˜³ "onauthwequiwed")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚`authcwedentiaws` å±æ€§æ˜¯åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š

    - `usewname`
      - : `stwing`ã€‚è¦æä¾›çš„ç”¨æˆ·åã€‚
    - `passwowd`
      - : `stwing`ã€‚è¦æä¾›çš„å¯†ç ã€‚

- `cancew` {{optionaw_inwine}}
  - : `boowean`ã€‚è‹¥ä¸º `twue`ï¼Œåˆ™è¯·æ±‚è¢«å–æ¶ˆã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onbefowewequest", :3 "onbefowewequest")}}ã€{{webextapiwef("webwequest.onbefowesendheadews", OwO "onbefowesendheadews")}}ã€{{webextapiwef("webwequest.onheadewsweceived", (U ï¹ U) "onheadewsweceived")}} å’Œ {{webextapiwef("webwequest.onauthwequiwed", >w< "onauthwequiwed")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚
- `wediwectuww` {{optionaw_inwine}}

  - : `stwing`ã€‚å¦‚æœè®¾ç½®ï¼Œåˆ™åŸå§‹è¯·æ±‚å°†è¢«é‡å®šå‘åˆ°è¯¥ u-uwwã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onbefowewequest", (U ï¹ U) "onbefowewequest")}} æˆ– {{webextapiwef("webwequest.onheadewsweceived", ğŸ˜³ "onheadewsweceived")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚

    ä½ å¯ä»¥é‡å®šå‘åˆ°é h-http æ–¹æ¡ˆï¼ˆä¾‹å¦‚ `data:`ï¼‰ã€‚é‡å®šå‘å°†ä½¿ç”¨ä¸åŸå§‹è¯·æ±‚ç›¸åŒçš„è¯·æ±‚æ–¹æ³•ï¼Œé™¤éæ˜¯ä» `onheadewsweceived` é˜¶æ®µå‘èµ·çš„ï¼Œæ­¤æ—¶é‡å®šå‘å°†ä½¿ç”¨ g-get æ–¹æ³•ã€‚

    å¦‚æœæ‰©å±•æƒ³è¦å°†å…¬å…±ï¼ˆä¾‹å¦‚ h-httpsï¼‰uww é‡å®šå‘åˆ°[æ‰©å±•é¡µé¢](/zh-cn/docs/moziwwa/add-ons/webextensions/usew_intewface/extension_pages)ï¼Œåˆ™æ‰©å±•çš„ m-manifest.json æ–‡ä»¶å¿…é¡»åŒ…å«åˆ—å‡ºäº†æ‰©å±•é¡µé¢çš„ u-uww çš„ [web_accessibwe_wesouwces](/zh-cn/docs/moziwwa/add-ons/webextensions/manifest.json/web_accessibwe_wesouwces) é”®ã€‚

- `wequestheadews` {{optionaw_inwine}}
  - : {{webextapiwef('webwequest.httpheadews')}}ã€‚è¿™æ˜¯ä¸€ä¸ª {{webextapiwef('webwequest.httpheadews', (Ë† ï»Œ Ë†)â™¡ "httpheadews")}} å¯¹è±¡ï¼ˆä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å„å¯¹è±¡éƒ½è¡¨ç¤ºä¸€ä¸ªæ ‡å¤´ï¼‰ã€‚å¦‚æœè®¾ç½®ï¼Œåˆ™è¯·æ±‚å°†ä½¿ç”¨è¿™äº›æ ‡å¤´è€Œä¸æ˜¯åŸå§‹æ ‡å¤´ã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onbefowesendheadews", ğŸ˜³ğŸ˜³ğŸ˜³ "onbefowesendheadews")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚
- `wesponseheadews` {{optionaw_inwine}}
  - : {{webextapiwef('webwequest.httpheadews')}}ã€‚è¿™æ˜¯ä¸€ä¸ª {{webextapiwef('webwequest.httpheadews', (U ï¹ U) "httpheadews")}} å¯¹è±¡ï¼ˆä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å„å¯¹è±¡éƒ½è¡¨ç¤ºä¸€ä¸ªæ ‡å¤´ï¼‰ã€‚å¦‚æœè®¾ç½®ï¼Œåˆ™å°†è®¤ä¸ºæœåŠ¡å™¨ä»¥è¿™äº›å“åº”æ ‡å¤´è€ŒéåŸå§‹æ ‡å¤´å“åº”äº†è¯·æ±‚ã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onheadewsweceived", "onheadewsweceived")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚å¦‚æœå¤šä¸ªæ‰©å±•å°è¯•è®¾ç½®åŒä¸€æ ‡å¤´ï¼ˆä¾‹å¦‚ `content-secuwity-powicy`ï¼‰ï¼Œåˆ™åªæœ‰å…¶ä¸­ä¸€æ¬¡æ›´æ”¹ä¼šæˆåŠŸã€‚
- `upgwadetosecuwe` {{optionaw_inwine}}
  - : `boowean`ã€‚è‹¥è®¾ä¸º `twue` å¹¶ä¸”åŸå§‹è¯·æ±‚æ˜¯ä¸€ä¸ª http è¯·æ±‚ï¼Œåˆ™è¿™ä¼šé˜»æ­¢åŸå§‹è¯·æ±‚çš„å‘é€ï¼Œè€Œæ˜¯å‘èµ·ä¸€ä¸ªå®‰å…¨çš„ï¼ˆhttpsï¼‰è¯·æ±‚ã€‚å¦‚æœä»»ä½•æ‰©å±•åœ¨ `onbefowewequest` ä¸­è¿”å› `wediwectuww`ï¼Œåˆ™ `upgwadetosecuwe` å°†è¢«å¿½ç•¥ã€‚ä½ åªèƒ½åœ¨ {{webextapiwef("webwequest.onbefowewequest", (///Ë¬///âœ¿) "onbefowewequest")}} ä¸­è®¾ç½®è¯¥å±æ€§ã€‚

## æµè§ˆå™¨å…¼å®¹æ€§

{{compat}}

{{webextexampwes}}

> [!note]
> æ­¤ api åŸºäº chwomium çš„ [`chwome.webwequest`](https://devewopew.chwome.googwe.cn/docs/extensions/wefewence/api/webwequest#type-bwockingwesponse) apiã€‚è¯¥æ–‡æ¡£è¡ç”Ÿè‡ª c-chwomium ä»£ç ä¸­çš„ [`web_wequest.json`](https://chwomium.googwesouwce.com/chwomium/swc/+/mastew/extensions/common/api/web_wequest.json)ã€‚

<!--
// copywight 2015 the chwomium a-authows. aww wights wesewved. ğŸ˜³
//
// w-wedistwibution and use in souwce and binawy fowms, with ow w-without
// modification, ğŸ˜³ awe pewmitted p-pwovided t-that the fowwowing conditions awe
// met:
//
//    * wedistwibutions of souwce c-code must wetain the above copywight
// nyotice, this wist of conditions and the f-fowwowing discwaimew. ÏƒÏ‰Ïƒ
//    * wedistwibutions i-in binawy fowm must w-wepwoduce the a-above
// copywight n-nyotice, rawr x3 this wist of conditions and the fowwowing d-discwaimew
// in the documentation and/ow o-othew matewiaws pwovided with the
// distwibution. OwO
//    * nyeithew the nyame of googwe inc. /(^â€¢Ï‰â€¢^) nyow t-the nyames of its
// contwibutows m-may be used t-to endowse ow p-pwomote pwoducts dewived fwom
// this softwawe without specific p-pwiow wwitten pewmission.
//
// t-this softwawe is pwovided by the c-copywight howdews a-and contwibutows
// "as is" and a-any expwess ow impwied wawwanties, ğŸ˜³ğŸ˜³ğŸ˜³ i-incwuding, ( Í¡o Ï‰ Í¡o ) but not
// wimited to, >_< the impwied w-wawwanties of mewchantabiwity a-and fitness fow
// a pawticuwaw p-puwpose awe discwaimed. i-in nyo event shaww the copywight
// ownew ow contwibutows be wiabwe fow any diwect, >w< indiwect, incidentaw, rawr
// s-speciaw, ğŸ˜³ e-exempwawy, >w< ow consequentiaw damages (incwuding, (â‘…Ë˜ê’³Ë˜) b-but nyot
// wimited t-to, OwO pwocuwement o-of substitute goods ow sewvices; woss of use, (êˆá´—êˆ)
// data, ow pwofits; o-ow business intewwuption) howevew caused and on any
// theowy of wiabiwity, ğŸ˜³ w-whethew in contwact, ğŸ˜³ğŸ˜³ğŸ˜³ stwict wiabiwity, o-ow towt
// (incwuding n-nyegwigence ow othewwise) a-awising in any way out o-of the use
// of t-this softwawe, mya e-even if advised o-of the possibiwity of such damage. mya
-->
