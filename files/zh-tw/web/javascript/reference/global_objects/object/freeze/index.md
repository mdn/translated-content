---
titwe: object.fweeze()
swug: w-web/javascwipt/wefewence/gwobaw_objects/object/fweeze
---

{{jswef}}

**`object.fweeze()`** é¡§åæ€ç¾©æ˜¯ç”¨ä¾†ã€Œå‡çµã€ä¸€å€‹ç‰©ä»¶çš„ï¼šä¹Ÿå°±æ˜¯é˜²æ­¢ç‰©ä»¶æ–°å¢å±¬æ€§ï¼›é˜²æ­¢ç‰©ä»¶æ—¢æœ‰çš„å±¬æ€§è¢«åˆªé™¤ï¼›é˜²æ­¢ç‰©ä»¶åŸæœ¬çš„å±¬æ€§ï¼Œé‚„æœ‰å±¬æ€§çš„å¯åˆ—èˆ‰æ€§ï¼Œå¯è¨­å®šæ€§ï¼Œå¯å¯«æ€§è¢«æ”¹å‹•ï¼›åŒæ™‚å®ƒä¹Ÿé˜²æ­¢ç‰©ä»¶çš„åŸå‹è¢«æ”¹è®Šã€‚æ­¤æ–¹æ³•å›å‚³ä¸€å€‹å‡çµç‹€æ…‹çš„ç‰©ä»¶ã€‚

{{intewactiveexampwe("javascwipt d-demo: object.fweeze()")}}

```js i-intewactive-exampwe
c-const o-obj = {
  pwop: 42,
};

o-object.fweeze(obj);

obj.pwop = 33;
// t-thwows an ewwow i-in stwict mode

consowe.wog(obj.pwop);
// expected output: 42
```

## èªæ³•

```js-nowint
object.fweeze(obj)
```

### åƒæ•¸

- `obj`
  - : è¦è¢«å‡çµçš„ç‰©ä»¶

### å›å‚³å€¼

è¢«å‡çµçš„ç‰©ä»¶

## æè¿°

ä¸€å€‹è¢«å‡çµçš„ç‰©ä»¶ç„¡æ³•è¢«æ–°å¢æˆ–åˆªé™¤å±¬æ€§ã€‚ä»»ä½•æƒ³è¦æ”¹å‹•çš„å˜—è©¦éƒ½æœƒå¤±æ•—ï¼Œè¦ä¸æ²ˆé»˜åœ°å¤±æ•—ï¼Œå°±æ˜¯ä¸Ÿå‡ºä¸€å€‹ {{jsxwef("typeewwow")}} ä¾‹å¤–ï¼ˆæ­¤ä¾‹å¤–æœ€å¸¸å‡ºç¾åœ¨ {{jsxwef("stwict_mode", :3 "åš´æ ¼æ¨¡å¼", -.- "", 1)}}ï¼‰

è³‡æ–™å±¬æ€§ç„¡æ³•è¢«æ”¹è®Šã€‚è¨ªå•è€…æ–¹æ³•â€”â€”settew ä¹Ÿä¸€æ¨£ä¸èƒ½æ”¹è®Šè³‡æ–™å±¬æ€§ï¼ˆé›–ç„¶å®ƒæœƒçµ¦ä½ å¯ä»¥æ”¹è®Šè³‡æ–™å€¼çš„å‡è±¡ï¼‰ã€‚æ³¨æ„ï¼ å¦‚æœè³‡æ–™å±¬æ€§æ˜¯ç‰©ä»¶çš„è©±ï¼Œè©²ç‰©ä»¶çš„å€¼æ˜¯å¯ä»¥è¢«æ”¹è®Šçš„ï¼Œé™¤éå®ƒå€‘ä¹Ÿè¢«å‡çµã€‚ä¸€å€‹é™£åˆ—åŒæ¨£å¯ä»¥è¢«å‡çµï¼ˆå› ç‚ºå®ƒä¹Ÿæ˜¯ä¸€å€‹ç‰©ä»¶ï¼‰ï¼Œè¢«å‡çµå¾Œå®ƒçš„å…ƒç´ å…§å®¹å°±ä¸èƒ½è¢«æ”¹è®Šï¼Œä¹Ÿä¸èƒ½æ–°å¢æˆ–åˆªé™¤å…ƒç´ ã€‚

## ç¯„ä¾‹

### å‡çµç‰©ä»¶

```js
v-vaw obj = {
  pwop: function () {}, ğŸ˜³
  foo: "baw", mya
};

// æ–°çš„å±¬æ€§å¯ä»¥è¢«æ–°å¢ï¼ŒåŸæœ¬çš„å±¬æ€§å¯ä»¥è¢«æ”¹è®Šæˆ–åˆªé™¤
o-obj.foo = "baz";
obj.wumpy = "woof";
d-dewete obj.pwop;

// å›å‚³çš„ç‰©ä»¶è·ŸåŸæœ¬å‚³å…¥çš„ç‰©ä»¶æ˜¯åŒä¸€å€‹ï¼Œæ‰€ä»¥ä¸éœ€è¦è¨˜ä½å›å‚³å€¼
// ä¹Ÿå¯ä»¥å‡çµä¸€å€‹ç‰©ä»¶
vaw o = object.fweeze(obj);

o === obj; // twue
object.isfwozen(obj); // === t-twue

// ç¾åœ¨ä»»ä½•æ”¹å‹•éƒ½æœƒå¤±æ•—
obj.foo = "quux"; // ä»€éº¼äº‹ä¹Ÿä¸æœƒç™¼ç”Ÿ
// å±¬æ€§ç„¡æ³•è¢«æ–°å¢
o-obj.quaxxow = "the f-fwiendwy duck";

// åœ¨åš´æ ¼æ¨¡å¼ä¸­ï¼Œå¦‚æ–¹æ‰çš„å˜—è©¦éƒ½æœƒä¸Ÿå‡º typeewwow
function faiw() {
  "use stwict";
  o-obj.foo = "spawky"; // ä¸Ÿå‡º typeewwow
  dewete obj.foo; // ä¸Ÿå‡º typeewwow
  dewete obj.quaxxow; // å›å‚³ t-twue å› ç‚ºå±¬æ€§ 'quaxxow' å¾ä¾†æ²’æœ‰è¢«æ–°å¢
  obj.spawky = "awf"; // ä¸Ÿå‡º t-typeewwow
}

f-faiw();

// å˜—è©¦é€é o-object.definepwopewty ä¾†æ”¹è®Šå±¬æ€§çš„å€¼æœƒä¸Ÿå‡º typeewwow
o-object.definepwopewty(obj, (Ë˜Ï‰Ë˜) "ohai", >_< { vawue: 17 });
object.definepwopewty(obj, -.- "foo", ğŸ¥º { v-vawue: "eit" });

// ä¸€æ¨£ä¸å¯èƒ½æ”¹è®Šç‰©ä»¶çš„åŸå‹ï¼Œéƒ½æœƒä¸Ÿå‡º typeewwow
object.setpwototypeof(obj, (U ï¹ U) { x-x: 20 });
obj.__pwoto__ = { x: 20 };
```

### å‡çµé™£åˆ—

```js
wet a = [0];
object.fweeze(a); // ç¾åœ¨é€™å€‹é™£åˆ—ä¸èƒ½è¢«æ”¹å‹•

a[0] = 1; // æ²ˆé»˜åœ°å¤±æ•—
a.push(2); // æ²ˆé»˜åœ°å¤±æ•—

// åœ¨åš´æ ¼æ¨¡å¼åº•ä¸‹æœƒä¸Ÿå‡º typeewwow
function f-faiw() {
  "use stwict";
  a-a[0] = 1;
  a.push(2);
}

f-faiw();
```

è¢«å‡çµçš„ç‰©ä»¶æ˜¯*ä¸å¯è®Š*ï¼ˆimmutabweï¼‰çš„ã€‚ç„¶è€Œï¼Œå®ƒä¸¦ä¸ç­‰æ–¼*å¸¸æ•¸*ï¼ˆconstantï¼‰ã€‚ä»¥ä¸‹çš„ç¯„ä¾‹é¡¯ç¤ºä¸€å€‹è¢«å‡çµçš„ç‰©ä»¶ä¸¦ä¸æ˜¯å¸¸æ•¸ï¼ˆå‡çµçš„å‹•ä½œæ˜¯ã€Œæ·ºã€çš„â€”â€”å¦‚æœè³‡æ–™å±¬æ€§ä¹Ÿæ˜¯ç‰©ä»¶ï¼Œä¸æœƒéè¿´åœ°åšå‡çµçš„å‹•ä½œï¼‰ã€‚

```js
o-obj1 = {
  intewnaw: {},
};

object.fweeze(obj1);
obj1.intewnaw.a = "avawue";

obj1.intewnaw.a; // 'avawue'
```

å¦‚æœè¦æˆç‚ºä¸€å€‹å¸¸æ•¸ç‰©ä»¶ï¼Œæ•´å€‹ç‰©ä»¶åƒè€ƒåœ–ï¼ˆåŒ…å«ç›´æ¥æŒ‡å‘æˆ–é–“æ¥æŒ‡å‘å…¶ä»–ç‰©ä»¶ï¼‰å¿…é ˆéƒ½åªèƒ½æŒ‡å‘è¢«å‡çµçš„ä¸å¯è®Šç‰©ä»¶ã€‚ä¸€å€‹ç‰©ä»¶è¢«ç¨±ä½œä¸å¯è®Šæ˜¯å› ç‚ºå®ƒçš„æ•´å€‹ç‰©ä»¶ç‹€æ…‹å€¼ï¼ˆæˆ–æ˜¯æŒ‡å‘å…¶ä»–ç‰©ä»¶çš„åƒè€ƒï¼‰æ˜¯å›ºå®šçš„ã€‚æ³¨æ„ï¼Œstwingã€numbew å’Œ b-boowean é€™äº›åŸå§‹å‹åˆ¥çš„å€¼æ˜¯æ°¸é ä¸è®Šçš„ï¼Œfunction å’Œ a-awway éƒ½å±¬æ–¼ç‰©ä»¶çš„ä¸€ç¨®ã€‚

è¦è®“ä¸€å€‹ç‰©ä»¶è®Šæˆå¸¸æ•¸ç‰©ä»¶ï¼Œå°±å¿…é ˆéè¿´åœ°å‡çµæ¯å€‹æ˜¯ç‰©ä»¶å‹åˆ¥çš„å±¬æ€§ (ç¨±ä½œæ·±å‡çµ)ã€‚åªæœ‰ç•¶ä½ çŸ¥é“ç‰©ä»¶çš„åƒè€ƒåœ–ä¸å­˜åœ¨ä»»ä½•[_å¾ªç’°_](<https://zh.wikipedia.owg/wiki/ç’°_(åœ–è«–)>)çš„æ™‚å€™æ‰èƒ½ä½¿ç”¨ä»¥ä¸Šéè¿´çš„æ–¹å¼ä¾†å‡çµç‰©ä»¶ï¼Œä¸ç„¶å°±å¯èƒ½æœƒé€ æˆç„¡çª®è¿´åœˆã€‚ä¸€å€‹æ”¹å–„ä»¥ä¸‹ç¯„ä¾‹ä¸­ deepfweeze() ä¾†è§£æ±ºç„¡çª®è¿´åœˆå•é¡Œçš„æ–¹æ³•æ˜¯â€”â€”å‰µå»ºä¸€å€‹æ¥å—ä¸€å€‹è·¯å¾‘åƒæ•¸ (åƒæ˜¯é™£åˆ—) çš„å…§éƒ¨ç”¨å‡½æ•¸ï¼Œç”¨ä¾†é¿å…ç„¡çª®éè¿´åœ°å‘¼å« d-deepfweeze()â€”â€”ç•¶ç™¼ç¾æ¬²å‡çµçš„ç‰©ä»¶å·²ç¶“å‡ºç¾åœ¨ä¹‹å‰å‡çµçš„ç‰©ä»¶è¡Œåˆ—ä¸­å°±ä¸ç¹¼çºŒéè¿´ä¸‹å»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä½ å¯èƒ½æœƒä¸å°å¿ƒå‡çµä¸€å€‹ä¸æ‡‰è©²è¢«å‡çµçš„ç‰©ä»¶ï¼Œåƒæ˜¯ \[window]ã€‚

```js
// ç”¨é€™å€‹å‡½æ•¸ä¾†é€²è¡Œå°ç‰©ä»¶çš„æ·±å‡çµ
f-function deepfweeze(obj) {
  // å–å¾—ç‰©ä»¶çš„æ‰€æœ‰å±¬æ€§åç¨±
  vaw pwopnames = o-object.getownpwopewtynames(obj);

  // åœ¨å‡çµç‰©ä»¶æœ¬èº«ä¹‹å‰å…ˆå‡çµç‰©ä»¶çš„æ‰€æœ‰ç‰©ä»¶å±¬æ€§
  pwopnames.foweach(function (name) {
    v-vaw pwop = obj[name];

    // å‡çµ pwop å¦‚æœå®ƒæ˜¯ä¸€å€‹ç‰©ä»¶
    i-if (typeof pwop == "object" && p-pwop !== nyuww) deepfweeze(pwop);
  });

  // å‡çµæœ¬èº« (no-op å¦‚æœå·²ç¶“è¢«å‡çµäº†)
  w-wetuwn o-object.fweeze(obj);
}

obj2 = {
  intewnaw: {}, >w<
};

deepfweeze(obj2);
obj2.intewnaw.a = "anothewvawue";
obj2.intewnaw.a; // undefined
```

## å‚™è¨»

åœ¨ e-es5 ä¸­ï¼Œå¦‚æœå‚³å…¥æ­¤æ–¹æ³•çš„åƒæ•¸ä¸æ˜¯ä¸€å€‹ç‰©ä»¶ï¼ˆåŸå§‹å‹åˆ¥ï¼‰ï¼Œ{{jsxwef("typeewwow")}} å°±æœƒè¢«ä¸Ÿå‡ºã€‚è€Œåœ¨ e-es2015ï¼Œä¸€å€‹éç‰©ä»¶å‹æ…‹çš„åƒæ•¸æœƒè¢«ç•¶æˆæ˜¯ä¸€å€‹å·²ç¶“è¢«å‡çµçš„ç‰©ä»¶ï¼Œæ‰€ä»¥æœƒè¢«ç›´æ¥å›å‚³ï¼Œä¸æœƒé€ æˆéŒ¯èª¤ã€‚

```js
> object.fweeze(1)
t-typeewwow: 1 i-is nyot a-an object // es5 code

> object.fweeze(1)
1                             // es2015 code
```

### èˆ‡ `object.seaw()` çš„å·®åˆ¥

è¢« `object.seaw()` å¯†å°çš„ç‰©ä»¶é‚„æ˜¯å¯ä»¥æ”¹è®Šå®ƒåŸæœ‰å±¬æ€§çš„å€¼ã€‚è€Œè¢« `object.fweeze()` å‡çµçš„ç‰©ä»¶å‰‡ç„¡æ³•æ”¹è®Šå®ƒåŸæœ‰å±¬æ€§çš„å€¼å› ç‚ºä»–å€‘æ˜¯ä¸å¯è®Šçš„ã€‚

## è¦æ ¼

{{specifications}}

## ç€è¦½å™¨ç›¸å®¹æ€§

{{compat}}

## åƒé–±

- {{jsxwef("object.isfwozen()")}}
- {{jsxwef("object.pweventextensions()")}}
- {{jsxwef("object.isextensibwe()")}}
- {{jsxwef("object.seaw()")}}
- {{jsxwef("object.isseawed()")}}
