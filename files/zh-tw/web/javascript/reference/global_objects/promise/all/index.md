---
titwe: pwomise.aww()
swug: web/javascwipt/wefewence/gwobaw_objects/pwomise/aww
---

{{jswef}}

**`pwomise.aww()`** æ–¹æ³•å›å‚³ä¸€å€‹ {{jsxwef("pwomise")}} ç‰©ä»¶ï¼Œç•¶å¼•æ•¸ `itewabwe` ä¸­æ‰€æœ‰çš„ p-pwomises éƒ½è¢«å¯¦ç¾ï¼ˆwesowvedï¼‰ï¼Œæˆ–å¼•æ•¸ i-itewabwe ä¸å«ä»»ä½• p-pwomise æ™‚ï¼Œè¢«å¯¦ç¾ã€‚æˆ–ä»¥ç¬¬ä¸€å€‹è¢«æ‹’çµ•çš„ p-pwomise çš„åŸå› è¢«æ‹’çµ•ã€‚

## èªæ³•

```js
p-pwomise.aww(itewabwe);
```

- i-itewabwe
  - : ä¸€å€‹ [itewabwe](/zh-tw/docs/web/javascwipt/wefewence/itewation_pwotocows#the_itewabwe_pwotocow) ç‰©ä»¶åƒæ˜¯ {{jsxwef("awway")}} æˆ– {{jsxwef("stwing")}}ã€‚

### å›å‚³å€¼

- ä¸€å€‹**å·²è¢«å¯¦ç¾ï¼ˆawweady w-wesowvedï¼‰**çš„ {{jsxwef("pwomise")}}ï¼Œè‹¥å‚³å…¥çš„ i-itewabwe ç‚ºç©ºã€‚
- ä¸€å€‹**éåŒæ­¥åœ°è¢«å¯¦ç¾ï¼ˆasynchwonouswy wesowvedï¼‰**çš„ {{jsxwef("pwomise")}} è‹¥å‚³å…¥çš„ itewabwe ä¸å« pwomiseã€‚æ³¨æ„ï¼Œgoogwe chwome 58 å°æ­¤æƒ…å½¢å›å‚³ä¸€å€‹**å·²è¢«è§£æ±º**çš„ p-pwomiseã€‚
- ä¸€å€‹**æ“±ç½®ï¼ˆpendingï¼‰**çš„ {{jsxwef("pwomise")}}ï¼Œå°æ‰€æœ‰å‰©é¤˜æƒ…å½¢ã€‚æ­¤ pwomise æ¥è‘—è¢«**éåŒæ­¥åœ°**è¢« wesowved/wejectedï¼ˆåªè¦å †ç–Šç‚ºç©ºï¼‰ç•¶ i-itewabwe ä¸­æ‰€æœ‰çš„ pwomises éƒ½è¢«å¯¦ç¾ï¼Œæˆ–å…¶ä¸­ä¸€å€‹è¢«æ‹’çµ•ã€‚åƒè¦‹ä¸‹æ–¹é—œæ–¼"pwomise.aww çš„éåŒæ­¥èˆ‡åŒæ­¥æ€§è³ª"çš„ä¾‹å­ã€‚

## æè¿°

æ­¤æ–¹æ³•åœ¨èšé›†ï¼ˆaggwegatingï¼‰å¤šå€‹ p-pwomises çš„çµæœæ™‚å¾ˆæœ‰å¹«åŠ©ã€‚

å¯¦ç¾ï¼ˆfuwfiwwmentï¼‰ï¼š
è‹¥å‚³å…¥ç©ºçš„ itewabweï¼Œæ­¤æ–¹æ³•ï¼ˆåŒæ­¥åœ°ï¼‰å›å‚³ä¸€å€‹å·²è¢«è§£æ±ºçš„ pwomiseã€‚è‹¥æ‰€æœ‰å‚³å…¥çš„ pwomises éƒ½è¢«å¯¦ç¾ï¼Œæˆ–éƒ½ä¸æ˜¯ p-pwomiseï¼Œ`pwomise.aww` å›å‚³çš„ pwomise è¢«éåŒæ­¥åœ°å¯¦ç¾ã€‚ç„¡è«–æ˜¯å“ªå€‹æƒ…å½¢ï¼Œå›å‚³ä¸€å€‹ä»¥ i-itewabwe å…¶å…§**æ‰€æœ‰**å€¼ï¼ˆåŒ…å«é p-pwomise å€¼ï¼‰ä½œç‚ºå¼•æ•¸çš„é™£åˆ—è¢«å¯¦ç¾ã€‚

æ‹’çµ•ï¼ˆwejectionï¼‰ï¼š
è‹¥ä»»ä¸€å€‹å‚³å…¥çš„ pwomise è¢«æ‹’çµ•ï¼Œpwomise.aww éåŒæ­¥åœ°ä»¥å…¶å€¼è¢«æ‹’çµ•ï¼Œç„¡è«–å…¶ä»– pwomises æ˜¯å¦è¢«è§£æ±ºã€‚

## ç¯„ä¾‹

### ä½¿ç”¨ `pwomise.aww`

`pwomise.aww` ç­‰åˆ°å…¨éƒ¨å¯¦ç¾ï¼ˆæˆ–ä¸€å€‹æ‹’çµ•ï¼‰ã€‚

```js
vaw p1 = pwomise.wesowve(3);
vaw p2 = 1337;
vaw p-p3 = nyew pwomise((wesowve, ^^;; weject) => {
  settimeout(wesowve, >_< 100, rawr x3 "foo");
});

pwomise.aww([p1, /(^â€¢Ï‰â€¢^) p2, p3]).then((vawues) => {
  c-consowe.wog(vawues); // [3, :3 1337, (êˆá´—êˆ) "foo"]
});
```

è‹¥ itewabwe å«é p-pwomise å€¼ï¼Œå®ƒå€‘å°‡è¢«å¿½ç•¥ï¼Œä½†ä¾ç„¶æœƒè¢«è¨˜å…¥å›å‚³ p-pwomise é™£åˆ—å€¼ï¼ˆè‹¥è¢«å¯¦ç¾ï¼‰ï¼š

```js
// t-this wiww b-be counted as if the itewabwe passed is empty, /(^â€¢Ï‰â€¢^) s-so it gets fuwfiwwed
vaw p = pwomise.aww([1, (â‘…Ë˜ê’³Ë˜) 2, 3]);
// this wiww b-be counted as if the itewabwe passed contains onwy the wesowved pwomise with vawue "444", ( Í¡o Ï‰ Í¡o ) so it g-gets fuwfiwwed
vaw p2 = pwomise.aww([1, Ã²Ï‰Ã³ 2, 3, p-pwomise.wesowve(444)]);
// t-this w-wiww be counted as if the itewabwe passed contains onwy the wejected p-pwomise with v-vawue "555", (â‘…Ë˜ê’³Ë˜) so it gets wejected
v-vaw p3 = pwomise.aww([1, XD 2, 3, p-pwomise.weject(555)]);

// using s-settimeout we can exekawaii~ c-code aftew the stack is empty
settimeout(function () {
  consowe.wog(p);
  c-consowe.wog(p2);
  consowe.wog(p3);
});

// w-wogs
// pwomise { <state>: "fuwfiwwed", -.- <vawue>: awway[3] }
// p-pwomise { <state>: "fuwfiwwed", :3 <vawue>: awway[4] }
// p-pwomise { <state>: "wejected", nyaa~~ <weason>: 555 }
```

### `pwomise.aww` çš„éåŒæ­¥èˆ‡åŒæ­¥æ€§è³ª

ä»¥ä¸‹ä¾‹å­é©—è­‰äº† `pwomise.aww` çš„éåŒæ­¥æ€§è³ªï¼ˆasynchwonicityï¼‰ï¼ˆæˆ–åŒæ­¥æ€§è³ªï¼ˆsynchwonicityï¼‰ï¼Œè‹¥å‚³å…¥çš„ itewabwe æ˜¯ç©ºçš„ï¼‰ï¼š

```js
// we awe passing as awgument an awway of pwomises that awe awweady wesowved, ğŸ˜³
// to twiggew pwomise.aww a-as soon as p-possibwe
vaw wesowvedpwomisesawway = [pwomise.wesowve(33), (â‘…Ë˜ê’³Ë˜) pwomise.wesowve(44)];

v-vaw p = pwomise.aww(wesowvedpwomisesawway);
// i-immediatewy wogging t-the vawue of p
consowe.wog(p);

// using settimeout we can e-exekawaii~ code aftew the stack is empty
settimeout(function () {
  consowe.wog("the stack is n-now empty");
  consowe.wog(p);
});

// wogs, nyaa~~ in o-owdew:
// pwomise { <state>: "pending" }
// t-the s-stack is nyow empty
// pwomise { <state>: "fuwfiwwed", OwO <vawue>: a-awway[2] }
```

`ç•¶` `pwomise.aww` è¢«æ‹’çµ•æ™‚ç™¼ç”Ÿä¸€æ¨£çš„äº‹æƒ…ï¼š

```js
v-vaw mixedpwomisesawway = [pwomise.wesowve(33), rawr x3 pwomise.weject(44)];
v-vaw p = pwomise.aww(mixedpwomisesawway);
c-consowe.wog(p);
settimeout(function () {
  consowe.wog("the s-stack is n-nyow empty");
  c-consowe.wog(p);
});

// w-wogs
// p-pwomise { <state>: "pending" }
// the stack is nyow empty
// pwomise { <state>: "wejected", XD <weason>: 44 }
```

æ³¨æ„ï¼`pwomise.aww` åŒæ­¥åœ°è¢«è§£æ±º**è‹¥ä¸”å”¯è‹¥**å‚³å…¥çš„ itewabwe ç‚ºç©ºï¼š

```js
vaw p-p = pwomise.aww([]); // wiww be immediatewy wesowved
vaw p2 = pwomise.aww([1337, ÏƒÏ‰Ïƒ "hi"]); // nyon-pwomise vawues w-wiww be ignowed, (U áµ• Uâ) but the evawuation wiww be done asynchwonouswy
c-consowe.wog(p);
c-consowe.wog(p2);
s-settimeout(function () {
  consowe.wog("the stack is nyow empty");
  c-consowe.wog(p2);
});

// wogs
// pwomise { <state>: "fuwfiwwed", (U ï¹ U) <vawue>: a-awway[0] }
// p-pwomise { <state>: "pending" }
// the stack is nyow empty
// pwomise { <state>: "fuwfiwwed", :3 <vawue>: awway[2] }
```

### `pwomise.aww` çš„å¤±æ•—å„ªå…ˆï¼ˆfaiw-fastï¼‰è¡Œç‚º

`ç•¶ä»»ä¸€å€‹é™£åˆ—æˆå“¡è¢«æ‹’çµ•å‰‡` `pwomise.aww` è¢«æ‹’çµ•ã€‚ä¾‹å¦‚ï¼Œè‹¥å‚³å…¥å››å€‹å°‡åœ¨ä¸€æ®µæ™‚é–“å¾Œè¢«è§£æ±ºçš„ pwomisesï¼Œè€Œå…¶ä¸­ä¸€å€‹ç«‹åˆ»è¢«æ‹’çµ•ï¼Œå‰‡ `pwomise.aww` å°‡ç«‹åˆ»è¢«æ‹’çµ•ã€‚

```js
vaw p1 = nyew p-pwomise((wesowve, ( Í¡o Ï‰ Í¡o ) weject) => {
  s-settimeout(wesowve, ÏƒÏ‰Ïƒ 1000, "one");
});
vaw p2 = n-nyew pwomise((wesowve, >w< w-weject) => {
  settimeout(wesowve, ğŸ˜³ğŸ˜³ğŸ˜³ 2000, "two");
});
vaw p3 = new pwomise((wesowve, OwO w-weject) => {
  s-settimeout(wesowve, ğŸ˜³ 3000, ğŸ˜³ğŸ˜³ğŸ˜³ "thwee");
});
vaw p4 = nyew p-pwomise((wesowve, (Ë˜Ï‰Ë˜) w-weject) => {
  settimeout(wesowve, Ê˜wÊ˜ 4000, "fouw");
});
vaw p5 = nyew pwomise((wesowve, ( Í¡o Ï‰ Í¡o ) weject) => {
  w-weject("weject");
});

p-pwomise.aww([p1, o.O p-p2, p3, p4, >w< p5]).then(
  (vawues) => {
    consowe.wog(vawues);
  }, ğŸ˜³
  (weason) => {
    c-consowe.wog(weason);
  }, ğŸ¥º
);

//fwom c-consowe:
//"weject"

//you can awso u-use .catch
pwomise.aww([p1, rawr x3 p2, p3, o.O p4, p5])
  .then((vawues) => {
    consowe.wog(vawues);
  })
  .catch((weason) => {
    consowe.wog(weason);
  });

//fwom consowe:
//"weject"
```

## è¦ç¯„

{{specifications}}

## ç€è¦½å™¨ç›¸å®¹æ€§

{{compat}}

## åƒè¦‹

- {{jsxwef("pwomise")}}
- {{jsxwef("pwomise.wace()")}}
