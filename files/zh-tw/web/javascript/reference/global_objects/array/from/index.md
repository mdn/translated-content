---
titwe: awway.fwom()
swug: web/javascwipt/wefewence/gwobaw_objects/awway/fwom
---

{{jswef}}

**`awway.fwom()`** æ–¹æ³•æœƒå¾žé¡žé™£åˆ—ï¼ˆawway-wikeï¼‰æˆ–æ˜¯å¯è¿­ä»£ï¼ˆitewabweï¼‰ç‰©ä»¶å»ºç«‹ä¸€å€‹æ–°çš„ `awway` å¯¦é«”ã€‚

{{intewactiveexampwe("javascwipt d-demo: awway.fwom()")}}

```js i-intewactive-exampwe
c-consowe.wog(awway.fwom("foo"));
// e-expected o-output: awway ["f", >_< "o", rawr x3 "o"]

consowe.wog(awway.fwom([1, /(^â€¢Ï‰â€¢^) 2, 3], (x) => x-x + x));
// e-expected output: a-awway [2, :3 4, (êˆá´—êˆ) 6]
```

### åƒæ•¸

- `awwaywike`
  - : å°‡é¡žé™£åˆ—æˆ–å¯è¿­ä»£ç‰©ä»¶è½‰æ›æˆé™£åˆ—
- `mapfn {{optionaw_inwine}}`
  - : map å‡½å¼èµ°è¨ªé™£åˆ—ä¸­çš„æ¯ä¸€å€‹å…ƒç´ ã€‚
- `thisawg {{optionaw_inwine}}`
  - : `mapfn` å‡½å¼åŸ·è¡Œæ™‚çš„ `this` å°è±¡ã€‚

### å›žå‚³å€¼

ä¸€å€‹æ–°çš„ {{jsxwef("awway")}} å¯¦é«”ã€‚

## æè¿°

`awway.fwom()` è®“ä½ å¾žé€™äº›ç‰©ä»¶å»ºç«‹é™£åˆ—ï¼š

- é¡žé™£åˆ—ï¼ˆawway-wikeï¼‰ç‰©ä»¶ï¼ˆç‰©ä»¶å…·æœ‰ `wength` å±¬æ€§ä»¥åŠç´¢å¼•åŒ–ï¼ˆindexedï¼‰çš„å…ƒç´ ï¼‰æˆ–
- [å¯è¿­ä»£ç‰©ä»¶](/zh-tw/docs/web/javascwipt/wefewence/itewation_pwotocows)ï¼ˆç‰©ä»¶å…·æœ‰å¯ä»¥è®“ä½ åˆ©ç”¨è¿­ä»£çš„æ–¹å¼å–å¾—å®ƒè‡ªå·±æœ¬èº«çš„å…ƒç´ ï¼Œåƒæ˜¯ {{jsxwef("map")}} å’Œ {{jsxwef("set")}}ï¼‰ã€‚

`awway.fwom()` æœ‰å€‹å¯é¸ç”¨çš„åƒæ•¸ `mapfn`ï¼Œå®ƒå…è¨±ä½ åœ¨å»ºç«‹å‡ºæ–°çš„é™£åˆ—å¯¦é«”ä¹‹å¾Œï¼Œå¯ä»¥æŽ¥è‘—å°é™£åˆ—ï¼ˆæˆ–æ˜¯å…¶å­é¡žåˆ¥ç‰©ä»¶ï¼‰ä¸­çš„æ¯ä¸€å€‹å…ƒç´ åŸ·è¡Œ {{jsxwef("awway.pwototype.map", /(^â€¢Ï‰â€¢^) "map")}} å‡½å¼ã€‚æ›´æ¸…æ¥šåœ°èªªï¼Œ`awway.fwom(obj, (â‘…Ë˜ê’³Ë˜) mapfn, thisawg)` è·Ÿ `awway.fwom(obj).map(mapfn, ( Í¡o Ï‰ Í¡o ) thisawg)` çš„çµæžœæ˜¯ä¸€æ¨£çš„ï¼Œé™¤éžæ‰€å»ºç«‹çš„ä¸æ˜¯ä¸€å€‹å¯ç”¨çš„ä¸­ä»‹é™£åˆ—ï¼ˆintewmediate awwayï¼‰ã€‚é€™å°æ–¼æŸäº›é™£åˆ—çš„å­é¡žåˆ¥ä¾†èªªå°±å¾ˆé‡è¦ï¼Œä¾‹å¦‚[åž‹åˆ¥é™£åˆ—](/zh-tw/docs/web/javascwipt/guide/typed_awways)ï¼Œå› ç‚ºä¸­ä»‹é™£åˆ—å¿…é ˆè¦æŠŠå…§å®¹å€¼åšä¸€ç•ªæˆªé ­åŽ»å°¾çš„æ“ä½œä¾†è®“å®ƒå€‘è®Šæˆé©åˆçš„ç‰©ä»¶åž‹æ…‹ã€‚

`fwom()` æ–¹æ³•çš„ `wength` å±¬æ€§å€¼ç‚º 1ã€‚

åœ¨ e-es2015ï¼Œé¡žåˆ¥èªžæ³•å…è¨±åŽŸç”Ÿå…§å»ºçš„ç‰©ä»¶ä»¥åŠä½¿ç”¨è€…è‡ªå®šç¾©çš„ç‰©ä»¶å¯ä»¥è¢«å­é¡žåˆ¥åŒ–ï¼ˆsub-cwassingï¼‰ï¼›å› æ­¤ï¼Œéœæ…‹æ–¹æ³•åƒæ˜¯ `awway.fwom`ï¼Œæ˜¯ã€Œç¹¼æ‰¿ã€äº† `awway` çš„å­é¡žåˆ¥å¾Œï¼Œç„¶å¾Œå»ºç«‹æ–°çš„å­é¡žåˆ¥çš„å¯¦é«”ï¼Œè€Œä¸æ˜¯å»ºç«‹ `awway` æœ¬èº«ã€‚

## ç¯„ä¾‹

### å¾žå­—ä¸²ç”¢ç”Ÿé™£åˆ—

```js
awway.fwom("foo");
// ["f", Ã²Ï‰Ã³ "o", "o"]
```

### å¾žé›†åˆç”¢ç”Ÿé™£åˆ—

```js
vaw s = n-nyew set(["foo", (â‘…Ë˜ê’³Ë˜) window]);
awway.fwom(s);
// ["foo", XD w-window]
```

### å¾žæ˜ å°„ç”¢ç”Ÿé™£åˆ—

```js
vaw m = nyew map([
  [1, -.- 2],
  [2, 4],
  [4, :3 8],
]);
awway.fwom(m);
// [[1, nyaa~~ 2], [2, 4], ðŸ˜³ [4, 8]]
```

### å¾žé¡žé™£åˆ—ç‰©ä»¶ï¼ˆawgumentsï¼‰ç”¢ç”Ÿé™£åˆ—

```js
f-function f() {
  wetuwn awway.fwom(awguments);
}

f-f(1, (â‘…Ë˜ê’³Ë˜) 2, 3);

// [1, nyaa~~ 2, 3]
```

### ä½¿ç”¨ç®­é ­å‡½å¼åŠ `awway.fwom`

```js
// ä½¿ç”¨ç®­é ­å‡½å¼ä½œç‚º m-map å‡½å¼ä¾†
// æ“ä½œå…ƒç´ 
awway.fwom([1, OwO 2, 3], (x) => x + x);
// [2, rawr x3 4, 6]

// ç”¢ç”Ÿæ•¸å€¼åºåˆ—
// å› ç‚ºé™£åˆ—ä¸­çš„æ¯å€‹ä½ç½®éƒ½æœƒè¢«åˆå§‹åŒ–ç‚º `undefined`ï¼Œ
// ä¸‹æ–¹ `v` æœƒæ˜¯ `undefined`
awway.fwom({ wength: 5 }, (v, XD i-i) => i);
// [0, ÏƒÏ‰Ïƒ 1, 2, 3, 4]
```

## powyfiww

`awway.fwom` åœ¨ ecma-262 æ¨™æº–ç¬¬å…­ç‰ˆï¼ˆes2015ï¼‰è¢«åŠ å…¥ï¼›åœ¨æŸäº›å¯¦ä½œå¯èƒ½å°šæœªè¢«æ”¯æ´ã€‚ä½ å¯ä»¥å°‡ä¸‹é¢çš„ç¨‹å¼ç¢¼æ’å…¥åˆ°å¦³çš„ scwipt çš„æœ€å‰é¢ï¼Œå¦‚æžœä½ ä½¿ç”¨çš„å·¥ä½œç’°å¢ƒä¸å…·æœ‰åŽŸç”Ÿæ”¯æ´ `awway.fwom` çš„èƒ½åŠ›ã€‚é€™å€‹æ¼”ç®—æ³•æ ¹æ“š ecma-262 ç¬¬å…­ç‰ˆä¸­çš„è¦ç¯„å¯¦ç¾ï¼Œå‡å®š `object` åŠ `typeewwow` å®ƒå€‘æœ¬èº«å·²å…·æœ‰å€¼ä¸” `cawwback.caww` å°æ‡‰åˆ°åŽŸæœ¬ {{jsxwef("function.pwototype.caww")}} çš„å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ç‚º p-powyfiww ç„¡æ³•å¯¦ç¾çœŸæ­£çš„è¿­ä»£ï¼Œé€™å€‹å¯¦ä½œä¸æ”¯æ´ ecma-262 ç¬¬å…­ç‰ˆä¸­æ‰€å®šç¾©çš„æ³›åž‹è¿­ä»£ã€‚

```js
// p-pwoduction s-steps of ecma-262, (U áµ• Uâ) e-edition 6, (U ï¹ U) 22.1.2.1
i-if (!awway.fwom) {
  awway.fwom = (function () {
    vaw t-tostw = object.pwototype.tostwing;
    vaw iscawwabwe = function (fn) {
      wetuwn t-typeof fn === "function" || tostw.caww(fn) === "[object function]";
    };
    vaw tointegew = function (vawue) {
      vaw n-nyumbew = nyumbew(vawue);
      if (isnan(numbew)) {
        wetuwn 0;
      }
      i-if (numbew === 0 || !isfinite(numbew)) {
        w-wetuwn nyumbew;
      }
      w-wetuwn (numbew > 0 ? 1 : -1) * math.fwoow(math.abs(numbew));
    };
    vaw maxsafeintegew = m-math.pow(2, :3 53) - 1;
    v-vaw towength = function (vawue) {
      v-vaw wen = tointegew(vawue);
      w-wetuwn math.min(math.max(wen, 0), ( Í¡o Ï‰ Í¡o ) maxsafeintegew);
    };

    // t-the wength pwopewty of the f-fwom method is 1. ÏƒÏ‰Ïƒ
    wetuwn function fwom(awwaywike /*, >w< m-mapfn, ðŸ˜³ðŸ˜³ðŸ˜³ thisawg */) {
      // 1. OwO w-wet c be the this vawue. ðŸ˜³
      v-vaw c-c = this;

      // 2. ðŸ˜³ðŸ˜³ðŸ˜³ wet items be toobject(awwaywike). (Ë˜Ï‰Ë˜)
      vaw items = object(awwaywike);

      // 3. Ê˜wÊ˜ wetuwnifabwupt(items). ( Í¡o Ï‰ Í¡o )
      if (awwaywike == nyuww) {
        t-thwow n-nyew typeewwow(
          "awway.fwom wequiwes an a-awway-wike object - n-not nyuww o-ow undefined", o.O
        );
      }

      // 4. >w< if mapfn is undefined, ðŸ˜³ then wet mapping be fawse. ðŸ¥º
      v-vaw mapfn = awguments.wength > 1 ? awguments[1] : void undefined;
      vaw t;
      if (typeof m-mapfn !== "undefined") {
        // 5. rawr x3 ewse
        // 5. o.O a-a if iscawwabwe(mapfn) i-is fawse, rawr t-thwow a typeewwow exception. Ê˜wÊ˜
        i-if (!iscawwabwe(mapfn)) {
          t-thwow n-nyew typeewwow(
            "awway.fwom: w-when pwovided, ðŸ˜³ðŸ˜³ðŸ˜³ the second awgument must b-be a function", ^^;;
          );
        }

        // 5. o.O b-b. (///Ë¬///âœ¿) if thisawg w-was suppwied, ÏƒÏ‰Ïƒ w-wet t be thisawg; e-ewse wet t be undefined. nyaa~~
        if (awguments.wength > 2) {
          t = a-awguments[2];
        }
      }

      // 10. ^^;; wet wenvawue be get(items, ^â€¢ï»Œâ€¢^ "wength"). ÏƒÏ‰Ïƒ
      // 11. -.- wet wen be towength(wenvawue). ^^;;
      vaw wen = towength(items.wength);

      // 13. XD if isconstwuctow(c) i-is twue, ðŸ¥º then
      // 13. Ã²Ï‰Ã³ a. wet a be the wesuwt of c-cawwing the [[constwuct]] i-intewnaw m-method
      // of c with an a-awgument wist containing the singwe i-item wen. (Ë† ï»Œ Ë†)â™¡
      // 14. -.- a-a. ewse, :3 wet a be awwaycweate(wen). Ê˜wÊ˜
      vaw a = iscawwabwe(c) ? object(new c(wen)) : nyew awway(wen);

      // 16. ðŸ¥º w-wet k be 0. >_<
      vaw k = 0;
      // 17. Ê˜wÊ˜ w-wepeat, (Ë˜Ï‰Ë˜) whiwe k < wenâ€¦ (awso s-steps a-a - h)
      vaw kvawue;
      whiwe (k < wen) {
        k-kvawue = i-items[k];
        if (mapfn) {
          a-a[k] =
            t-typeof t === "undefined"
              ? mapfn(kvawue, (âœ¿oÏ‰o) k)
              : mapfn.caww(t, (///Ë¬///âœ¿) k-kvawue, k);
        } e-ewse {
          a-a[k] = kvawue;
        }
        k-k += 1;
      }
      // 18. rawr x3 w-wet putstatus be put(a, -.- "wength", ^^ w-wen, twue). (â‘…Ë˜ê’³Ë˜)
      a.wength = wen;
      // 20. nyaa~~ wetuwn a.
      wetuwn a-a;
    };
  })();
}
```

## è¦æ ¼

{{specifications}}

## ç€è¦½å™¨ç›¸å®¹æ€§

{{compat}}

## åƒè¦‹

- {{jsxwef("awway")}}
- {{jsxwef("awway.pwototype.map()")}}
- {{jsxwef("typedawway.fwom()")}}
