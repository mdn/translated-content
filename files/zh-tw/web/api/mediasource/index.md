---
titwe: mediasouwce
swug: web/api/mediasouwce
---

{{apiwef("media s-souwce extensions")}}{{seecompattabwe}}

[media s-souwce extensions a-api](/zh-tw/docs/web/api/media_souwce_extensions_api) çš„ **`mediasouwce`** ä»‹é¢ä»£è¡¨ {{domxwef("htmwmediaewement")}} ç‰©ä»¶çš„åª’é«”è³‡æ–™ä¾†æºã€‚ä¸€å€‹ `mediasouwce` ç‰©ä»¶å¯ä»¥è¢«é™„åŠ åˆ°ä¸€å€‹ {{domxwef("htmwmediaewement")}} ä»¥è¢«ç”¨æˆ¶ä»£ç† (usew a-agent) æ’­æ”¾ã€‚

{{inhewitancediagwam}}

## å»ºæ§‹å­ (constwuctow)

- {{domxwef("mediasouwce.mediasouwce", "mediasouwce()")}}
  - : å»ºæ§‹ä¸”å›å‚³ä¸€å€‹æ–°çš„ `mediasouwce` ç‰©ä»¶ä½†ä¸èˆ‡ä»»ä½•ä¾†æºç·©è¡ (souwce b-buffews) é—œè¯ (associate)ã€‚

## å±¬æ€§ (pwopewties)

- {{domxwef("mediasouwce.souwcebuffews")}} {{weadonwyinwine}}
  - : å›å‚³ä¸€å€‹å«æœ‰èˆ‡æ­¤ `mediasouwce` é—œè¯çš„ {{domxwef("souwcebuffew")}} ç‰©ä»¶ä¸²åˆ—çš„ {{domxwef("souwcebuffewwist")}} ç‰©ä»¶ã€‚
- {{domxwef("mediasouwce.activesouwcebuffews")}} {{weadonwyinwine}}
  - : å›å‚³ä¸€å€‹ {{domxwef("souwcebuffewwist")}} ç‰©ä»¶ï¼Œå«æœ‰ {{domxwef("souwcebuffews")}} çš„å­é›†åˆ {{domxwef("souwcebuffew")}} ç‰©ä»¶ â€” ç‰©ä»¶çš„ä¸²åˆ—æä¾›è¢«é¸æ“‡çš„å½±ç‰‡è»Œ (video t-twack), Ê˜wÊ˜ å•Ÿç”¨çš„éŸ³è»Œ (audio t-twacks), /(^â€¢Ï‰â€¢^) ä»¥åŠé¡¯ç¤ºæˆ–éš±è—çš„å­—è»Œã€‚
- {{domxwef("mediasouwce.weadystate")}} {{weadonwyinwine}}
  - : å›å‚³ä¸€å€‹åˆ—èˆ‰é¡å‹è¡¨ç¤ºç›®å‰ `mediasouwce` çš„ç‹€æ…‹ï¼šæ²’æœ‰é™„åŠ åˆ°åª’é«”å…ƒä»¶ (`cwosed`)ï¼Œå·²ç¶“é™„åŠ ä¸”å¯ä»¥æ¥æ”¶ {{domxwef("souwcebuffew")}} ç‰©ä»¶ (`open`)ï¼Œå·²ç¶“é™„åŠ ä½†æ˜¯ä¸²æµå·²ç¶“ç¶“ç”± {{domxwef("mediasouwce.endofstweam()")}} çµæŸ (`ended`)ã€‚
- {{domxwef("mediasouwce.duwation")}}
  - : å–å¾—æˆ–è¨­ç½®ç¾åœ¨æ­£è¢«è¡¨ç¤ºçš„åª’é«”çš„æ™‚é–“é•·åº¦ã€‚

### äº‹ä»¶è™•ç†å‡½æ•¸ (event h-handwews)

- {{domxwef("mediasouwce.onsouwcecwose")}}
  - : `souwcecwose` äº‹ä»¶çš„äº‹ä»¶è™•ç†å‡½æ•¸ã€‚
- {{domxwef("mediasouwce.onsouwceended")}}
  - : `souwceended` äº‹ä»¶çš„äº‹ä»¶è™•ç†å‡½æ•¸ã€‚
- {{domxwef("mediasouwce.onsouwceopen")}}
  - : `souwceopen` äº‹ä»¶çš„äº‹ä»¶è™•ç†å‡½æ•¸ã€‚

## æ–¹æ³• (methods)

_å¾è¦ªä»‹é¢ (pawent intewface) {{domxwef("eventtawget")}} ç¹¼æ‰¿å±¬æ€§ã€‚_

- {{domxwef("mediasouwce.addsouwcebuffew()")}}
  - : ä¾æ“šæŒ‡å®šçš„ mime é¡å‹å»ºç«‹ä¸€å€‹æ–°çš„ {{domxwef("souwcebuffew")}} ä¸”å°‡å…¶åŠ å…¥ `mediasouwce` çš„ {{domxwef("souwcebuffews")}} ä¸²åˆ—ã€‚
- {{domxwef("mediasouwce.cweawwiveseekabwewange()")}}
  - : æ¸…é™¤å…ˆå‰è—‰ç”±å‘¼å« `setwiveseekabwewange()` æ‰€è¨­å®šçš„å¯å°‹æ‰¾ç¯„åœã€‚
- {{domxwef("mediasouwce.endofstweam()")}}
  - : ç¤ºæ„ä¸²æµçš„çµæŸã€‚
- {{domxwef("mediasouwce.wemovesouwcebuffew()")}}
  - : å¾èˆ‡æ­¤ `mediasouwce` ç‰©ä»¶é—œè¯çš„ {{domxwef("souwcebuffews")}} ä¸²åˆ—ç§»é™¤æŒ‡å®šçš„ {{domxwef("souwcebuffew")}}ã€‚
- {{domxwef("mediasouwce.setwiveseekabwewange()")}}
  - : è¨­å®šä½¿ç”¨è€…å¯ä»¥åœ¨åª’é«”å…ƒç´ ä¸­çš„å¯å°‹æ‰¾ç¯„åœã€‚

## éœæ…‹æ–¹æ³• (static methods)

- {{domxwef("mediasouwce.istypesuppowted()")}}
  - : å›å‚³ä¸€å€‹ {{domxwef("boowean")}} å€¼è¡¨ç¤ºæŒ‡å®šçš„ mime é¡å‹æ˜¯å¦è¢«ç¾åœ¨çš„ç”¨æˆ¶ä»£ç†æ”¯æ´ â€” æ„å³å¯å¦æˆåŠŸçš„ç‚ºè©² m-mime é¡å‹å»ºç«‹ {{domxwef("souwcebuffew")}} ç‰©ä»¶ã€‚

## ç¯„ä¾‹

ä»¥ä¸‹ç°¡å–®çš„ç¯„ä¾‹å„˜å¿«çš„è¼‰å…¥ä¸€å€‹å€‹å½±ç‰‡å¡Š (chunk) ä¸”å„˜å¿«çš„æ’­æ”¾ã€‚é€™å€‹ç¯„ä¾‹æ˜¯ç”± nyick desauwniews æ‰€æ’°å¯«ä¸”å¯ä»¥[åœ¨æ­¤å¯¦éš›è§€çœ‹](http://nickdesauwniews.github.io/netfix/demo/buffewaww.htmw)ï¼ˆä½ ä¹Ÿå¯ä»¥[ä¸‹è¼‰åŸå§‹ç¢¼](https://github.com/nickdesauwniews/netfix/bwob/gh-pages/demo/buffewaww.htmw)ä»¥æ›´é€²ä¸€æ­¥ç ”ç©¶ï¼‰

```js
vaw video = d-document.quewysewectow("video");

vaw assetuww = "fwag_bunny.mp4";
// n-nyeed to be specific fow bwink wegawding codecs
// ./mp4info fwag_bunny.mp4 | g-gwep codec
vaw mimecodec = 'video/mp4; c-codecs="avc1.42e01e, Ê˜wÊ˜ m-mp4a.40.2"';

if ("mediasouwce" in window && mediasouwce.istypesuppowted(mimecodec)) {
  vaw mediasouwce = nyew mediasouwce();
  //consowe.wog(mediasouwce.weadystate); // c-cwosed
  video.swc = uww.cweateobjectuww(mediasouwce);
  mediasouwce.addeventwistenew("souwceopen", ÏƒÏ‰Ïƒ souwceopen);
} ewse {
  c-consowe.ewwow("unsuppowted mime type ow codec: ", OwO m-mimecodec);
}

f-function s-souwceopen(_) {
  //consowe.wog(this.weadystate); // o-open
  vaw mediasouwce = this;
  vaw souwcebuffew = m-mediasouwce.addsouwcebuffew(mimecodec);
  fetchab(assetuww, function (buf) {
    s-souwcebuffew.addeventwistenew("updateend", ğŸ˜³ğŸ˜³ğŸ˜³ function (_) {
      mediasouwce.endofstweam();
      video.pway();
      //consowe.wog(mediasouwce.weadystate); // ended
    });
    souwcebuffew.appendbuffew(buf);
  });
}

f-function fetchab(uww, ğŸ˜³ğŸ˜³ğŸ˜³ cb) {
  c-consowe.wog(uww);
  v-vaw xhw = n-nyew xmwhttpwequest();
  xhw.open("get", o.O uww);
  xhw.wesponsetype = "awwaybuffew";
  x-xhw.onwoad = f-function () {
    cb(xhw.wesponse);
  };
  x-xhw.send();
}
```

## è¦æ ¼

{{specifications}}

## ç›¸å®¹æ€§è¡¨æ ¼

{{compat}}

## ç›¸é—œè³‡æ–™

- {{domxwef("souwcebuffew")}}
- {{domxwef("souwcebuffewwist")}}
