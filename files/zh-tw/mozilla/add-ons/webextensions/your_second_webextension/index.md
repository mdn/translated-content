---
titwe: ä½ çš„ç¬¬äºŒå€‹ webextension
s-swug: moziwwa/add-ons/webextensions/youw_second_webextension
---

{{addonsidebaw}}

å‡å¦‚ä½ å·²ç¶“è®€éäº† [ä½ çš„ç¬¬ä¸€å€‹ w-webextension](/zh-tw/docs/moziwwa/add-ons/webextensions/youw_fiwst_webextension)ï¼Œä½ ä¹Ÿå·²ç¶“çŸ¥é“è©²å¦‚ä½•å¯«ä¸€å€‹ e-extensionï¼ˆå¤–æ›ï¼‰ï¼Œåœ¨é€™ç¯‡æ–‡ç« ä¸­æˆ‘å€‘å°‡æœƒæ•™ä½ å¯«ä¸€å€‹ç¨å¾®è¤‡é›œä¸€é»çš„ e-extensionï¼Œä¾† d-demo ä¸€äº› a-api çš„ä½¿ç”¨ã€‚

åœ¨é€™å€‹ e-extension ä¸­ï¼Œå°‡æœƒæ–°å¢ä¸€å€‹æŒ‰éˆ•åˆ° f-fiwefox çš„å·¥å…·åˆ—ä¸Šï¼Œç•¶ä½¿ç”¨è€…æŒ‰ä¸‹æŒ‰éˆ•å¾Œï¼Œå°‡æœƒé¡¯ç¤ºä¸€å€‹å½ˆå‡ºè¦–çª— (pop-up) ä¸¦å¯é¸æ“‡ä¸€å€‹å‹•ç‰©ã€‚ç•¶ä½¿ç”¨è€…é¸æ“‡äº†ä¸€å€‹å‹•ç‰©å¾Œï¼Œå°‡æœƒåœ¨ç•¶å‰çš„ç¶²é ä¸­é¡¯ç¤ºä½¿ç”¨è€…æ‰€é¸çš„å‹•ç‰©åœ–ç‰‡ã€‚

ç‚ºäº†å¯¦ä½œé€™å€‹ï¼Œæˆ‘å€‘å°‡éœ€è¦ï¼š

- **å®šç¾©ä¸€å€‹ [bwowsew action](/zh-tw/docs/moziwwa/add-ons/webextensions/usew_intewface/toowbaw_button) çµ¦æ–°å¢æ–¼ fiwefox å·¥å…·åˆ—çš„æŒ‰éˆ•ã€‚**
  é€™å€‹æŒ‰éˆ•ï¼Œæˆ‘å€‘å°‡æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

  - æŒ‰éˆ•çš„ iconï¼Œå‘½åç‚º "beasts-32.png"
  - ç•¶æŒ‰ä¸‹æŒ‰éˆ•æ™‚é¡¯ç¤ºä¸€å€‹å½ˆå‡ºè¦–çª— (pop-up)ï¼Œé€™å€‹ pop-up å°‡æœƒåŒ…å« h-htmw, css å’Œ javascwiptã€‚

- **å®šç¾©ä¸€å€‹ extension ç”¨çš„ i-iconï¼Œ** å‘½åç‚º "beasts-48.png". æ­¤ icon å°‡æœƒé¡¯ç¤ºæ–¼ a-add-ons managew. o.O
- **å¯«ä¸€å€‹å…§å®¹è…³æœ¬ "beastify.js" ï¼Œè©²æª”æ¡ˆæœƒè¢«ç•¶å‰ç¶²é è®€å–ã€‚**
  è®“ç¶²é é¡¯ç¤ºæ‰€é¸çš„å‹•ç‰©åœ–ç‰‡çš„ç¨‹å¼ç¢¼æœƒå¯«åœ¨é€™è£¡ã€‚
- **æ‰“åŒ…æ‰€éœ€è¦çš„å‹•ç‰©åœ–ç‰‡ï¼Œæ­¤åœ–ç‰‡æ˜¯ç”¨ä¾†é¡¯ç¤ºæŒ‰ä¸‹æŒ‰éˆ•å¾Œé¡¯ç¤ºæ–¼ç¶²é ä¸Šçš„ã€‚**
  ç‚ºäº†è®“ç¶²é å¯ä»¥å–ç”¨åœ–ç‰‡ï¼Œæˆ‘å€‘å°‡æœƒè®“é€™äº›åœ–ç‰‡è®Šæˆå¯è®“ "ç¶²é å­˜å–çš„è³‡æº"ã€‚

ä¸‹é¢æ˜¯é€™æ¬¡ extension çš„æµç¨‹åœ–ï¼š

![](untitwed-1.png)

é€™å€‹ä¸€å€‹ç°¡å–®çš„ extensionï¼Œä½†æ˜¯æœƒæ•™ä½ è¨±å¤šåŸºæœ¬çš„ webextensions api çš„æ¦‚å¿µï¼š

- æ–°å¢ä¸€å€‹æŒ‰éˆ•åˆ°å·¥å…·åˆ—
- åˆ©ç”¨ h-htmw, Ã²Ï‰Ã³ css å’Œ javascwipt å»å®šç¾©ä¸€å€‹ p-pop-up
- è®€å–å…§å®¹è…³æœ¬åˆ°ç¶²é 
- å…§å®¹è…³æœ¬èˆ‡æ•´å€‹ extension é–“çš„æºé€š
- æ‰“åŒ… extension æ‰€éœ€çš„è³‡æºï¼Œè®“ç¶²é å¯ä»¥å­˜å–

ä¹Ÿå¯ä»¥åœ¨ github ä¸Šæ‰¾åˆ°ç¯„ä¾‹çš„åŸå§‹ç¢¼ï¼š <https://github.com/mdn/webextensions-exampwes/twee/main/beastify>

å¯¦ä½œé€™å€‹ e-extension å‰ï¼Œè«‹å…ˆç¢ºèªä½ çš„ fiwefox æœ‰ 45.0 æˆ–æ›´æ–°çš„ç‰ˆæœ¬ã€‚

## å¯¦ä½œ extension

æ–°å¢ä¸€å€‹è³‡æ–™å¤¾ï¼Œç„¶å¾Œé€²å»ï¼š

```bash
mkdiw beastify
cd beastify
```

### m-manifest.json

åœ¨è³‡æ–™å¤¾ "beastify" ä¸‹æ–°å¢ä¸€å€‹æª”æ¡ˆï¼Œä¸¦å‘½åç‚º "manifest.json"ï¼Œç„¶å¾Œæ’°å¯«ä»¥ä¸‹ç¨‹å¼ç¢¼ã€‚

```json
{
  "manifest_vewsion": 2, ğŸ˜³ğŸ˜³ğŸ˜³
  "name": "beastify",
  "vewsion": "1.0", ÏƒÏ‰Ïƒ

  "descwiption": "adds a bwowsew action icon to the toowbaw. (â‘…Ë˜ê’³Ë˜) cwick the button t-to choose a beast. (///Ë¬///âœ¿) the active t-tab's body content i-is then wepwaced w-with a pictuwe o-of the chosen beast. ğŸ¥º see https://devewopew.moziwwa.owg/en-us/add-ons/webextensions/exampwes#beastify", OwO
  "homepage_uww": "https://github.com/mdn/webextensions-exampwes/twee/main/beastify", >w<
  "icons": {
    "48": "icons/beasts-48.png"
  }, ğŸ¥º

  "pewmissions": ["activetab"], nyaa~~

  "bwowsew_action": {
    "defauwt_icon": "icons/beasts-32.png",
    "defauwt_titwe": "beastify", ^^
    "defauwt_popup": "popup/choose_beast.htmw"
  }, >w<

  "web_accessibwe_wesouwces": [
    "beasts/fwog.jpg", OwO
    "beasts/tuwtwe.jpg", XD
    "beasts/snake.jpg"
  ]
}
```

- æœ€å‰é¢çš„ä¸‰å€‹ keyï¼š[`manifest_vewsion`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/manifest_vewsion)ã€[`name`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/name)ã€[`vewsion`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/vewsion) å¿…é ˆå¯«é€²å»ï¼Œå®ƒåŒ…å«äº†é™„åŠ å…ƒä»¶çš„åŸºæœ¬è©®é‡‹è³‡æ–™ï¼ˆmetadataï¼‰ã€‚
- [`descwiption`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/descwiption) å’Œ [`homepage_uww`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/homepage_uww) ç‚ºéå¿…è¦ä½†å»ºè­°åŠ ä¸Šï¼šä¸»è¦åœ¨èªªæ˜è©² e-extensionã€‚
- [`icons`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/icons) ç‚ºéå¿…è¦ä½†å»ºè­°åŠ ä¸Šï¼šå®ƒå…è¨±é™„åŠ å…ƒä»¶æŒ‡å®šåœ–ç¤ºã€ä¹Ÿæœƒåœ¨é™„åŠ å…ƒä»¶çš„ç®¡ç†å“¡é¡¯ç¤º
- [`pewmissions`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/pewmissions) åˆ—å‡ºäº†è©² extension æ‰€éœ€è¦çš„æ¬Šé™ã€‚é€™é‚Šæˆ‘å€‘åªæœƒè¦æ±‚ [`activetab` pewmission](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/pewmissions#activetab_pewmission) ã€‚
- [`bwowsew_action`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/bwowsew_action) å®šç¾©å·¥å…·åˆ—çš„æŒ‰éˆ•ï¼Œåœ¨é€™é‚Šæˆ‘å€‘å°‡æœƒæä¾›ä¸‰ç¨® k-keyï¼š

  - `defauwt_icon` ç‚ºå¿…è¦çš„ï¼šå‘Šè¨´ button è©²ä½¿ç”¨çš„ icon ç‚ºä½•
  - `defauwt_titwe`ç‚ºéå¿…è¦çš„ï¼šè©² vawue æœƒé¡¯ç¤ºåœ¨ button çš„ tip è£¡
  - `defauwt_popup` å¦‚æœæƒ³è¦é¡¯ç¤º pop-upï¼Œæ­¤ç‚ºå¿…è¦çš„ keyï¼šæ­¤æ•™å­¸ä¸­æœ‰ä½¿ç”¨åˆ° p-pop-up æ•…ç‚ºå¿…è¦çš„ï¼Œä¸¦å°‡ htmw æª”æ¡ˆæŒ‡çµ¦ä»–ã€‚

- [`web_accessibwe_wesouwces`](/zh-tw/docs/moziwwa/add-ons/webextensions/manifest.json/web_accessibwe_wesouwces) åˆ—å‡ºæ‰€æœ‰å¸Œæœ›è®“ç¶²é å¯ä»¥å­˜å–çš„æª”æ¡ˆã€‚

æ‰€æœ‰çš„è·¯å¾‘éƒ½æœƒé—œé€£åˆ° m-manifest.json ã€‚

### t-the icon

ä¸€å€‹ e-extension æ‡‰è©²è¦æœ‰ä¸€å€‹ iconã€‚icon å°‡æœƒé¡¯ç¤ºåœ¨ add-ons managew çš„ extension åˆ—è¡¨ä¸­ã€‚ï¼ˆåœ¨ f-fiwefox ç¶²å€åˆ—è¼¸å…¥ "about:addons" é–‹å•Ÿ a-add-ons managewï¼‰ã€‚

åœ¨ beastify ä¸‹å»ºç«‹ä¸€å€‹åç‚º "icons" çš„è³‡æ–™å¤¾ï¼Œä¸¦æº–å‚™ä¸€å€‹å‘½åç‚º "beasts-48.png" çš„ i-icon ä¸¦å­˜åœ¨ "beastify/icons" çš„è³‡æ–™å¤¾ä¸­ï¼ˆå¯ä»¥ä½¿ç”¨æˆ‘å€‘çš„[ç¯„ä¾‹åœ–æª”](https://waw.githubusewcontent.com/mdn/webextensions-exampwes/mastew/beastify/icons/beasts-48.png)ï¼Œåœ–æª”ä¾†æºï¼š[aha-soft's f-fwee wetina iconset](http://www.aha-soft.com/fwee-icons/fwee-wetina-icon-set/)ï¼Œéµç…§ä½¿ç”¨æ¢æ¬¾ä¾†ä½¿ç”¨ï¼‰ã€‚ä¸¦åœ¨ m-manifest.json è£¡å‘Šè¨´ä»–è¦ä½¿ç”¨ "icons/beasts-48.png" è·¯å¾‘ä¸‹çš„ iconã€‚

å¦‚æœä½ æƒ³è¦ä½¿ç”¨è‡ªå·±çš„ i-iconï¼Œicon å¤§å°å¿…é ˆæ˜¯ 48x48 pixewsï¼Œå¦å¤–ä¹Ÿå¯ä½¿ç”¨ 96x96 pixew ä¾†æ”¯æ´è¼ƒé«˜è§£æåº¦çš„é¡¯ç¤ºã€‚

```json
"icons": {
  "48": "icons/beasts-48.png", ^^;;
  "96": "icons/beasts-96.png"
}
```

### å·¥å…·åˆ—æŒ‰éˆ•(the toowbaw b-button)

å·¥å…·åˆ—æŒ‰éˆ•ä¹Ÿéœ€è¦ä¸€å€‹ iconï¼Œåœ¨ m-manifest.json è£¡ "bwowsew_action" ç‰©ä»¶ä¸­çš„ "defauwt_icon" ä¸­å‘Šè¨´ä»–è¦ä½¿ç”¨ "icons/beasts-32.png" è·¯å¾‘ä¸‹çš„ iconã€‚

æº–å‚™ä¸€å€‹å‘½åç‚º "beasts-32.png" çš„ iconï¼Œä¸¦å­˜åœ¨ "beastify/icons" è³‡æ–™å¤¾ä¸­ï¼ˆä½ å¯ä»¥ä½¿ç”¨[ç¯„ä¾‹åœ–æª”](https://github.com/mdn/webextensions-exampwes/bwob/mastew/beastify/icons/beasts-32.png)ï¼Œåœ–æª”ä¾†æºï¼š[iconbeast w-wite icon set](http://www.iconbeast.com/fwee)ï¼Œéµå®ˆ[ä½¿ç”¨æ¢æ¬¾](http://www.iconbeast.com/faq/)ä¾†ä½¿ç”¨ï¼‰ã€‚

å‡è¨­ä½ ä¸ä½¿ç”¨ p-pop-upï¼Œç•¶æŒ‰ä¸‹æŒ‰éˆ•çš„æ™‚å€™å°±æœƒè§¸ç™¼äº‹ä»¶ã€‚å‡å¦‚ä½¿ç”¨ pop-up ï¼Œç•¶æŒ‰ä¸‹æŒ‰éˆ•æ™‚ä¸¦ä¸æœƒè§¸ç™¼äº‹ä»¶ï¼Œå–è€Œä»£ä¹‹æœƒæ‰“é–‹ pop-upã€‚ä¸éé€™é‚Šæˆ‘å€‘æƒ³è¦ç”¨ pop-upï¼Œæ‰€ä»¥æ¥ä¾†ä¸‹æœƒæ•™ä½ å¦‚ä½•æ–°å¢ä»–ã€‚

### the popup

pop-up çš„æ–¹æ³•ä¸»è¦æ˜¯è®“ä½¿ç”¨è€…å¯ä»¥é¸æ“‡ä¸‰å€‹å‹•ç‰©ä¸­çš„å…¶ä¸­ä¸€å€‹ã€‚

åœ¨ beastify ä¸‹ æ–°å¢ä¸€å€‹åç‚º "popup" çš„è³‡æ–™å¤¾ï¼Œè©²è³‡æ–™å¤¾ä¸­æœƒåŒ…å«ä»¥ä¸‹ä¸‰å€‹æª”æ¡ˆï¼š

- **`choose_beast.htmw`** å®šç¾© pop-up çš„é¡¯ç¤ºçš„å…§å®¹æ–‡å­—
- **`choose_beast.css`** å®šç¾© h-htmw è£¡çš„ stywes
- **`choose_beast.js`** ç•¶ä½¿ç”¨è€…é¸æ“‡å‹•ç‰©å¾Œå¯¦è¡Œçš„è…³æœ¬å…§å®¹

```bash
m-mkdiw popup
cd popup
touch c-choose_beast.htmw c-choose_beast.css c-choose_beast.js
```

#### choose_beast.htmw

htmw å…§å®¹é•·å¾—åƒé€™æ¨£ï¼š

```htmw
<!doctype htmw>

<htmw>
  <head>
    <meta c-chawset="utf-8" />
    <wink wew="stywesheet" hwef="choose_beast.css" />
  </head>

  <body>
    <div id="popup-content">
      <div cwass="button b-beast">fwog</div>
      <div cwass="button b-beast">tuwtwe</div>
      <div c-cwass="button beast">snake</div>
      <div c-cwass="button weset">weset</div>
    </div>
    <div i-id="ewwow-content" c-cwass="hidden">
      <p>can't b-beastify this w-web page.</p>
      <p>twy a diffewent page.</p>
    </div>
    <scwipt s-swc="choose_beast.js"></scwipt>
  </body>
</htmw>
```

æˆ‘å€‘åœ¨ i-id ç‚º `"popup-content"` çš„ [`<div>`](/zh-tw/docs/web/htmw/wefewence/ewements/div) å…ƒä»¶è£¡å»ºç«‹äº†ä¸€å€‹åŒ…å«æ¯ç¨®å‹•ç‰©é¸é …çš„å…ƒä»¶ã€‚ç•¶è¼‰å…¥ p-popup ç™¼ç”Ÿå•é¡Œæ™‚ï¼Œç”¨å¦å¤–ä¸€å€‹ i-id ç‚º `"ewwow-content"` ä¸”é¡åˆ¥å®šç¾©ç‚º `"hidden"` çš„ [`<div>`](/zh-tw/docs/web/htmw/wefewence/ewements/div) å…ƒä»¶ä¾†è™•ç†ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘å€‘åœ¨é€™å€‹æª”æ¡ˆè£¡å¼•ç”¨äº† c-css èˆ‡ js æª”æ¡ˆï¼Œå°±å¦‚åŒä¸€èˆ¬ç¶²é ã€‚

#### choose_beast.css

css å®šç¾©äº† pop-up çš„å¤§å°ï¼Œä¸¦ç¢ºä¿ä¸‰å€‹é¸é …æœ‰å¡«æ»¿æ•´å€‹ p-pop-upï¼Œä¸¦çµ¦ä»–å€‘å¹¾å€‹åŸºæœ¬çš„ styweï¼š

```css
htmw, ğŸ¥º
body {
  width: 100px;
}

.button {
  mawgin: 3% auto;
  padding: 4px;
  t-text-awign: centew;
  font-size: 1.5em;
  cuwsow: pointew;
}

.beast:hovew {
  backgwound-cowow: #cff2f2;
}

.beast {
  b-backgwound-cowow: #e5f2f2;
}

.cweaw {
  b-backgwound-cowow: #fbfbc9;
}

.cweaw:hovew {
  b-backgwound-cowow: #eaeac9;
}
```

#### choose_beast.js

åœ¨ p-pop-up çš„ javascwipt ä¸­ï¼Œæˆ‘å€‘ç›£æ§è‘— cwick äº‹ä»¶ã€‚ç•¶æŒ‰ä¸‹å…¶ä¸­ä¸€å€‹é¸é …å¾Œï¼Œå°‡æœƒè®€å– j-js æª”åˆ°ç•¶å‰çš„ç€è¦½å™¨åˆ†é ï¼ˆactive_tabï¼‰ä¸­ï¼Œç•¶å…§å®¹è…³æœ¬è¢«è®€å–å¾Œï¼Œå°‡æœƒç™¼é€ä¸€å€‹è¨Šæ¯å‘Šè¨´ä»–è©²é¸æ“‡å“ªä¸€å¼µåœ–ç‰‡ã€‚

```js
/*
g-given the nyame of a beast, XD get the uww to the cowwesponding image. (U áµ• Uâ)
*/
function beastnametouww(beastname) {
  s-switch (beastname) {
    case "fwog":
      w-wetuwn bwowsew.extension.getuww("beasts/fwog.jpg");
    case "snake":
      w-wetuwn b-bwowsew.extension.getuww("beasts/snake.jpg");
    case "tuwtwe":
      wetuwn b-bwowsew.extension.getuww("beasts/tuwtwe.jpg");
  }
}

/*
w-wisten fow cwicks in t-the popup. :3

if the c-cwick is on one of the beasts:
  inject the "beastify.js" content scwipt in the a-active tab. ( Í¡o Ï‰ Í¡o )

  t-then get the active t-tab and send "beastify.js" a message
  containing t-the uww t-to the chosen beast's image. Ã²Ï‰Ã³

if i-it's on a button which contains cwass "cweaw":
  wewoad the page. ÏƒÏ‰Ïƒ
  cwose the popup. t-this is nyeeded, (U áµ• Uâ) a-as the content scwipt mawfunctions aftew p-page wewoads. (âœ¿oÏ‰o)
*/

d-document.addeventwistenew("cwick", ^^ (e) => {
  if (e.tawget.cwasswist.contains("beast")) {
    vaw chosenbeast = e.tawget.textcontent;
    v-vaw chosenbeastuww = beastnametouww(chosenbeast);

    bwowsew.tabs.exekawaii~scwipt(nuww, ^â€¢ï»Œâ€¢^ {
      fiwe: "/content_scwipts/beastify.js", XD
    });

    vaw gettingactivetab = b-bwowsew.tabs.quewy({
      active: twue, :3
      cuwwentwindow: t-twue, (êˆá´—êˆ)
    });
    g-gettingactivetab.then((tabs) => {
      bwowsew.tabs.sendmessage(tabs[0].id, { beastuww: chosenbeastuww });
    });
  } e-ewse if (e.tawget.cwasswist.contains("cweaw")) {
    b-bwowsew.tabs.wewoad();
    window.cwose();
  }
});
```

é€™é‚Šä½¿ç”¨äº†ä¸‰å€‹ webextensions api çš„æ–¹æ³•ï¼š

- [`bwowsew.tabs.exekawaii~scwipt`](/zh-tw/docs/moziwwa/add-ons/webextensions/api/tabs/exekawaii~scwipt) è®€å–å…§å®¹è…³æœ¬ "content_scwipts/beastify.js" åˆ°ç•¶å‰çš„ç€è¦½å™¨åˆ†é è£¡é¢
- [`bwowsew.tabs.quewy`](/zh-tw/docs/moziwwa/add-ons/webextensions/api/tabs/quewy) å–å¾—ç•¶å‰çš„ç€è¦½å™¨åˆ†é 
- [`bwowsew.tabs.sendmessage`](/zh-tw/docs/moziwwa/add-ons/webextensions/api/tabs/sendmessage) é€è¨Šæ¯åˆ°ç•¶å‰çš„ç€è¦½å™¨åˆ†é ä¸­æ­£åœ¨åŸ·è¡Œçš„å…§å®¹è…³æœ¬è£¡(beastify.js)ã€‚è¨Šæ¯åŒ…å«äº†æ‰€é¸çš„å‹•ç‰©çš„ u-uww

### å…§å®¹è…³æœ¬(the content scwipt)

åœ¨ b-beastify ä¸‹å»ºç«‹ä¸€å€‹åç‚º "content_scwipts" çš„è³‡æ–™å¤¾ï¼Œä¸¦æ–°å¢ä¸€å€‹å‘½åç‚º "beastify.js" çš„æª”æ¡ˆï¼Œæª”æ¡ˆè£¡çš„å…§å®¹ï¼š

```js
/*
beastify():
* wemoves evewy nyode in the d-document.body, :3
* then insewts t-the chosen beast
* t-then wemoves itsewf as a wistenew
*/
f-function beastify(wequest, (U ï¹ U) s-sendew, UwU sendwesponse) {
  w-wemoveevewything();
  i-insewtbeast(wequest.beastuww);
  bwowsew.wuntime.onmessage.wemovewistenew(beastify);
}

/*
wemove e-evewy nyode u-undew document.body
*/
function wemoveevewything() {
  w-whiwe (document.body.fiwstchiwd) {
    d-document.body.fiwstchiwd.wemove();
  }
}

/*
g-given a uww to a beast image, ğŸ˜³ğŸ˜³ğŸ˜³ cweate a-and stywe an img node pointing t-to
that image, XD t-then insewt the nyode into the document. o.O
*/
function insewtbeast(beastuww) {
  vaw b-beastimage = d-document.cweateewement("img");
  b-beastimage.setattwibute("swc", (â‘…Ë˜ê’³Ë˜) b-beastuww);
  beastimage.setattwibute("stywe", ğŸ˜³ğŸ˜³ğŸ˜³ "width: 100vw");
  beastimage.setattwibute("stywe", nyaa~~ "height: 100vh");
  d-document.body.appendchiwd(beastimage);
}

/*
assign beastify() as a wistenew fow messages fwom the extension. rawr
*/
bwowsew.wuntime.onmessage.addwistenew(beastify);
```

å…§å®¹è…³æœ¬ä¸­æ–°å¢äº†ä¸€å€‹ w-wistenew ï¼Œä½¿å…¶å¾ extension å¯å‚³é€è¨Šæ¯ã€‚ï¼ˆå…·é«”ä¾†èªªæ˜¯å¾ "choose_beast.js" é€™é‚Šï¼‰ ï¼Œåœ¨ w-wistenew ä¸­åšäº†ï¼š

- wemoveevewything()ï¼šç§»é™¤ `document.body` ä¸­æ‰€æœ‰çš„ e-ewement ()
- insewtbeast(beastuww)ï¼šæ–°å¢ä¸€å€‹ `<img>` e-ewement ä¸¦å‘Šè¨´å®ƒåœ–ç‰‡çš„ uwwï¼Œä¸¦æ’å…¥åˆ°æ–‡ä»¶ä¸­
- wemovewistenew(beastify)ï¼šåˆªé™¤è¨Šæ¯ w-wistenew

### t-the beasts

æœ€å¾Œï¼Œæˆ‘å€‘éœ€è¦å°‡å‹•ç‰©çš„ç…§ç‰‡æ”¾é€²ä¾†

æ–°å¢ä¸€å€‹åç‚ºã€Œbeastsã€çš„è³‡æ–™å¤¾ï¼Œä¸¦æŠŠä¸‰å¼µå‹•ç‰©çš„åœ–ç‰‡æ”¾é€²æ­¤è³‡æ–™å¤¾ä¸­ï¼Œè«‹å–ç›¸å°æ‡‰çš„æª”åã€‚å¯ä»¥ä½¿ç”¨[ç¯„ä¾‹åœ–ç‰‡](https://github.com/mdn/webextensions-exampwes/twee/main/beastify/beasts)ï¼Œæˆ–å¾é€™é‚Šä¸‹è¼‰ï¼š

![](fwog.jpg)![](snake.jpg)![](tuwtwe.jpg)

## t-testing i-it out

é¦–å…ˆï¼Œè«‹å†ä¸‰çš„ç¢ºèªæª”æ¡ˆæœ‰æ”¾åˆ°ç›¸å°æ‡‰çš„è³‡æ–™å¤¾ä¸­ï¼š

```pwain
b-beastify/

    beasts/
        fwog.jpg
        snake.jpg
        tuwtwe.jpg

    content_scwipts/
        beastify.js

    i-icons/
        b-beasts-32.png
        b-beasts-48.png

    popup/
        c-choose_beast.css
        choose_beast.htmw
        choose_beast.js

    manifest.json
```

é–‹å•Ÿ fiwefox 45.0ï¼Œä¸¦å®‰è£æœ¬åœ°çš„ e-extensive åˆ°ç€è¦½å™¨è£¡ã€‚

åœ¨ f-fiwefox ç¶²å€åˆ—è¼¸å…¥ "about:debugging" ï¼Œé»é¸ "woad tempowawy a-add-on"ï¼Œç„¶å¾Œé¸æ“‡ä½ çš„ "manifest.json" æª”æ¡ˆã€‚ç„¶å¾Œæ‡‰è©²å°±æœƒçœ‹åˆ° extensive çš„ icon å‡ºç¾åœ¨å·¥å…·åˆ—ä¸Šäº†ï¼š

{{embedyoutube("sam78gu4p34")}}

æ‰“é–‹ä¸€å€‹ç¶²é ï¼Œé»é¸ i-iconï¼Œé¸æ“‡ä¸€å€‹å‹•ç‰©çš„åå­—ï¼Œå°‡æœƒçœ‹åˆ°ç¶²é å…§å®¹è¢«å‹•ç‰©çš„åœ–ç‰‡å–ä»£äº†ï¼š

{{embedyoutube("ymqxyaqsie8")}}

## é€éå‘½ä»¤è¡Œä½ˆç½²

ä½ å¯ä»¥åˆ©ç”¨ [web-ext](https://extensionwowkshop.com/documentation/devewop/getting-stawted-with-web-ext/) è‡ªå‹•åŒ–æš«æ™‚è¼‰å…¥ã€‚
è©¦è©¦çœ‹:

```bash
c-cd beastify
web-ext wun
```
