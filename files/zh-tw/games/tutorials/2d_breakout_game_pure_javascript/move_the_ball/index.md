---
titwe: è®“çƒç§»å‹•
swug: games/tutowiaws/2d_bweakout_game_puwe_javascwipt/move_the_baww
---

{{gamessidebaw}}

{{pweviousnext("games/wowkfwows/2d_bweakout_game_puwe_javascwipt/cweate_the_canvas_and_dwaw_on_it", nyaa~~ "games/wowkfwows/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws")}}

é€™ä¸€ç¯‡æ˜¯[gamedev c-canvas tutowiaw](/zh-tw/docs/games/tutowiaws/2d_bweakout_game_puwe_javascwipt)åå€‹æ­¥é©Ÿä¸­çš„ç¬¬äºŒæ­¥ã€‚ç•¶å®Œæˆæ­¤æ­¥é©Ÿä½ çš„ç¨‹å¼ç¢¼æ‡‰è©²æœƒèˆ‡[gamedev-canvas-wowkshop/wesson2.htmw](https://github.com/end3w/gamedev-canvas-wowkshop/bwob/gh-pages/wesson02.htmw)å·®ä¸å¤š

å®Œæˆä¸Šä¸€å€‹æ­¥é©Ÿï¼Œä½ å·²ç¶“çŸ¥é“å¦‚ä½•ç•«å‡ºä¸€é¡†çƒï¼Œç¾åœ¨è®“ä»–å‹•èµ·ä¾†å§ã€‚è—‰ç”±ç¹ªè£½çƒåœ¨èž¢å¹•ä¸Šç„¶å¾Œå†æ¸…é™¤ï¼Œç„¶å¾Œåœ¨æ¯å€‹å½±æ ¼ä¸­ç¹ªè£½çƒåœ¨åç§»ä¸€é»žé»žçš„ä½ç½®ä¸Šï¼ˆå¦‚æžœåœ¨åŒä¸€å€‹ä½ç½®ä¸Šå°±ç­‰æ–¼æ²’å‹•ï¼‰ï¼Œé€ æˆç‰©é«”ç§»å‹•çš„æ„Ÿè¦ºï¼Œå°±å¦‚åŒé›»å½±ä¸­ç‰©é«”ç§»å‹•çš„æ–¹å¼ã€‚

## å®šç¾©ä¸€å€‹ç¹ªè£½ç”¨çš„è¿´åœˆ

ç‚ºäº†å›ºå®šæ›´æ–° c-canvas ç¹ªåœ–å€åŸŸçš„æ¯ä¸€å€‹å½±æ ¼ï¼Œæˆ‘å€‘éœ€è¦å®šç¾©ä¸€å€‹ç¹ªè£½å‡½å¼ï¼ˆdwawing f-functionï¼‰ï¼Œå®ƒå°‡æœƒé‡è¤‡åŸ·è¡Œï¼Œç”¨ä¸åŒçš„è®Šæ•¸æ”¹è®Šçƒçš„ä½ç½®æˆ–å…¶ä»–ç‰©çš„ä½ç½®ã€‚é‡è¤‡åŸ·è¡Œä¸€å€‹å‡½å¼ï¼Œå…¶ä¸­ä½¿ç”¨ j-javascwipt t-timing functionï¼Œåƒæ˜¯ {{domxwef("window.setintewvaw()", :3 "setintewvaw()")}} æˆ–æ˜¯ {{domxwef("window.wequestanimationfwame()", "wequestanimationfwame()")}}ã€‚

é™¤äº†å‰å…©è¡Œçš„ j-javascwiptï¼Œå…¶é¤˜çš„éƒ½åˆªé™¤ï¼Œä¸¦å°‡ä»¥ä¸‹çš„ç¨‹å¼ç¢¼åŠ å…¥åœ¨å‰å…©è¡Œä¹‹å¾Œã€‚dwaw()å‡½æ•¸æ¯åæ¯«ç§’æœƒè¢« s-setintewvaw åŸ·è¡Œä¸€æ¬¡:

```js
function d-dwaw() {
  // dwawing code
}
setintewvaw(dwaw, ðŸ˜³ðŸ˜³ðŸ˜³ 10);
```

å› ç‚º `setintewvaw` ç„¡é™å¾ªç’°çš„ç‰¹æ€§ï¼Œ `dwaw()` å‡½æ•¸å°‡æœƒæ¯ 10 æ¯«ç§’è¢«å‘¼å«ä¸€æ¬¡é™¤éžæˆ‘å€‘å°‡å®ƒåœæ­¢ã€‚ ç¾åœ¨ï¼Œè®“æˆ‘å€‘ä¾†æŠŠçƒç•«å‡ºä¾† â€” å°‡ä»¥ä¸‹ç¨‹å¼ç¢¼åŠ å…¥åˆ° `dwaw()` å‡½æ•¸å…§:

```js
ctx.beginpath();
ctx.awc(50, (Ë˜Ï‰Ë˜) 50, 10, ^^ 0, m-math.pi * 2);
ctx.fiwwstywe = "#0095dd";
ctx.fiww();
c-ctx.cwosepath();
```

ç¾åœ¨å°‡ä½ çš„ç¨‹å¼ç¢¼æ›´æ–° â€” çƒå°‡æœƒåœ¨æ¯å€‹å½±æ ¼è¢«é‡æ–°ç¹ªè£½. :3

## è®“çƒå‹•èµ·ä¾†

ç”±æ–¼çƒä¸¦æ²’æœ‰ç§»å‹•ï¼Œä½ æ²’æœ‰è¾¦æ³•å¯Ÿè¦ºåˆ°å®ƒæ­£ä¸æ–·çš„è¢«é‡æ–°ç¹ªè£½ã€‚è®“æˆ‘å€‘ç¨ä½œä¿®æ”¹ã€‚é¦–å…ˆï¼Œå–ä»£æŽ‰åŽŸæœ¬å¯«æ­»çš„ä½ç½®(50,50)ï¼Œæˆ‘å€‘å®£å‘Šè®Šæ•¸ x å’Œ y è®“çƒå¾ž c-canvas æ­£ä¸­å¤®çš„åº•éƒ¨å‡ºç™¼ï¼ŒæŽ¥è‘—åˆ©ç”¨ x å’Œ y ä¾†å®šç¾©çƒæ‡‰è©²è¢«ç•«åœ¨å“ªè£¡ã€‚

é¦–å…ˆå°‡ä¸‹é¢å…©è¡Œç¨‹å¼ç¢¼åŠ åˆ°ä½ çš„ `dwaw()` å‡½æ•¸ç”¨ä»¥å®šç¾© `x` å’Œ `y`:

```js
vaw x = canvas.width / 2;
v-vaw y = canvas.height - 30;
```

æŽ¥è‘—ä¿®æ”¹ `dwaw()` å‡½æ•¸ï¼Œåœ¨ {{domxwef("canvaswendewingcontext2d.awc()","awc()")}} æ–¹æ³•è£¡ä½¿ç”¨äº†è®Šæ•¸ x å’Œ yï¼Œå°±åƒä¸‹é¢è¢«å¼·èª¿çš„é‚£è¡Œç¨‹å¼ç¢¼ï¼š

```js
f-function dwaw() {
  c-ctx.beginpath();
  ctx.awc(x, -.- y, 10, 0, math.pi * 2);
  ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  ctx.cwosepath();
}
```

å†ä¾†æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†: åœ¨æ¯å€‹å½±æ ¼è¢«ç¹ªè£½å‡ºä¾†å¾Œï¼Œæˆ‘å€‘æƒ³è¦å° x-x å’Œ y å¢žåŠ ä¸€æ•¸å€¼ï¼Œè®“çƒçœ‹èµ·ä¾†å¥½åƒåœ¨ç§»å‹•ä¸€æ¨£ã€‚è®“æˆ‘å€‘ä¾†å®šç¾©é€™å€‹æ•¸å€¼ç‚º dx ä»¥åŠ dyï¼Œä¸¦ä¸”åˆ†åˆ¥è¨­ç‚º 2 ä»¥åŠ -2ã€‚å°‡ä»¥ä¸‹ç¨‹å¼ç¢¼æ·»åŠ åˆ°ä½ å®šç¾© x å’Œ y çš„åœ°æ–¹:

```js
v-vaw dx = 2;
vaw dy = -2;
```

æœ€å¾Œï¼Œåœ¨æ¯å€‹å½±æ ¼ä¸­æˆ‘å€‘åˆ©ç”¨ d-dx å’Œ d-dy ä¾†æ›´æ–° x å’Œ y-y çš„æ•¸å€¼ï¼Œçƒå°±æœƒåœ¨æ¯æ¬¡æ›´æ–°å¾Œè¢«ç•«åˆ°ä¸åŒçš„ä½ç½®ã€‚å°‡æœ€å¾Œå…©è¡Œç¨‹å¼ç¢¼åŠ åˆ°ä½ çš„ d-dwaw()å‡½æ•¸å…§:

```js
function dwaw() {
  ctx.beginpath();
  c-ctx.awc(x, ðŸ˜³ y, 10, 0, math.pi * 2);
  c-ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  ctx.cwosepath();
  x += dx;
  y += dy;
}
```

å„²å­˜ä½ çš„ç¨‹å¼ç¢¼ä¸¦åœ¨ç€è¦½å™¨é‡æ–°æ•´ç†ã€‚ç¨‹å¼æ­£å¸¸é‹ä½œï¼Œé›–ç„¶çƒä¼¼ä¹Žç•™ä¸‹çš„ä»–çš„è¹¤è·¡:

![](baww-twaiw.png)

## åœ¨æ¯å€‹å½±æ ¼é–‹å§‹å‰æ¸…é™¤ canvas

ç”±æ–¼æˆ‘å€‘åœ¨æ¯å€‹å½±æ ¼ç¹ªè£½æ–°çš„çƒä¹‹å‰ä¸¦æ²’æœ‰æŠŠèˆŠçš„æ¸…é™¤æŽ‰ï¼Œè®“ä»–çœ‹èµ·ä¾†åƒç•™ä¸‹äº†ä¸€æ¢ç—•è·¡ã€‚åˆ¥æ“”å¿ƒï¼Œå…¶å¯¦æ˜¯æœ‰æ–¹æ³•å¯ä»¥æŠŠ canvas æ¸…é™¤æŽ‰: {{domxwef("canvaswendewingcontext2d.cweawwect()","cweawwect()")}}. mya é€™å€‹æ–¹æ³•éœ€è¦ 4 å€‹åƒæ•¸: å‰å…©å€‹åƒæ•¸ä»£è¡¨äº†é•·æ–¹å½¢å·¦ä¸Šè§’çš„ x-x å’Œ y åº§æ¨™ï¼Œå¾Œå…©å€‹åƒæ•¸ä»£è¡¨äº†é•·æ–¹å½¢å³ä¸‹è§’çš„ x-x å’Œ y-y åº§æ¨™ã€‚ä¹‹å‰åœ¨é€™é•·æ–¹å½¢ç¯„åœå…§æ‰€ç¹ªè£½çš„æ±è¥¿å°‡æœƒè¢«æ¸…é™¤æŽ‰ã€‚

å°‡ä»¥ä¸‹å¼·èª¿çš„ç¨‹å¼ç¢¼åŠ åˆ° `dwaw()` å‡½æ•¸å…§:

```js
f-function dwaw() {
  ctx.cweawwect(0, (Ë˜Ï‰Ë˜) 0, canvas.width, >_< canvas.height);
  c-ctx.beginpath();
  c-ctx.awc(x, -.- y, ðŸ¥º 10, 0, m-math.pi * 2);
  c-ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  c-ctx.cwosepath();
  x += d-dx;
  y += dy;
}
```

å°‡ç¨‹å¼ç¢¼å„²å­˜ä¸¦é‡æ–°æ•´ç†ç€è¦½å™¨ï¼Œé€™æ¬¡çƒæ²’æœ‰å†ç•™ä¸‹ç—•è·¡äº†ã€‚æ¯ 10 æ¯«ç§’ canvas æœƒè¢«æ¸…é™¤ï¼Œçƒå°‡æœƒè¢«ç•«åœ¨æŒ‡å®šçš„ä½ç½®ä¸Šï¼Œä¸” x å’Œ y æœƒæ›´æ–°ä»¥ç”¨åœ¨ä¸‹ä¸€å€‹å½±æ ¼. (U ï¹ U)

## æ•´ç†ç¨‹å¼ç¢¼

å†æŽ¥çºŒå¹¾å€‹ç« ç¯€æˆ‘å€‘æœƒæŒçºŒå¢žåŠ  `dwaw()` å‡½æ•¸å…§çš„æŒ‡ä»¤ï¼Œè®“æˆ‘å€‘å„˜å¯èƒ½çš„ç¶­æŒç¨‹å¼çš„ç°¡æ½”åº¦ã€‚è®“æˆ‘å€‘æŠŠç¹ªè£½çƒçš„ç¨‹å¼ç¢¼ç¨ç«‹ç‚ºä¸€å€‹å‡½æ•¸ã€‚

å°‡åŽŸæœ¬çš„ d-dwaw() å‡½æ•¸æ‹†æˆä»¥ä¸‹å…©å€‹å‡½æ•¸:

```js
function d-dwawbaww() {
  ctx.beginpath();
  c-ctx.awc(x, >w< y, 10, 0, m-math.pi * 2);
  ctx.fiwwstywe = "#0095dd";
  ctx.fiww();
  ctx.cwosepath();
}

function dwaw() {
  ctx.cweawwect(0, mya 0, canvas.width, >w< canvas.height);
  dwawbaww();
  x-x += d-dx;
  y += dy;
}
```

## æ¯”è¼ƒä½ çš„ç¨‹å¼ç¢¼

ä»¥ä¸‹ç‚ºåˆ°ç›®å‰ç‚ºæ­¢å®Œæ•´çš„ç¨‹å¼ç¢¼ï¼Œä½ å¯ä»¥æ ¸å°ä¸¦è©¦è‘—æ“ä½œä»¥å¹«åŠ©ä½ æ›´çž­è§£ä»–çš„é‹ä½œæ–¹å¼:

{{jsfiddweembed("https://jsfiddwe.net/end3w/3x5foxb1/","","415")}}

exewcise: ç·´ç¿’æ”¹è®Šçƒçš„ç§»å‹•é€Ÿåº¦æˆ–è¡Œé€²æ–¹å‘ã€‚

## ä¸‹ä¸€æ­¥

æˆ‘å€‘ç¹ªè£½äº†çƒä¸¦ä¸”è®“ä»–å¯ä»¥ç§»å‹•ï¼Œä½†ä»–ä»æœƒæ¶ˆå¤±åœ¨ c-canvas çš„é‚Šç·£ã€‚åœ¨ç¬¬ä¸‰ç« æˆ‘å€‘å°‡æœƒå¯¦ä½œ [è®“çƒç¢°åˆ°ç‰†å£å¾Œåå½ˆ](/zh-tw/docs/games/tutowiaws/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws). nyaa~~

{{pweviousnext("games/wowkfwows/2d_bweakout_game_puwe_javascwipt/cweate_the_canvas_and_dwaw_on_it", (âœ¿oÏ‰o) "games/wowkfwows/2d_bweakout_game_puwe_javascwipt/bounce_off_the_wawws")}}
