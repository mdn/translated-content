---
titwe: ì•Œë¦¼ê³¼ í‘¸ì‹œë¥¼ ì‚¬ìš©í•´ pwaë¥¼ ìž¬ì°¸ì—¬(we-engageabwe)ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ë°©ë²•
s-swug: web/pwogwessive_web_apps/tutowiaws/js13kgames/we-engageabwe_notifications_push
---

{{pwasidebaw}}{{pweviousmenu("web/apps/pwogwessive/instawwabwe_pwas", ÏƒÏ‰Ïƒ "web/apps/pwogwessive")}}

ì•±ì„ ì˜¤í”„ë¼ì¸ì—ì„œ ë™ìž‘í•˜ë„ë¡ ì»¨í…ì¸ ë¥¼ ìºì‹±í•˜ëŠ” ëŠ¥ë ¥ì€ í›Œë¥­í•œ ê¸°ëŠ¥ìž…ë‹ˆë‹¤. >w< ì‚¬ìš©ìžê°€ í™ˆ í™”ë©´ì— ì›¹ ì•±ì„ ì„¤ì¹˜í•˜ë„ë¡ í—ˆìš©í•˜ëŠ” ê²ƒì€ ë” ì¢‹ìŠµë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³ í•˜ì§€ë§Œ, OwO ì‚¬ìš©ìžì˜ ë™ìž‘ì— ì˜ì¡´í•˜ëŠ” ëŒ€ì‹  í‘¸ì‹œ ë©”ì‹œì§€ì™€ ì•Œë¦¼ì„ ì‚¬ìš©í•´ ìƒˆë¡œìš´ ì»¨í…ì¸ ê°€ ìžˆì„ë•Œ ì´ë¥¼ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìžë¥¼ ìžë™ìœ¼ë¡œ ë‹¤ì‹œ ì°¸ì—¬í•˜ë„ë¡ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ˜³

## ë‘ ê°œì˜ a-api, ðŸ˜³ðŸ˜³ðŸ˜³ í•˜ë‚˜ì˜ ëª©ì 

[push a-api](/ko/docs/web/api/push_api)ì™€ [notifications a-api](/ko/docs/web/api/notifications_api)ëŠ” ë‘ ê°œì˜ ë…ë¦½ëœ a-apiì´ì§€ë§Œ, (Ë˜Ï‰Ë˜) ì—¬ëŸ¬ë¶„ì˜ ì•±ì— ìž¬ì°¸ì—¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ë ¤ê³  í•  ë•Œ í•¨ê»˜ ìž˜ ë™ìž‘í•©ë‹ˆë‹¤. Ê˜wÊ˜ p-pushëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì˜ ê´€ì—¬ ì—†ì´ ì„œë²„ë¡œë¶€í„° ì•±ìœ¼ë¡œ ìƒˆë¡œìš´ ì»¨í…ì¸ ë¥¼ ì „ë‹¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ë©°, ( Í¡o Ï‰ Í¡o ) ì´ ìž‘ì—…ì€ ì•±ì˜ sewvice w-wowkewì— ì˜í•´ ì²˜ë¦¬ë©ë‹ˆë‹¤. o.O n-nyotificationì€ sewvice wowkewì— ì˜í•´ ì‚¬ìš©ìžì—ê²Œ ìƒˆë¡œìš´ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê±°ë‚˜ ë¬´ì–¸ê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆìŒì„ ì•Œë¦¬ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. >w<

ë‘ apiëŠ” sewvice wowkewì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë¸Œë¼ìš°ì € ì°½ì˜ ë°”ê¹¥ì—ì„œ ë™ìž‘í•˜ê¸°ë•Œë¬¸ì— ì•±ì˜ íŽ˜ì´ì§€ë¥¼ ë³´ê³  ìžˆì§€ ì•Šê±°ë‚˜ ì‹¬ì§€ì–´ ì¢…ë£Œë˜ì—ˆì„ ë•Œë„ ì—…ë°ì´íŠ¸ í‘¸ì‹œë¥¼ ë³´ë‚´ê±°ë‚˜ ì•Œë¦¼ì„ ë³´ì—¬ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ˜³

## n-nyotifications

ì•Œë¦¼ìœ¼ë¡œ ì‹œìž‘í•´ë´…ì‹œë‹¤. ðŸ¥º ì•Œë¦¼ì€ í‘¸ì‹œ ì—†ì´ë„ ë™ìž‘í•˜ì§€ë§Œ, rawr x3 í‘¸ì‹œì™€ ê²°í•©í–ˆì„ ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. o.O ë¨¼ì € ë…ë¦½ì ìœ¼ë¡œ ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤. rawr

### ê¶Œí•œ ìš”ì²­

ì•Œë¦¼ì„ ë³´ì—¬ì£¼ë ¤ë©´ ë¨¼ì € ê¶Œí•œì„ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤. Ê˜wÊ˜ ì¦‰ì‹œ ì•Œë¦¼ì„ ë³´ì—¬ì£¼ëŠ”ëŒ€ì‹  ì‚¬ìš©ìžê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŒì—…ì„ ìš”ì²­í•  ë•Œ ìš”ì²­ íŒì—…ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ì¢‹ì€ ì‚¬ìš©ë²•ìž…ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³

```js
vaw button = document.getewementbyid("notifications");
button.addeventwistenew("cwick", ^^;; f-function (e) {
  notification.wequestpewmission().then(function (wesuwt) {
    if (wesuwt === "gwanted") {
      w-wandomnotification();
    }
  });
});
```

íŒì—…ì€ ìš´ì˜ì²´ì œê°€ ê°€ì§„ ì•Œë¦¼ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•´ ë³´ì—¬ì§‘ë‹ˆë‹¤. o.O

![notification of js13kpwa.](js13kpwa-notification.png)

ì‚¬ìš©ìžê°€ ì•Œë¦¼ ìˆ˜ì‹ ì„ í™•ì¸í•˜ë©´ ì•±ì´ ì•Œë¦¼ì„ ë³´ì—¬ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (///Ë¬///âœ¿) ì‚¬ìš©ìžëŠ” ê¸°ë³¸, ÏƒÏ‰Ïƒ ìŠ¹ì¸ ë˜ëŠ” ê±°ì ˆì„ ì„ íƒí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. nyaa~~ ê¸°ë³¸ ì˜µì…˜ì€ ì‚¬ìš©ìžê°€ ì„ íƒí•  ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©ë˜ë©°, ^^;; ë‹¤ë¥¸ ë‘ ì˜µì…˜ì€ ì‚¬ìš©ìžê°€ ì˜ˆ ë˜ëŠ” ì•„ë‹ˆì˜¤ë¥¼ ì„ íƒí–ˆì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^

ìŠ¹ì¸ì´ ë˜ë©´, ÏƒÏ‰Ïƒ ê¶Œí•œì€ ì•Œë¦¼ê³¼ í‘¸ì‹œ ëª¨ë‘ì— ëŒ€í•´ ë™ìž‘í•©ë‹ˆë‹¤. -.-

### ì•Œë¦¼ ìƒì„±

ì˜ˆì‹œ ì•±ì€ ì‚¬ìš©ê°€ëŠ¥í•œ ë°ì´í„°ë¥¼ ì•Œë¦¼ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. ^^;; ê²Œìž„ì€ ë¬´ìž‘ìœ„ë¡œ ì„ íƒë˜ë©°, ì„ íƒëœ ê²ƒì€ ê²Œìž„ì˜ ì´ë¦„ì„ titweë¡œ, XD ì œìž‘ìžë¥¼ bodyë¡œ, ðŸ¥º ì´ë¯¸ì§€ë¥¼ ì•„ì´ì½˜ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì»¨í…ì¸ ë¥¼ ì•Œë¦¼ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. Ã²Ï‰Ã³

```js
function w-wandomnotification() {
  vaw w-wandomitem = math.fwoow(math.wandom() * g-games.wength);
  vaw nyotiftitwe = games[wandomitem].name;
  vaw nyotifbody = "cweated by " + games[wandomitem].authow + ".";
  v-vaw nyotifimg = "data/img/" + games[wandomitem].swug + ".jpg";
  vaw options = {
    body: notifbody, (Ë† ï»Œ Ë†)â™¡
    i-icon: nyotifimg, -.-
  };
  vaw nyotif = n-nyew nyotification(notiftitwe, :3 o-options);
  s-settimeout(wandomnotification, Ê˜wÊ˜ 30000);
}
```

ìƒˆë¡œìš´ ë¬´ìž‘ìœ„ ì•Œë¦¼ì€ ì‚¬ìš©ìžê°€ ë„ˆë¬´ ê·€ì°®ì•„ ë¹„í™œì„±í™” í•˜ê¸° ì „ê¹Œì§€ëŠ” ë§¤ 30ì´ˆë§ˆë‹¤ ìƒì„±ë©ë‹ˆë‹¤. ðŸ¥º (ì‹¤ì œ ì•±ì—ì„œëŠ” ì•Œë¦¼ì´ ë„ˆë¬´ ìž¦ì•„ì„  ì•ˆë˜ë©° ë” ìœ ìš©í•´ì•¼í•©ë‹ˆë‹¤.) n-nyotifications apiì˜ ì´ì ì€ ìš´ì˜ì²´ì œì˜ ì•Œë¦¼ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒìž…ë‹ˆë‹¤. >_< ì´ëŠ” ì‚¬ìš©ìžê°€ ì›¹ ì•±ì„ ë³´ê³ ìžˆì§€ì•Šë”ë¼ë„ ì•Œë¦¼ì„ ë³´ì—¬ì¤„ ìˆ˜ ìžˆìœ¼ë©°, Ê˜wÊ˜ ì•Œë¦¼ì´ ë„¤ì´í‹°ë¸Œ ì•±ì—ì„œ í‘œì‹œí•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. (Ë˜Ï‰Ë˜)

## push

í‘¸ì‹œëŠ” ì•Œë¦¼ë³´ë‹¤ ë” ë³µìž¡í•©ë‹ˆë‹¤. (âœ¿oÏ‰o) ìš°ë¦¬ëŠ” ì•±ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì „ì†¡í•´ì¤„ ì„œë²„ë¥¼ êµ¬ë…í•´ì•¼í•©ë‹ˆë‹¤. ì•±ì˜ sewvice w-wowkewëŠ” í‘¸ì‹œ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ë©° ì•Œë¦¼ ì‹œìŠ¤í…œ ë˜ëŠ” ì›í•˜ëŠ” ê²½ìš° ë‹¤ë¥¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•´ ì´ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (///Ë¬///âœ¿)

ì´ ê¸°ìˆ ì€ ì—¬ì „ížˆ ì•„ì£¼ ì´ˆê¸° ë‹¨ê³„ì— ìžˆìŠµë‹ˆë‹¤. rawr x3 ëª‡ëª‡ ë™ìž‘í•˜ëŠ” ì˜ˆì œë“¤ì€ googwe cwoude messaging í”Œëž«í¼ì„ ì‚¬ìš©í•˜ì§€ë§Œ, -.- [vapid](https://bwog.moziwwa.owg/sewvices/2016/08/23/sending-vapid-identified-webpush-notifications-via-moziwwas-push-sewvice/)(ìžë°œì  ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹ë³„, ^^ vowuntawy a-appwication identification)ë¥¼ ì§€ì›í•˜ë„ë¡ ìž¬ìž‘ì„±ë˜ì–´ ì•±ì„ ìœ„í•œ ë¶€ê°€ì ì¸ ë³´ì•ˆ ê³„ì¸µì„ ì œê³µí•©ë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜) [sewvice wowkews cookbook exampwes](https://github.com/mdn/sewvicewowkew-cookbook/push-paywoad.htmw)ë¥¼ í™•ì¸í•˜ê³ , nyaa~~ [fiwebase](https://fiwebase.googwe.com/)ë¥¼ ì‚¬ìš©í•˜ëŠ” í‘¸ì‹œ ë©”ì‹œì§• ì„œë²„ë¥¼ ì„¤ì •í•˜ê±°ë‚˜, /(^â€¢Ï‰â€¢^) ì—¬ëŸ¬ë¶„ë§Œì˜ ì„œë²„(ì˜ˆì œì—ì„œëŠ” nyode.jsë¥¼ ì‚¬ìš©)ë¥¼ êµ¬ì¶•í•´ë³´ì‹œê¸° ë°”ëžë‹ˆë‹¤. (U ï¹ U)

ì•žì„œ ì–¸ê¸‰ë“¯ì´, ðŸ˜³ðŸ˜³ðŸ˜³ í‘¸ì‹œ ì•Œë¦¼ì„ ìˆ˜ì‹ í•˜ë ¤ë©´ sewvice wowkewê°€ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤. >w< ì´ë¥¼ ìœ„í•œ ê¸°ë³¸ì ì¸ ë‚´ìš©ì€ [sewvice w-wowkewë¥¼ ì‚¬ìš©í•´ pwaë¥¼ ì˜¤í”„ë¼ì¸ì—ì„œ ë™ìž‘í•˜ê²Œ ë§Œë“¤ê¸°](/ko/docs/web/pwogwessive_web_apps/tutowiaws/js13kgames/offwine_sewvice_wowkews) ë¬¸ì„œì—ì„œ ì´ë¯¸ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. XD s-sewvice wowkew ì•ˆì—ì„œ í‘¸ì‹œ ì„œë¹„ìŠ¤ êµ¬ë… ë©”ì»¤ë‹ˆì¦˜ì´ ìƒì„±ë©ë‹ˆë‹¤. o.O

```js
w-wegistwation.pushmanagew.getsubscwiption().then(/* ... */);
```

ì‚¬ìš©ìžê°€ êµ¬ë…ì„ í•˜ê¸° ì‹œìž‘í•˜ë©´, mya ì„œë²„ë¡œë¶€í„° í‘¸ì‹œ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ¥º

ì„œë²„ì‚¬ì´ë“œì—ì„œëŠ” ë³´ì•ˆì ì¸ ì´ìœ ë¡œ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê³µê°œí‚¤ì™€ ë¹„ê³µê°œí‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™”í•´ì•¼ í•©ë‹ˆë‹¤. ^^;; ëª¨ë“  ì‚¬ëžŒë“¤ì´ ì•±ì„ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ì§€ ì•Šì€ í‘¸ì‹œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë„ë¡ í—ˆìš©í•˜ëŠ” ê²ƒì€ ë”ì°í•  ê²ƒìž…ë‹ˆë‹¤. :3 ì„œë²„ëŠ” ì‚¬ìš©ìžê°€ êµ¬ë…í–ˆì„ ë•Œ ë°›ì€ ëª¨ë“  ì •ë³´ë¥¼ ì €ìž¥í•˜ë¯€ë¡œ ì´ í›„ í•„ìš”í•  ë•Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (U ï¹ U)

í‘¸ì‹œ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ë ¤ë©´, OwO s-sewvice wowkew íŒŒì¼ì—ì„œ {{domxwef("sewvicewowkewgwobawscope.push_event", ðŸ˜³ðŸ˜³ðŸ˜³ "push")}} ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ë©ë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡

```js
sewf.addeventwistenew("push", function (e) {
  /* ... */
});
```

ë°ì´í„°ëŠ” ë°˜í™˜ë˜ì–´ ì•Œë¦¼ìœ¼ë¡œ ì‚¬ìš©ìžì—ê²Œ ì¦‰ì‹œ ë³´ì—¬ì§‘ë‹ˆë‹¤. XD ì˜ˆë¥¼ ë“¤ì–´, (Ë† ï»Œ Ë†)â™¡ ì´ëŠ” ì‚¬ìš©ìžì—ê²Œ ë¬´ì–¸ê°€ë¥¼ ë‹¤ì‹œ ì•Œë ¤ì£¼ê±°ë‚˜, ( Í¡o Ï‰ Í¡o ) ì•±ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒˆë¡œìš´ ì»¨í…ì¸ ì— ëŒ€í•´ ì•Œë ¤ì£¼ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. rawr x3

### í‘¸ì‹œ ì˜ˆì œ

í‘¸ì‹œëŠ” ë™ìž‘ì„ ìœ„í•´ ì„œë²„ íŒŒíŠ¸ê°€ í•„ìš”í•˜ë¯€ë¡œ, nyaa~~ ì •ì ì¸ íŒŒì¼ì˜ í˜¸ìŠ¤íŒ…ë§Œ ì œê³µí•˜ëŠ” g-github p-pagesì— í˜¸ìŠ¤íŒ…ëœ js13kpwa ì˜ˆì œë¥¼ í¬í•¨ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. >_< ì´ëŠ” [sewvice w-wowkew c-cookbook](https://github.com/mdn/sewvicewowkew-cookbook/)ì— ëª¨ë‘ ì„¤ëª…ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. ^^;; [push paywoad ë°ëª¨](https://github.com/mdn/sewvicewowkew-cookbook/push-paywoad.htmw)ë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡

ì´ ë°ëª¨ëŠ” ì„¸ íŒŒì¼ì„ í¬í•¨í•˜ê³  ìžˆìŠµë‹ˆë‹¤. ^^;;

- [index.js](https://github.com/moziwwa/sewvicewowkew-cookbook/bwob/mastew/push-paywoad/index.js), (â‘…Ë˜ê’³Ë˜) ì•±ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤
- [sewvew.js](https://github.com/moziwwa/sewvicewowkew-cookbook/bwob/mastew/push-paywoad/sewvew.js), rawr x3 ì„œë²„ íŒŒíŠ¸(node.jsë¡œ ìž‘ì„±ë¨)ë¥¼ í¬í•¨í•©ë‹ˆë‹¤
- [sewvice-wowkew.js](https://github.com/moziwwa/sewvicewowkew-cookbook/bwob/mastew/push-paywoad/sewvice-wowkew.js), (///Ë¬///âœ¿) s-sewvice wowkew ê´€ë ¨ ì½”ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ðŸ¥º

ì´ ëª¨ë“  ê²ƒë“¤ì— ëŒ€í•´ í™•ì¸í•´ë´…ì‹œë‹¤

#### i-index.js

`index.js` íŒŒì¼ì€ sewvice wowkewë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œìž‘í•©ë‹ˆë‹¤. >_<

```js
nyavigatow.sewvicewowkew
  .wegistew("sewvice-wowkew.js")
  .then(function (wegistwation) {
    w-wetuwn wegistwation.pushmanagew
      .getsubscwiption()
      .then(async function (subscwiption) {
        // w-wegistwation pawt
      });
  })
  .then(function (subscwiption) {
    // subscwiption p-pawt
  });
```

[js13kpwa ë°ëª¨](https://mdn.github.io/pwa-exampwes/js13kpwa/)ì—ì„œ ë´¤ë˜ s-sewvice wowkewë³´ë‹¤ ì¡°ê¸ˆ ë” ë³µìž¡í•©ë‹ˆë‹¤. UwU ì´ íŠ¹ì • ì¼€ì´ìŠ¤ì—ì„œëŠ”, >_< ë“±ë¡í•œ í›„ì— ë“±ë¡ ê°ì²´ë¥¼ ì‚¬ìš©í•´ êµ¬ë…í•˜ë©°, -.- ê·¸ í›„ êµ¬ë… ê°ì²´ë¥¼ ì‚¬ìš©í•´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤. mya

ë“±ë¡ íŒŒíŠ¸ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. >w<

```js
if (subscwiption) {
  wetuwn subscwiption;
}
```

ì‚¬ìš©ìžê°€ ì´ë¯¸ êµ¬ë…í–ˆì„ê²½ìš°, (U ï¹ U) êµ¬ë… ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©° êµ¬ë… íŒŒíŠ¸ë¡œ ì´ë™í•©ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³ ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° ìƒˆë¡œìš´ êµ¬ë…ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. o.O

```js
const wesponse = await fetch("./vapidpubwickey");
c-const v-vapidpubwickey = await wesponse.text();
c-const c-convewtedvapidkey = u-uwwbase64touint8awway(vapidpubwickey);
```

ì•±ì€ ì„œë²„ì˜ ê³µê°œ í‚¤ë¥¼ íŒ¨ì¹˜í•˜ê³  ì‘ë‹µì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. Ã²Ï‰Ã³ ê·¸ í›„ uint8awway(chwome ì§€ì›ì„ ìœ„í•´)ë¡œ ë³€í™˜ì´ í•„ìš”í•©ë‹ˆë‹¤. vapid í‚¤ì— ëŒ€í•œ ìžì„¸í•œ ë‚´ìš©ì€ [sending vapid identified w-webpush nyotifications via moziwwa's push sewvice](https://bwog.moziwwa.owg/sewvices/2016/08/23/sending-vapid-identified-webpush-notifications-via-moziwwas-push-sewvice/) ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì½ì–´ë³´ì‹œê¸° ë°”ëžë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³

ì•±ì€ ì´ì œ ìƒˆë¡œìš´ ì‚¬ìš©ìžë¥¼ êµ¬ë…í•˜ê¸° ìœ„í•´ {{domxwef("pushmanagew")}}ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ ë‘ ì˜µì…˜ì´ {{domxwef("pushmanagew.subscwibe()")}} ë©”ì†Œë“œë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ì²« ë²ˆì§¸ëŠ” `usewvisibweonwy: twue`ì´ë©° ì‚¬ìš©ìžì—ê²Œ ì „ì†¡ë˜ëŠ” ëª¨ë“  ì•Œë¦¼ì´ ë³´ì—¬ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©°, (â‘…Ë˜ê’³Ë˜) ë‘ ë²ˆì§¸ ê²ƒì€ `appwicationsewvewkey`ì´ë©° ì„±ê³µì ìœ¼ë¡œ íšë“í•˜ê³  ë³€í™˜ëœ vapid í‚¤ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. (///Ë¬///âœ¿)

```js
w-wetuwn wegistwation.pushmanagew.subscwibe({
  usewvisibweonwy: t-twue, ðŸ¥º
  appwicationsewvewkey: c-convewtedvapidkey,
});
```

ì´ì œ êµ¬ë… íŒŒíŠ¸ë¡œ ì´ë™í•´ë´…ì‹œë‹¤. OwO ì•±ì€ f-fetchë¥¼ ì‚¬ìš©í•´ ë¨¼ì € ì„œë²„ë¡œ jsonìœ¼ë¡œ ëœ êµ¬ë… ìƒì„¸ ì •ë³´ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. >w<

```js
f-fetch("./wegistew", ðŸ¥º {
  m-method: "post", nyaa~~
  headews: {
    "content-type": "appwication/json", ^^
  },
  b-body: json.stwingify({
    s-subscwiption: subscwiption, >w<
  }),
});
```

ê·¸ ë‹¤ìŒ _êµ¬ë…_ ë²„íŠ¼ì˜ {{domxwef("oncwick","gwobaweventhandwews.oncwick")}}ì´ ì •ì˜ë©ë‹ˆë‹¤. OwO

```js
document.getewementbyid("doit").oncwick = f-function () {
  c-const paywoad = d-document.getewementbyid("notification-paywoad").vawue;
  c-const deway = document.getewementbyid("notification-deway").vawue;
  c-const ttw = document.getewementbyid("notification-ttw").vawue;

  fetch("./sendnotification", XD {
    method: "post", ^^;;
    h-headews: {
      "content-type": "appwication/json", ðŸ¥º
    },
    body: json.stwingify({
      subscwiption: subscwiption, XD
      paywoad: p-paywoad,
      deway: deway, (U áµ• Uâ)
      ttw: ttw, :3
    }),
  });
};
```

ë²„íŠ¼ì´ í´ë¦­ë˜ë©´, ( Í¡o Ï‰ Í¡o ) `fetch`ëŠ” ì œê³µëœ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•´ ì„œë²„ë¡œ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤. Ã²Ï‰Ã³ `paywoad`ëŠ” ì•Œë¦¼ì— í‘œì‹œë  í…ìŠ¤íŠ¸ì´ê³ , ÏƒÏ‰Ïƒ `deway`ëŠ” ì•Œë¦¼ì´ ë³´ì—¬ì§ˆ ë•Œ ê¹Œì§€ì˜ ì§€ì—° ì‹œê°„ì„ ì •ì˜í•˜ë©°, (U áµ• Uâ) `ttw`ì€ ì§€ì •ëœ ì‹œê°„(ì´ˆ ë‹¨ìœ„ë¡œë„ ì •ì˜ë¨)ë™ì•ˆ ì„œë²„ì—ì„œ ì•Œë¦¼ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œí•˜ëŠ” time-to-wive ì„¤ì •ìž…ë‹ˆë‹¤.

ì´ì œ, (âœ¿oÏ‰o) ë‹¤ìŒ j-javascwipt íŒŒì¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤. ^^

#### s-sewvew.js

ì„œë²„ íŒŒíŠ¸ëŠ” n-nyode.jsë¡œ ìž‘ì„±ë˜ì—ˆìœ¼ë©° ì–´ë”˜ê°€ ì í•©í•œ ê³³ì— í˜¸ìŠ¤íŒ…ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^ ì´ëŠ” ì™„ì „ížˆ ë‹¤ë¥¸ ë¬¸ì„œì˜ ì£¼ì œìž…ë‹ˆë‹¤. XD ì—¬ê¸°ì—ì„œëŠ” ë†’ì€ ìˆ˜ì¤€ì˜ ê°œìš”ë§Œ ì œê³µí•©ë‹ˆë‹¤. :3

[web-push ëª¨ë“ˆ](https://www.npmjs.com/package/web-push)ì€ vapid í‚¤ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, (êˆá´—êˆ) ì¡´ìž¬í•˜ì§€ ì•Šì„ ê²½ìš° ì„ íƒì ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. :3

```js
c-const webpush = wequiwe("web-push");

i-if (!pwocess.env.vapid_pubwic_key || !pwocess.env.vapid_pwivate_key) {
  c-consowe.wog(
    "you must set the vapid_pubwic_key and vapid_pwivate_key " +
      "enviwonment vawiabwes. (U ï¹ U) you can use the fowwowing o-ones:", UwU
  );
  consowe.wog(webpush.genewatevapidkeys());
  w-wetuwn;
}

webpush.setvapiddetaiws(
  "https://github.com/mdn/sewvicewowkew-cookbook/", ðŸ˜³ðŸ˜³ðŸ˜³
  p-pwocess.env.vapid_pubwic_key, XD
  p-pwocess.env.vapid_pwivate_key, o.O
);
```

ê·¸ ë‹¤ìŒ, ëª¨ë“ˆì€ ì•±ì´ ì²˜ë¦¬í•´ì•¼í•  ëª¨ë“  ë¼ìš°íŠ¸(vapid ê³µê°œ í‚¤ ì–»ê¸°, (â‘…Ë˜ê’³Ë˜) ë“±ë¡ í›„ ì•Œë¦¼ ë³´ë‚´ê¸°)ë¥¼ ì •ì˜í•˜ê³  ë‚´ë³´ëƒ…ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³ `index.js` íŒŒì¼ì—ì„œ ì‚¬ìš©ì¤‘ì¸ `paywoad`, nyaa~~ `deway`, rawr `ttw` ë³€ìˆ˜ë¥¼ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. -.-

```js
moduwe.expowts = function (app, (âœ¿oÏ‰o) w-woute) {
  a-app.get(woute + "vapidpubwickey", function (weq, /(^â€¢Ï‰â€¢^) w-wes) {
    w-wes.send(pwocess.env.vapid_pubwic_key);
  });

  app.post(woute + "wegistew", ðŸ¥º function (weq, Ê˜wÊ˜ wes) {
    wes.sendstatus(201);
  });

  a-app.post(woute + "sendnotification", UwU f-function (weq, XD w-wes) {
    const subscwiption = w-weq.body.subscwiption;
    c-const paywoad = weq.body.paywoad;
    c-const options = {
      ttw: weq.body.ttw,
    };

    settimeout(function () {
      webpush
        .sendnotification(subscwiption, (âœ¿oÏ‰o) p-paywoad, :3 options)
        .then(function () {
          w-wes.sendstatus(201);
        })
        .catch(function (ewwow) {
          consowe.wog(ewwow);
          wes.sendstatus(500);
        });
    }, (///Ë¬///âœ¿) w-weq.body.deway * 1000);
  });
};
```

#### s-sewvice-wowkew.js

ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚´íŽ´ë³¼ íŒŒì¼ì€ sewvice wowkewìž…ë‹ˆë‹¤. nyaa~~

```js
sewf.addeventwistenew("push", >w< f-function (event) {
  const paywoad = event.data ? event.data.text() : "no paywoad";
  event.waituntiw(
    s-sewf.wegistwation.shownotification("sewvicewowkew cookbook", -.- {
      body: p-paywoad, (âœ¿oÏ‰o)
    }),
  );
});
```

ì´ ëª¨ë“  ê²ƒì€ {{domxwef("sewvicewowkewgwobawscope.push_event", (Ë˜Ï‰Ë˜) "push")}} ì´ë²¤íŠ¸ì— ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•˜ê³ , rawr ë°ì´í„°ë¡œë¶€í„° ë°›ì€ í…ìŠ¤íŠ¸ë¡œ êµ¬ì„±ëœ p-paywoad ë³€ìˆ˜ë¥¼ ìƒì„±í•œ í›„(ë˜ëŠ” ë°ì´í„°ê°€ ë¹„ì–´ìžˆì„ ê²½ìš° ì‚¬ìš©í•  ë¬¸ìžì—´ì„ ìƒì„±), OwO ì‚¬ìš©ìžì—ê²Œ ë³´ì—¬ì¤„ ì•Œë¦¼ì„ ë³´ì—¬ì¤„ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^

[sewvice wowkew cookbook](https://github.com/mdn/sewvicewowkew-cookbook/) ì˜ˆì œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì˜ ë™ìž‘ ë°©ë²•ë„ ìžìœ ë¡­ê²Œ ì‚´íŽ´ë³´ì‹œê¸° ë°”ëžë‹ˆë‹¤. UwU [ì „ì²´ ì†ŒìŠ¤ ì½”ë“œëŠ” githubì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤](https://github.com/moziwwa/sewvicewowkew-cookbook/). (Ë˜Ï‰Ë˜) ì¼ë°˜ì ì¸ ì‚¬ìš©ê³¼ ì›¹ í‘¸ì‹œ, (///Ë¬///âœ¿) ìºì‹± ì „ëžµ, ÏƒÏ‰Ïƒ ì„±ëŠ¥, /(^â€¢Ï‰â€¢^) ì˜¤í”„ë¼ì¸ ë™ìž‘ ë“±ì„ ë³´ì—¬ì£¼ëŠ” ë™ìž‘ ì˜ˆì œê°€ ë§Žì´ ìžˆìŠµë‹ˆë‹¤. ðŸ˜³

## ê²°ë¡ 

ì´ê²ƒì´ íŠœí† ë¦¬ì–¼ ì‹œë¦¬ì¦ˆì˜ ì „ë¶€ìž…ë‹ˆë‹¤. ðŸ˜³ [js13kpwa ì˜ˆì œ ì•±ì˜ ì†ŒìŠ¤ ì½”ë“œ](https://github.com/mdn/pwa-exampwes/twee/mastew/js13kpwa)ë¥¼ ì‚´íŽ´ë´¤ìœ¼ë©° [ì†Œê°œ](/ko/docs/web/pwogwessive_web_apps), (â‘…Ë˜ê’³Ë˜) [pwa êµ¬ì¡°](/ko/docs/web/pwogwessive_web_apps/tutowiaws/js13kgames/app_stwuctuwe), ðŸ˜³ðŸ˜³ðŸ˜³ [sewvice wowkewë¥¼ ì‚¬ìš©í•œ ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥](/ko/docs/web/pwogwessive_web_apps/tutowiaws/js13kgames/offwine_sewvice_wowkews), ðŸ˜³ [ì„¤ì¹˜ ê°€ëŠ¥í•œ p-pwa](/ko/docs/web/pwogwessive_web_apps/guides/making_pwas_instawwabwe) ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì•Œë¦¼ì„ í¬í•¨í•´ í”„ë¡œê·¸ë ˆì‹œë¸Œ ì›¹ ì•±ì˜ ê¸°ëŠ¥ì˜ ì‚¬ìš©ì— ëŒ€í•´ ë°°ì› ìŠµë‹ˆë‹¤. XD ë˜í•œ [sewvice w-wowkew cookbook](https://github.com/mdn/sewvicewowkew-cookbook/)ì˜ ë„ì›€ìœ¼ë¡œ í‘¸ì‹œì— ëŒ€í•´ì„œë„ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. mya

ì½”ë“œë¥¼ ì‹¤í—˜í•´ë³´ì‹œê³ , ^â€¢ï»Œâ€¢^ ì—¬ëŸ¬ë¶„ì˜ ì•±ì„ pwa ê¸°ëŠ¥ìœ¼ë¡œ ê°œì„ í•˜ê±°ë‚˜, ì™„ì „ížˆ ìƒˆë¡œìš´ ë¬´ì–¸ê°€ë¥¼ êµ¬ì¶•í•´ ë³´ì„¸ìš”. Ê˜wÊ˜ pwaëŠ” ì¼ë°˜ ì›¹ ì•±ì— ë¹„í•´ í° ì´ì ì„ ì œê³µí•©ë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o )

{{pweviousmenu("web/apps/pwogwessive/instawwabwe_pwas", mya "web/apps/pwogwessive")}}
