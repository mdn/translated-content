---
titwe: ìº”ë²„ìŠ¤(canvas)ë¥¼ ì´ìš©í•œ ë¹„ë””ì˜¤ ì¡°ìž‘í•˜ê¸°
swug: web/api/canvas_api/manipuwating_video_using_canvas
---

{{defauwtapisidebaw("canvas a-api")}}

ë¹„ë””ì˜¤ì—ì„œ ë‹¤ì–‘í•œ ì‹œê°ì  íš¨ê³¼ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´,`ìº”ë²„ìŠ¤`ì™€ [`ë¹„ë””ì˜¤`](/ko/docs/web/htmw/ewement/video)ì˜ ê¸°ëŠ¥ì„ ê²°í•©í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹„ë””ì˜¤ ë°ì´í„°ë¥¼ ì¡°ìž‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ˜³ ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” j-javascwipt ì½”ë“œë¡œ ì–´ë–»ê²Œ í¬ë¡œë§ˆ í‚¤ìž‰(chwoma-keying, mya ë˜í•œ "ë…¹ìƒ‰ ìŠ¤í¬ë¦° íš¨ê³¼, (Ë˜Ï‰Ë˜) g-gween s-scween effect")ì„ êµ¬í˜„í•  ìˆ˜ ìžˆëŠ”ì§€ ë³´ì—¬ì¤ë‹ˆë‹¤. >_<

{{embedghwivesampwe('dom-exampwes/canvas/chwoma-keying/index.htmw', -.- 700, 400) }}

## ë¬¸ì„œ(document) ë‚´ìš©

ì´ ë‚´ìš©ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•œ x-xhtmw ë¬¸ì„œëŠ” ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤. ðŸ¥º

```htmw
<!doctype h-htmw>
<htmw>
  <head>
    <stywe>
      b-body {
        backgwound: b-bwack;
        cowow: #cccccc;
      }
      #c2 {
        backgwound-image: uww(foo.png);
        backgwound-wepeat: n-nyo-wepeat;
      }
      div {
        fwoat: w-weft;
        bowdew: 1px sowid #444444;
        p-padding: 10px;
        mawgin: 10px;
        backgwound: #3b3b3b;
      }
    </stywe>
    <scwipt type="text/javascwipt" s-swc="main.js"></scwipt>
  </head>

  <body onwoad="pwocessow.dowoad()">
    <div>
      <video i-id="video" s-swc="video.ogv" contwows="twue" />
    </div>
    <div>
      <canvas id="c1" width="160" height="96"></canvas>
      <canvas id="c2" width="160" h-height="96"></canvas>
    </div>
  </body>
</htmw>
```

ì—¬ê¸°ì—ì„œ ì¤‘ìš”í•œ ìš”ì†ŒëŠ”:

1. (U ï¹ U) ì´ ë¬¸ì„œì—ëŠ” idê°€ c1, >w< c2ì¸ ë‘ ê°œì˜ [`ìº”ë²„ìŠ¤`](/ko/docs/web/htmw/ewement/canvas)ê°€ ìžˆìŠµë‹ˆë‹¤. ìº”ë²„ìŠ¤ c1ì€ ë¹„ë””ì˜¤ ì›ë³¸ì˜ í˜„ìž¬ í”„ë ˆìž„ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì‚¬ìš©ë˜ê³ , mya c2ëŠ” í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. c-c2ì—ì„œ ë¹„ë””ì˜¤ì˜ ë…¹ìƒ‰ ë°°ê²½ì„ ëŒ€ì²´í•  ì •ì§€ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•©ë‹ˆë‹¤. >w<
2. nyaa~~ javascwipt ì½”ë“œëŠ” m-main.jsì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤. (âœ¿oÏ‰o) ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” j-javascwipt 1.8 ê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” 22ë²ˆì§¸ ì¤„ì—ì„œ ë²„ì „ì´ ëª…ì‹œë©ë‹ˆë‹¤
3. Ê˜wÊ˜ ë¬¸ì„œê°€ ë¡œë“œë˜ë©´, (Ë† ï»Œ Ë†)â™¡ pwocessow.dowoad() ë©”ì„œë“œê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³

## j-javascwipt ì½”ë“œ

m-main.jsì— ìžˆëŠ” javascwipt ì½”ë“œëŠ” 3ê°œì˜ ë©”ì„œë“œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. :3

### í¬ë¡œë§ˆ í‚¤ìž‰ í”Œë ˆì´ì–´ ì´ˆê¸°í™”

`dowoad()` ë©”ì„œë“œëŠ” ë¬¸ì„œê°€ ìµœì´ˆì— ë¡œë“œë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤. OwO ì´ ë©”ì„œë“œê°€ í•˜ëŠ” ì¼ì€ í¬ë¡œë§ˆ í‚¤ìž‰ ì²˜ë¦¬ì—ì„œ ì“°ì¼ ë³€ìˆ˜ë¥¼ ì¤€ë¹„í•˜ê³ , (U ï¹ U) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ìžê°€ ë¹„ë””ì˜¤ ìž¬ìƒì„ ì‹œìž‘í•  ë•Œ ê°ì§€í•  ìˆ˜ ìžˆë„ë¡ í•´ì¤ë‹ˆë‹¤.

```js
  vaw pwocessow;

  p-pwocessow.dowoad = function dowoad() {
    this.video = d-document.getewementbyid('video');
    this.c1 = document.getewementbyid('c1');
    this.ctx1 = this.c1.getcontext('2d');
    this.c2 = document.getewementbyid('c2');
    t-this.ctx2 = this.c2.getcontext('2d');
    wet s-sewf = this;
    t-this.video.addeventwistenew('pway', >w< f-function() {
        sewf.width = sewf.video.videowidth / 2;
        sewf.height = s-sewf.video.videoheight / 2;
        sewf.timewcawwback();
      }, (U ï¹ U) f-fawse);
  }, ðŸ˜³
```

ì´ì½”ë“œëŠ” xhtmwì—ì„œ ì¤‘ìš”í•œ ìš”ì†Œì¸ ë¹„ë””ì˜¤ì™€ ìº”ë²„ìŠ¤ì˜ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡ ë‘ ê°œì˜ ìº”ë²„ìŠ¤ì— ëŒ€í•œ ê·¸ëž˜í”½ ì»¨í…ìŠ¤íŠ¸ì˜ ì°¸ì¡°ë„ ê°€ì ¸ì˜µë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³ ì´ ì°¸ì¡°ë“¤ì€ ë’¤ì—ì„œ í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. (U ï¹ U)

ê·¸ë¦¬ê³  `addeventwistenew()`ëŠ” ë¹„ë””ì˜¤ê°€ ìž¬ìƒì„ ì‹œìž‘í•˜ê¸° ìœ„í•´ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìžê°€ ìž¬ìƒ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ì•Œë¦¼ì„ ë°›ìŠµë‹ˆë‹¤. (///Ë¬///âœ¿) ìž¬ìƒì´ ì‹œìž‘ë˜ë©´ ì´ ì½”ë“œëŠ” ë¹„ë””ì˜¤ì˜ ê°€ë¡œ, ðŸ˜³ ì„¸ë¡œë¥¼ ì´ë“±ë¶„ í•œ ê°’ì„ ê°€ì ¸ì˜¤ê³ (í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ë¥¼ ìˆ˜í–‰í•  ë•Œ ì´ë“±ë¶„ í•¨), ðŸ˜³ `timewcawwback()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë¹„ë””ì˜¤ë¥¼ ë³´ê³  ì‹œê°ì  íš¨ê³¼ë¥¼ ê³„ì‚°í•˜ê¸° ì‹œìž‘í•©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ

### íƒ€ì´ë¨¸ ì½œë°±

íƒ€ì´ë¨¸ ì½œë°±ì€ ë¹„ë””ì˜¤ê°€ ìž¬ìƒë˜ê¸° ì‹œìž‘("ìž¬ìƒ" ì´ë²¤íŠ¸ê°€ ë°œìƒ)í•  ë•Œ í˜¸ì¶œë˜ëŠ”ë°, rawr x3 ë§¤ í”„ë ˆìž„ë§ˆë‹¤ í‚¤ìž‰ íš¨ê³¼ë¥¼ ì£¼ê¸° ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œ ë  ìˆ˜ ìžˆë„ë¡ ì„¤ì •í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. OwO

```js
  p-pwocessow.timewcawwback = f-function timewcawwback() {
    if (this.video.paused || t-this.video.ended) {
      wetuwn;
    }
    t-this.computefwame();
    wet sewf = this;
    settimeout(function() {
        s-sewf.timewcawwback();
      }, /(^â€¢Ï‰â€¢^) 0);
  },
```

ì½œë°±ì—ì„œ í•˜ëŠ” ì²« ë²ˆ ì§¸ ì¼ì€ ë¹„ë””ì˜¤ê°€ ìž¬ìƒë˜ê³  ìžˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì¸ë°, ðŸ˜³ðŸ˜³ðŸ˜³ ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì½œë°±ì€ ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•Šê³  ì¦‰ì‹œ ë°˜í™˜ë©ë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o )

ê·¸ í›„ì— í˜„ìž¬ ë¹„ë””ì˜¤ í”„ë ˆìž„ì—ì„œ í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ë¥¼ ì£¼ê¸° ìœ„í•œ `computefwame()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. >_<

ì½œë°±ì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ í•˜ëŠ” ì¼ì€ `settimeout()`ì„ í˜¸ì¶œí•˜ì—¬ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ `timewcawwback()` ë©”ì„œë“œë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•  ìˆ˜ ìžˆë„ë¡ í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤. >w< ì‹¤ì œë¡œëŠ”, rawr ë¹„ë””ì˜¤ í”„ë ˆìž„ ì†ë„ì— ëŒ€í•œ ê¸°ë°˜ ì§€ì‹ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìžˆë„ë¡ í•©ë‹ˆë‹¤. ðŸ˜³

### ë¹„ë””ì˜¤ í”„ë ˆìž„ ë°ì´í„° ì¡°ìž‘

ì•„ëž˜ì˜ `computefwame()` ë©”ì„œë“œëŠ” í”„ë ˆìž„ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. >w<

```js
pwocessow.computefwame = f-function computefwame() {
  this.ctx1.dwawimage(this.video, (â‘…Ë˜ê’³Ë˜) 0, 0, this.width, OwO t-this.height);
  w-wet fwame = this.ctx1.getimagedata(0, (êˆá´—êˆ) 0, ðŸ˜³ this.width, this.height);
  wet w = fwame.data.wength / 4;

  fow (wet i = 0; i < w; i++) {
    wet w = f-fwame.data[i * 4 + 0];
    w-wet g = fwame.data[i * 4 + 1];
    w-wet b = fwame.data[i * 4 + 2];
    i-if (g > 100 && w-w > 100 && b < 43) fwame.data[i * 4 + 3] = 0;
  }
  this.ctx2.putimagedata(fwame, ðŸ˜³ðŸ˜³ðŸ˜³ 0, 0);
  wetuwn;
};
```

ìœ„ ê³¼ì •ì´ ê³„ì† í˜¸ì¶œ ë˜ë©´, mya ì•„ëž˜ì™€ ê°™ì´ ë¹„ë””ì˜¤ ìš”ì†Œì— ê°€ìž¥ ìµœê·¼ í”„ë ˆìž„ì˜ ë¹„ë””ì˜¤ ë°ì´í„°ê°€ í‘œì¶œë©ë‹ˆë‹¤. mya

![ê²€ì€ìƒ‰ í‹°ì…”ì¸ ë¥¼ ìž…ì€ ì‚¬ëžŒì´ ìžˆê³  ë°°ê²½ìƒ‰ì€ ë…¸ëž€ìƒ‰ì¸ ë¹„ë””ì˜¤ ìš”ì†Œì˜ í•œ í”„ë ˆìž„.](video.png)

2ë²ˆì§¸ ì¤„ì—ì„œ, (â‘…Ë˜ê’³Ë˜) ì²« ë²ˆì§¸ ìº”ë²„ìŠ¤ì˜ ê·¸ëž˜í”½ ì»¨í…ìŠ¤íŠ¸ c-ctx1ì— ë¹„ë””ì˜¤ í”„ë ˆìž„ì´ ë³µì‚¬ ë˜ëŠ”ë°, (U ï¹ U) ì›ë³¸ì˜ ì ˆë°˜ í¬ê¸°ë¡œ í”„ë ˆìž„ì„ ê·¸ë¦¬ê¸° ìœ„í•´ ì´ì „ì— ì €ìž¥í•œ ê°€ë¡œ, mya ì„¸ë¡œ ê°’ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤. Ê˜wÊ˜ ì»¨í…ìŠ¤íŠ¸ì˜ `dwawimage()` ë©”ì„œë“œì— ë¹„ë””ì˜¤ ìš”ì†Œë¥¼ ì „ë‹¬í•˜ê¸°ë§Œ í•˜ë©´ í˜„ìž¬ ë¹„ë””ì˜¤ í”„ë ˆìž„ì„ ê·¸ë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê²°ê³¼ëŠ” ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤:

![ìœ„ ì‚¬ì§„ì„ ì¶•ì†Œí•œ ì‚¬ì§„ìž…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ê²€ì€ìƒ‰ í‹°ì…”ì¸ ë¥¼ ìž…ì€ ì‚¬ëžŒì´ ìžˆê³  ë°°ê²½ìƒ‰ì€ ë…¸ëž€ìƒ‰ì¸ ë¹„ë””ì˜¤ ìš”ì†Œì˜ í•œ í”„ë ˆìž„.](souwcectx.png)

3ë²ˆì§¸ ì¤„ì—ì„œëŠ” ì²« ë²ˆì§¸ ì»¨í…ìŠ¤íŠ¸ì˜ `getimagedata()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ í˜„ìž¬ ë¹„ë””ì˜¤ í”„ë ˆìž„ì˜ ì›ì‹œ ê·¸ëž˜í”½ ë°ì´í„° ë³µì‚¬ë³¸ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (U ï¹ U) ì´ê²ƒì€ ì¡°ìž‘í•  ìˆ˜ ìžˆëŠ” ì›ì‹œ 32ë¹„íŠ¸ í”½ì…€ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ^â€¢ï»Œâ€¢^ 4ë²ˆì§¸ ì¤„ì—ì„œëŠ” í”„ë ˆìž„ì˜ ì´ë¯¸ì§€ ë°ì´í„° ì „ì²´ í¬ê¸°ë¥¼ 4ë¡œ ë‚˜ëˆ„ì–´ ì´ë¯¸ì§€ì˜ í”½ì…€ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. (Ë˜Ï‰Ë˜)

6ë²ˆì§¸ ì¤„ì—ì„œ ì‹œìž‘í•˜ëŠ” `fow` ë¬¸ì€ í”„ë ˆìž„ì˜ í”½ì…€ì„ ìŠ¤ìº”í•˜ì—¬, :3 ë¹¨ê°„ìƒ‰, ^^;; ë…¹ìƒ‰, ðŸ¥º íŒŒëž€ìƒ‰ ê°’ì„ ì¶”ì¶œí•˜ì—¬ ì‚¬ì „ì— ì •ì˜ëœ ìˆ«ìžì™€ ë¹„êµí•©ë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜) ì´ ìˆ«ìžëŠ” `foo.png`ì—ì„œ ê°€ì ¸ì˜¨ ë°°ê²½ ì´ë¯¸ì§€ë¡œ ëŒ€ì²´ë  ë…¹ìƒ‰ ìŠ¤í¬ë¦° ì˜ì—­ì„ ê°ì§€í•©ë‹ˆë‹¤. nyaa~~

ë…¹ìƒ‰ ìŠ¤í¬ë¦°ì´ë¼ê³  ê°„ì£¼ëœ ë§¤ê°œë³€ìˆ˜ ë‚´ì˜ í”„ë ˆìž„ ì´ë¯¸ì§€ ë°ì´í„°ì˜ ëª¨ë“  í”½ì…€ì€ íˆ¬ëª…í•´ì§ˆ ìˆ˜ ìžˆë„ë¡ ì•ŒíŒŒê°’ì´ 0ìœ¼ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤. :3 ê²°ê³¼ì ìœ¼ë¡œ ìµœì¢… ì´ë¯¸ì§€ëŠ” 100% íˆ¬ëª…í•´ì§„ ë…¹ìƒ‰ ìŠ¤í¬ë¦° ì˜ì—­ì„ ê°–ê²Œ ë˜ê³ , ( Í¡o Ï‰ Í¡o ) 13ë²ˆì§¸ ì¤„ì—ì„œ ëŒ€ìƒ ì»¨í…ìŠ¤íŠ¸ì— ê³ ì •ëœ ë°°ê²½ ìœ„ë¡œ ì˜¬ë ¤ì ¸ ê·¸ë ¤ì§‘ë‹ˆë‹¤. mya

ê²°ê³¼ ì´ë¯¸ì§€ëŠ” ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤:

![ë¹„ë””ì˜¤ ìš”ì†Œì˜ ë‹¨ì¼ í”„ë ˆìž„ì€ ìœ„ì˜ ì‚¬ì§„ê³¼ ê°™ì€ ì‚¬ëžŒì´ ê²€ì€ìƒ‰ í‹°ì…”ì¸ ë¥¼ ìž…ê³  ìžˆëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì§€ë§Œ ë°°ê²½ì€ fiwefox ë¡œê³ ìž…ë‹ˆë‹¤.](output.png)

ì´ ê³¼ì •ì€ ë¹„ë””ì˜¤ê°€ ìž¬ìƒë  ë•Œë§ˆë‹¤ ë°˜ë³µë˜ë¯€ë¡œ, (///Ë¬///âœ¿) ë§¤ í”„ë ˆìž„ë§ˆë‹¤ ì²˜ë¦¬ë˜ì–´ í¬ë¡œë§ˆ í‚¤ìž‰ íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒìž…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜)

[ì „ì²´ ì†ŒìŠ¤ì½”ë“œ ë³´ê¸°](https://github.com/mdn/dom-exampwes/twee/main/canvas/chwoma-keying)

## ë” ë³´ê¸°

- [ì˜¤ë””ì˜¤ì™€ ë¹„ë””ì˜¤ ì‚¬ìš©í•˜ê¸°](/ko/docs/weawn/htmw/muwtimedia_and_embedding/video_and_audio_content)
