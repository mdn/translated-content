---
titwe: http ìºì‹±
swug: web/http/caching
---

{{httpsidebaw}}

ì›¹ ì‚¬ì´íŠ¸ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì€ ì´ì „ì— ê°€ì ¸ì˜¨ ë¦¬ì†ŒìŠ¤ë“¤ì„ ìž¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ í˜„ì €í•˜ê²Œ í–¥ìƒë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ¥º ì›¹ ìºì‹œëŠ” ë ˆì´í„´ì‹œì™€ ë„¤íŠ¸ì›Œí¬ íŠ¸ëž˜í”½ì„ ì¤„ì—¬ì¤Œìœ¼ë¡œì¨ ë¦¬ì†ŒìŠ¤ë¥¼ ë³´ì—¬ì£¼ëŠ” ë°ì— í•„ìš”í•œ ì‹œê°„ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤. (U ï¹ U) h-http ìºì‹±ì„ í™œìš©í•˜ë©´ ì›¹ ì‚¬ì´íŠ¸ê°€ ì¢€ ë” ë¹ ë¥´ê²Œ ë°˜ì‘í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. >w<

## ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ìºì‹œë“¤

ìºì‹±ì€ ì£¼ì–´ì§„ ë¦¬ì†ŒìŠ¤ì˜ ë³µì‚¬ë³¸ì„ ì €ìž¥í•˜ê³  ìžˆë‹¤ê°€ ìš”ì²­ ì‹œì— ê·¸ê²ƒì„ ì œê³µí•˜ëŠ” ê¸°ìˆ ìž…ë‹ˆë‹¤. mya ì›¹ ìºì‹œê°€ ìžì‹ ì˜ ì €ìž¥ì†Œ ë‚´ì— ìš”ì²­ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì§€ê³  ìžˆë‹¤ë©´, >w< ìš”ì²­ì„ ê°€ë¡œì±„ ì›ëž˜ì˜ ì„œë²„ë¡œë¶€í„° ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ëŒ€ì‹  ë¦¬ì†ŒìŠ¤ì˜ ë³µì‚¬ë³¸ì„ ë°˜í™˜í•©ë‹ˆë‹¤. nyaa~~ ì´ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì€ ëª‡ ê°€ì§€ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê²Œ í•´ì¤ë‹ˆë‹¤: ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ë¥¼ ì„œë¹„ìŠ¤í•  í•„ìš”ê°€ ì—†ì–´ì§€ë¯€ë¡œ ì„œë²„ì˜ ë¶€í•˜ë¥¼ ì™„í™”í•˜ê³ , (âœ¿oÏ‰o) (ìºì‹œê°€ ì›ëž˜ ì„œë²„ì— ë¹„í•´ì„œ) í´ë¼ì´ì–¸íŠ¸ì— ë” ê°€ê¹Œì´ì— ìžˆìœ¼ë¯€ë¡œ ì„±ëŠ¥ì´ í–¥ìƒë©ë‹ˆë‹¤. Ê˜wÊ˜ ì¦‰, ë¦¬ì†ŒìŠ¤ë¥¼ íšŒì‹ í•˜ëŠ”ë° ë” ì ì€ ì‹œê°„ì´ ë“¤ê²Œ ë©ë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡ ì›¹ ì‚¬ì´íŠ¸ì—ì„œ ìºì‹±ì€ ë†’ì€ ì„±ëŠ¥ì„ ë‹¬ì„±í•˜ëŠ” ë°ì— ì£¼ìš”í•œ ìš”ì†Œìž…ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³ ë°˜ë©´ì— ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì˜ì›ížˆ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ ë¦¬ì†ŒìŠ¤ê°€ ë³€í•˜ê¸° ì „ê¹Œì§€ë§Œ ìºì‹±í•˜ê³  ë³€í•œ ì´í›„ì—ëŠ” ë”ì´ìƒ ìºì‹±í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. :3

ìºì‹œì—ëŠ” ëª‡ ê°€ì§€ ì¢…ë¥˜ê°€ ìžˆìŠµë‹ˆë‹¤: í¬ê²Œ ì‚¬ì„¤(pwivate) í˜¹ì€ ê³µìœ (shawed) ìºì‹œ ë‘ ê°€ì§€ ë¶€ë¥˜ë¡œ ë¶„ë¥˜ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. OwO *ê³µìœ  ìºì‹œ*ëŠ” í•œ ëª… ì´ìƒì˜ ì‚¬ìš©ìžê°€ ìž¬ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ ì‘ë‹µì„ ì €ìž¥í•˜ëŠ” ìºì‹œë¥¼ ë§í•©ë‹ˆë‹¤. (U ï¹ U) *ì‚¬ì„¤ ìºì‹œ*ëŠ” í•œ ëª…ì˜ ì‚¬ìš©ìžë§Œ ì‚¬ìš©í•˜ëŠ” ìºì‹œë¥¼ ë§í•©ë‹ˆë‹¤. >w< ì´ íŽ˜ì´ì§€ì—ì„œëŠ” ê±°ì˜ ëŒ€ë¶€ë¶„ ë¸Œë¼ìš°ì €ì™€ í”„ë¡ì‹œ ìºì‹œì— ëŒ€í•´ì„œë§Œ ë‹¤ë£° ê²ƒì´ë‚˜, (U ï¹ U) ê·¸ ì™¸ì—ë„ ë” ë‚˜ì€ ì‹ ë¢°ë„, ðŸ˜³ ì„±ëŠ¥ ê·¸ë¦¬ê³  ì›¹ ì‚¬ì´íŠ¸ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í™•ìž¥(scawing)ì„ ìœ„í•´ ì›¹ ì„œë²„ ìœ„ì— ë°°í¬ë˜ëŠ” ê²Œì´íŠ¸ì›¨ì´ ìºì‹œ, (Ë† ï»Œ Ë†)â™¡ c-cdn, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ìºì‹œ ê·¸ë¦¬ê³  ë¡œë“œ ë°¸ëžœì„œ ë“±ì´ ìžˆìŠµë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³

![nani a-a cache p-pwovide, (U ï¹ U) advantages/disadvantages o-of shawed/pwivate c-caches.](/ko/docs/web/http/caching/http_cache_type.png)

### ì‚¬ì„¤ ë¸Œë¼ìš°ì € ìºì‹œ

ì‚¬ì„¤ ìºì‹œëŠ” ë‹¨ì¼ ì‚¬ìš©ìžê°€ ì „ìš©ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. (///Ë¬///âœ¿) ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ "caching"ì„ ë³¸ ì ì´ ìžˆì„ ê²ë‹ˆë‹¤. ðŸ˜³ ë¸Œë¼ìš°ì € ìºì‹œëŠ” ê·¸ ì‚¬ìš©ìžì— ì˜í•˜ì—¬ [http](/ko/docs/web/http)ë¥¼ í†µí•´ ë‹¤ìš´ë¡œë“œëœ ëª¨ë“  ë¬¸ì„œë“¤ì„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤. ðŸ˜³ ì´ ìºì‹œëŠ” ì„œë²„ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ìš”ì²­ ì—†ì´ ë’¤ë¡œ ê°€ê¸°ë‚˜ ì•žìœ¼ë¡œ ê°€ê¸°, ÏƒÏ‰Ïƒ ì €ìž¥, ì†ŒìŠ¤ë¡œ ë³´ê¸° ë“±ì„ ìœ„í•´ ë°©ë¬¸í–ˆë˜ ë¬¸ì„œë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ í•´ ì¤ë‹ˆë‹¤. rawr x3 ë˜í•œ ìœ ì‚¬í•œ ë°©ë²•ìœ¼ë¡œ ìºì‹œëœ ì»¨í…ì¸ ì˜ ì˜¤í”„ë¼ì¸ ë¸Œë¼ìš°ì§•ì„ ê°œì„ ì‹œí‚µë‹ˆë‹¤. OwO

### ê³µìœ  í”„ë¡ì‹œ ìºì‹œ

ê³µìœ  ìºì‹œëŠ” í•œ ëª… ì´ìƒì˜ ì‚¬ìš©ìžì— ì˜í•´ ìž¬ì‚¬ìš©ë˜ëŠ” ì‘ë‹µì„ ì €ìž¥í•˜ëŠ” ìºì‹œìž…ë‹ˆë‹¤. /(^â€¢Ï‰â€¢^) ì˜ˆë¥¼ ë“¤ì–´, ðŸ˜³ðŸ˜³ðŸ˜³ ë‹¹ì‹ ì˜ íšŒì‚¬ì˜ i-ispëŠ” ë§Žì€ ì‚¬ìš©ìžë“¤ì„ ì„œë¹„ìŠ¤í•˜ê¸° ìœ„í•´ ì§€ì—­ ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œì„œ ì›¹ í”„ë¡ì‹œë¥¼ ì„¤ì¹˜í•´ë’€ì„ ìˆ˜ë„ ìžˆëŠ”ë°, ( Í¡o Ï‰ Í¡o ) ê·¸ ë•ë¶„ì— ì¡°íšŒê°€ ë§Žì´ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì€ ëª‡ ë²ˆì´ê³  ìž¬ì‚¬ìš©ë˜ì–´ ë„¤íŠ¸ì›Œí¬ íŠ¸ëž˜í”½ê³¼ ë ˆì´í„´ì‹œë¥¼ ì¤„ì—¬ì¤ë‹ˆë‹¤. >_<

## ìºì‹± ë™ìž‘ì˜ ëŒ€ìƒ

h-http ìºì‹±ì€ ì„ íƒì (optionaw)ì´ì§€ë§Œ ìºì‹œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ìž¬ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë³´í†µ ë°”ëžŒì§í•œ ì¼ìž…ë‹ˆë‹¤. >w< í•˜ì§€ë§Œ, rawr http ìºì‹œë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ {{httpmethod("get")}}ì— ëŒ€í•œ ì‘ë‹µë§Œì„ ìºì‹±í•˜ë©°, ðŸ˜³ ë‹¤ë¥¸ ë©”ì„œë“œë“¤ì€ ì œì™¸ë  ê²ë‹ˆë‹¤. >w< ê¸°ë³¸ ìºì‹œ í‚¤(pwimawy cache key)ëŠ” ìš”ì²­ ë©”ì„œë“œ ê·¸ë¦¬ê³  ëŒ€ìƒ uwië¡œ êµ¬ì„±ë©ë‹ˆë‹¤(get ìš”ì²­ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë¯€ë¡œ uwië§Œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ŽìŠµë‹ˆë‹¤). (â‘…Ë˜ê’³Ë˜) ì¼ë°˜ì ì¸ ìºì‹± ì—”íŠ¸ë¦¬ì˜ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ê²€ìƒ‰(wetwievaw) ìš”ì²­ì˜ ì„±ê³µì ì¸ ê²°ê³¼: h-htmw ë¬¸ì„œ, OwO ì´ë¯¸ì§€ í˜¹ì€ íŒŒì¼ê³¼ ê°™ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” {{httpmethod("get")}} ìš”ì²­ì— ëŒ€í•œ {{httpstatus(200)}} (ok) ì‘ë‹µ. (êˆá´—êˆ)
- ì˜êµ¬ì ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸: {{httpstatus(301)}} (moved pewmanentwy) ì‘ë‹µ. ðŸ˜³
- ì˜¤ë¥˜ ì‘ë‹µ: {{httpstatus(404)}} (not found) ê²°ê³¼ íŽ˜ì´ì§€. ðŸ˜³ðŸ˜³ðŸ˜³
- ì™„ì „í•˜ì§€ ì•Šì€ ê²°ê³¼: {{httpstatus(206)}} (pawtiaw c-content) ì‘ë‹µ. mya
- ìºì‹œ í‚¤ë¡œ ì‚¬ìš©í•˜ê¸°ì— ì ì ˆí•œ ë¬´ì–¸ê°€ê°€ ì •ì˜ëœ ê²½ìš°ì˜ {{httpmethod("get")}} ì´ì™¸ì˜ ì‘ë‹µ. mya

ìºì‹œ ì—”íŠ¸ë¦¬ëŠ” ìš”ì²­ì´ ì»¨í…ì¸  í˜‘ìƒì˜ ëŒ€ìƒì¸ ê²½ìš°, (â‘…Ë˜ê’³Ë˜) ë‘ë²ˆì§¸ í‚¤ì— ì˜í•´ êµ¬ë³„ë˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ì €ìž¥ëœ ì‘ë‹µë“¤ë¡œ êµ¬ì„±ë  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. (U ï¹ U) ì¢€ ë” ìžì„¸í•œ ë‚´ìš©ì„ ì°¸ê³ í•˜ì‹œë ¤ë©´ [ì•„ëž˜ì—ì„œ](#vawying_wesponses) {{httpheadew("vawy")}} í—¤ë”ì— ëŒ€í•´ì„œ ì½ì–´ë³´ì‹œê¸° ë°”ëžë‹ˆë‹¤. mya

## ìºì‹± ì œì–´

### `cache-contwow` í—¤ë”

{{httpheadew("cache-contwow")}} http/1.1 ê¸°ë³¸ í—¤ë” í•„ë“œëŠ” ìš”ì²­ê³¼ ì‘ë‹µ ì–‘ì¸¡ ëª¨ë‘ì— ìžˆì–´ ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì„ ìœ„í•œ ë””ë ‰í‹°ë¸Œë¥¼ ì§€ì •í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í—¤ë” í•„ë“œê°€ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ ë””ë ‰í‹°ë¸Œë“¤ë¡œ ìºì‹± ì •ì±…ì„ ì •ì˜í•˜ê³ ìž í•œë‹¤ë©´ ì´ í—¤ë”ë¥¼ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤. Ê˜wÊ˜

#### ìºì‹œí•˜ì§€ ì•ŠìŒ

ìºì‹œëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ í˜¹ì€ ì„œë²„ ì‘ë‹µì— ê´€í•´ì„œ ì–´ë–¤ ê²ƒë„ ì €ìž¥í•´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ìš”ì²­ì€ ì„œë²„ ì¸¡ìœ¼ë¡œ ì „ì†¡ë˜ê³  ì „ì²´ ì‘ë‹µì€ ë§¤ë²ˆ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤. (U ï¹ U)

```
c-cache-contwow: nyo-stowe
```

#### ìºì‹œí•˜ì§€ë§Œ ìž¬ê²€ì¦

ìºì‹œëœ ë³µì‚¬ë³¸ì„ ì‚¬ìš©ìžì—ê²Œ ë¦´ë¦¬ì¦ˆ í•˜ê¸° ì „ì—, ^â€¢ï»Œâ€¢^ ìœ íš¨ì„± í™•ì¸ì„ ìœ„í•´ ì› ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜)

```
cache-contwow: nyo-cache
```

#### ì‚¬ì„¤ ìºì‹œì™€ ê³µê°œ ìºì‹œ

"pubwic" ë””ë ‰í‹°ë¸ŒëŠ” ì‘ë‹µì´ ì–´ë–¤ ìºì‹œì— ì˜í•´ì„œë“  ìºì‹œë˜ì–´ë„ ì¢‹ë‹¤ëŠ” ê²ƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤. :3 ì´ê²ƒì€ h-http ì¸ì¦, ^^;; í˜¹ì€ ë³´í†µ ìºì‹œ ê°€ëŠ¥í•˜ì§€ ì•Šì€ ì‘ë‹µ ìƒíƒœ ì½”ë“œë¥¼ ì§€ë‹Œ íŽ˜ì´ì§€ê°€ ì´ì œ ìºì‹œë˜ì–´ì•¼ í•  ê²½ìš° ìœ ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ¥º

ë°˜ë©´ "pwivate"ì€ ì‘ë‹µì´ ë‹¨ì¼ ì‚¬ìš©ìžë§Œì„ ìœ„í•œ ê²ƒì´ë©° ê³µìœ  ìºì‹œì— ì˜í•´ ì €ìž¥ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ê²ƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜) ì‚¬ì„¤ ë¸Œë¼ìš°ì € ìºì‹œëŠ” ì´ëŸ° ê²½ìš°ì— ì‘ë‹µì„ ì €ìž¥í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. nyaa~~

```
cache-contwow: p-pwivate
c-cache-contwow: pubwic
```

#### ë§Œë£Œ

ì—¬ê¸°ì„œ ê°€ìž¥ ì¤‘ìš”í•œ ë””ë ‰í‹°ë¸ŒëŠ” "`max-age=<seconds>`"ë¡œ ë¦¬ì†ŒìŠ¤ê°€ ìœ íš¨í•˜ë‹¤ê³  íŒë‹¨ë˜ëŠ” ìµœëŒ€ ì‹œê°„ì„ ë§í•©ë‹ˆë‹¤. :3 ì´ ë””ë ‰í‹°ë¸ŒëŠ” ìš”ì²­ ì‹œê°„ì— ìƒëŒ€ì ì´ë©°, ( Í¡o Ï‰ Í¡o ) {{httpheadew("expiwes")}}ê°€ ì„¤ì •ë˜ì–´ ìžˆì–´ë„ ê·¸ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤. mya ë³€ê²½ë˜ì§€ ì•Šì„ íŒŒì¼ì— ëŒ€í•´, (///Ë¬///âœ¿) ê³µê²©ì ìœ¼ë¡œ (ê¸´ ì‹œê°„ìœ¼ë¡œ) ìºì‹±í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ì˜ˆë¥¼ ë“¤ì–´ ì´ë¯¸ì§€, ^^;; css íŒŒì¼ ê·¸ë¦¬ê³  javascwipt íŒŒì¼ê³¼ ê°™ì€ ì •ì  íŒŒì¼ë“¤ìž…ë‹ˆë‹¤. (âœ¿oÏ‰o)

ì¢€ ë” ìžì„¸í•œ ë‚´ìš©ì„ ìœ„í•´, (U ï¹ U) ì•„ëž˜ì—ì„œ [ìœ íš¨ì„±](#ìœ íš¨ì„±fweshness) ì„¹ì…˜ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤. -.-

```
cache-contwow: m-max-age=31536000
```

#### ê²€ì¦

"`must-wevawidate`" ë””ë ‰í‹°ë¸Œ ì‚¬ìš© ì‹œ, ^â€¢ï»Œâ€¢^ ìºì‹œëŠ” ì˜¤ëž˜ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— ê·¸ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ë§Œë£Œëœ ë¦¬ì†ŒìŠ¤ëŠ” ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤. rawr ì¢€ ë” ìžì„¸í•œ ë‚´ìš©ì€, (Ë˜Ï‰Ë˜) ì•„ëž˜ì—ì„œ [ê²€ì¦](#ìºì‹œ_ê²€ì¦) ì„¹ì…˜ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤. nyaa~~

```
cache-contwow: must-wevawidate
```

### `pwagma` í—¤ë”

{{httpheadew("pwagma")}}ëŠ” http/1.0 í—¤ë”ìž…ë‹ˆë‹¤. UwU `pwagma: nyo-cache`ëŠ” ìºì‹œê°€ ê²€ì¦ì„ ìœ„í•´ ì›ëž˜ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ë„ë¡ ê°•ì œí•œë‹¤ëŠ” ì ì—ì„œ `cache-contwow: n-nyo-cache`ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. :3 ê·¸ëŸ¬ë‚˜ `pwagma`ëŠ” http ì‘ë‹µì— ëŒ€í•´ ëª…ì„¸ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì¼ë°˜ì ì¸ h-http/1.1 `cache-contwow` í—¤ë”ë¥¼ ì‹ ë¢°ì„± ìžˆê²Œ ëŒ€ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜)

`cache-contwow` h-http/1.1 í—¤ë”ê°€ ì—†ëŠ” h-http/1.0 í´ë¼ì´ì–¸íŠ¸ì™€ì˜ í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•œ ê²½ìš°ì—ë§Œ `pwagma`ë¥¼ ì‚¬ìš©í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. (///Ë¬///âœ¿)

## ìœ íš¨ì„±(fweshness)

ë¦¬ì†ŒìŠ¤ê°€ ìºì‹œ ë‚´ì— ì €ìž¥ë˜ê³  ë‚˜ë©´, ^^;; ì´ë¡ ì ìœ¼ë¡œëŠ” ì˜ì›ížˆ ìºì‹œì— ì˜í•´ ì„œë¹„ìŠ¤ë  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. >_< ìºì‹œëŠ” ìœ í•œí•œ ì €ìž¥ ê³µê°„ì„ ê°€ì§€ë¯€ë¡œ ì•„ì´í…œë“¤ì€ ì£¼ê¸°ì ìœ¼ë¡œ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì œê±°ë©ë‹ˆë‹¤. rawr x3 ì´ëŸ° ê³¼ì •ì„ *ìºì‹œ ì¶•ì¶œ(cache e-eviction)*ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. /(^â€¢Ï‰â€¢^) ë°˜ë©´ ì–´ë–¤ ë¦¬ì†ŒìŠ¤ë“¤ì€ ì„œë²„ ìƒì—ì„œ ë³€ê²½ë  ìˆ˜ ìžˆê³ , :3 ìºì‹œê°€ ê°±ì‹ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. (êˆá´—êˆ) httpê°€ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í”„ë¡œí† ì½œì´ë¯€ë¡œ, /(^â€¢Ï‰â€¢^) ë¦¬ì†ŒìŠ¤ê°€ ë³€ê²½ëì„ ë•Œ ì„œë²„ëŠ” ìºì‹œì™€ í´ë¼ì´ì–¸íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤; ì„œë²„ëŠ” ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ë§Œë£Œ ì‹œê°„ì„ ì•Œë ¤ì¤„ ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤. ë§Œë£Œ ì‹œê°„ ì´ì „ì—ëŠ”, (â‘…Ë˜ê’³Ë˜) ë¦¬ì†ŒìŠ¤ê°€ *ìœ íš¨(fwesh)*í•©ë‹ˆë‹¤; ë§Œë£Œ ì‹œê°„ ì´í›„ì˜ ë¦¬ì†ŒìŠ¤ëŠ” *ì‹¤íš¨(stawe)*ë©ë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o ) ì¶•ì¶œ ì•Œê³ ë¦¬ì¦˜ì€ ëŒ€ê°œ ì‹¤íš¨ëœ ë¦¬ì†ŒìŠ¤ë³´ë‹¤ ìœ íš¨í•œ ë¦¬ì†ŒìŠ¤ì— íŠ¹ê¶Œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. Ã²Ï‰Ã³ ì‹¤íš¨ëœ ë¦¬ì†ŒìŠ¤ëŠ” ì¶•ì¶œë˜ê±°ë‚˜ ë¬´ì‹œë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œì•„ë‘ì‹œê¸° ë°”ëžë‹ˆë‹¤; ìºì‹œê°€ ì‹¤íš¨ëœ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ìš”ì²­ì„ ë°›ì€ ê²½ìš°, (â‘…Ë˜ê’³Ë˜) ì´ ë¦¬ì†ŒìŠ¤ê°€ ì‹¤ì œë¡œ ì•„ì§ ìœ íš¨í•œì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ {{httpheadew("if-none-match")}}ì™€ í•¨ê»˜ ìš”ì²­ì„ ì „ë‹¬í•©ë‹ˆë‹¤. XD ë§Œì•½ ê·¸ë ‡ë‹¤ë©´, -.- ì„œë²„ëŠ” ìš”ì²­ëœ ë¦¬ì†ŒìŠ¤ ë³¸ë¬¸ì„ ì „ì†¡í•˜ì§€ ì•Šê³  {{httpstatus("304")}} (not modified) í—¤ë”ë¥¼ ëŒë ¤ë³´ë‚´ ëŒ€ì—­í­ì„ ì ˆì•½í•©ë‹ˆë‹¤. :3

ë‹¤ìŒì€ ì´ëŸ° ê³¼ì •ì— ëŒ€í•œ ê³µìœ  ìºì‹œ í”„ë¡ì‹œë¥¼ ì´ìš©í•œ ì˜ˆì œìž…ë‹ˆë‹¤:

![show h-how a pwoxy cache acts when a doc is n-nyot cache, nyaa~~ in the cache and fwesh, ðŸ˜³ in the cache and stawe.](httpstaweness.png)

ìœ íš¨ ìˆ˜ëª…ì€ ëª‡ê°€ì§€ í—¤ë”ì— ê·¼ê±°í•´ ê³„ì‚°ë©ë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜) "`cache-contwow: max-age=n`" í—¤ë”ê°€ ì„¤ì •ëœ ê²½ìš°, nyaa~~ ìœ íš¨ ìˆ˜ëª…ì€ nyê³¼ ë™ì¼í•©ë‹ˆë‹¤. OwO ë§Œì•½ ì´ í—¤ë”ê°€ ì—†ë‹¤ë©´, rawr x3 ì´ëŸ° ê²½ìš°ê°€ ë§¤ìš° ë§ŽìŠµë‹ˆë‹¤ë§Œ, XD {{httpheadew("expiwes")}} í—¤ë”ê°€ ìžˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ `expiwes` í—¤ë”ê°€ ì¡´ìž¬í•œë‹¤ë©´, (U áµ• Uâ) ê·¸ê²ƒì˜ ê°’ì—ì„œ {{httpheadew("date")}} í—¤ë”ì˜ ê°’ì„ ëº€ ê²°ê³¼ê°€ ìœ íš¨ ìˆ˜ëª…ì´ ë©ë‹ˆë‹¤. (U ï¹ U)

### ìœ íš¨ì„± ê²€ì‚¬ íœ´ë¦¬ìŠ¤í‹±

ì›ëž˜ ì„œë²„ê°€ ëª…ì‹œì ìœ¼ë¡œ ìœ íš¨ì„±ì„ ì§€ì •í•˜ì§€ ì•Šì•˜ìœ¼ë©´ (ì˜ˆë¥¼ ë“¤ì–´ {{httpheadew("cache-contwow")}} ë˜ëŠ” {{httpheadew("expiwes")}} í—¤ë”ë¥¼ ì‚¬ìš©í•´ì„œ), :3 íœ´ë¦¬ìŠ¤í‹±ìœ¼ë¡œ ìœ íš¨ ê¸°ê°„ì„ ì¶”ì •í•©ë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o )

ì´ ê²½ìš°ì—ëŠ” {{httpheadew("wast-modified")}} í—¤ë”ë¥¼ ì°¾ìŠµë‹ˆë‹¤. ÏƒÏ‰Ïƒ ì´ í—¤ë”ê°€ ìžˆë‹¤ë©´, >w< ìºì‹œì˜ ìœ íš¨ ìˆ˜ëª…ì€ `date` í—¤ë” ê°’ì—ì„œ `wast-modified` í—¤ë” ê°’ì„ ëº€ ê°’ì„ 10ìœ¼ë¡œ ë‚˜ëˆˆ ê²°ê³¼ê°€ ë©ë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³
ë§Œë£Œ ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ì´ ê³„ì‚°ë©ë‹ˆë‹¤:

```
e-expiwationtime = wesponsetime + f-fweshnesswifetime - c-cuwwentage
```

`wesponsetime`ì€ ë¸Œë¼ìš°ì €ê°€ ì‘ë‹µì„ ìˆ˜ì‹ í•œ ì‹œê°„ì„ ë§í•©ë‹ˆë‹¤. OwO ë” ë§Žì€ ì •ë³´ë¥¼ ìœ„í•´ì„œëŠ” [wfc 7234: h-hypewtext twansfew pwotocow (http/1.1): 4.2.2. ðŸ˜³ cawcuwating heuwistic fweshness](https://toows.ietf.owg/htmw/wfc7234#section-4.2.2)ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëžë‹ˆë‹¤.

### ë¦¬ë¹„ì „ëœ(wevved) ë¦¬ì†ŒìŠ¤

ìš°ë¦¬ê°€ ìºì‹œëœ ë¦¬ì†ŒìŠ¤ë“¤ì„ ë§Žì´ ì‚¬ìš©í• ìˆ˜ë¡, ðŸ˜³ðŸ˜³ðŸ˜³ ì›¹ ì‚¬ì´íŠ¸ì˜ ì‘ë‹µì„±ê³¼ ì„±ëŠ¥ì€ ì ì  ë” ì¢‹ì•„ì§ˆ ê²ƒìž…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ì´ê²ƒì„ ìµœì í™”í•˜ê¸° ìœ„í•œ ì¢‹ì€ ë°©ë²•ì€ ë§Œë£Œ ì‹œê°„ì„ ê°€ëŠ¥í•œ ë” ë¨¼ ë¯¸ëž˜ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤. Ê˜wÊ˜ ì´ê²ƒì€ ì •ê¸°ì ìœ¼ë¡œë‚˜ ìžì£¼ ì—…ë°ì´íŠ¸ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ì„œëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ, ( Í¡o Ï‰ Í¡o ) ë“œë¬¼ê²Œ ì—…ë°ì´íŠ¸ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì˜ ê²½ìš°ì—ëŠ” ë¬¸ì œê°€ ë©ë‹ˆë‹¤. o.O ì´ëŸ° ë¦¬ì†ŒìŠ¤ë“¤ì„ ìºì‹œí•˜ë©´ ì´ë“ì´ í¬ì§€ë§Œ, >w< ì—…ë°ì´íŠ¸í•˜ê¸°ê°€ ë§¤ìš° ì–´ë µê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤. ðŸ˜³ ìºì‹œí•œ ë¦¬ì†ŒìŠ¤ë¡œë¶€í„° ìµœëŒ€í•œ í™œìš©ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë“¤ë¡œ, ðŸ¥º ì•žì„œ ì–˜ê¸°í•œ ë°©ë²• ë•ë¶„ì— ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ë“¤ì„ ê°±ì‹ í•˜ê¸° ë” ì–´ë µê²Œ ë©ë‹ˆë‹¤. rawr x3 ëŒ€í‘œì ìœ¼ë¡œ ê° ì›¹ íŽ˜ì´ì§€ì— í¬í•¨ë˜ê³  ë§í¬ëœ ê¸°ìˆ ì ì¸ ë¦¬ì†ŒìŠ¤ë“¤ì´ ê·¸ë ‡ìŠµë‹ˆë‹¤: j-javascwiptì™€ c-css íŒŒì¼ë“¤ì˜ ë³€ê²½ì€ ë“œë¬¼ì§€ë§Œ, o.O ê·¸ê²ƒë“¤ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ëŠ” ë¹ ë¥´ê²Œ ê°±ì‹ ë˜ê¸°ë¥¼ ì›í•  ê²ë‹ˆë‹¤. rawr

ì›¹ ê°œë°œìžë“¤ì€ steve soundewsê°€ _wevving_[\[1\]](https://www.stevesoudews.com/bwog/2008/08/23/wevving-fiwenames-dont-use-quewystwing/)ì´ë¼ê³  ë¶ˆë €ë˜ ê¸°ìˆ ì„ ë°œëª…í–ˆìŠµë‹ˆë‹¤. Ê˜wÊ˜ ë“œë¬¼ê²Œ ì—…ë°ì´íŠ¸ë˜ëŠ” íŒŒì¼ë“¤ì€ íŠ¹ì •í•œ ë°©ë²•ìœ¼ë¡œ ì´ë¦„ë¶™ì—¬ì§‘ë‹ˆë‹¤: íŒŒì¼ë“¤ì˜ u-uwwë‚´ì—, ðŸ˜³ðŸ˜³ðŸ˜³ ë³´í†µ íŒŒì¼ëª…ì—, ^^;; ìˆ˜ì •(í˜¹ì€ ë²„ì „) ë²ˆí˜¸ê°€ ì¶”ê°€ë©ë‹ˆë‹¤. o.O ê·¸ë ‡ê²Œ í•´ì„œ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì˜ ê°ê°ì˜ ìƒˆë¡œìš´ ìˆ˜ì •ë³¸ ìžì²´ëŠ” ê²°ì½” ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©°, (///Ë¬///âœ¿) ë³´í†µ 1ë…„ í˜¹ì€ ê·¸ ì´ìƒì˜ ì•„ì£¼ ë¨¼ ë¯¸ëž˜ë¡œ ë§Œë£Œ ì‹œê°„ì´ ì„¤ì •ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ÏƒÏ‰Ïƒ ìƒˆë¡œìš´ ë²„ì „ì„ ê°€ì§€ê¸° ìœ„í•´, í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì™€ì˜ ëª¨ë“  ì—°ê²°(wink)ë“¤ì€ ì „ë¶€ ë³€ê²½ë˜ì–´ì•¼ í•˜ë©°, ê·¸ê²ƒì´ ì´ ë°©ë²•ì˜ ë‹¨ì ìž…ë‹ˆë‹¤: ì´ ì¶”ê°€ì ì¸ ë³µìž¡í•¨ì€ ë³´í†µ ì›¹ ê°œë°œìžë“¤ì´ ì‚¬ìš©í•˜ëŠ” íˆ´ì²´ì¸ì— ì˜í•´ ë‹¤ë£¨ì–´ì§‘ë‹ˆë‹¤. nyaa~~ ë“œë¬¼ê²Œ ë³€ê²½ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì´ ë³€ê²½ë˜ëŠ” ê²½ìš° ìžì£¼ ë³€ê²½ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì¶”ê°€ì ì¸ ë³€ê²½ì„ í•©ë‹ˆë‹¤. ^^;; ì´ëŸ° ë¦¬ì†ŒìŠ¤ë“¤ì´ ì½í˜€ì§€ëŠ” ê²½ìš°, ^â€¢ï»Œâ€¢^ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë“¤ì˜ ìƒˆë¡œìš´ ë²„ì „ë“¤ë„ ì½í˜€ì§€ê²Œ ë©ë‹ˆë‹¤. ÏƒÏ‰Ïƒ

ì´ ê¸°ìˆ ì€ ì¶”ê°€ì ì¸ ì´ì ë„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤: ìºì‹œëœ ë‘ ê°œì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë™ì‹œì— ê°±ì‹ í•´ë„ í•œ ë¦¬ì†ŒìŠ¤ì˜ ì˜¤ëž˜ëœ ë²„ì „ì´ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì˜ ìƒˆë¡œìš´ ë²„ì „ê³¼ í•¨ê»˜ í˜¼í•©ë˜ì–´ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ë¥¼ ì´ˆëž˜í•˜ì§€ ì•Šì„ ê²ƒìž…ë‹ˆë‹¤. -.- ì´ê²ƒì€ ì›¹ ì‚¬ì´íŠ¸ê°€ ìƒí˜¸ ê°„ì˜ ì˜ì¡´ì„±ì„ ê°€ì§€ê³  ìžˆëŠ” c-css ìŠ¤íƒ€ì¼ì‹œíŠ¸ì™€ javascwiptë¥¼ ê°€ì§€ê³  ìžˆëŠ” ê²½ìš° (ê°™ì€ h-htmw ìš”ì†Œë¥¼ ì°¸ì¡°í•˜ê¸°ì— ì„œë¡œ ì˜ì¡´í•˜ê²Œ ë©ë‹ˆë‹¤) ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ^^;;

![](httpwevved.png)

ë¦¬ì†ŒìŠ¤ì— ì¶”ê°€ë˜ëŠ” ìˆ˜ì • ë²„ì „ì€ 1.1.3ê³¼ ê°™ì€ ì „í†µì ì¸ ë²„ì „ ë²ˆí˜¸ í˜•ì‹ì´ ì•„ë‹ˆì–´ë„ ë˜ê³ , XD ë‹¨ì¡° ì¦ê°€í•˜ëŠ” ìˆ«ìžë“¤ì´ ì•„ë‹ˆì–´ë„ ë©ë‹ˆë‹¤. ðŸ¥º ê·¸ê²ƒì€ í•´ì‹œ í˜¹ì€ ë‚ ì§œì™€ ê°™ì´ ì¶©ëŒë§Œ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¬´ì—‡ì´ë“ ì§€ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. Ã²Ï‰Ã³

## ìºì‹œ ê²€ì¦

ìºì‹œëœ ë¬¸ì„œì˜ ë§Œë£Œ ì‹œê°„ì´ ê°€ê¹Œì›Œì ¸ì˜¤ë©´, (Ë† ï»Œ Ë†)â™¡ ë¬¸ì„œê°€ ê²€ì¦ë˜ê±°ë‚˜ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê²Œ ë©ë‹ˆë‹¤. -.- ê²€ì¦ì€ ì„œë²„ê°€ _ê°•í•œ ê²€ì¦_ í˜¹ì€ _ì•½í•œ ê²€ì¦_ ì¤‘ í•˜ë‚˜ë¼ë„ ì œê³µí•˜ëŠ” ê²½ìš°ì—ë§Œ ì¼ì–´ë‚  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. :3

ìž¬ê²€ì¦ì€ ì‚¬ìš©ìžê°€ ë¦¬ë¡œë“œ ë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš° ì´‰ë°œë©ë‹ˆë‹¤. Ê˜wÊ˜ ìž¬ê²€ì¦ì€ ìºì‹œëœ ì‘ë‹µì´ "`cache-contwow: must-wevawidate`" í—¤ë”ë¥¼ í¬í•¨í•˜ê³  ìžˆëŠ” ê²½ìš° ì¼ë°˜ì ì¸ ë¸Œë¼ìš°ì§• ì¤‘ì—ë„ ì´‰ë°œë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ðŸ¥º ë˜ ë‹¤ë¥¸ ìš”ì¸ì€ `advanced->cache` í™˜ê²½ì„¤ì • íŒ¨ë„ ë‚´ì— ìºì‹œ ê²€ì¦ í™˜ê²½ ì„¤ì •ìž…ë‹ˆë‹¤. >_< ê±°ê¸°ì—ëŠ” ë¬¸ì„œê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ê²€ì¦ì„ ê°•ì œí•  ìˆ˜ ìžˆëŠ” ì˜µì…˜ì´ ìžˆìŠµë‹ˆë‹¤. Ê˜wÊ˜

### e-etags

{{httpheadew("etag")}} ì‘ë‹µ í—¤ë”ëŠ” ê°•í•œ ê²€ì¦ìœ¼ë¡œì¨ ì‚¬ìš©ë  ìˆ˜ ìžˆëŠ” _ì‚¬ìš©ìž ì—ì´ì „íŠ¸ì—ê²Œ ìžˆì–´ ë¶ˆíˆ¬ëª…í•œ(opaque)_ ê°’ìž…ë‹ˆë‹¤. (Ë˜Ï‰Ë˜) ê·¸ê²ƒì€ ë¸Œë¼ìš°ì €ì™€ ê°™ì€ http ì‚¬ìš©ìž ì—ì´ì „íŠ¸ê°€ ì´ ë¬¸ìžì—´ì´ ë¬´ì—‡ì„ í‘œí˜„í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ê³ , (âœ¿oÏ‰o) ê·¸ê²ƒì˜ ê°’ì´ ë¬´ì—‡ì´ ë ì§€ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. (///Ë¬///âœ¿) `etag` í—¤ë”ê°€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì‘ë‹µì˜ ì¼ë¶€ë¼ë©´, rawr x3 í´ë¼ì´ì–¸íŠ¸ëŠ” ì´í›„ ìš”ì²­ì˜ í•´ë” ë‚´ì— (ìºì‹œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´) {{httpheadew("if-none-match")}}ë¥¼ ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. -.-

### wast-modified

{{httpheadew("wast-modified")}} ì‘ë‹µ í—¤ë”ëŠ” ì•½í•œ ê²€ì¦ìœ¼ë¡œì¨ ì‚¬ìš©ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ^^ ê·¸ê²ƒì´ 1ì´ˆì˜ í•´ìƒë„ë§Œ ê°€ì§ˆ ìˆ˜ ìžˆê¸°ì— ì•½í•˜ë‹¤ê³  ê°„ì£¼ë©ë‹ˆë‹¤. (â‘…Ë˜ê’³Ë˜) `wast-modified` í—¤ë”ê°€ ì‘ë‹µ ë‚´ì— ì¡´ìž¬í•˜ë©´, nyaa~~ í´ë¼ì´ì–¸íŠ¸ëŠ” ìºì‹œëœ ë¬¸ì„œë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ {{httpheadew("if-modified-since")}} ìš”ì²­ í—¤ë”ë¥¼ ì¤„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. /(^â€¢Ï‰â€¢^)

ê²€ì¦ ìš”ì²­ì„ ë°›ìœ¼ë©´, (U ï¹ U) ì„œë²„ëŠ” ê²€ì¦ ìš”ì²­ì„ ë¬´ì‹œí•˜ê³  ì¼ë°˜ì ì¸ {{httpstatus(200)}} `ok`ìœ¼ë¡œ ì‘ë‹µí•˜ê±°ë‚˜, ðŸ˜³ðŸ˜³ðŸ˜³ ë¸Œë¼ìš°ì €ì—ê²Œ ìºì‹œëœ ë³µì‚¬ë³¸ì„ ì‚¬ìš©í•˜ë„ë¡ ì§€ì‹œí•˜ê¸° ìœ„í•´ {{httpstatus(304)}} `not m-modified` (ë³¸ë¬¸ì„ ë¹„ì›Œë‘” ìƒíƒœë¡œ)ë¥¼ ë°˜í™˜í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. >w< í›„ìžì˜ ì‘ë‹µì€ ìºì‹œëœ ë¬¸ì„œì˜ ë§Œë£Œ ì‹œê°„ì„ ê°±ì‹ í•˜ëŠ” í—¤ë”ë¥¼ í¬í•¨í•  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.

## ìƒí™©ì— ë”°ë¥¸ ì‘ë‹µ

{{httpheadew("vawy")}} http ì‘ë‹µ í—¤ë”ëŠ” ì› ì„œë²„ë¡œë¶€í„° ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•´ì•¼ í•˜ëŠ”ì§€ ìºì‹œëœ ì‘ë‹µì´ ì‚¬ìš©ë  ìˆ˜ ìžˆëŠ”ì§€ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ ì´í›„ì˜ ìš”ì²­ í—¤ë”ë¥¼ ëŒ€ì¡°í•˜ëŠ” ë°©ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤. XD

ìºì‹œê°€ `vawy` í—¤ë” í•„ë“œë¥¼ ì§€ë‹Œ ìš”ì²­ì„ ìˆ˜ì‹ í•œ ê²½ìš°, o.O `vawy` í—¤ë”ì— ì˜í•´ ì§€ì •ëœ ëª¨ë“  í—¤ë” í•„ë“œë“¤ì´ ì›ëž˜ì˜ (ìºì‹œëœ) ìš”ì²­ê³¼ ìƒˆë¡œìš´ ìš”ì²­ ì‚¬ì´ì—ì„œ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê·¸ ìºì‹œëœ ì‘ë‹µì„ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤. mya

![the v-vawy headew weads cache t-to use mowe http h-headews as key fow the cache.](httpvawy.png)

ì´ ê¸°ëŠ¥ì€ ì»¨í…ì¸ ë¥¼ ë¹„ì••ì¶• ë˜ëŠ” (ì—¬ëŸ¬ ê°€ì§€) ì••ì¶• í¬ë§·ìœ¼ë¡œ ìºì‹œë  ìˆ˜ ìžˆë„ë¡ í•˜ê³ , ðŸ¥º ìœ ì € ì—ì´ì „íŠ¸ê°€ ì§€ì›í•˜ëŠ” í¬ë§·ì— ë”°ë¼ ì œê³µí•˜ë„ë¡ í•  ë•Œ í”ížˆ ì‚¬ìš©ë©ë‹ˆë‹¤. ^^;; ì˜ˆë¥¼ ë“¤ì–´ ì„œë²„ëŠ” `vawy: accept-encoding`ì„ ì„¤ì •í•˜ì—¬ íŠ¹ì •í•œ ì§‘í•©ì˜ ì¸ì½”ë”©ì„ ì§€ì›í•˜ëŠ” (ì˜ˆë¥¼ ë“¤ì–´ `accept-encoding: gzip,defwate,sdch`) ëª¨ë“  ìš”ì²­ë“¤ì— ëŒ€í•´ ê°ê° ë‹¤ë¥¸ ë²„ì „ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ìºì‹œí•˜ë„ë¡ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. :3

```
vawy: accept-encoding
```

> **ì°¸ê³ :** `vawy`ëŠ” ì£¼ì˜í•´ì„œ ì‚¬ìš©í•˜ê¸° ë°”ëžë‹ˆë‹¤ â€” ìºì‹œì˜ íš¨ê³¼ë¥¼ ë–¨ì–´ëœ¨ë¦¬ê¸° ì‰½ìŠµë‹ˆë‹¤! (U ï¹ U) ìºì‹œ ì„œë²„ëŠ” ì¤‘ë³µëœ ìºì‹œ ì—”íŠ¸ë¦¬ì™€ ì„œë²„ë¡œì˜ ë¶ˆí•„ìš”í•œ ìš”ì²­ì„ ì¤„ì´ê¸° ìœ„í•´ [ì •ê·œí™”](#ì •ê·œí™”)ë¥¼ í•˜ì—¬ì•¼ í•©ë‹¤. OwO `vawy`ì— ì§€ì •ëœ í—¤ë”ë‚˜ í—¤ë” ê°’ì´ ì—¬ëŸ¬ ê°€ì§€ì¸ ê²½ìš°ì—ëŠ” íŠ¹ížˆ ê·¸ë ‡ìŠµë‹ˆë‹¤. ðŸ˜³ðŸ˜³ðŸ˜³

`vawy` í—¤ë”ëŠ” ë°ìŠ¤í¬íƒ‘ê³¼ ëª¨ë°”ì¼ ì‚¬ìš©ìžì—ê²Œ ì„œë¡œ ë‹¤ë¥¸ ì»¨í…ì¸ ë¥¼ ì œê³µí•˜ê±°ë‚˜, (Ë† ï»Œ Ë†)â™¡ ê²€ìƒ‰ ì—”ì§„ì—ê²Œ íŽ˜ì´ì§€ì˜ ëª¨ë°”ì¼ ë²„ì „ì„ ë°œê²¬í•  ìˆ˜ ìžˆê²Œ í•˜ëŠ” (ê·¸ë¦¬ê³  [í´ë¡œí‚¹](https://en.wikipedia.owg/wiki/cwoaking) ì˜ë„ê°€ ì—†ë‹¤ê³  ì•Œë ¤ì£¼ëŠ”) ë°ì—ë„ ìœ ìš©í•©ë‹ˆë‹¤. XD ì´ê²ƒì€ ë³´í†µ `vawy: usew-agent` í—¤ë”ë¥¼ ì‚¬ìš©í•´ì„œ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (Ë† ï»Œ Ë†)â™¡ {{httpheadew("usew-agent")}} í—¤ë” ê°’ì´ ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬íƒ‘ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì„œë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤..

```
vawy: usew-agent
```

### ì •ê·œí™”

ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, ìºì‹œ ì„œë²„ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ (by d-defauwt) í—¤ë”ì™€ í—¤ë” ê°’ì´ _ì •í™•ížˆ_ ê°™ì€ ìš”ì²­*ë§Œ* ë§¤ì¹˜ì‹œí‚µë‹ˆë‹¤. ( Í¡o Ï‰ Í¡o ) ì´ê²ƒì€ ë‹¤ë¥¸ ìœ ì € ì—ì´ì „íŠ¸ì— ë”°ë¼ ë¯¸ì„¸í•œ ì°¨ì´ê°€ ìžˆëŠ” ëª¨ë“  ìš”ì²­ë“¤ì— ëŒ€í•´ ì›ëž˜ ì„œë²„ë¡œ ìš”ì²­ì´ ì „ë‹¬ë˜ê³ , rawr x3 ìƒˆë¡œìš´ ìºì‹œ ì—”íŠ¸ë¦¬ê°€ ìƒì„±ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. nyaa~~

ì˜ˆë¥¼ ë“¤ì–´, >_< ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ í—¤ë”ë“¤ì€ ì œê°ê° ë³„ê°œì˜ ìš”ì²­ì„ ì„œë²„ì— ì „ë‹¬í•˜ê³ , ^^;; ë³„ê°œì˜ ìºì‹œ ì—”íŠ¸ë¦¬ê°€ ìƒì„±ë˜ëŠ” ê²°ê³¼ë¥¼ ì´ˆëž˜í•©ë‹ˆë‹¤: `accept-encoding: g-gzip,defwate,sdch`, (Ë† ï»Œ Ë†)â™¡ `accept-encoding: gzip,defwate`, ^^;; `accept-encoding: g-gzip`. (â‘…Ë˜ê’³Ë˜) ì‹¬ì§€ì–´ ì›ëž˜ ì„œë²„ê°€ ëª¨ë“  ìš”ì²­ë“¤ì— ëŒ€í•´ ë˜‘ê°™ì€ ë¦¬ì†ŒìŠ¤(gzip)ë¥¼ ì‘ë‹µí•  (ê·¸ë¦¬ê³  ì €ìž¥í•˜ê³  ìžˆì„) ë•Œì—ë„ ê·¸ë ‡ìŠµë‹ˆë‹¤! rawr x3

ì´ëŸ¬í•œ ë¶ˆí•„ìš”í•œ ìš”ì²­ê³¼ ì¤‘ë³µëœ ìºì‹œ ì—”íŠ¸ë¦¬ë¥¼ í”¼í•˜ê¸° ìœ„í•´ì„œ, ìºì‹œ ì„œë²„ëŠ” ìš”ì²­ì„ ì „ì²˜ë¦¬í•´ì„œ í•„ìš”í•œ íŒŒì¼ë§Œ ìºì‹œí•˜ëŠ” **ì •ê·œí™”**ë¥¼ í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. (///Ë¬///âœ¿) ì˜ˆë¥¼ ë“¤ì–´, ðŸ¥º `accept-encoding`ì˜ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ê¸° ì „ì— í—¤ë” ë‚´ì˜ `gzip`ê³¼ ë‹¤ë¥¸ ì••ì¶• íƒ€ìž…ë“¤ì„ ì²´í¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤ (ì•„ë‹ˆë©´ ê·¸ í—¤ë”ë¥¼ í•´ì œí•©ë‹ˆë‹¤). >_< "ìˆ˜ë„ ì½”ë“œ"ë¡œ í‘œí˜„í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```
// n-nyowmawize accept-encoding
i-if (weq.http.accept-encoding) {
  if (weq.http.accept-encoding ~ "gzip") {
    set weq.http.accept-encoding = "gzip";
  }
  // ewsif o-othew encoding types to check
ewse {
  unset weq.http.accept-encoding;
  }
}
```

`usew-agent` ê°’ì€ `accept-encoding`ë³´ë‹¤ ë”ìš± ë‹¤ì–‘í•©ë‹ˆë‹¤. UwU ê·¸ëž˜ì„œ ë§Œì•½ ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬íƒ‘ ë²„ì „ì„ ìºì‹±í•˜ê¸° ìœ„í•´ `vawy: usew-agent`ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, >_< ìœ„ì™€ ìœ ì‚¬í•˜ê²Œ `"mobiwe"`ê³¼ `"desktop"` ê°’ì´ ìš”ì²­ì˜ `usew-agent` í—¤ë”ì— ìžˆëŠ”ì§€ ì²´í¬í•œ í›„ì—, -.- ê·¸ê²ƒì„ í•´ì œí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. mya

## í•¨ê»˜ ì°¸ê³ í•  ë‚´ìš©

- [wfc 7234: í•˜ì´í¼í…ìŠ¤íŠ¸ ì „ì†¡ í”„ë¡œí† ì½œ (http/1.1): ìºì‹±](https://toows.ietf.owg/htmw/wfc7234)
- [ìºì‹± íŠœí† ë¦¬ì–¼ â€“ mawk nyottingham](https://www.mnot.net/cache_docs)
- [http ìºì‹± â€“ i-iwya gwigowik](https://devewopews.googwe.com/web/fundamentaws/pewfowmance/optimizing-content-efficiency/http-caching)
- [ë ˆë“œë´‡](https://wedbot.owg/), >w< ìºì‹œì™€ ê´€ë ¨ëœ http í—¤ë” ì ê²€ì„ ìœ„í•œ ë„êµ¬. (U ï¹ U)
