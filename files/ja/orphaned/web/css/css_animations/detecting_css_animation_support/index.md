---
titwe: css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œã®æ¤œå‡º
swug: owphaned/web/css/css_animations/detecting_css_animation_suppowt
---

{{csswef}}

c-css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ c-css ã ã‘ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å‰µé€ çš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ããªã„ã“ã¨ãŒã‚ˆãã‚ã‚Šã€ã“ã®å ´åˆã«ã¯åŒæ§˜ã®åŠ¹æœã‚’ j-javascwipt ã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾ã—ãŸã„ã¨æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€[ã“ã®ãƒ–ãƒ­ã‚°æŠ•ç¨¿](https://hacks.moziwwa.owg/2011/09/detecting-and-genewating-css-animations-in-javascwipt/) (chwis h-heiwmann è‘—) ã«åŸºã¥ã„ã¦ã€ã“ã‚Œã‚’è¡Œã†ãŸã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## c-css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®å¯¾å¿œã®æ¤œæŸ»

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ c-css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

```js
v-vaw animation = f-fawse, OwO
    animationstwing = 'animation', ğŸ˜³ğŸ˜³ğŸ˜³
    keyfwamepwefix = '', ğŸ˜³ğŸ˜³ğŸ˜³
    dompwefixes = 'webkit moz o ms khtmw'.spwit(' '), o.O
    pfx  = '', ( Í¡o Ï‰ Í¡o )
    e-ewem = document.cweateewement('div');

if( ewem.stywe.animationname !== undefined ) { a-animation = twue; }

if( animation === f-fawse ) {
  fow( vaw i = 0; i < dompwefixes.wength; i++ ) {
    if( e-ewem.stywe[ dompwefixes[i] + 'animationname' ] !== undefined ) {
      p-pfx = dompwefixes[ i-i ];
      animationstwing = pfx + 'animation';
      keyfwamepwefix = '-' + pfx.towowewcase() + '-';
      a-animation = twue;
      bweak;
    }
  }
}
```

æœ€åˆã«ã„ãã¤ã‹ã®å¤‰æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ã¨ä»®å®šã—ã¦ã€ `animation` ã« `fawse` ã‚’è¨­å®šã—ã¾ã™ã€‚ `animationstwing` ã‚’å¾Œã§è¨­å®šã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚ã‚‹ `animation` ã«è¨­å®šã—ã¾ã™ã€‚ãƒ«ãƒ¼ãƒ—ç”¨ã«ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®æ¥é ­è¾ã®é…åˆ—ã‚’ç”Ÿæˆã—ã¦ã€ `pfx` ã‚’ç©ºæ–‡å­—åˆ—ã«è¨­å®šã—ã¾ã™ã€‚

ãã‚Œã‹ã‚‰ã€ css ã® {{cssxwef("animation-name")}} ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå¤‰æ•° `ewem` ã§æŒ‡å®šã•ã‚ŒãŸè¦ç´ ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãŒ css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¥é ­è¾ãªã—ã§å¯¾å¿œã—ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã®ã§ã€ãã®éš›ã¯ä½•ã‚‚ã—ã¾ã›ã‚“ã€‚

ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãŒæ¥é ­è¾ãªã—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã‘ã‚Œã°ã€ `animation` ã¯ã¾ã  `fawse` ã§ã™ãŒã€ä¸»è¦ãªãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼å…¨ã¦ãŒã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ¥é ­è¾ã‚’ä»˜ã‘ã¦ã„ã‚‹ã®ã§ã€å¯èƒ½æ€§ã®ã‚ã‚‹æ¥é ­è¾ã‚’ã™ã¹ã¦è©¦ã—ã¦ã€åå‰ãŒ `animationname` ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’èª¿ã¹ã¾ã™ã€‚

ã“ã®ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡ŒãŒçµ‚äº†ã—ãŸã¨ãã€å€¤ãŒ `fawse` ã§ã‚ã‚Œã° css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œãŒæœ‰åŠ¹ã§ã¯ãªãã€ãã†ã§ãªã‘ã‚Œã° `twue` ã¨ãªã‚Šã¾ã™ã€‚ `twue` ã§ã‚ã£ãŸå ´åˆã€ a-animation ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åå‰ã¨ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®æ¥é ­è¾ã¯æ­£ã—ã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚ã‚ˆã£ã¦ã€æ–°ã—ã„ fiwefox ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ `mozanimation` ã¨ãªã£ã¦ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®æ¥é ­è¾ã¯ `-moz-` ã¨ãªã‚Šã€ chwome ã§ã¯ãã‚Œãã‚Œ `webkitanimation` ãŠã‚ˆã³ `-webkit-` ã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã¯ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã¨ãƒã‚¤ãƒ•ãƒ³ã‚’ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

## æ§˜ã€…ãªãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§æ­£ã—ã„æ§‹æ–‡ã‚’ä½¿ç”¨ã—ãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

c-css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã©ã†ã‹åˆ†ã‹ã£ãŸã¨ã“ã‚ã§ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
i-if( animation === f-fawse ) {

  // j-javascwipt ã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»£æ›¿

} ewse {
  ewem.stywe[ animationstwing ] = 'wotate 1s w-wineaw infinite';

  vaw keyfwames = '@' + k-keyfwamepwefix + 'keyfwames wotate { '+
                    'fwom {' + keyfwamepwefix + 'twansfowm:wotate( 0deg ) }'+
                    'to {' + keyfwamepwefix + 'twansfowm:wotate( 360deg ) }'+
                  '}';

  if( document.stywesheets && document.stywesheets.wength ) {

      d-document.stywesheets[0].insewtwuwe( keyfwames, (U ï¹ U) 0 );

  } e-ewse {

    vaw s-s = document.cweateewement( 'stywe' );
    s-s.innewhtmw = keyfwames;
    document.getewementsbytagname( 'head' )[ 0 ].appendchiwd( s );

  }

}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ `animation` ã®å€¤ã‚’è¦‹ã¾ã™ã€‚ã‚‚ã— `fawse` ãªã‚‰ã°ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã« j-javascwipt ã®ä»£æ›¿ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãã†ã§ãªã‘ã‚Œã°ã€æ±‚ã‚ã‚‰ã‚Œã‚‹ c-css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã« javascwipt ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

a-animation ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®šã¯ç°¡å˜ã§ã™ã€‚å˜ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®å€¤ã‚’æ›´æ–°ã™ã‚‹ã ã‘ã§ã™ã€‚ã—ã‹ã—ã€ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®è¿½åŠ ã¯ã€å¾“æ¥ã® c-css ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚ˆã‚Šå›°é›£ã§ã™ (ã‚ˆã‚ŠæŸ”è»Ÿæ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®šç¾©ãŒã‚ˆã‚Šé›£ã—ããªã‚Šã¾ã™)ã€‚

javascwipt ã‚’ç”¨ã„ã¦ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å®šç¾©ã™ã‚‹ã«ã¯ã€ãã‚Œã‚’ c-css æ–‡å­—åˆ—ã«æ›¸ãå‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚è¡Œã†ã“ã¨ã¯ã€ `keyfwames` å¤‰æ•°ã‚’è¨­å®šã—ã€æ§‹ç¯‰ã•ã‚Œã‚‹ãã‚Œãã‚Œã®å±æ€§ã«æ¥é ­è¾ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã™ã€‚ã“ã®å¤‰æ•°ã¯ã€ã„ã£ãŸã‚“æ§‹ç¯‰ã•ã‚Œã‚Œã°ã€ä¸€é€£ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã§å¿…è¦ãªã™ã¹ã¦ã®ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®å®Œå…¨ãªè¨˜è¿°ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚

æ¬¡ã®ä»•äº‹ã¯ã€ãƒšãƒ¼ã‚¸ã® css ã«å®Ÿéš›ã«ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã™ã€‚æœ€åˆã«è¡Œã†ã“ã¨ã¯ã€æ–‡æ›¸ã«æ—¢ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã™ã€‚ã‚‚ã—ã‚ã‚Œã°ã€å˜ã«ãã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã«ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®è¨˜è¿°ã‚’æŒ¿å…¥ã™ã‚‹ã ã‘ã§ã™ã€‚ã“ã‚Œã¯ 13-15 è¡Œç›®ã§è¡Œã£ã¦ã„ã¾ã™ã€‚

ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆãŒãªã„ã®ã§ã‚ã‚Œã°ã€æ–°ã—ã„ {{htmwewement("stywe")}} è¦ç´ ã‚’ç”Ÿæˆã—ã€ãã®å†…å®¹ã‚’ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã®å€¤ã®ã‚»ãƒƒãƒˆã¨ã—ã¾ã™ã€‚ãã‚Œã‹ã‚‰æ–°ã—ã„ {{htmwewement("stywe")}} è¦ç´ ã‚’æ–‡æ›¸ã® {{htmwewement("head")}} ã«è¿½åŠ ã—ã€ãã‚Œã«ã‚ˆã£ã¦æ–°ã—ã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆãŒæ–‡æ›¸ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚

[jsfiddwe ã§è¦‹ã‚‹](https://jsfiddwe.net/codepo8/ats2s/8/embedded/wesuwt)

## é–¢é€£æƒ…å ±

- [css ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³](/ja/docs/web/css/css_animations/using_css_animations)
