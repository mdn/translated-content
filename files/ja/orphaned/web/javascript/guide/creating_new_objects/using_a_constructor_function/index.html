---
title: コンストラクタ関数の使用
slug: Web/JavaScript/Guide/Creating_New_Objects/Using_a_Constructor_Function
---
<h3 id=".E3.82.B3.E3.83.B3.E3.82.B9.E3.83.88.E3.83.A9.E3.82.AF.E3.82.BF.E9.96.A2.E6.95.B0.E3.81.AE.E4.BD.BF.E7.94.A8" name=".E3.82.B3.E3.83.B3.E3.82.B9.E3.83.88.E3.83.A9.E3.82.AF.E3.82.BF.E9.96.A2.E6.95.B0.E3.81.AE.E4.BD.BF.E7.94.A8">コンストラクタ関数の使用</h3>
<p>もう 1 つの方法として、次の 2 つのステップでオブジェクトを作成することができます。</p>
<ol>
  <li>コンストラクタ関数を書くことでオブジェクトの種類を定義する。</li>
  <li>new を用いてそのオブジェクトのインスタンスを作成する。</li>
</ol>
<p>オブジェクトの種類を定義するために、その名前、プロパティ、メソッドを定義する関数を作成する必要があります。例えば、車についてのオブジェクトの種類を作成したいとします。そしてこの種類のオブジェクトに <code>car</code> という名前を付け、make、model、および year というプロパティを持たせたいとします。こうするためには次のような関数を書きます。</p>
<pre>function car(make, model, year) {
   this.make = make;
   this.model = model;
   this.year = year;
}
</pre>
<p>関数に渡された値に基づいてオブジェクトのプロパティに値を代入するために <code>this</code> を使用しています。</p>
<p>すると、次のようにして <code>mycar</code> というオブジェクトを作成することができるようになります。</p>
<pre>mycar = new car("Eagle", "Talon TSi", 1993);
</pre>
<p>この文は <code>mycar</code> を作成し、そのプロパティ用に指定した値を代入します。その結果、<code>mycar.make</code> の値は "Eagle" という文字列、<code>mycar.year</code> は 1993 という整数というようになります。</p>
<p><code>new</code> を呼び出すことで <code>car</code> オブジェクトをいくらでも作ることができます。</p>
<pre>kenscar = new car("Nissan", "300ZX", 1992);
vpgscar = new car("Mazda", "Miata", 1990);
</pre>
<p>それ自身別のオブジェクトであるというようなプロパティを持つオブジェクトを作ることができます。例えば、次のように <code>person</code> というオブジェクトを定義するとします。</p>
<pre>function person(name, age, sex) {
   this.name = name;
   this.age = age;
   this.sex = sex;
}
</pre>
<p>そして、次のように 2 つの新しい person オブジェクトのインスタンスを作成します。</p>
<pre>rand = new person("Rand McKinnon", 33, "M");
ken = new person("Ken Jones", 39, "M");
</pre>
<p>次のようにして、car の定義を書き換えて、<code>person</code> オブジェクトをとる owner プロパティを持たせることができます。</p>
<pre>function car(make, model, year, owner) {
   this.make = make;
   this.model = model;
   this.year = year;
   this.owner = owner;
}
</pre>
<p>新しいオブジェクトのインスタンスを作成するために、次のようにします。</p>
<pre>car1 = new car("Eagle", "Talon TSi", 1993, rand);
car2 = new car("Nissan", "300ZX", 1992, ken);
</pre>
<p>新しいオブジェクトの作成時に文字列リテラルや整数値を渡す代わりに、上記の文ではオブジェクト <code>rand</code> および <code>ken</code> を所有者を表す引数として渡しています。car2 の所有者の名前を知りたい場合は次のプロパティにアクセスすることで可能になります。</p>
<pre>car2.owner.name
</pre>
<p>以前に定義したオブジェクトにいつでもプロパティを追加できることに注意してください。例えば次の文</p>
<pre>car1.color = "black"
</pre>
<p>はプロパティ <code>color</code> を car1 に追加し、それに "black" という値を代入します。しかしながら、この方法では他のどのオブジェクトにも影響を与えません。同じ種類の全オブジェクトに新しいプロパティを追加するには、そのプロパティを car というオブジェクトの種類の定義に追加する必要があります。</p>
<p>{{ PreviousNext("JavaScript/Guide/Creating_New_Objects/Using_Object_Initializers", "JavaScript/Guide/Creating_New_Objects/Indexing_Object_Properties") }}</p>
