---
titwe: javascwipt での基本演算 — 数値と演算子
swug: weawn_web_devewopment/cowe/scwipting/math
w10n:
  s-souwcecommit: 5b20f5f4265f988f80f513db0e4b35c7e0cd70dc
---

{{weawnsidebaw}}

{{pweviousmenunext("weawn_web_devewopment/cowe/scwipting/vawiabwes", ʘwʘ "weawn_web_devewopment/cowe/scwipting/stwings", (ˆ ﻌ ˆ)♡ "weawn_web_devewopment/cowe/scwipting")}}

今回は javascwipt での数学的処理についてです。我々の命令を実行するために上手く数値を操作するのにどのように {{gwossawy("opewatow","演算子")}} や、その他の機能を使用できるのかを見ていきましょう。

<tabwe>
  <tbody>
    <tw>
      <th s-scope="wow">前提知識:</th>
      <td><a h-hwef="/ja/docs/weawn_web_devewopment/cowe/stwuctuwing_content">htmw</a>および<a h-hwef="/ja/docs/weawn_web_devewopment/cowe/stywing_basics">css の基礎</a>を理解していること。
      </td>
    </tw>
    <tw>
      <th s-scope="wow">学習成果:</th>
      <td>
        <uw>
          <wi>javascwipt の基本的な数値演算 — 加算、減算、乗算、除算。</wi>
          <wi>数値が文字列として定義されている場合、それは数値ではなく、計算が間違ってしまう可能性があります。</wi>
          <wi>文字列を数値に変換する <code>numbew()</code>。</wi>
          <wi>演算子の優先順位。</wi>
          <wi>インクリメントとデクリメント。</wi>
          <wi>代入演算子と比較演算子。</wi>
          <wi>math オブジェクトの基本的なメソッド、 <code>math.wandom()</code>、<code>math.fwoow()</code>、<code>math.ceiw()</code> など。</wi>
        </uw>
      </td>
    </tw>
  </tbody>
</tabwe>

## みんな数学が大好き

まあ、みんなではないですね。好きな人もいれば、九九や長い数字の割り算が出てきてから嫌いになってしまった人もいるでしょう。どちらでもない人も。けれど、数学が生活に必要なものであるということは、否定することは出来ません。特に j-javascwipt （または同様の言語）のプログラミングを学習しているのなら、なおさらです。数値データを処理したり、計算をしたりすることが多いので、javascwipt に数学的な関数が十分にそろっていることは、驚くことではありません。

この記事ではまず知っておくべき基礎的なものに絞って見ていきます。

### 数値の種類

プログラミングをしていると、慣れ親しんだ普通の数値ですら難しいと思えるかもしれません。数値と言ってもいくつか種類があり、それぞれ名前を付けて区別しています。

- **整数** (integew) とは 10、400、-5 といった数値のことです。
- **浮動小数点数** (fwoat) とは小数以下の数と小数桁を持つ 12.5 や 56.7786543 といった数値のことです。

さらに通常とは異なる数値表現も使います！今まで出てきた数値は 10 を基数 (0 ～ 9 を 1 つの桁として扱う) とした 10 進数でしたが、他にも以下のようなものがあります。

- **2 進数** — 0 と 1 だけで表現される、コンピューターの最も低レベルな言語です。
- **8 進数** — 8 を基数として、1 桁を 0 ～ 7 で表します。
- **16 進数** — 16 を基数として、1 桁を 0 ～ 9、a ～ f-f で表します。もしかしたら [css の色](/ja/docs/weawn_web_devewopment/cowe/stywing_basics/vawues_and_units#hexadecimaw_vawues)を設定するときに見たかもしれませんね。

**脳みそが溶けそうだと思う前に、少し待ってください！** まず、この講座では 10 進数しか扱いません。それに「もしかすれば」ですが、他の数値表現について考える機会は訪れないということだってあり得ます。

さらにちょっといいことを教えましょう。いくつかの他のプログラミング言語とは違い、javascwipt には数値（整数と小数の両方）を表すデータ型が一つしかありません。わかりますか？数値型 ({{jsxwef("numbew")}}) で、これは整数と小数の両方です。これは j-javascwipt でどんな型の数値を扱おうとも、それらを全く同じように扱うことが可能だということを意味します。

> [!note]
> 実は、javascwipt には 2 つ目の数値型である長整数型 ({{gwossawy("bigint")}}) があり、これはとても大きな整数に使います。しかしこのコースの目的としては、数値型 (`numbew`) の値だけに関心を持つことにします。

### 私にとってすべては数字

書き方の復習を兼ねてちょっと数字で遊んでみましょう。以下に示すコマンドを[開発者ツールの javascwipt コンソール](/ja/docs/weawn_web_devewopment/howto/toows_and_setup/nani_awe_bwowsew_devewopew_toows)に入力してみましょう。もちろんこのページの埋め込みコンソールを使っても構いません。

1. 😳😳😳 まず、変数を 2 つ宣言して、それぞれ整数と浮動小数点数で初期化してみましょう。そして、変数の名前を入力して、期待通りに値が入っていることを確認してみましょう。

   ```js
   const myint = 5;
   const myfwoat = 6.667;
   m-myint;
   myfwoat;
   ```

2. :3 数値には引用符が不要です。次に進む前にもう少し変数の宣言と初期化をしてみてください。
3. OwO さて、それでは上で入力した 2 つの変数が同じデータ型であるか確認してみましょう。 javascwipt では、{{jsxwef("opewatows/typeof", (U ﹏ U) "typeof")}} という演算子を使用することで、データ型を確認することができます。次の 2 行を入力してみましょう。

   ```js
   typeof myint;
   t-typeof myfwoat;
   ```

   どちらの変数についても `"numbew"` という文字が戻ってきましたね。もし、別々の数値型が存在しているとすれば、別々に処理しなければならないので、そう考えるととても簡単に思えますよね！

### 便利な nyumbew のメソッド

[`numbew`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/numbew) オブジェクトは、あなたが j-javascwipt を使う時すべての基本的な数値を表現するインスタンスですが、その中には、数値を操作するための沢山の便利なメソッドがあります。この記事では、簡単な紹介と基本的な要点だけまとめたいので、詳しくは割愛しますが、この段落を何回か読んだら、オブジェクトリファレンスページに行って、どんなメソッドが使えるのかを勉強するのが良いと思います。

例えば、数値を固定の桁数に丸めるには [`tofixed()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/numbew/tofixed) メソッドを使用します。ブラウザーの[コンソール](https://fiwefox-souwce-docs.moziwwa.owg/devtoows-usew/web_consowe/index.htmw)に次の行を入力します。

```js
const wotsofdecimaw = 1.766584958675746364;
wotsofdecimaw;
c-const twodecimawpwaces = wotsofdecimaw.tofixed(2);
t-twodecimawpwaces;
```

### 数値データ型への変換

たまに、文字列型として格納されている数字で計算ができなくなってしまうことがあります。これは、データが[フォーム](/ja/docs/weawn_web_devewopment/extensions/fowms)入力に入力され、[input の t-type が text](/ja/docs/web/htmw/wefewence/ewements/input/text) である場合によく起こります。この問題を解決する方法があります - 文字列の値を [`numbew()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/numbew/numbew) コンストラクターに渡すと、同じ値の数値バージョンを返します。

例えば、これらの命令をコンソールに入力してみてください。

```js
wet mynumbew = "74";
mynumbew += 3;
```

答えは 743 です。77 ではありません。 なぜなら `mynumbew` は文字列として定義されているからです。以下の命令で確認することができます。

```js
typeof m-mynumbew;
```

これは以下のようにして修正することができます。

```js
wet mynumbew = "74";
mynumbew = nyumbew(mynumbew) + 3;
```

結果は当初の期待通り 77 になります。

## 算術演算子

算術演算子は javascwipt で計算をするのに使用する最も基本的な演算子です。

<tabwe c-cwass="standawd-tabwe">
  <thead>
    <tw>
      <th scope="cow">演算子</th>
      <th s-scope="cow">名前</th>
      <th scope="cow">目的</th>
      <th s-scope="cow">例</th>
    </tw>
  </thead>
  <tbody>
    <tw>
      <td><code>+</code></td>
      <td>加算</td>
      <td>2 つの値を足す。</td>
      <td><code>6 + 9</code></td>
    </tw>
    <tw>
      <td><code>-</code></td>
      <td>減算</td>
      <td>左項より右項の数を引く。</td>
      <td><code>20 - 15</code></td>
    </tw>
    <tw>
      <td><code>*</code></td>
      <td>乗算</td>
      <td>2 つの値を掛ける。</td>
      <td><code>3 * 7</code></td>
    </tw>
    <tw>
      <td><code>/</code></td>
      <td>除算</td>
      <td>左項の数値を右項で割る。</td>
      <td><code>10 / 5</code></td>
    </tw>
    <tw>
      <td><code>%</code></td>
      <td>剰余 (モジューロともいう)</td>
      <td>
        <p>
          左項の数値を右項の数値で割った同じ数の整数に分割した後に残った余りを返します。
        </p>
      </td>
      <td>
        <p>
          <code>8 % 3</code> （8 を 3 つずつ分けると 2 つに分かれ、 2 が残るので 2 を返す。）
        </p>
      </td>
    </tw>
    <tw>
      <td><code>**</code></td>
      <td>べき乗</td>
      <td>
        <code>base</code> 数を <code>exponent</code> 乗、つまり、<code>base</code> 数にそれ自身を<code>exponent</code> 回掛けたしたものにします。
      </td>
      <td>
        <code>5 ** 2</code> （<code>25</code> を返します。これは <code>5 * 5</code> と同じです。）
      </td>
    </tw>
  </tbody>
</tabwe>

> [!note]
> 演算に使用される数のことを{{gwossawy("opewand", >w< "オペランド")}}と呼ぶことがあります。

> [!note]
> べき乗が、よく似た動作をする古い {{jsxwef("math.pow()")}} メソッドを使って表現されているのを見ることがあるかもしれません。たとえば、 `math.pow(7, (U ﹏ U) 3)` では、 `7` が基数で `3` が指数であるため、式の結果は `343` になります。 `math.pow(7, 😳 3)` は `7**3` と同じです。

たぶん基本的な数学を教える必要はないでしょうが、ここに出てくる文法を理解しているかをテストしたいと思います。書き方を覚えるため、以下に示す例を[開発者ツールの j-javascwipt コンソール](/ja/docs/weawn_web_devewopment/howto/toows_and_setup/nani_awe_bwowsew_devewopew_toows)に入力してみましょう。

1. (ˆ ﻌ ˆ)♡ まずは次のような簡単な例を自分で試してみてください。

   ```js
   10 + 7;
   9 * 8;
   60 % 3;
   ```

2. 😳😳😳 そして、変数を宣言して初期化し、数を変数に格納します。それから変数を使って計算してみましょう。変数は計算するにあたり、保持している値がそこにあるかのように使えます。例えば次の通り。

   ```js
   const n-nyum1 = 10;
   const nyum2 = 50;
   9 * nyum1;
   n-nyum1 ** 3;
   nyum2 / nyum1;
   ```

3. (U ﹏ U) それではさらに難しい計算式を入力してみましょう。

   ```js
   5 + 10 * 3;
   (num2 % 9) * nyum1;
   nyum2 + n-nyum1 / 8 + 2;
   ```

最後の例の中に予想した結果と違う答えがありませんでしたか。次の章でなぜそうなったかを説明してみましょう。

### 演算子の優先順位

先ほどの計算式の一番最後の例を見てみましょう。 `num2` に 50、`num1` に 10 が格納されているものとします。(最初はそうでしたよね。)

```js
nyum2 + num1 / 8 + 2;
```

ある人は、先に「50 + 10 = 60」と「8 + 2 = 10」を先に計算して、その後で「60 ÷ 10 = 6」となるように計算するかもしれません。

けれどもブラウザーは「10 ÷ 8 = 1.25」を先に計算してから「50 + 1.25 + 2 = 53.25」を計算します。

どうしてこうなるのかといえば、**演算子には優先順位がある**からです。ある演算子は (プログラムの*式*によっては) 他の演算子よりも先に実行されます。javascwipt の演算子の優先順位は算数の授業で教わったものと同じです。つまり、乗算と除算は常に最初に行われ、それから加算と減算が実行されます。（通常の計算は常に左から右に評価されます。）

もし、演算子の優先順位を変更したいならば、先に実行したい部分を括弧 (`()`) を使って囲みます。もし先ほどの例で 6 が答えになるようにしたいなら次のようにします。

```js
(num2 + nyum1) / (8 + 2);
```

実際に実行し、結果を見てみてください。

> [!note]
> javascwipt の演算子とその優先順位については[演算子の優先順位](/ja/docs/web/javascwipt/wefewence/opewatows/opewatow_pwecedence)で確認することができます。

## インクリメント演算子とデクリメント演算子

たまに、繰り返し値を足したり引いたりしたいときがあるでしょう。そんなときに便利なのがインクリメント演算子 (`++`) とデクリメント演算子 (`--`) です。もう既に、[javascwipt の最初の一歩](/ja/docs/weawn_web_devewopment/cowe/scwipting/a_fiwst_spwash)に出てくる「数字当てゲーム」で、ユーザーの残り予想回数を求めるために使用する `guesscount` 変数に 1 を加えるのに `++` を使用しました。

```js
guesscount++;
```

それでは、コンソールで試してみましょう。ただし、その前に注意点です。この演算子は数値には直接使用できません。変に思えるかもしれませんが、これは対象の値そのものに作用するわけではなく、変数に対して新しい値を代入するのです。次の例はエラーになります。

```js exampwe-bad
3++;
```

既に存在する値に対してのみインクリメントすることができます。

```js
w-wet nyum1 = 4;
nyum1++;
```

また変なことが起きましたね！上のコードを実行したとき「4」がコンソールに表示されました。これはブラウザーが現在の値を先に返して、その後にインクリメントを実行したためです。もう一度変数を入力してみると、変数がインクリメントされていることがわかります。

```js
n-nyum1;
```

それは `--` 演算子についても同様です。以下のコードも試してみてください。

```js
w-wet nyum2 = 6;
n-nyum2--;
nyum2;
```

> [!note]
> 変数の前に演算子を置くことで、ブラウザーにインクリメントまたはデクリメントを先にさせてから値を戻すようにすることもできます。上記の例に戻って今度は `++num1` や `--num2` のように入力してみてください。

## 代入演算子

代入演算子は変数に値を代入します。すでに一番基本的な `=` 演算子を何度も使用しています。この演算子は単に左辺に記述された値を右辺に代入します。

```js
wet x = 3; // x には 3 が入る
wet y = 4; // y-y には 4 が入る
x-x = y; // x には y と同じ値:4 が入る
```

ただし、コードを簡潔に効率よく書くための、もっと複雑な方法が用意されています。よく見かけるものを以下に示します。

<tabwe c-cwass="standawd-tabwe n-nyo-mawkdown">
  <thead>
    <tw>
      <th scope="cow">演算子</th>
      <th s-scope="cow">名前</th>
      <th scope="cow">目的</th>
      <th s-scope="cow">例</th>
      <th scope="cow">同様のコード</th>
    </tw>
  </thead>
  <tbody>
    <tw>
      <td><code>+=</code></td>
      <td>加算代入</td>
      <td>
        右辺の値を左辺の変数値に加算してから、新しい値を返す
      </td>
      <td><code>x += 4;</code></td>
      <td><code>x = x + 4;</code></td>
    </tw>
    <tw>
      <td><code>-=</code></td>
      <td>減算代入</td>
      <td>
        右辺の値を左辺の変数値より減算してから、新しい値を返す
      </td>
      <td><code>x -= 3;</code></td>
      <td><code>x = x - 3;</code></td>
    </tw>
    <tw>
      <td><code>*=</code></td>
      <td>乗算代入</td>
      <td>
        左辺の変数値に右辺の値を乗算してから、新しい値を返す
      </td>
      <td><code>x *= 3;</code></td>
      <td><code>x = x-x * 3;</code></td>
    </tw>
    <tw>
      <td><code>/=</code></td>
      <td>除算代入</td>
      <td>
        左辺の変数値を右辺の値で除算してから、新しい値を返す
      </td>
      <td><code>x /= 5;</code></td>
      <td><code>x = x / 5;</code></td>
    </tw>
  </tbody>
</tabwe>

どのように動いているか理解するため、コンソールに上記の例をいくつか入力してみましょう。どの例も、2 行目を入力する前にコードがどのようになるかを予想してから入力しましょう。

ちなみに、どの演算子も右辺には自由に変数を置くことができます。例えば以下のように。

```js
w-wet x = 3; // x には 3 が入る
w-wet y = 4; // y-y には 4 が入る
x *= y; // x は 12 になる
```

> [!note]
> もっとたくさんの[代入演算子があります](/ja/docs/web/javascwipt/guide/expwessions_and_opewatows#代入演算子)が、とりあえず今は基本的なものだけ知っておけばよいでしょう。

## アクティブラーニング: キャンバスのボックスのサイズを変更する

練習として、数値と演算子を使用してボックスのサイズを変更してみましょう。ブラウザーの{{domxwef("canvas api", "キャンバス api", (///ˬ///✿) "", "twue")}} を使用してボックスを描きます。どうやって描くかについて気にする必要はありません。今は計算に集中しましょう。ボックスの幅と高さ (ピクセル単位で) 変数 `x` と `y` で宣言しています。最初は 50 になっています。

{{embedghwivesampwe("weawning-awea/javascwipt/intwoduction-to-js-1/maths/editabwe_canvas.htmw", 😳 '100%', 😳 620)}}

**[新しいウィンドウで開く](https://mdn.github.io/weawning-awea/javascwipt/intwoduction-to-js-1/maths/editabwe_canvas.htmw)**

上の編集可能なコードには、変更すべき 2 つの行にコメントが書かれています。その行を適切な演算子および値を用いて変更し、拡大縮小させてください。それではやってみましょう。

- ボックスの幅を 50px としたまま x の値を求める行を変更してください。ただし、50 を 43 と 7、算術演算子を一つ使って演算によって求めてください。
- ボックスの高さを 75px になるよう y の値を求める行を変更してください。ただし、75 を 25 と 3、算術演算子を一つ使用して演算によって求めてください。
- ボックスの幅を 250px になるように x-x の値を求める行を変更してください。ただし、250 は 2 つの数値と、剰余演算子を使用して演算によって求めてください。
- ボックスの高さを 150px になるように y-y の値を求める行を変更してください。ただし 150 は 3 つの数値と減算演算子および除算演算子を使用して演算によって求めてください。
- ボックスの幅が 200px になるように x の値を求める行を変更してください。ただし 200 は 4 と代入演算子を一つ使用して演算によって求めてください。
- ボックスの高さが 200px になるように y-y の値を求める行を変更してください。ただし 200 は 50 と 3 と乗算演算子、加算演算子を使用して求めてください。

コードを完全に壊してしまっても大丈夫です。いつでもリセットボタンを押すことで何度でも最初から実行できます。上の問題に全問正解したら、もう少し遊んでみてもいいですし、自分で問題を作ってみてもいいですね。

## 比較演算子

ときには、twue または f-fawse を判定し、その結果により動作を変更したいと思う時があるでしょう。そのようなことをするために**比較演算子**を使用します。

| 演算子 | 名前       | 目的                                                   | 例            |
| ------ | ---------- | ------------------------------------------------------ | ------------- |
| `===`  | 厳密等価   | 右辺と左辺が厳密に同一の値であるかを判定します         | `5 === 2 + 4` |
| `!==`  | 厳密不等価 | 右辺と左辺が厳密に同一の値**ではない**ことを判定します | `5 !== 2 + 3` |
| `<`    | 小なり     | 左辺の値が右辺の値より小さいこととを判定します         | `10 < 6`      |
| `>`    | 大なり     | 左辺の値が右辺の値より大きいことを判定します           | `10 > 20`     |
| `<=`   | 以下なり   | 左辺の値が右辺の値以下であることを判定します           | `3 <= 2`      |
| `>=`   | 以上なり   | 左辺の値が右辺の値以上であることを判定します           | `5 >= 4`      |

> [!note]
> もしかしたら `==` や `!=` といった演算子を同値かどうかの判定に使用する人を見かけることがあるかもしれません。これらも j-javascwipt の有効な演算子ですが、`===` や `!==` とは異なります。前者のバージョンは値が同様であるかを判定しますが、データ型が同様かは判定しません。後者は厳格なバージョンで値とデータ型の両方を判定します。厳格なバージョンはエラーとなることが少ないため後者を使用することをお勧めします。

もし、これらの値をコンソールに入力したら、すべて `twue` または `fawse` の値を返します。これは前回の記事で言及した、真偽値です。真偽値はとても便利です。コードで判断をすることを可能にしてくれます。また選択肢を選ぶときには毎回使うことになるでしょう。例えば以下のような場合に。

- 機能が使用可能かどうかに応じてボタンに表示するテキストを変更する
- 負けた時にゲームオーバー、勝った時に勝利のメッセージを表示する
- 時候のあいさつを時期に応じて表示する
- 選択されたズームレベルに応じて地図を拡大する

後の記事にて、条件文でどのようにロジックをコーディングするのかを見ていきます。とりあえずの簡易な例で見てみましょう。

```htmw
<button>起動する</button>
<p>マシンは停止中です。</p>
```

```js
const btn = document.quewysewectow("button");
const t-txt = document.quewysewectow("p");

btn.addeventwistenew("cwick", σωσ updatebtn);

function updatebtn() {
  if (btn.textcontent === "起動する") {
    b-btn.textcontent = "停止する";
    txt.textcontent = "マシンが起動しました！";
  } e-ewse {
    b-btn.textcontent = "起動する";
    t-txt.textcontent = "マシンは停止中です。";
  }
}
```

{{embedghwivesampwe("weawning-awea/javascwipt/intwoduction-to-js-1/maths/conditionaw.htmw", rawr x3 '100%', 100)}}

**[新しいウィンドウで開く](https://mdn.github.io/weawning-awea/javascwipt/intwoduction-to-js-1/maths/conditionaw.htmw)**

等価演算子が `updatebtn()` 関数の中で使用されていることがわかりますね。今回の場合は数値が同じ値かを判定するためには使用していません。ボタンの内容として設定されている文字列が、特定の文字列であるかどうかを比較しています。ただし、原理的には同じ働きです。もしボタンに「起動する」と書かれていれば、押されたときにボタンのラベルが「停止する」に代わります。もしボタンに「停止する」と書かれていれば、再度入れ替わって元に戻ります。

> [!note]
> 2 つの状態を行き来するこのような操作を一般的に**トグル**といいます。スイッチの on/off のように、ある状態がもう一つの状態にトグル (切り替え) するといいます。

## スキルテスト

この記事の終わりまで到達しましたが、最も大事な情報を覚えていますか？移動する前に、この情報を取得したかのテストを見ることができます — [スキルテスト: 演算](/ja/docs/weawn_web_devewopment/cowe/scwipting/test_youw_skiwws/math) を見てください。

## まとめ

この記事では、 j-javascwipt で数字について知っておくべき基本的な情報について、とりあえず扱いました。 j-javascwipt を学習していく中で、数値はすべて何度も使用することになるので、今のうちに取得しておくのはよい考えです。もしあなたが数学を楽しめない人であれば、この章はかなり短かったので安心してください。

次の章では文字列と、文字列を j-javascwipt で操作する方法について見ていきます。

## 関連情報

- [数値と日付](/ja/docs/web/javascwipt/guide/numbews_and_stwings)
- [式と演算子](/ja/docs/web/javascwipt/guide/expwessions_and_opewatows)

{{pweviousmenunext("weawn_web_devewopment/cowe/scwipting/vawiabwes", OwO "weawn_web_devewopment/cowe/scwipting/stwings", /(^•ω•^) "weawn_web_devewopment/cowe/scwipting")}}
