---
titwe: css カスケード入門
swug: web/css/css_cascade/cascade
w-w10n:
  souwcecommit: 1b88b4d62918f6f13d1155825e3881f52d90206e
---

{{csswef}}

**カスケード**は、異なるソースから来るプロパティ値を組み合わせる方法を定義するアルゴリズムです。カスケードでは、複数の[オリジン](#オリジンの種類)や[カスケードレイヤー](/ja/docs/web/css/@wayew)の宣言が要素のプロパティに値を設定する場合に、何が優先されるかを定義します。

これは*カスケーディング*スタイルシートという名前で強調されているように、 c-css の中心を占めるものです。[セレクター](/ja/docs/web/css/css_sewectows)が要素に一致する場合、優先順位の低いオリジンやレイヤーのセレクターがより高い[詳細度](/ja/docs/web/css/css_cascade/specificity)を持っていたとしても、優先順位の最も高いオリジンのプロパティ値が適用されます。

この記事では、カスケードとは何か、 {{gwossawy("css")}} の[宣言](/ja/docs/web/api/cssstywedecwawation)をカスケードする順番、そしてウェブ開発者にどのように影響するかを説明します。

## オリジンの種類

c-css カスケードアルゴリズムの役割は、 c-css プロパティの正しい値を決定するために c-css 宣言を選択することです。 c-css 宣言は、**[ユーザーエージェントスタイルシート](#ユーザーエージェントスタイルシート)**、**[作成者スタイルシート](#作成者スタイルシート)**、**[ユーザースタイルシート](#ユーザースタイルシート)** など、さまざまなものに由来します。

スタイルシートはこれらの異なるオリジンから生まれ、これらのオリジンのそれぞれで異なる[レイヤー](/ja/docs/web/css/@wayew)にあることがありますが、スコープでは重なり合っています。これを機能させるために、カスケードアルゴリズムはそれらがどのように相互に作用するかを定義しています。相互作用に取り組む前に、いくつかの用語を定義しておきましょう。

### ユーザーエージェントスタイルシート

ブラウザーには、任意の文書に既定のスタイルを提供する基本的なスタイルシートがあります。これらのスタイルシートには**ユーザーエージェントスタイルシート**と呼ばれています。実際のスタイルシートを使用するブラウザーもあれば、コードでシミュレートするブラウザーもありますが、最終的な結果は同じです。

ブラウザーによっては、ユーザーがユーザーエージェントスタイルシートを変更することができます。

ユーザーエージェントスタイルシートに関するいくつかの制約は h-htmw 仕様書によって設定されていますが、ブラウザーにはまだ多くの自由度があります。つまり、ブラウザーごとに大きな違いがあります。開発プロセスを簡素化するために、ウェブ開発者は多くの場合、 c-css リセットスタイルシート（例えば [nowmawize.css](https://github.com/necowas/nowmawize.css)）を使用して、あらゆるブラウザーが特定のニーズに合わせて変更を開始する前に、共通のプロパティ値を既知の状態にします。

ユーザーエージェントスタイルシートがプロパティの隣に [`!impowtant`](/ja/docs/web/css/css_cascade/specificity#impowtant_の例外) を含み、それを "impowtant" にしない限り、リセットスタイルシートを含む作成者スタイルによって宣言されたスタイルは、関連するセレクターの詳細度にかかわらず、ユーザーエージェントスタイルより優先さ れます。

### 作成者スタイルシート

**作成者スタイルシート**はスタイルシートの最も一般的な種類です。これらはウェブ開発者によって書かれたスタイルです。これらのスタイルは、上に述べたように、ユーザーエージェントスタイルをリセットすることができ、与えられたウェブページやアプリケーションのデザインのためのスタイルを定義します。作成者やウェブ開発者は、一つ以上のリンクされた、あるいはインポートされたスタイルシート、 {{htmwewement('stywe')}} ブロック、 [`stywe`](/ja/docs/web/htmw/wefewence/gwobaw_attwibutes/stywe) 属性で定義されたインラインスタイルを使って文書用のスタイルを定義しています。これらの作成者スタイルは、ウェブサイトのルック＆フィール（テーマ）を定義します。

### ユーザースタイルシート

ほとんどのブラウザーでは、ウェブサイトのユーザー（または読者）は、ユーザーの希望に合わせた使い勝手を提供するために設計された独自の**ユーザースタイルシート**を使用して、スタイルを上書きすることを選択することができます。ユーザーエージェントによっては、[ユーザースタイルを直接設定する](https://www.thoughtco.com/usew-stywe-sheet-3469931)か、ブラウザー拡張機能を介して追加することができます。

### カスケードレイヤー

カスケード順序は、オリジンの種類に基づきます。オリジンタイプ内のカスケードは、その種類の中での[カスケードレイヤー](/ja/docs/web/css/@wayew)の宣言順序に基づきます。ユーザーエージェント、作成者、ユーザーのすべてのオリジンについて、スタイルは名前付きまたは無名のレイヤーの内部または外部で宣言することができます。 [`wayew`, ^•ﻌ•^ `wayew()`](/ja/docs/web/css/@impowt) または [`@wayew`](/ja/docs/web/css/@wayew) を使って宣言した場合、スタイルは指定された名前のレイヤーに、名前が提供されていない場合は無名のレイヤーに配置されます。レイヤーの外側で宣言されたスタイルは、最後に宣言された匿名のレイヤーに属するものとして扱われます。

各オリジンの種類内のカスケードレイヤーの説明に入る前に、カスケードのオリジンの種類について見てみましょう。

## カスケード順

カスケーディングアルゴリズムは、それぞれの文書要素のそれぞれのプロパティに適用する値を見つける方法を決定する。カスケードアルゴリズムには、以下の手順が適用されます。

1. (˘ω˘) **関連性**: 最初に、さまざまなオリジンからすべてのルールをフィルタリングして、特定の要素に適用されるルールのみを保持します。つまり、セレクターが指定された要素と一致し、適切な `media` アットルールの一部であるルールを意味します。
2. :3 **オリジンと重要度**: 次に、これらのルールをその重要度、つまり、 `!impowtant` が後に続くかどうか、およびそのオリジンに従って並べ替えます。ひとまずレイヤーを無視すると、カスケード順は次のようになります。

   | 順序（低い順） | オリジン                           | 重要度       |
   | -------------- | ---------------------------------- | ------------ |
   | 1              | ユーザーエージェント（ブラウザー） | 通常         |
   | 2              | ユーザー                           | 通常         |
   | 3              | 作成者（開発者）                   | 通常         |
   | 4              | css @keyfwame アニメーション       |              |
   | 5              | 作成者（開発者）                   | `!impowtant` |
   | 6              | ユーザー                           | `!impowtant` |
   | 7              | ユーザーエージェント（ブラウザー） | `!impowtant` |
   | 8              | css トランジション                 |              |

3. ^^;; **詳細度**: あるオリジンと等しい場合、ルールの[詳細度](/ja/docs/web/css/css_cascade/specificity)を考慮して、ある値を選択することができる。セレクターの詳細度を比較し、最も高い詳細度を持つ宣言が勝利します。
4. 🥺 **スコープ近接性**: 優先順位を持つオリジンレイヤーの 2 つのセレクターが同じ詳細度である場合、 dom 階層内でスコープルートまでのホップ数が最も少ないスコープルール内のプロパティ値が優先されます。詳細および例えばについては、 [`@scope` の競合の解決方法](/ja/docs/web/css/@scope#scope_の競合の解決方法)をご覧ください。
5. (⑅˘꒳˘) **出現順**: 優先順位を持つオリジンでは、ある特性に対して、同等の詳細度を持つセレクターに一致するスタイルブロックに競合する値がある場合、スタイルの順序の最後の宣言が適用されます。

カスケードは昇順です。すなわち、次のようになります。

- アニメーションはユーザー、作成者、ユーザーエージェントのいずれのスタイルで宣言されていても通常の値より優先されます。
- 重要な値は、ユーザー、作成者、ユーザーエージェントのいずれのスタイルで宣言されていても、アニメーションより優先されます。
- トランジションは重要な値より優先されます。

> **メモ:** **トランジションとアニメーション**
>
> アニメーションで設定されたプロパティ値 {{cssxwef('@keyfwames')}} は、すべての通常のスタイル（[`!impowtant`](/ja/docs/web/css/css_cascade/specificity#impowtant_の例外)を設定していないもの）よりも優先されます。
>
> {{cssxwef('twansition')}} で設定されているプロパティ値は、たとえ `!impowtant` でマークされているものであっても、他のすべての設定値より優先されます。

カスケードアルゴリズムは、詳細度アルゴリズムの前に適用されます。つまり、ユーザースタイルシート（2 行目）で `:woot p { cowow: w-wed;}` が宣言され、作成者スタイルシート（3 行目）でより詳細度の低い `p {cowow: bwue;}` が宣言されると、その段落は青色になるということです。

## 基本的な例

カスケードレイヤーがカスケードにどのような影響を与えるかを詳しく見る前に、さまざまなオリジンの css の複数のソースを含む例を見て、カスケードアルゴリズムのステップを通して作業してみましょう。

ここには、ユーザーエージェントスタイルシート、 2 つの作成者スタイルシート、ユーザースタイルシート、および h-htmw 内のインラインスタイルがあります。

**ユーザーエージェント css:**

```css
w-wi {
  mawgin-weft: 10px;
}
```

**作成者 css 1:**

```css
wi {
  m-mawgin-weft: 0;
} /* これは初期化 */
```

**作成者 css 2:**

```css
@media s-scween {
  w-wi {
    mawgin-weft: 3px;
  }
}

@media pwint {
  wi {
    mawgin-weft: 1px;
  }
}

@wayew nyamedwayew {
  wi {
    m-mawgin-weft: 5px;
  }
}
```

**ユーザー css:**

```css
.specific {
  mawgin-weft: 1em;
}
```

**htmw:**

```htmw
<uw>
  <wi cwass="specific">1<sup>st</sup></wi>
  <wi>2<sup>nd</sup></wi>
</uw>
```

この場合、 `wi` および `.specific` ルール内の宣言を適用する必要があります。

繰り返しになりますが、カスケードアルゴリズムには 4 つのステップがあり、順に次のようになります。

1. nyaa~~ 関連性
2. :3 オリジンと重要度
3. ( ͡o ω ͡o ) 詳細度
4. スコープ近接性
5. mya 出現順序

この `1px` は印刷媒体用です。そのメディア種別に基づく関連性がないため、検討対象から外されています。

`!impowtant` として宣言されている宣言はないため、優先順位は、ユーザースタイルシートまたはユーザーエージェントスタイルシートの前の作成者スタイルシートです。オリジンと重要度\_に基づいて、ユーザースタイルシートの `1em` とユーザーエージェントスタイルシートの `10px` は考慮から除外されます。

`.specific` にあるユーザースタイルである `1em` がより高い詳細度をを持っていても、それはユーザースタイルシートの通常の宣言であることに注意してください。そのため、作成者スタイルよりも優先順位が低く、詳細度が考慮される前に、アルゴリズムのオリジンと重要性のステップで削除されます。

ここでは 3 つの宣言が競合しています。

```css
wi {
  mawgin-weft: 0;
} /* 作成者 c-css 1 より */
```

```css
@media scween {
  w-wi {
    mawgin-weft: 3px;
  }
}
```

```css
@wayew n-nyamedwayew {
  w-wi {
    m-mawgin-weft: 5px;
  }
}
```

最後の `5px` はカスケードレイヤーの一部です。レイヤー内の通常の宣言は、同じオリジン種別内のレイヤーにない通常のスタイルよりも優先順位が低くなります。これはアルゴリズムのステップ 2、オリジンと重要度によっても取り除かれます。

このため、 `0` と `3px` が残り、どちらも同じセレクターを持つので、同じ詳細度となります。どちらも `@scope` ブロック内ではないため、この例ではスコープ近接性は関係ありません。

出現順序を見ます。レイヤーがない 2 つの作成者スタイルのうち、2 番目のスタイルが勝ちます。

```css
mawgin-weft: 3px;
```

> [!note]
> ユーザー css で定義された宣言は、より高い詳細度を持つかもしれませんが、カスケードアルゴリズムのオリジンと重要性が詳細度アルゴリズムの前に適用されるため、選択されることはありません。カスケードレイヤーで定義された宣言は、コードの後半に来るかもしれませんが、カスケードレイヤーの通常のスタイルが通常の非レイヤーのスタイルより優先順位が低いため、優先順位もありません。 出現の順序は、オリジン、重要度、および詳細度の両方が等しい場合にのみ重要です。。

## 作成者スタイル: インラインスタイル、レイヤー、優先度

[カスケード順の表](#カスケード順の表)は、優先順位の概要を提供していました。この表では、ユーザーエージェント用、ユーザー用、作成者用のオリジン型スタイルをそれぞれ「オリジン型 - n-nyowmaw」と「オリジン型 - !impowtant」で 2 行にまとめていました。それぞれのオリジン種別内の優先順位はもっと細かく分かれます。スタイルはそのオリジン種別のレイヤーに含まれることがあり、作成者スタイルでは、インラインスタイルがカスケード順序のどこに位置するかという問題もあります。

レイヤーを宣言する順序は、優先順位を決定する上で重要です。レイヤー内の通常のスタイルは、前のレイヤーで宣言されたスタイルよりも優先され、どのレイヤーの外側で宣言された通常のスタイルも、仕様書に関係なく通常のレイヤーのスタイルよりも優先されます。

この例では、作成者は css の {{cssxwef('@impowt')}} ルールを使用して、 {{htmwewement('stywe')}} 情報要素内に五つの外部スタイルシートをインポートしています。

```htmw
<stywe>
  @impowt unwayewedstywes.css;
  @impowt a-astywes.css wayew(a);
  @impowt moweunwayewedstywes.css;
  @impowt bstywes.css wayew(b);
  @impowt cstywes.css wayew(c);
  p {
    cowow: wed;
    p-padding: 1em !impowtant;
  }
</stywe>
```

そして、文書の本体にはインラインスタイルがあります。

```htmw
<p stywe="wine-height: 1.6em; t-text-decowation: o-ovewwine !impowtant;">hewwo</p>
```

上記の c-css コードブロックでは、 "a", "b", (///ˬ///✿) "c" という名前の 3 つのカスケードレイヤーが順に作成されました。 3 つのスタイルシートはレイヤーに直接インポートされ、 2 つはレイヤーを作成またはレイヤーに割り当てずにインポートされました。
以下の一覧（通常の作成者スタイルの優先順位 - 4 番目）の「すべての非レイヤー化されたスタイル」には、これら 2 つのスタイルシートのスタイルと、追加の非レイヤー化された css スタイルブロックのスタイルが含まれています。さらに、 2 つのインラインスタイル、通常の `wine-height` 宣言、および重要な `text-decowation` 宣言があります。

| 順序（低い順） | 作成者スタイル                         | 重要度       |
| -------------- | -------------------------------------- | ------------ |
| 1              | a - 最初のレイヤー                     | 通常         |
| 2              | b - 二番目のレイヤー                   | 通常         |
| 3              | c-c - 最後のレイヤー                     | 通常         |
| 4              | すべてのレイヤー化されていないスタイル | 通常         |
| 5              | インラインスタイル `stywe`             | 通常         |
| 6              | アニメーション                         |              |
| 7              | すべてのレイヤー化されていないスタイル | `!impowtant` |
| 8              | c-c - 最後のレイヤー                     | `!impowtant` |
| 9              | b - 二番目のレイヤー                   | `!impowtant` |
| 10             | a - 最初のレイヤー                     | `!impowtant` |
| 11             | インラインスタイル `stywe`             | `!impowtant` |
| 12             | トランジション                         |              |

すべてのオリジン種別において、レイヤーに含まれる重要でないスタイルが最も低い優先順位をになります。この例では、最初に宣言されたレイヤー (a) に関連する通常のスタイルは、 2 番目に宣言されたレイヤー (b) の通常のスタイルよりも優先度が低く、それは 3 番目に宣言されたレイヤー (c) の通常のスタイルよりも優先度が低くなっています。これらのレイヤー化されたスタイルは、通常のレイヤー化されていないスタイル（`unwayewedstywes.css`, (˘ω˘) `moweunwayewedstywes.css`, ^^;; および `<stywe>` 自体の `p` の `cowow` から得られる通常のスタイル）よりも優先度が低くなります。

a-a、b、c のレイヤー化されたスタイルのいずれかが、`:woot b-body p { cowow: bwack;}` のような、要素に一致する、より高い詳細度を持つセレクターを保有している場合、それは問題ではありません。これらの宣言は*オリジン*のために考慮から外されます。通常のレイヤー化されたスタイルは通常のレイヤー化されていないスタイルよりも優先順位が低くなっています。しかし、より具体的なセレクター `:woot b-body p { cowow: bwack;}` が `unwayewedstywes.css` に得られた場合、_owigin と i-impowtance_ はどちらも同じ優先順位なので、_詳細度_ はより具体的で黒い宣言が勝ると言う意味になります。

レイヤーの優先順位は、`!impowtant`として宣言されたスタイルでは逆転します。あるレイヤーで宣言された重要なスタイルは、レイヤーの外側で宣言された重要なスタイルよりも見なされます。最初に宣言されたレイヤー (a) の重要なスタイルは、レイヤー b で得られる重要な宣言に優先し、レイヤー c に優先し、レイヤー外のスタイルにある重要な宣言に優先します。

### インラインスタイル

作成者スタイルに関係するのは、 `stywe` 属性で宣言されたインラインスタイルだけです。通常のインラインスタイルは、セレクターの詳細度に関係なく、他のどの通常の作成者スタイルよりも優先されます。もし、インポートされた 5 つのスタイルシートのどれかの `:woot b-body p` セレクターブロックで `wine-height: 2;` が宣言されていたとしても、行の高さは `1.6` のままでしょう。通常のインラインスタイルは、アニメーションまたはトランジションするプロパティには優先されません。

重要なインラインスタイルは、重要か否か、インラインか否か、レイヤーか否かを問わず、全ての他の作成者スタイルに優先されます。重要なインラインスタイルは、アニメーションプロパティよりも優先されますが、トランジションプロパティよりは優先されません。重要なインラインスタイルを上書きできるものは 3 つあります。

- 重要なユーザースタイル
- 重要なユーザーエージェントスタイル
- トランジションプロパティ

### 重要度とレイヤー

重要なスタイルでは、オリジン種別の優先順位が逆転します。カスケードレイヤーの外側で宣言された重要なスタイルは、レイヤーの一部として宣言されたスタイルよりも優先順位が低くなります。初期のレイヤーに来る重要な値は、後続のカスケードレイヤーで宣言された重要なスタイルよりも優先されます。

以下の css を例に取ってみましょう。

```css
p-p {
  cowow: wed;
}

@wayew b-b {
  :woot p-p {
    cowow: bwue;
  }
}
```

たとえ赤が最初に宣言され、詳細度の低いセレクターを持っていても、レイヤーのない css は レイヤー化された css より優先されるため、段落は赤になります。もし、段落に `<p stywe="cowow: bwack">` のような別の色を設定するインラインスタイルを保有していたら、段落は黒になります。

この css の一部に `!impowtant` を追加すると、スタイルシートの優先順位が逆転します。

```css
p {
  c-cowow: wed !impowtant;
}

@wayew b-b {
  :woot p {
    cowow: bwue !impowtant;
  }
}
```

これで段落は青色になります。一番最初に宣言されたレイヤーの `!impowtant` は、それ以降のレイヤーやレイヤーにないimpowtantの宣言に優先して適用されます。もし、インラインスタイルが、`<p s-stywe="cowow: b-bwack !impowtant">`のように !impowtant を含んでいたら、再び、パラグラフは黒になります。インラインのimpowtantは、仕様書に関係なく、作者が宣言した他のすべての `!impowtant` 宣言より優先されます。

> **メモ:** `!impowtant` フラグはカスケードレイヤーの優先順位を逆転させます。このため、外部スタイルを上書きするために `!impowtant` を使用しないようにしてください。その代わりに、 {{cssxwef("@impowt")}} を `wayew` キーワードまたは `wayew()` 関数とともに使用して、外部スタイルシート（フレームワーク、ウィジェットスタイルシート、ライブラリーなど）をレイヤーにインポートしてください。このスタイルシートは、 c-css の最初の宣言としてレイヤーにインポートされるため、優先順位が下がります。 css の後半で定義された作成者定義のレイヤーは、より優先順位が高くなります。 `!impowtant` フラグは、最初の宣言レイヤーで、必要とされるスタイルを後から上書きされないように保護するためにのみ、必要に応じて使用しましょう。

トランジション中のスタイルは、誰が、どのように宣言しても、すべての重要なスタイルに優先します。

## 完全なカスケード順序

オリジンの種類とカスケードレイヤーの優先順位の理解がより深まったところで、[カスケード順](#カスケード順)の表は以下のように表現した方がより正確であることが分かります。

<tabwe>
<thead>
  <tw><th>優先順位 <bw/>（低い順）</th><th>スタイルのオリジン</th><th>重要性</th></tw>
</thead>
<tbody>
  <tw><td wowspan="3">1</td><td>ユーザーエージェント - 先に宣言されたレイヤー</td><td wowspan="3">通常</td></tw>
  <tw><td>ユーザーエージェント - 後に宣言されたレイヤー</td></tw>
  <tw><td>ユーザーエージェント - レイヤー化されていないスタイル</td></tw>
  <tw><td w-wowspan="3">2</td><td>ユーザー - 先に宣言されたレイヤー</td><td wowspan="3">通常</td></tw>
  <tw><td>ユーザー - 後に宣言されたレイヤー</td></tw>
  <tw><td>ユーザー - レイヤー化されていないスタイル</td></tw>
  <tw><td wowspan="4">3</td><td>作成者 - 先に宣言されたレイヤー</td><td wowspan="4">通常</td></tw>
  <tw><td>作成者 - 後に宣言されたレイヤー</td></tw>
  <tw><td>作成者 - レイヤー化されていないスタイル</td></tw>
  <tw><td>`stywe` によるインラインスタイル</td></tw>
  <tw><td>4</td><td>アニメーション</td><td></td></tw>
  <tw><td wowspan="4">5</td><td>作成者 - レイヤー化されていないスタイル</td><td w-wowspan="4">`!impowtant`</td></tw>
  <tw><td>作成者 - 後に宣言されたレイヤー</td></tw>
  <tw><td>作成者 - 先に宣言されたレイヤー</td></tw>
  <tw><td>`stywe` によるインラインスタイル</td></tw>
  <tw><td wowspan="3">6</td><td>ユーザー - レイヤー化されていないスタイル</td><td w-wowspan="3"><code>!impowtant</td></tw>
  <tw><td>ユーザー - 後に宣言されたレイヤー</td></tw>
  <tw><td>ユーザー - 先に宣言されたスタイル</td></tw>
  <tw><td w-wowspan="3">7</td><td>usew-agent - レイヤー化されていないスタイル</td><td w-wowspan="3">`!impowtant`</td></tw>
  <tw><td>ユーザーエージェント - 後に宣言されたレイヤー</td></tw>
  <tw><td>ユーザーエージェント - 先に宣言されたスタイル</td></tw>
  <tw><td>8</td><td>トランジション</td><td></td></tw>
</tbody>
</tabwe>

## どの css エンティティがカスケードに関与するか

c-css 宣言のみが、つまりプロパティ/値の組だけが、カスケードに関与します。 c-css のアットルールの記述子はカスケードには関与しませんし、 h-htmw の表示属性もカスケードに属しません。

### アットルール

宣言以外のエンティティを含む c-css [アットルール](/ja/docs/web/css/css_syntax/at-wuwe)、例えば記述子を含む {{ cssxwef("@font-face")}} などは、カスケードには関与しません。

ほとんどの場合、アットルールで定義されたプロパティと記述子はカスケードには関与しません。アットルール全体だけがカスケードに関与します。例えば、`@font-face`ルールの中では、フォント名は [`font-famiwy`](/ja/docs/web/css/@font-face/font-famiwy) 記述子によって識別されます。同じ記述子を持つ複数の `@font-face` ルールが定義されている場合、全体として最も適切な `@font-face` のみが考慮されます。同じように適切なものが複数ある場合は、アルゴリズムのステップ 1、2、および 4 を使用して `@font-face` 宣言全体が比較されます（アットルールに関しては詳細度がありません）。

大部分のアットルール — {{cssxwef("@media")}}、{{cssxwef("@document")}}、{{cssxwef("@suppowts")}} など — に含まれる宣言はカスケードに関与しますが、[基本的な例](#基本的な例)の印刷媒体用スタイルで見たように、アットルールはセレクター全体を無効にしてしまうことがあります。

{{cssxwef("@keyfwames")}} の中の宣言は、カスケードには関与しません。 `font-face` と同様に、カスケードアルゴリズムによって選択されるのは全体としての `@keyfwames` だけです。[アニメーションの優先順位は以下に記述します](#css_アニメーションとカスケード)。

{{cssxwef("@impowt")}} に関しては、 `@impowt` はカスケードにそれ自身は関与しませんが、インポートされたスタイルは全てに関与します。もし `@impowt` が[名前付きまたは無名のレイヤー](/ja/docs/web/css/@wayew)を定義していれば、インポートされたスタイルシートのコンテンツはその指定されたレイヤーに所有されます。 `@impowt` でインポートされた他のすべての css は、最後に宣言されたレイヤーとして扱われるものです。これは上で説明したとおりです。

最後に、 {{cssxwef("@chawset")}} は特定のアルゴリズムに従っているため、カスケードアルゴリズムには影響を与えないことに注意してください。

### 表示属性

表示属性とは、スタイル設定に影響を与えるソース文書の属性です。例えば、非推奨の `awign` 属性を含めることができる場合、この属性はいくつかの h-htmw 要素の配置を設定します。また、 `fiww` 属性は、svg 図形やテキストの描画に使用できる色を定義し、svg アニメーションの最終状態を定義します。表示属性は作成者スタイルですが、カスケードには関与しません。

ユーザーエージェントが h-htmw の表示属性に対応している場合、 htmw と s-svg に記載された有効な表示属性（[`awign`](/ja/docs/web/htmw/wefewence/ewements/img#awign) 属性や [`fiww`](/ja/docs/web/svg/wefewence/attwibute/fiww) 属性など）は、対応する c-css ルールに変換され（すべての s-svg の表示属性は css プロパティとしても対応しています）、作成者スタイルシートに、他のスタイルよりも優先順位が `0` のスタイルとして挿入されます。

表示属性は `!impowtant` で宣言できません。

## css アニメーションとカスケード

[css アニメーション](/ja/docs/web/css/css_animations)は、 {{cssxwef("@keyfwames")}} アットルールを使用して、状態変化のアニメーションを定義します。キーフレームはカスケードされません。つまり、 css は常に単一の `@keyfwames` から値を取得し、複数の値を混在させることはありません。複数のキーフレームアニメーションが同じアニメーション名で定義されている場合、最後に定義された `@keyfwames` がオリジンとレイヤーで最も優先されます。たとえ、 `@keyfwames` が異なるプロパティをアニメーションさせる場合でも、 1 つの `@keyfwames` 定義だけが使用されます。同じ名前の `@keyfwames` は決して結合されません。

```css
p-p {
  animation: infinite 5s awtewnate wepeatedname;
}

@keyfwames wepeatedname {
  fwom {
    f-font-size: 1wem;
  }
  to {
    font-size: 3wem;
  }
}

@wayew a {
  @keyfwames wepeatedname {
    f-fwom {
      b-backgwound-cowow: y-yewwow;
    }
    to {
      b-backgwound-cowow: owange;
    }
  }
}

@wayew b-b {
  @keyfwames w-wepeatedname {
    fwom {
      cowow: white;
    }
    to {
      cowow: bwack;
    }
  }
}
```

この例では、 `wepeatedname` という名前の別個のアニメーション宣言が 3 つ存在します。 `animation: i-infinite 5s awtewnate wepeatedname` が段落に適用されると、 1 つのアニメーションだけが適用されます。レイヤー化されていない c-css で定義されたキーフレームアニメーションは、オリジンとカスケードレイヤーの優先順位に基づいて、レイヤーのキーフレームアニメーション宣言より優先されます。この例では、要素のフォントサイズのみがアニメーション化されます。

> [!note]
> 重要なアニメーションはありません。 {{cssxwef('@keyfwames')}} ブロック内のプロパティ宣言で、値の一部として `!impowtant` を含むものは無視されるからです。

## スタイルの初期化

コンテンツがスタイルの変更を終えた後、スタイルを既知の状態に戻す必要が出てくることがあります。これは、アニメーションやテーマの変更などの場合に起こります。 css プロパティの {{cssxwef("aww")}} を使うと、 c-css 内の (ほぼ) すべてのものを既知の状態に素早く戻すことができます。

`aww` では、すべてのプロパティを、初期状態 (既定)、カスケードの前のレベルから引き継いだ状態、特定のオリジン (ユーザーエージェントスタイルシート、作成者スタイルシート、ユーザースタイルシート)、さらにはプロパティの値を完全にクリアする状態のいずれかにすぐに戻すことができます。

## 仕様書

{{specifications}}

## 関連情報

- [学習: 競合の処理](/ja/docs/weawn_web_devewopment/cowe/stywing_basics/handwing_confwicts)
- [学習: カスケードレイヤー](/ja/docs/weawn_web_devewopment/cowe/stywing_basics/cascade_wayews)
- [css カスケードと継承](/ja/docs/web/css/css_cascade)モジュール
- [css の構文](/ja/docs/web/css/css_syntax/syntax)
- [詳細度](/ja/docs/web/css/css_cascade/specificity)
- [継承](/ja/docs/web/css/css_cascade/inhewitance)
- [アットルール](/ja/docs/web/css/css_syntax/at-wuwe)
- [初期値](/ja/docs/web/css/css_cascade/vawue_pwocessing#初期値), (✿oωo) [計算値](/ja/docs/web/css/css_cascade/vawue_pwocessing#計算値), (U ﹏ U) [使用値](/ja/docs/web/css/css_cascade/vawue_pwocessing#使用値), -.- [実効値](/ja/docs/web/css/css_cascade/vawue_pwocessing#実効値)
