---
title: 'TypeError: invalid assignment to const "x"'
slug: Web/JavaScript/Reference/Errors/Invalid_const_assignment
tags:
  - Error
  - Errors
  - JavaScript
  - TypeError
translation_of: Web/JavaScript/Reference/Errors/Invalid_const_assignment
---
<div>{{jsSidebar("Errors")}}</div>

<h2 id="メッセージ">メッセージ</h2>

<pre class="syntaxbox">TypeError: invalid assignment to const "x" (Firefox)
TypeError: Assignment to constant variable. (Chrome)
TypeError: Redeclaration of const 'x' (IE/Edge)
</pre>

<h2 id="エラータイプ">エラータイプ</h2>

<p>{{jsxref("TypeError")}}</p>

<h2 id="何がうまくいかなかったのか？">何がうまくいかなかったのか？?</h2>

<p>定数は、通常の実行中にプログラムによって変更できない値です。再代入も再宣言もできません。JavaScript では、定数を <code><a href="/ja/docs/Web/JavaScript/Reference/Statements/const">const</a></code> キーワードで宣言します。</p>

<h2 id="例">例</h2>

<h3 id="無効な再宣言">無効な再宣言</h3>

<p>同じブロックスコープで同じ定数名に値を代入すると、エラーがスローされます。</p>

<pre class="brush: js example-bad">const COLUMNS = 80;

// ...

COLUMNS = 120; // TypeError: invalid assignment to const `COLUMNS'</pre>

<h3 id="エラーを修正">エラーを修正</h3>

<p>エラーを修正するには、複数の選択肢があります。問題となっている定数で、達成しようとしていたことを確認してください。</p>

<h4 id="リネーム">リネーム</h4>

<p>ほかの定数を宣言するつもりだったならば、ほかの名前を選んで、リネームしてください。この定数名はすでにこのスコープで使用されています。</p>

<pre class="brush: js example-good">const COLUMNS = 80;
const WIDE_COLUMNS = 120;</pre>

<h4 id="const、let、var"><code>const</code>、<code>let</code>、<code>var</code>?</h4>

<p>定数を宣言するつもりがなかったのなら、const を使用しないでください。ブロックスコープの変数なら、<code><a href="/ja/docs/Web/JavaScript/Reference/Statements/let">let</a></code> で、グローバルスコープの変数なら <code><a href="/ja/docs/Web/JavaScript/Reference/Statements/var">var</a></code> で宣言してください。</p>

<pre class="brush: js example-good">let columns = 80;

// ...

let columns = 120;
</pre>

<h4 id="スコープ">スコープ</h4>

<p>正しいスコープにあるか確認してください。たとえば、この定数はこのスコープにあるべきなのでしょうか?それとも関数にあるべきなのでしょうか?</p>

<pre class="brush: js example-good">const COLUMNS = 80;

function setupBigScreenEnvironment() {
  const COLUMNS = 120;
}</pre>

<h3 id="const_と不変性"><code>const</code> と不変性</h3>

<p><code>const</code> 宣言は、値への読み取り専用参照を作成します。それが保持している値が不変であることを意味するものでは<strong>なく</strong>、単に変数識別子を再割り当てできないだけです。たとえば、コンテンツがオブジェクトである場合、オブジェクト自体は依然として変更可能であることを意味します。 つまり、変数に格納されている値を変更することはできません:</p>

<pre class="brush: js example-bad">const obj = {foo: 'bar'};
obj = {foo: 'baz'}; // TypeError: invalid assignment to const `obj'
</pre>

<p>しかし、変数内のプロパティは変更できます:</p>

<pre class="brush: js example-good">obj.foo = 'baz';
obj; // Object { foo: "baz" }</pre>

<h2 id="関連項目">関連項目</h2>

<ul>
 <li><code><a href="/ja/docs/Web/JavaScript/Reference/Statements/const">const</a></code></li>
 <li><code><a href="/ja/docs/Web/JavaScript/Reference/Statements/let">let</a></code></li>
 <li><code><a href="/ja/docs/Web/JavaScript/Reference/Statements/var">var</a></code></li>
</ul>
