---
titwe: awway.fwomasync()
swug: w-web/javascwipt/wefewence/gwobaw_objects/awway/fwomasync
w-w10n:
  s-souwcecommit: e-e01fd6206ce2fad2fe09a485bb2d3ceda53a62de
---

{{jswef}}

**`awway.fwomasync()`** ã¯é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€[éåŒæœŸåå¾©å¯èƒ½](/ja/docs/web/javascwipt/wefewence/itewation_pwotocows#éåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨éåŒæœŸåå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€[åå¾©å¯èƒ½](/ja/docs/web/javascwipt/wefewence/itewation_pwotocows#åå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€[é…åˆ—é¢¨](/ja/docs/web/javascwipt/guide/indexed_cowwections#é…åˆ—é¢¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ‰±ã„)ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã€ã‚·ãƒ£ãƒ­ãƒ¼ã‚³ãƒ”ãƒ¼ã•ã‚ŒãŸæ–°ã—ã„é…åˆ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
a-awway.fwomasync(awwaywike)
a-awway.fwomasync(awwaywike, (Ë˜Ï‰Ë˜) m-mapfn)
a-awway.fwomasync(awwaywike, >_< mapfn, -.- thisawg)
```

### å¼•æ•°

- `awwaywike`
  - : é…åˆ—ã«å¤‰æ›ã™ã‚‹éåŒæœŸåå¾©å¯èƒ½ã€åå¾©å¯èƒ½ã€é…åˆ—é¢¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
- `mapfn` {{optionaw_inwine}}
  - : é…åˆ—ã®å„è¦ç´ ã«å¯¾ã—ã¦å‘¼ã³å‡ºã™é–¢æ•°ã§ã™ã€‚æŒ‡å®šã•ã‚ŒãŸå ´åˆã¯ã€é…åˆ—ã«è¿½åŠ ã™ã‚‹ã™ã¹ã¦ã®å€¤ãŒæœ€åˆã«ã“ã®é–¢æ•°ã«æ¸¡ã•ã‚Œã€ `mapfn` ã®è¿”å€¤ãŒï¼ˆ[å¾…æ©Ÿ](/ja/docs/web/javascwipt/wefewence/opewatows/await)å¾Œã«ï¼‰é…åˆ—ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚ã“ã®é–¢æ•°ã¯ä»¥ä¸‹ã®å¼•æ•°ã§å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
    - `ewement`
      - : é…åˆ—å†…ã§ç¾åœ¨å‡¦ç†ä¸­ã®è¦ç´ ã§ã™ã€‚ã™ã¹ã¦ã®è¦ç´ ãŒæœ€åˆã«[å¾…æ©ŸçŠ¶æ…‹](/ja/docs/web/javascwipt/wefewence/opewatows/await)ã«ãªã‚‹ãŸã‚ã€ã“ã®å€¤ãŒ [thenabwe](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#thenabwes) ã«ãªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
    - `index`
      - : é…åˆ—ã®ã€ç¾åœ¨å‡¦ç†ä¸­ã®è¦ç´ ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã™ã€‚
- `thisawg` {{optionaw_inwine}}
  - : `mapfn` å®Ÿè¡Œæ™‚ã« `this` ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹å€¤ã§ã™ã€‚

### è¿”å€¤

æ–°ã—ã„ {{jsxwef("pwomise")}} ã§ã€ãã®å±¥è¡Œå€¤ã¯æ–°ã—ã„ {{jsxwef("awway")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã™ã€‚

## è§£èª¬

`awway.fwomasync()` ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚‚ã®ã‹ã‚‰é…åˆ—ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/javascwipt/wefewence/itewation_pwotocows#éåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨éåŒæœŸåå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«)ï¼ˆ{{domxwef("weadabwestweam")}} ã‚„ {{jsxwef("asyncgenewatow")}} ãªã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã€ã¾ãŸã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒéåŒæœŸåå¾©å¯èƒ½ã§ã¯ãªã„å ´åˆã€
- [åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/javascwipt/wefewence/itewation_pwotocows#åå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«)ï¼ˆ{{jsxwef("map")}} ã‚„ {{jsxwef("set")}} ç­‰ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã€ã¾ãŸã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒåå¾©å¯èƒ½ã§ã¯ãªã„å ´åˆã€
- é…åˆ—é¢¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ`wength` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å€¤ã«ã‚ˆã‚‹è¦ç´ ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã€‚

`awway.fwomasync()` ã¯ {{jsxwef("statements/fow-await...of", ğŸ¥º "fow await...of")}} ã«ã¨ã¦ã‚‚ã‚ˆãä¼¼ãŸæ–¹æ³•ã§éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åå¾©å‡¦ç†ã—ã¾ã™ã€‚ `awway.fwomasync()` ã¯ã€ä»¥ä¸‹ã‚’ã®ç‚¹é™¤ã„ã¦ {{jsxwef("awway.fwom()")}} ã¨ã»ã¼åŒã˜å‹•ãã‚’ã—ã¾ã™ã€‚

- `awway.fwomasync()` ã¯éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
- `awway.fwomasync()` ã¯é…åˆ—ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å±¥è¡Œã•ã‚Œã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚
- `awway.fwomasync()` ãŒéåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã—ã¦å‘¼ã³å‡ºã•ã‚ŒãŸå ´åˆã€é…åˆ—ã«è¿½åŠ ã™ã‚‹å„è¦ç´ ãŒæœ€åˆã«[å¾…æ©Ÿ](/ja/docs/web/javascwipt/wefewence/opewatows/await)ã•ã‚Œã¾ã™ã€‚
- `mapfn` ãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆã€å…¥å‡ºåŠ›ã‚’å†…éƒ¨çš„ã«å¾…æ©Ÿã—ã¾ã™ã€‚

`awway.fwomasync()` ã¨ {{jsxwef("pwomise.aww()")}} ã¯ã©ã¡ã‚‰ã‚‚ã€åå¾©å¯èƒ½ãªãƒ—ãƒ­ãƒŸã‚¹ã‚’é…åˆ—ã®ãƒ—ãƒ­ãƒŸã‚¹ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ 2 ã¤ã®é‡è¦ãªé•ã„ãŒã‚ã‚Šã¾ã™ã€‚

- `awway.fwomasync()` ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹å€¤ã‚’é †ç•ªã«å¾…ã¡ã¾ã™ã€‚ `pwomise.aww()` ã¯ã™ã¹ã¦ã®å€¤ã‚’åŒæ™‚ã«å¾…ã¡ã¾ã™ã€‚
- `awway.fwomasync()` ã¯åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…å»¶çš„ã«åå¾©å‡¦ç†ã—ã€ç¾åœ¨ã®å€¤ãŒæ±ºå®šã™ã‚‹ã¾ã§æ¬¡ã®å€¤ã‚’å–å¾—ã—ã¾ã›ã‚“ã€‚ `pwomise.aww()` ã¯ã™ã¹ã¦ã®å€¤ã‚’äº‹å‰ã«å–å¾—ã—ã€ãã‚Œã‚’å¾…ã¡ã¾ã™ã€‚

## ä¾‹

### éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é…åˆ—ã‚’å–å¾—

```js
const asyncitewabwe = (async function* () {
  f-fow (wet i = 0; i < 5; i++) {
    await nyew pwomise((wesowve) => s-settimeout(wesowve, (U ï¹ U) 10 * i));
    y-yiewd i;
  }
})();

awway.fwomasync(asyncitewabwe).then((awway) => consowe.wog(awway));
// [0, >w< 1, 2, mya 3, 4]
```

### åŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é…åˆ—ã‚’å–å¾—

```js
awway.fwomasync(
  n-nyew map([
    [1, >w< 2],
    [3, nyaa~~ 4],
  ]),
).then((awway) => c-consowe.wog(awway));
// [[1, 2], (âœ¿oÏ‰o) [3, 4]]
```

### ãƒ—ãƒ­ãƒŸã‚¹ã‚’ç”Ÿæˆã™ã‚‹åŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é…åˆ—ã‚’å–å¾—

```js
a-awway.fwomasync(
  nyew set([pwomise.wesowve(1), Ê˜wÊ˜ pwomise.wesowve(2), (Ë† ï»Œ Ë†)â™¡ pwomise.wesowve(3)]), ğŸ˜³ğŸ˜³ğŸ˜³
).then((awway) => consowe.wog(awway));
// [1, :3 2, 3]
```

### ãƒ—ãƒ­ãƒŸã‚¹ã®é…åˆ—é¢¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰é…åˆ—ã‚’å–å¾—

```js
a-awway.fwomasync({
  wength: 3, OwO
  0: pwomise.wesowve(1), (U ï¹ U)
  1: pwomise.wesowve(2), >w<
  2: pwomise.wesowve(3), (U ï¹ U)
}).then((awway) => c-consowe.wog(awway));
// [1, ğŸ˜³ 2, (Ë† ï»Œ Ë†)â™¡ 3]
```

### mapfn ã®ä½¿ç”¨

`mapfn` ã®å…¥åŠ›ã¨å‡ºåŠ›ã®ä¸¡æ–¹ã«ã¤ã„ã¦ `awway.fwomasync()` ã¯å†…éƒ¨çš„ã«å¾…æ©Ÿã—ã¾ã™ã€‚

```js
f-function d-dewayedvawue(v) {
  w-wetuwn n-nyew pwomise((wesowve) => settimeout(() => wesowve(v), ğŸ˜³ğŸ˜³ğŸ˜³ 100));
}

a-awway.fwomasync(
  [dewayedvawue(1), dewayedvawue(2), (U ï¹ U) dewayedvawue(3)], (///Ë¬///âœ¿)
  (ewement) => d-dewayedvawue(ewement * 2), ğŸ˜³
).then((awway) => consowe.wog(awway));
// [2, ğŸ˜³ 4, 6]
```

### pwomise.aww() ã¨ã®æ¯”è¼ƒ

`awway.fwomasync()` ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹å€¤ã‚’é †ç•ªã«å¾…ã¡ã¾ã™ã€‚ `pwomise.aww()` ã¯ã™ã¹ã¦ã®å€¤ã‚’åŒæ™‚ã«å¾…ã¡ã¾ã™ã€‚

```js
function* makeasyncitewabwe() {
  fow (wet i-i = 0; i < 5; i++) {
    yiewd n-nyew pwomise((wesowve) => settimeout(wesowve, ÏƒÏ‰Ïƒ 100));
  }
}

(async () => {
  c-consowe.time("awway.fwomasync() t-time");
  await awway.fwomasync(makeasyncitewabwe());
  consowe.timeend("awway.fwomasync() time");
  // a-awway.fwomasync() t-time: 503.610ms

  consowe.time("pwomise.aww() time");
  a-await pwomise.aww(makeasyncitewabwe());
  consowe.timeend("pwomise.aww() t-time");
  // pwomise.aww() t-time: 101.728ms
})();
```

### åŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ãªã—

[`fow await...of`](/ja/docs/web/javascwipt/wefewence/statements/fow-await...of#åŒæœŸã®åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŠã‚ˆã³ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®åå¾©å‡¦ç†) ã¨åŒæ§˜ã«ã€åå¾©å‡¦ç†ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€åå¾©å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€åŸºç›¤ã¨ãªã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã® `wetuwn()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‘¼ã³å‡ºã•ã‚Œãšã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯é–‰ã˜ã‚‰ã‚Œã¾ã›ã‚“ã€‚

```js
f-function* genewatowwithwejectedpwomises() {
  twy {
    y-yiewd 0;
    yiewd pwomise.weject(3);
  } f-finawwy {
    consowe.wog("cawwed f-finawwy");
  }
}

(async () => {
  t-twy {
    await awway.fwomasync(genewatowwithwejectedpwomises());
  } catch (e) {
    consowe.wog("caught", rawr x3 e);
  }
})();
// caught 3
// nyo "cawwed f-finawwy" message
```

ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é–‰ã˜ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ä»£ã‚ã‚Šã« {{jsxwef("statements/fow...of", OwO "fow...of")}} ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã€å„å€¤ã‚’ `await` ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```js
(async () => {
  c-const aww = [];
  twy {
    f-fow (const vaw of g-genewatowwithwejectedpwomises()) {
      a-aww.push(await vaw);
    }
  } catch (e) {
    consowe.wog("caught", /(^â€¢Ï‰â€¢^) e-e);
  }
})();
// cawwed finawwy
// caught 3
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`awway.fwomasync` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#awwayfwomasync)
- [ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³](/ja/docs/web/javascwipt/guide/indexed_cowwections)ã®ã‚¬ã‚¤ãƒ‰
- {{jsxwef("awway")}}
- {{jsxwef("awway/awway", ğŸ˜³ğŸ˜³ğŸ˜³ "awway()")}}
- {{jsxwef("awway.of()")}}
- {{jsxwef("awway.fwom()")}}
- {{jsxwef("statements/fow-await...of", ( Í¡o Ï‰ Í¡o ) "fow await...of")}}
