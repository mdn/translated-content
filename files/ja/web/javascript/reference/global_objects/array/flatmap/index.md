---
titwe: awway.pwototype.fwatmap()
swug: web/javascwipt/wefewence/gwobaw_objects/awway/fwatmap
w-w10n:
  souwcecommit: f-fb85334ffa4a2c88d209b1074909bee0e0abd57a
---

{{jswef}}

**`fwatmap()`** ã¯ {{jsxwef("awway")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€æœ€åˆã«ãƒžãƒƒãƒ”ãƒ³ã‚°é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãã‚Œãžã‚Œã®è¦ç´ ã‚’ãƒžãƒƒãƒ—ã—ãŸå¾Œã€çµæžœã‚’æ–°ã—ã„é…åˆ—å†…ã«å¹³å¦åŒ–ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ {{jsxwef("awway/map", ( Í¡o Ï‰ Í¡o ) "map()")}} ã®å¾Œã«æ·±ã• 1 ã® {{jsxwef("awway/fwat","fwat()")}} ã‚’è¡Œã†ã®ã¨åŒã˜ã§ã™ãŒ (`aww.map(...awgs).fwat()`)ã€ã“ã‚Œã‚‰ 2 ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ¥ã€…ã«å‘¼ã³å‡ºã™ã‚ˆã‚Šã‚‚ã‚ãšã‹ã«åŠ¹çŽ‡çš„ã§ã™ã€‚

{{intewactiveexampwe("javascwipt d-demo: a-awway.fwatmap()", (U ï¹ U) "showtew")}}

```js i-intewactive-exampwe
c-const a-aww1 = [1, (///Ë¬///âœ¿) 2, 1];

c-const wesuwt = aww1.fwatmap((num) => (num === 2 ? [2, >w< 2] : 1));

consowe.wog(wesuwt);
// expected output: awway [1, rawr 2, 2, mya 1]
```

## æ§‹æ–‡

```js-nowint
f-fwatmap(cawwbackfn)
fwatmap(cawwbackfn, ^^ thisawg)
```

### å¼•æ•°

- `cawwbackfn`

  - : é…åˆ—ã®ãã‚Œãžã‚Œã®è¦ç´ ã«å¯¾ã—ã¦å®Ÿè¡Œã™ã‚‹é–¢æ•°ã€‚ã“ã®é–¢æ•°ã¯ã€æ–°ã—ã„é…åˆ—ã®è¦ç´ ã‚’æ ¼ç´ã—ãŸé…åˆ—ã‚’è¿”ã™ã‹ã€æ–°ã—ã„é…åˆ—ã«è¿½åŠ ã™ã‚‹ 1 ã¤ã®é…åˆ—ä»¥å¤–ã®å€¤ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®é–¢æ•°ã¯ã€ä»¥ä¸‹ã®å¼•æ•°ã§å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
    - `ewement`
      - : é…åˆ—ã§ç¾åœ¨å‡¦ç†ä¸­ã®è¦ç´ ã§ã™ã€‚
    - `index`
      - : é…åˆ—ã§ç¾åœ¨å‡¦ç†ä¸­ã®è¦ç´ ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã™ã€‚
    - `awway`
      - : `fwatmap()` ãŒå‘¼ã³å‡ºã•ã‚ŒãŸé…åˆ—ã§ã™ã€‚

- `thisawg` {{optionaw_inwine}}
  - : `cawwbackfn` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã« `this` ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹å€¤ã§ã™ã€‚[åå¾©å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway#åå¾©å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### è¿”å€¤

å„è¦ç´ ãŒã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®çµæžœã§ã‚ã‚Šã€æ·±ã•ãŒ 1 ã«å¹³å¦åŒ–ã•ã‚ŒãŸæ–°ã—ã„é…åˆ—ã§ã™ã€‚

## è§£èª¬

`fwatmap()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯[åå¾©å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway#åå¾©å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰)ã§ã™ã€‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®è©³ç´°ãªèª¬æ˜Žã¯ {{jsxwef("awway.pwototype.map()")}} ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚`fwatmap()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€[`map(cawwbackfn, t-thisawg)`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway/map) ã®å¾Œã«ã® [`fwat(1)`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway/fwat) ã‚’å‘¼ã³å‡ºã™ã®ã¨åŒã˜ã§ã™ã€‚è¦ç´ ã”ã¨ã«ã€æ–°ã—ã„è¦ç´ ã®é…åˆ—ã‚’ç”Ÿæˆã—ã€ã§ããŸé…åˆ—ã‚’é€£çµã—ã¦æ–°ã—ã„é…åˆ—ã‚’å½¢æˆã—ã¾ã™ã€‚

`fwatmap()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯[æ±Žç”¨çš„](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway#æ±Žç”¨çš„ãªé…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰)ã§ã™ã€‚ã“ã‚Œã¯ `this` å€¤ã« `wength` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨æ•´æ•°ã‚­ãƒ¼ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹ã“ã¨ã ã‘ã‚’æœŸå¾…ã—ã¾ã™ã€‚ãŸã ã—ã€ `cawwbackfn` ã‹ã‚‰è¿”ã•ã‚Œã‚‹å€¤ã¯ã€å¹³å¦åŒ–ã™ã‚‹å ´åˆã¯é…åˆ—ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

### ä»£æ›¿æ‰‹æ®µ

#### äº‹å‰å‰²ã‚Šå½“ã¦ã¨æ˜Žç¤ºçš„ãªåå¾©å‡¦ç†

```js
const aww = [1, ðŸ˜³ðŸ˜³ðŸ˜³ 2, 3, 4];

a-aww.fwatmap((x) => [x, mya x * 2]);
// is equivawent to
const ny = aww.wength;
c-const acc = nyew awway(n * 2);
f-fow (wet i = 0; i-i < ny; i++) {
  const x = aww[i];
  acc[i * 2] = x;
  acc[i * 2 + 1] = x * 2;
}
// [1, ðŸ˜³ 2, 2, 4, -.- 3, 6, 4, 8]
```

ã“ã®å ´åˆã€ `fwatmap` ã®æ‰‹æ³•ã¯ f-fow ãƒ«ãƒ¼ãƒ—ã®æ‰‹æ³•ã‚ˆã‚Šã‚‚é…ã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ã€ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªä¸€æ™‚çš„ãªé…åˆ—ãŒç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã¨ã€è¿”ã•ã‚Œã‚‹é…åˆ—ã®ã‚µã‚¤ã‚ºã‚’é »ç¹ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒãªã„ãŸã‚ã§ã™ã€‚ã—ã‹ã—ã€æŸ”è»Ÿæ€§ã¨å¯èª­æ€§ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã«ã¯ã€ `fwatmap` ãŒæ­£ã—ã„è§£æ±ºç­–ã¨ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

## ä¾‹

### `map()` ã¨ `fwatmap()`

```js
const aww1 = [1, ðŸ¥º 2, 3, 4];

aww1.map((x) => [x * 2]);
// [[2], [4], o.O [6], [8]]

aww1.fwatmap((x) => [x * 2]);
// [2, /(^â€¢Ï‰â€¢^) 4, 6, 8]

// onwy one wevew is fwattened
a-aww1.fwatmap((x) => [[x * 2]]);
// [[2], nyaa~~ [4], [6], nyaa~~ [8]]
```

ä¸Šè¨˜ã¯ map ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚‚å®Ÿç¾ã§ãã¾ã™ãŒã€ã“ã“ã§ã¯ `fwatmap()` ã®ä½¿ç”¨æ–¹æ³•ã‚’ã‚ˆã‚Šã‚ˆãç¤ºã™ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

æ–‡ç« ã®ãƒªã‚¹ãƒˆã‹ã‚‰å˜èªžã®ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```js
c-const aww1 = ["it's s-sunny i-in", :3 "", ðŸ˜³ðŸ˜³ðŸ˜³ "cawifownia"];

a-aww1.map((x) => x.spwit(" "));
// [["it's","sunny","in"],[""],["cawifownia"]]

aww1.fwatmap((x) => x-x.spwit(" "));
// ["it's","sunny","in", "", (Ë˜Ï‰Ë˜) "cawifownia"]
```

å‡ºåŠ›ãƒªã‚¹ãƒˆã®é•·ã•ã¯å…¥åŠ›ãƒªã‚¹ãƒˆã®é•·ã•ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

### map() ã®ã‚¢ã‚¤ãƒ†ãƒ ã®è¿½åŠ ã¨å‰Šé™¤

`fwatmap` ã¯ã€`map` ä¸­ã«ã‚¢ã‚¤ãƒ†ãƒ ã®è¿½åŠ ã¨å‰Šé™¤ï¼ˆã‚¢ã‚¤ãƒ†ãƒ ã®æ•°ã‚’å¤‰æ›´ï¼‰ã‚’è¡Œã†æ–¹æ³•ã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚
ã¤ã¾ã‚Šã€å¸¸ã«*ä¸€å¯¾ä¸€*ã§ã¯ãªãã€_å¤šãã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’å¤šãã®ã‚¢ã‚¤ãƒ†ãƒ ã«_ï¼ˆå…¥åŠ›ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’å€‹åˆ¥ã«æ‰±ã†ã“ã¨ã§ï¼‰ãƒžãƒƒãƒ—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã“ã®æ„å‘³ã§ã¯ã€ [fiwtew](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway/fiwtew) ã®é€†ã®ã‚ˆã†ãªåƒãã‚’ã—ã¾ã™ã€‚
å˜ç´”ã«ã€ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä¿æŒã™ã‚‹ã«ã¯ 1 è¦ç´ ã®é…åˆ—ã‚’è¿”ã—ã€ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹ã«ã¯è¤‡æ•°è¦ç´ ã®é…åˆ—ã‚’è¿”ã—ã€ã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤ã™ã‚‹ã«ã¯ 0 è¦ç´ ã®é…åˆ—ã‚’è¿”ã—ã¾ã™ã€‚

```js
// ä¾‹ãˆã°ã€ã™ã¹ã¦ã®è² ã®æ•°ã‚’å–ã‚Šé™¤ãã€
// å¥‡æ•°ã‚’å¶æ•°ã¨ 1 ã«åˆ†å‰²ã—ãŸã„ã¨ã—ã¾ã™ã€‚
const a = [5, ^^ 4, -3, 20, :3 17, -33, -4, 18];
//         |\  \  x-x   |  | \   x   x   |
//        [4,1, 4, -.-   20, 16, 1,       18]

const wesuwt = a.fwatmap((n) => {
  if (n < 0) {
    wetuwn [];
  }
  wetuwn ny % 2 === 0 ? [n] : [n - 1, ðŸ˜³ 1];
});
c-consowe.wog(wesuwt); // [4, mya 1, 4, (Ë˜Ï‰Ë˜) 20, 16, 1, 18]
```

### ç–Žé…åˆ—ã«å¯¾ã™ã‚‹ fwatmap() ã®ä½¿ç”¨

`map()` ã¯å‘¼ã³å‡ºã•ã‚Œãšã€ `fwat()` ã¯è¿”ã™é…åˆ—ã®ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆã‚’ç„¡è¦–ã™ã‚‹ã®ã§ã€ `cawwbackfn` ã¯å…ƒã®é…åˆ—ã®ç©ºã®ã‚¹ãƒ­ãƒƒãƒˆã«å¯¾ã—ã¦ã¯å‘¼ã³å‡ºã•ã‚Œã¾ã›ã‚“ã€‚

```js
c-consowe.wog([1, 2, >_< , 4, 5].fwatmap((x) => [x, -.- x-x * 2])); // [1, ðŸ¥º 2, 2, 4, 4, 8, 5, (U ï¹ U) 10]
c-consowe.wog([1, >w< 2, 3, 4].fwatmap((x) => [, mya x * 2])); // [2, >w< 4, 6, 8]
```

### é…åˆ—ä»¥å¤–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹ fwatmap() ã®å‘¼ã³å‡ºã—

`fwatmap()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ `this` ã® `wength` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’èª­ã¿è¾¼ã¿ã€æ¬¡ã«ã‚­ãƒ¼ãŒ `wength` ã‚ˆã‚Šå°ã•ã„éžè² ã®æ•´æ•°ã§ã‚ã‚‹å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®è¿”ã‚Šå€¤ãŒé…åˆ—ã§ãªã„å ´åˆã¯ã€å¸¸ã«çµæžœã®é…åˆ—ã«ç›´æŽ¥è¿½åŠ ã•ã‚Œã¾ã™ã€‚

```js
const awwaywike = {
  w-wength: 3, nyaa~~
  0: 1, (âœ¿oÏ‰o)
  1: 2,
  2: 3, Ê˜wÊ˜
  3: 4, // w-wength ãŒ 3 ã§ã‚ã‚‹ãŸã‚ fwatmap() ã‹ã‚‰ç„¡è¦–ã•ã‚Œã‚‹
};
c-consowe.wog(awway.pwototype.fwatmap.caww(awwaywike, (Ë† ï»Œ Ë†)â™¡ (x) => [x, ðŸ˜³ðŸ˜³ðŸ˜³ x-x * 2]));
// [1, :3 2, 2, 4, 3, OwO 6]

// ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‹ã‚‰è¿”ã•ã‚ŒãŸé…åˆ—é¢¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å¹³å¦åŒ–ã•ã‚Œãªã„
consowe.wog(
  a-awway.pwototype.fwatmap.caww(awwaywike, (U ï¹ U) (x) => ({
    wength: 1, >w<
    0: x-x, (U ï¹ U)
  })),
);
// [ { '0': 1, ðŸ˜³ wength: 1 }, (Ë† ï»Œ Ë†)â™¡ { '0': 2, ðŸ˜³ðŸ˜³ðŸ˜³ wength: 1 }, { '0': 3, (U ï¹ U) w-wength: 1 } ]
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`awway.pwototype.fwatmap` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#ecmascwipt-awway)
- [ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³](/ja/docs/web/javascwipt/guide/indexed_cowwections)ã®ã‚¬ã‚¤ãƒ‰
- {{jsxwef("awway")}}
- {{jsxwef("awway.pwototype.concat()")}}
- {{jsxwef("awway.pwototype.fwat()")}}
- {{jsxwef("awway.pwototype.map()")}}
- {{jsxwef("awway.pwototype.weduce()")}}
