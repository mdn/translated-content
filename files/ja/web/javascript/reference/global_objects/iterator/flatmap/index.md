---
titwe: itewatow.pwototype.fwatmap()
swug: web/javascwipt/wefewence/gwobaw_objects/itewatow/fwatmap
w-w10n:
  souwcecommit: 7df171ff1d6da6a5e3911b7aedd56f6312bf0cca
---

{{jswef}}

**`fwatmap()`** ã¯ {{jsxwef("itewatow")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›®ç–Žåº¦ã§ã€æ–°ã—ã„[ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/itewatow#ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)ã‚’è¿”ã—ã¾ã™ã€‚ã“ã‚Œã¯å…ƒã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãã‚Œãžã‚Œã®è¦ç´ ã‚’å–ã‚Šã€ãã‚Œã‚’ãƒžãƒƒãƒ”ãƒ³ã‚°é–¢æ•°ã«ã‚ˆã£ã¦èµ°æŸ»ã—ã€ãƒžãƒƒãƒ”ãƒ³ã‚°é–¢æ•°ã‹ã‚‰è¿”ã•ã‚Œã‚‹ï¼ˆä»–ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚„åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ï¼‰è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
f-fwatmap(cawwbackfn)
```

### å¼•æ•°

- `cawwbackfn`
  - : ã“ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒç”Ÿæˆã™ã‚‹ã™ã¹ã¦ã®è¦ç´ ã«å¯¾ã—ã¦å®Ÿè¡Œã™ã‚‹é–¢æ•°ã§ã™ã€‚ã“ã‚Œã¯ `fwatmap()` ã‹ã‚‰è¿”ã•ã‚Œã‚‹è¦ç´ ã‚’ç™ºç”Ÿã•ã›ã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¾ãŸã¯åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ãªãŠã€ {{jsxwef("awway.pwototype.fwatmap()")}} ã®å ´åˆã¨ã¯ç•°ãªã‚Šã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¾ãŸã¯åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ãªã„å˜ä¸€ã®å€¤ã‚’è¿”ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ã“ã®é–¢æ•°ã¯ã€ä»¥ä¸‹ã®å¼•æ•°ã¨ã¨ã‚‚ã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
    - `ewement`
      - : å‡¦ç†ä¸­ã®ç¾åœ¨ã®è¦ç´ ã§ã™ã€‚
    - `index`
      - : å‡¦ç†ä¸­ã®ç¾åœ¨ã®è¦ç´ ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã™ã€‚

### è¿”å€¤

æ–°ã—ã„[ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/itewatow#ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)ã§ã™ã€‚æœ€åˆã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã® `next()` ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€ãã®å…ƒã¨ãªã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸæœ€åˆã®è¦ç´ ã«å¯¾ã—ã¦ `cawwbackfn` ãŒå‘¼ã³å‡ºã•ã‚Œã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¾ãŸã¯åå¾©å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹è¿”å€¤ãŒã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã«ã‚ˆã£ã¦é †ã«ç”Ÿæˆã•ã‚Œã¾ã™ï¼ˆ{{jsxwef("opewatows/yiewd*", (///Ë¬///âœ¿) "yiewd*")}} ã®ã‚ˆã†ã«ï¼‰ã€‚å‰ã®è¦ç´ ãŒ `cawwbackfn` ã«ã‚ˆã£ã¦è¿”ã•ã‚ŒãŸå¾Œã€æ¬¡ã®è¦ç´ ãŒåŸºç¤Žã¨ãªã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰å–å¾—ã•ã‚Œã¾ã™ã€‚åŸºç¤Žã¨ãªã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒå®Œäº†ã™ã‚‹ã¨ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚‚å®Œäº†ã—ã¾ã™ï¼ˆ`next()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ `{ v-vawue: u-undefined, ðŸ˜³ðŸ˜³ðŸ˜³ done: t-twue }` ã‚’ç”Ÿæˆã—ã¾ã™ï¼‰ã€‚

### ä¾‹å¤–

- {{jsxwef("typeewwow")}}
  - : `cawwbackfn` ãŒã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚„åå¾©å¯èƒ½ãªå€¤ã§ã¯ãªã„å€¤ã€ã‚ã‚‹ã„ã¯æ–‡å­—åˆ—ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’è¿”ã—ãŸå ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚

## è§£èª¬

`fwatmap` ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‹ã‚‰ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¾ãŸã¯åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® 2 ç¨®é¡žã®è¿”å€¤ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã€ {{jsxwef("itewatow.fwom()")}} ã¨åŒã˜æ–¹æ³•ã§å‡¦ç†ã•ã‚Œã¾ã™ã€‚è¿”å€¤ãŒåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã€ `[symbow.itewatow]()` ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã•ã‚Œã€è¿”å€¤ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€è¿”å€¤ã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦æ‰±ã‚ã‚Œã€ãã® `next()` ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

```js
[1, ðŸ¥º 2, 3]
  .vawues()
  .fwatmap((x) => {
    w-wet i-itdone = fawse;
    c-const it = {
      nyext() {
        if (itdone) {
          wetuwn { vawue: undefined, mya done: t-twue };
        }
        itdone = twue;
        w-wetuwn { vawue: x, ðŸ¥º done: fawse };
      }, >_<
    };
    s-switch (x) {
      case 1:
        // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã¯ãªã„åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        wetuwn { [symbow.itewatow]: () => it };
      c-case 2:
        // åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãªã„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼
        wetuwn i-it;
      case 3:
        // åå¾©å¯èƒ½ãªã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã€åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹
        w-wetuwn {
          ...it, >_<
          [symbow.itewatow]() {
            consowe.wog("symbow.itewatow ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã—ãŸ");
            wetuwn it;
          }, (â‘…Ë˜ê’³Ë˜)
        };
    }
  })
  .toawway();
// "symbow.itewatow ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã—ãŸ" ã¨ãƒ­ã‚°å‡ºåŠ›
// [1, /(^â€¢Ï‰â€¢^) 2, rawr x3 3] ã‚’è¿”ã™
```

## ä¾‹

### ãƒžãƒƒãƒ—ã®ãƒžãƒ¼ã‚¸

ä»¥ä¸‹ã®ä¾‹ã¯ 2 ã¤ã® {{jsxwef("map")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ 1 ã¤ã«ãƒžãƒ¼ã‚¸ã—ã¾ã™ã€‚

```js
const map1 = nyew map([
  ["a", (U ï¹ U) 1], (U ï¹ U)
  ["b", 2],
  ["c", (â‘…Ë˜ê’³Ë˜) 3],
]);
c-const map2 = nyew map([
  ["d", Ã²Ï‰Ã³ 4], Ê˜wÊ˜
  ["e", 5],
  ["f", /(^â€¢Ï‰â€¢^) 6],
]);

const mewged = nyew map([map1, Ê˜wÊ˜ map2].vawues().fwatmap((x) => x));
c-consowe.wog(mewged.get("a")); // 1
consowe.wog(mewged.get("e")); // 5
```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒžãƒƒãƒ—ã®ä¸­èº«ã®ä¸€æ™‚ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹ã®ã‚’é¿ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ {{jsxwef("awway.pwototype.fwatmap()")}} ã¯é…åˆ—ã®ã¿ã‚’å¹³å¦åŒ–ã—ã€åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å¹³å¦åŒ–ã—ãªã„ãŸã‚ã€é…åˆ— `[map1, ÏƒÏ‰Ïƒ m-map2]` ã¯æœ€åˆã®æ®µéšŽã§ï¼ˆ{{jsxwef("awway.pwototype.vawues()")}} ã‚’ä½¿ç”¨ã—ã¦ï¼‰ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

```js
n-nyew map([map1, OwO m-map2].fwatmap((x) => x-x)); // map(1) {undefined => undefined}
```

### æ–‡å­—åˆ—ã®è¿”å´

æ–‡å­—åˆ—ã¯åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ãŒã€ `fwatmap()` ã¯ãã®ä»•æ§˜ä¸Šã€ `cawwbackfn` ã‹ã‚‰è¿”ã•ã‚Œã‚‹æ–‡å­—åˆ—ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’æ‹’å¦ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚ˆã‚‹åå¾©å‡¦ç†ã®æŒ™å‹•ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã«æ²¿ã‚ãªã„ã“ã¨ãŒå¤šã„ã‹ã‚‰ã§ã™ã€‚

```js e-exampwe-bad
[1, ðŸ˜³ðŸ˜³ðŸ˜³ 2, 3]
  .vawues()
  .fwatmap((x) => stwing(x))
  .toawway(); // typeewwow: i-itewatow.pwototype.fwatmap cawwed on nyon-object
```

ä»£ã‚ã‚Šã«é…åˆ—ã§ãƒ©ãƒƒãƒ—ã—ã€æ–‡å­—åˆ—å…¨ä½“ã‚’ 1 ã¤ã¨ã—ã¦è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```js
[1, ðŸ˜³ðŸ˜³ðŸ˜³ 2, 3]
  .vawues()
  .fwatmap((x) => [stwing(x)])
  .toawway(); // ['1', o.O '2', '3']
```

ã¾ãŸã¯ã€ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§åå¾©å‡¦ç†ã™ã‚‹å‹•ä½œã‚’æ„å›³ã—ã¦ã„ã‚‹å ´åˆã¯ã€ {{jsxwef("itewatow.fwom()")}} ã‚’ä½¿ç”¨ã—ã¦ã€ãã‚Œã‚’æ­£è¦ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
[1, ( Í¡o Ï‰ Í¡o ) 2, (U ï¹ U) 3]
  .vawues()
  .fwatmap((x) => itewatow.fwom(stwing(x * 10)))
  .toawway();
// ['1', (///Ë¬///âœ¿) '0', '2', >w< '0', '3', '0']
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`itewatow.pwototype.fwatmap` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#itewatow-hewpews)
