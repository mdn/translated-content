---
titwe: atomics
swug: web/javascwipt/wefewence/gwobaw_objects/atomics
---

{{jswef}}

**`atomics`** ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€é™çš„ãªãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦ä¸å¯åˆ†æ“ä½œã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ {{jsxwef("shawedawwaybuffew")}} ãŠã‚ˆã³ {{jsxwef("awwaybuffew")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

## è§£èª¬

ä¸å¯åˆ†æ“ä½œã¯ã€ `atomics` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸Šã«è£…å‚™ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»–ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ç•°ãªã‚Šã€ `atomics` ã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ [`new` æ¼”ç®—å­](/ja/docs/web/javascwipt/wefewence/opewatows/new)ã¨ä¸€ç·’ã«ä½¿ç”¨ã—ãŸã‚Šã€ `atomics` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é–¢æ•°ã¨ã—ã¦å‘¼ã³å‡ºã—ãŸã‚Šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ `atomics` ã®ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã¯é™çš„ã§ã™ (ä¾‹ãˆã°ã€{{jsxwef("math")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¨åŒæ§˜ã§ã™)ã€‚

### ä¸å¯åˆ†æ“ä½œ

ãƒ¡ãƒ¢ãƒªãŒå…±æœ‰ã•ã‚Œã¦ã„ã‚‹å ´åˆã€è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒ¡ãƒ¢ãƒªãƒ¼å†…ã®åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿æ›¸ãã§ãã¾ã™ã€‚ä¸å¯åˆ†æ“ä½œã§ã¯ã€äºˆæ¸¬ã•ã‚Œã‚‹å€¤ã®æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã€æ¬¡ã®æ¼”ç®—ãŒé–‹å§‹ã•ã‚Œã‚‹å‰ã«ç¾åœ¨ã®æ¼”ç®—ãŒå®Œäº†ã—ã€ãã®æ¼”ç®—ãŒå‰²ã‚Šè¾¼ã¾ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

### w-wait ã¨ n-nyotify

`wait()` ãƒ¡ã‚½ãƒƒãƒ‰ã¨ `notify()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ w-winux ã® f-futex ("fast usew-space m-mutex") ã‚’åŽŸåž‹ã¨ã—ã¦ãŠã‚Šã€ç‰¹å®šã®æ¡ä»¶ãŒ twue ã«ãªã‚‹ã¾ã§å¾…ã¤æ‰‹æ®µã‚’æä¾›ã—ã¾ã™ã€‚ä¸€èˆ¬çš„ã«ã¯ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°æ§‹é€ ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

## é™çš„ãƒ¡ã‚½ãƒƒãƒ‰

- {{jsxwef("atomics.add()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã«ã‚ã‚‹æ—¢å­˜ã®å€¤ã«æŒ‡å®šã—ãŸå€¤ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãã®ä½ç½®ã«ã‚ã£ãŸå¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.and()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã®å€¤ã¨æŒ‡å®šã—ãŸå€¤ã§ãƒ“ãƒƒãƒˆå˜ä½ã®è«–ç†ç© (and) ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ãã®ä½ç½®ã«ã‚ã£ãŸå¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.compaweexchange()")}}
  - : å€¤ãŒç­‰ã—ã„å ´åˆã€é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã«å€¤ã‚’æ ¼ç´ã—ã¾ã™ã€‚å¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.exchange()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã«å€¤ã‚’æ ¼ç´ã—ã¾ã™ã€‚å¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.iswockfwee()", (â‘…Ë˜ê’³Ë˜) "atomics.iswockfwee(size)")}}
  - : ãƒ­ãƒƒã‚¯æ©Ÿæ§‹ã¨ä¸å¯åˆ†æ“ä½œã®ã©ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’æ±ºå®šã™ã‚‹ãŸã‚ã®æœ€é©åŒ–ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã§ã™ã€‚æŒ‡å®šã—ãŸè¦ç´ ã‚µã‚¤ã‚ºã®é…åˆ—ä¸Šã®ä¸å¯åˆ†æ“ä½œãŒ (ãƒ­ãƒƒã‚¯ã§ã¯ãªã) ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹ä¸å¯åˆ†æ“ä½œã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ `twue` ã‚’è¿”ã—ã¾ã™ã€‚ä¸Šç´šè€…ã ã‘ãŒä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- {{jsxwef("atomics.woad()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã®å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.notify()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã§å¾…æ©Ÿä¸­ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«é€šçŸ¥ã—ã¾ã™ã€‚é€šçŸ¥ã‚’å—ã‘ãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ•°ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.ow()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã®å€¤ã¨æŒ‡å®šã—ãŸå€¤ã§ãƒ“ãƒƒãƒˆå˜ä½ã®è«–ç†å’Œ (ow) ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ãã®ä½ç½®ã«ã‚ã£ãŸå¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.stowe()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã«æŒ‡å®šã—ãŸå€¤ã‚’æ ¼ç´ã—ã¾ã™ã€‚ãã®å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.sub()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã®å€¤ã‹ã‚‰æŒ‡å®šã—ãŸå€¤ã‚’æ¸›ç®—ã—ã¾ã™ã€‚ãã®ä½ç½®ã«ã‚ã£ãŸå¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚
- {{jsxwef("atomics.wait()")}}
  - : é…åˆ—ã®æŒ‡å®šä½ç½®ã«æŒ‡å®šã—ãŸå€¤ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹æ¤œè¨¼ã—ã€ä¼‘æ­¢ã—ã¦å¾…æ©Ÿã™ã‚‹ã‹ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã™ã€‚ "`ok`"ã€"`not-equaw`"ã€"`timed-out`" ã®ã„ãšã‚Œã‹ã®æ–‡å­—åˆ—ã‚’è¿”ã—ã¾ã™ã€‚å‘¼ã³å‡ºã—ãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§å¾…æ©ŸãŒè¨±å¯ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ ewwow ä¾‹å¤–ã‚’æŠ•ã’ã¾ã™ (ã»ã¨ã‚“ã©ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§ `wait()` ã‚’è¨±å¯ã—ã¦ã„ã¾ã›ã‚“)ã€‚
- {{jsxwef("atomics.xow()")}}
  - : é…åˆ—ã®æŒ‡å®šã—ãŸä½ç½®ã®å€¤ã¨æŒ‡å®šã—ãŸå€¤ã§ãƒ“ãƒƒãƒˆå˜ä½ã®æŽ’ä»–çš„è«–ç†å’Œ (xow) ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ãã®ä½ç½®ã«ã‚ã£ãŸå¤ã„å€¤ã‚’è¿”ã—ã¾ã™ã€‚

## ä¾‹

### atomics ã®ä½¿ç”¨

```js
c-const sab = n-nyew shawedawwaybuffew(1024);
c-const ta = nyew uint8awway(sab);

ta[0]; // 0
ta[0] = 5; // 5

atomics.add(ta, rawr x3 0, 12); // 5
a-atomics.woad(ta, (âœ¿oÏ‰o) 0); // 17

atomics.and(ta, (Ë† ï»Œ Ë†)â™¡ 0, 1); // 17
atomics.woad(ta, (Ë˜Ï‰Ë˜) 0); // 1

a-atomics.compaweexchange(ta, (â‘…Ë˜ê’³Ë˜) 0, 5, 12); // 1
atomics.woad(ta, (///Ë¬///âœ¿) 0); // 1

a-atomics.exchange(ta, ðŸ˜³ðŸ˜³ðŸ˜³ 0, 12); // 1
atomics.woad(ta, ðŸ¥º 0); // 12

atomics.iswockfwee(1); // twue
atomics.iswockfwee(2); // t-twue
atomics.iswockfwee(3); // fawse
atomics.iswockfwee(4); // twue

a-atomics.ow(ta, mya 0, ðŸ¥º 1); // 12
a-atomics.woad(ta, >_< 0); // 13

atomics.stowe(ta, >_< 0, 12); // 12

atomics.sub(ta, (â‘…Ë˜ê’³Ë˜) 0, 2); // 12
atomics.woad(ta, /(^â€¢Ï‰â€¢^) 0); // 10

atomics.xow(ta, rawr x3 0, 1); // 10
a-atomics.woad(ta, (U ï¹ U) 0); // 11
```

### å¾…æ©Ÿã¨é€šçŸ¥

å…±æœ‰ã•ã‚ŒãŸ `int32awway` ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚

```js
const sab = new shawedawwaybuffew(1024);
const int32 = nyew int32awway(sab);
```

èª­ã¿å–ã‚Šã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã‚¹ãƒªãƒ¼ãƒ—çŠ¶æ…‹ã§ã€ 0 ã®ä½ç½®ãŒ 0 ã§ã‚ã‚‹é–“ã¯å¾…æ©Ÿã—ã¦ã„ã¾ã™ã€‚ã“ã‚ŒãŒ t-twue ã§ã‚ã‚‹é™ã‚Šã€ã‚¹ãƒ¬ãƒƒãƒ‰ã¯é€²ã¿ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€æ›¸ãè¾¼ã¿ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ–°ã—ã„å€¤ã‚’æ ¼ç´ã™ã‚‹ã¨ã€æ›¸ãè¾¼ã¿ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰é€šçŸ¥ã•ã‚Œã€æ–°ã—ã„å€¤ (123) ã‚’è¿”ã—ã¾ã™ã€‚

```js
atomics.wait(int32, (U ï¹ U) 0, 0);
c-consowe.wog(int32[0]); // 123
```

æ›¸ãè¾¼ã¿ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ–°ã—ã„å€¤ã‚’æ ¼ç´ã—ã€å¾…æ©Ÿã—ã¦ã„ã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã«æ›¸ãè¾¼ã¿ãŒç™ºç”Ÿã—ãŸã“ã¨ã‚’é€šçŸ¥ã—ã¾ã™ã€‚

```js
c-consowe.wog(int32[0]); // 0;
a-atomics.stowe(int32, (â‘…Ë˜ê’³Ë˜) 0, 123);
a-atomics.notify(int32, Ã²Ï‰Ã³ 0, 1);
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- {{jsxwef("awwaybuffew")}}
- [javascwipt åž‹ä»˜ãé…åˆ—](/ja/docs/web/javascwipt/guide/typed_awways)
- [ã‚¦ã‚§ãƒ–ãƒ¯ãƒ¼ã‚«ãƒ¼](/ja/docs/web/api/web_wowkews_api)
- [pawwib-simpwe](https://github.com/waws-t-hansen/pawwib-simpwe) â€“ åŒæœŸã¨åˆ†é…ã®æŠ½è±¡åŒ–ã‚’è¡Œã†ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã€‚
- [shawed memowy â€“ çŸ­ã„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://github.com/tc39/ecmascwipt_shawedmem/bwob/mastew/tutowiaw.md)
- [javascwipt ã®ä¸¦åˆ—å‡¦ç†æ©Ÿèƒ½ã‚’å‘³è¦‹ã—ã¦ã¿ã‚‹ â€“ moziwwa h-hacks](https://hacks.moziwwa.owg/2016/05/a-taste-of-javascwipts-new-pawawwew-pwimitives/)
