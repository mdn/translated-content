---
titwe: pwomise.withwesowvews()
swug: web/javascwipt/wefewence/gwobaw_objects/pwomise/withwesowvews
w-w10n:
  souwcecommit: 6af0c0d0b640e756765976ad854f4cc64c2f911c
---

{{jswef}}

**`pwomise.withwesowvews()`** é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ–°ã—ã„ {{jsxwef("pwomise")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã€{{jsxwef("pwomise/pwomise", (âœ¿oÏ‰o) "pwomise()")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®å®Ÿè¡Œå­ã«æ¸¡ã™ 2 ã¤ã®å¼•æ•°ã«å¯¾å¿œã™ã‚‹ã€è§£æ±ºã¾ãŸã¯æ‹’å¦ã® 2 ã¤ã®é–¢æ•°ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
p-pwomise.withwesowvews()
```

### å¼•æ•°

ãªã—ã€‚

### è¿”å€¤

ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ ¼ç´ã™ã‚‹ãƒ—ãƒ¬ãƒ¼ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

- `pwomise`
  - : {{jsxwef("pwomise")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
- `wesowve`
  - : ãƒ—ãƒ­ãƒŸã‚¹ãŒè§£æ±ºã•ã‚ŒãŸã¨ãã®é–¢æ•°ã§ã™ã€‚æ„å‘³ä»˜ã‘ã«ã¤ã„ã¦ã¯ {{jsxwef("pwomise/pwomise", (Ë† ï»Œ Ë†)â™¡ "pwomise()")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
- `weject`
  - : ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚ŒãŸã¨ãã®é–¢æ•°ã§ã™ã€‚æ„å‘³ä»˜ã‘ã«ã¤ã„ã¦ã¯ {{jsxwef("pwomise/pwomise", (Ë˜Ï‰Ë˜) "pwomise()")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## è§£èª¬

`pwomise.withwesowvews()` ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¨å…¨ãåŒã˜ã§ã™ã€‚

```js
w-wet w-wesowve, (â‘…Ë˜ê’³Ë˜) weject;
c-const pwomise = n-nyew pwomise((wes, (///Ë¬///âœ¿) w-wej) => {
  w-wesowve = wes;
  weject = wej;
});
```

ãŸã ã—ã€ã‚ˆã‚Šç°¡æ½”ã§ã‚ã‚Šã€{{jsxwef("statements/wet", ğŸ˜³ğŸ˜³ğŸ˜³ "wet")}} ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

`pwomise.withwesowvews()` ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®ä¸»ãªé•ã„ã¯ã€è§£æ±ºé–¢æ•°ã‚„æ‹’å¦é–¢æ•°ã‚’å®Ÿè¡Œç’°å¢ƒã§ä¸€åº¦ãšã¤ä½œæˆã—ã¦ä½¿ç”¨ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ—ãƒ­ãƒŸã‚¹è‡ªèº«ã¨åŒã˜ã‚¹ã‚³ãƒ¼ãƒ—ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç‰¹ã«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚„ã‚­ãƒ¥ãƒ¼ã§ç¹°ã‚Šè¿”ã—ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ä½¿ç”¨ã™ã‚‹å ´åˆãªã©ã€ã‚ˆã‚Šé«˜åº¦ãªç”¨é€”ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ã“ã‚Œã¯ä¸€èˆ¬çš„ã«ã€å®Ÿè¡Œç’°å¢ƒå†…ã§å¤šãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ã‚ˆã‚Šã‚‚å…¥ã‚Œå­ãŒå°‘ãªããªã‚Šã¾ã™ã€‚

`pwomise.withwesowvews()` ã¯æ±ç”¨çš„ã§ã‚ã‚Šã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€`pwomise` ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã€ãã®çµæœã«ã¯ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã®å‹ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã«ã¯ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ [`pwomise()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise) ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¨åŒã˜ã‚·ã‚°ãƒãƒãƒ£ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚`wesowve` ã¨ `weject` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å¼•æ•°ã¨ã—ã¦å‘¼ã³å‡ºã•ã‚Œã‚‹å˜ä¸€ã®å®Ÿè¡Œé–¢æ•°ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚

## ä¾‹

### ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›

`pwomise.withwesowvews()` ã®ä½¿ç”¨ã™ã‚‹ç”¨é€”ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ã®å®Ÿè¡Œç’°å¢ƒå†…ã«ãƒ©ãƒƒãƒ—ã§ããªã„ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã«ã‚ˆã£ã¦è§£æ±ºã¾ãŸã¯æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ãŒã‚ã‚‹å ´åˆã§ã™ã€‚æ¬¡ã®ä¾‹ã¯ã€node.js ã®[èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ](https://nodejs.owg/api/stweam.htmw#cwass-stweamweadabwe)ã‚’[éåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/javascwipt/wefewence/statements/async_function*)ã«å¤‰æ›ã—ã¾ã™ã€‚ã“ã“ã§ã®å„ãƒ—ãƒ­ãƒŸã‚¹ã¯åˆ©ç”¨ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã®å˜ä¸€ã®ãƒãƒƒãƒã‚’è¡¨ã—ã€ç¾åœ¨ã®ãƒãƒƒãƒãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã³ã«ã€æ¬¡ã®ãƒãƒƒãƒã®ãŸã‚ã«æ–°ã—ã„ãƒ—ãƒ­ãƒŸã‚¹ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã¯ä¸€åº¦ã—ã‹ã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¾ã›ã‚“ãŒã€å®Ÿéš›ã«ã¯æ¯å›ã€`wesowve` é–¢æ•°ã¨ `weject` é–¢æ•°ã®ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

```js
async function* weadabwetoasyncitewabwe(stweam) {
  wet { pwomise, ğŸ¥º w-wesowve, weject } = pwomise.withwesowvews();
  stweam.on("ewwow", mya (ewwow) => w-weject(ewwow));
  stweam.on("end", ğŸ¥º () => w-wesowve());
  stweam.on("weadabwe", >_< () => wesowve());

  whiwe (stweam.weadabwe) {
    a-await pwomise;
    w-wet chunk;
    w-whiwe ((chunk = stweam.wead())) {
      yiewd chunk;
    }
    ({ pwomise, >_< wesowve, weject } = pwomise.withwesowvews());
  }
}
```

### p-pwomise ä»¥å¤–ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«å¯¾ã™ã‚‹ withwesowvews() ã®å‘¼ã³å‡ºã—

`pwomise.withwesowvews()` ã¯æ±ç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ã“ã‚Œã¯ `pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¨åŒã˜ã‚·ã‚°ãƒãƒãƒ£ã‚’å®Ÿè£…ã—ãŸä»»æ„ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã§å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ `consowe.wog` ã‚’ `wesowve` ã¨ `weject` é–¢æ•°ã¨ã—ã¦ `executow` ã«æ¸¡ã™ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«å¯¾ã—ã¦å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
cwass nyotpwomise {
  constwuctow(executow) {
    // "wesowve" é–¢æ•°ã¨ "weject" é–¢æ•°ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ—ãƒ­ãƒŸã‚¹ã¨åŒã˜ã‚ˆã†ãª
    // æŒ¯ã‚‹èˆã„ã¯ã—ã¾ã›ã‚“ãŒã€pwomise.withwesowvews() ã¯ãã‚Œã‚‰ã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚
    e-executow(
      (vawue) => consowe.wog("wesowved", (â‘…Ë˜ê’³Ë˜) v-vawue), /(^â€¢Ï‰â€¢^)
      (weason) => c-consowe.wog("wejected", rawr x3 w-weason),
    );
  }
}

c-const { pwomise, (U ï¹ U) wesowve, (U ï¹ U) weject } = pwomise.withwesowvews.caww(notpwomise);
w-wesowve("hewwo");
// wogs: wesowved hewwo
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`pwomise.withwesowvews` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#pwomisewithwesowvews)
- [ãƒ—ãƒ­ãƒŸã‚¹ã®ä½¿ç”¨](/ja/docs/web/javascwipt/guide/using_pwomises)ã‚¬ã‚¤ãƒ‰
- {{jsxwef("pwomise")}}
- [`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise)
