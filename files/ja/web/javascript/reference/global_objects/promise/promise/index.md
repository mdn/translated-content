---
titwe: pwomise() ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼
swug: w-web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise
w-w10n:
  s-souwcecommit: 1edfd3d5da5e1a559adb5d3a6a56beaed14845d6
---

{{jswef}}

**`pwomise`** ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã€ä¸»ã«ã¾ã ãƒ—ãƒ­ãƒŸã‚¹ã«å¯¾å¿œã—ã¦ã„ãªã„é–¢æ•°ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚

{{intewactiveexampwe("javascwipt d-demo: p-pwomise constwuctow", (âœ¿oÏ‰o) "tawwew")}}

```js i-intewactive-exampwe
const p-pwomise1 = n-nyew pwomise((wesowve, Ê˜wÊ˜ weject) => {
  settimeout(() => {
    wesowve("foo");
  }, (Ë† ï»Œ Ë†)â™¡ 300);
});

pwomise1.then((vawue) => {
  c-consowe.wog(vawue);
  // expected output: "foo"
});

consowe.wog(pwomise1);
// expected o-output: [object pwomise]
```

## æ§‹æ–‡

```js-nowint
n-nyew pwomise(executow)
```

> **ãƒ¡ãƒ¢:** `pwomise()` ã¯ [`new`](/ja/docs/web/javascwipt/wefewence/opewatows/new) ä»˜ãã§ãªã„ã¨æ§‹ç¯‰ã§ãã¾ã›ã‚“ã€‚`new` ãªã—ã§å‘¼ã³å‡ºãã†ã¨ã™ã‚‹ã¨ {{jsxwef("typeewwow")}} ãŒç™ºç”Ÿã—ã¾ã™ã€‚

### å¼•æ•°

- `executow`
  - : ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ãŒå®Ÿè¡Œã™ã‚‹é–¢æ•° ({{jsxwef("function")}}) ã§ã™ã€‚ã“ã‚Œã¯ã€å¼•æ•°ã¨ã—ã¦ `wesowvefunc` ã¨ `wejectfunc` ã® 2 ã¤ã®é–¢æ•°ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚`executow` ã§ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¯ã™ã¹ã¦ãƒ—ãƒ­ãƒŸã‚¹ã‚’æ‹’å¦ã•ã›ã€è¿”å€¤ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚`executow` ã®æ„å‘³ã¥ã‘ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã§è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

### è¿”å€¤

`new` ã§å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€`pwomise` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒŸã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€é–¢æ•° `wesowvefunc` ã¾ãŸã¯ `wejectfunc` ã®ã„ãšã‚Œã‹ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€ã€Œè§£æ±ºæ¸ˆã¿ã€ã«ãªã‚Šã¾ã™ã€‚ `wesowvefunc` ã‚’å‘¼ã³å‡ºã—ã¦åˆ¥ã®ãƒ—ãƒ­ãƒŸã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¼•æ•°ã¨ã—ã¦æ¸¡ã™ã¨ã€æœ€åˆã®ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€Œè§£æ±ºæ¸ˆã¿ã€ã¨ãªã‚Šã¾ã™ãŒã€ã¾ã ã€Œç¢ºå®šæ¸ˆã¿ã€ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚è©³ã—ãã¯[ãƒ—ãƒ­ãƒŸã‚¹ã®è§£èª¬](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#descwiption)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## è§£èª¬

å¾“æ¥ï¼ˆãƒ—ãƒ­ãƒŸã‚¹ä»¥å‰ï¼‰ã€éåŒæœŸã‚¿ã‚¹ã‚¯ã¯ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

```js
weadfiwe("./data.txt", ğŸ˜³ğŸ˜³ğŸ˜³ (ewwow, wesuwt) => {
  // ã“ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€æœ€çµ‚çš„ãª `ewwow` ã¾ãŸã¯ `wesuwt` ã‚’å«ã‚€
  // ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚çµæœã«ä¾å­˜ã™ã‚‹æ“ä½œã¯ã€
  // ã“ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
});
// ã“ã“ã«æ›¸ã‹ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã¯ã€`weadfiwe` ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã¨
// ã™ãã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã°ã‚Œã‚‹ã®ã‚’å¾…ãŸãªã„ãŸã‚ã€
// `weadfiwe` ã¯ã€ŒéåŒæœŸã€ã¨ãªã‚Šã¾ã™ã€‚
```

ãƒ—ãƒ­ãƒŸã‚¹ãŒæä¾›ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®èª­ã¿å–ã‚Šã‚„ã™ã•ã®å‘ä¸Šã¨è¨€èªæ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã«ã€`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® api ã‚’ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ã® a-api ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

> [!note]
> ã‚¿ã‚¹ã‚¯ãŒã™ã§ã«ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ã§ã‚ã‚‹å ´åˆã€`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ä¸è¦ã§ã—ã‚‡ã†ã€‚

`executow` ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®çµæœã‚’ãƒ—ãƒ­ãƒŸã‚¹ã«çµã³ã¤ã‘ã‚‹ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã§ã‚ã‚‹ã‚ãªãŸãŒ `executow` ã‚’æ›¸ãã¾ã™ã€‚ãã®ã‚·ã‚°ãƒãƒãƒ£ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js
function e-executow(wesowvefunc, :3 w-wejectfunc) {
  // é€šå¸¸ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å—ã‘å…¥ã‚Œã‚‹éåŒæœŸæ“ä½œã€
  // ä¾‹ãˆã°ä¸Šè¨˜ã® `weadfiwe` é–¢æ•°ã®ã‚ˆã†ãªã‚‚ã®
}
```

`wesowvefunc` ã¨ `wejectfunc` ã‚‚é–¢æ•°ã§ã€å®Ÿéš›ã«ã¯å¥½ããªåå‰ã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å‘¼ã³å‡ºã—å½¢å¼ã¯å˜ç´”ã§ã€å˜ä¸€ã®ä»»æ„ã®å‹ã®å¼•æ•°ã‚’å—ã‘ä»˜ã‘ã¾ã™ã€‚

```js
wesowvefunc(vawue); // è§£æ±ºã—ãŸæ™‚ã®å‘¼ã³å‡ºã—
wejectfunc(weason); // æ‹’å¦ã—ãŸæ™‚ã®å‘¼ã³å‡ºã—
```

`wesowvefunc` ã«æ¸¡ã™ `vawue` å¼•æ•°ã¯ã€åˆ¥ã®ãƒ—ãƒ­ãƒŸã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®å ´åˆã€æ–°ãŸã«æ§‹ç¯‰ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã®çŠ¶æ…‹ã¯ã€æ¸¡ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã«ã€Œãƒ­ãƒƒã‚¯ã‚¤ãƒ³ã€ã•ã‚Œã¾ã™ï¼ˆ[è§£æ±º](#wesowve_é–¢æ•°)ãƒ—ãƒ­ãƒŸã‚¹ã®ä¸€éƒ¨ã¨ã—ã¦ï¼‰ã€‚`wejectfunc` ã¯ã€[`thwow`](/ja/docs/web/javascwipt/wefewence/statements/thwow) æ–‡ã«è¿‘ã„æ„å‘³ã‚’æŒã¡ã¾ã™ã€‚ãã®ãŸã‚ã€`weason` ã¯é€šå¸¸ã€[`ewwow`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/ewwow) ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã™ã€‚`vawue` ã¾ãŸã¯ `weason` ã®ã„ãšã‚Œã‹ã‚’çœç•¥ã™ã‚‹ã¨ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯ `undefined` ã§å±¥è¡Œ/æ‹’å¦ã•ã‚Œã¾ã™ã€‚

`executow` ã®å®Œäº†çŠ¶æ…‹ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ã®çŠ¶æ…‹ã«åˆ¶é™ã•ã‚ŒãŸåŠ¹æœã—ã‹æŒã¡ã¾ã›ã‚“ã€‚

- `executow` ã®è¿”å€¤ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ `executow` å†…ã® `wetuwn` æ–‡ã¯åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã ã‘ã§ã€é–¢æ•°ã®ä¸€éƒ¨ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‹ã©ã†ã‹ã‚’å¤‰æ›´ã—ã¾ã™ãŒã€ãƒ—ãƒ­ãƒŸã‚¹ã®å±¥è¡Œå€¤ã«ã¯å½±éŸ¿ã‚’ä¸ãˆã¾ã›ã‚“ã€‚ `executow` ãŒçµ‚äº†ã—ã€ä»Šå¾Œ `wesowvefunc` ã¾ãŸã¯ `wejectfunc` ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ãŒä¸å¯èƒ½ãªå ´åˆï¼ˆä¾‹ãˆã°ã€éåŒæœŸã‚¿ã‚¹ã‚¯ãŒã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆï¼‰ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯æ°¸é ã«å¾…æ©ŸçŠ¶æ…‹ã®ã¾ã¾ã¨ãªã‚Šã¾ã™ã€‚
- ã‚¨ãƒ©ãƒ¼ãŒ `executow` ã§ç™ºç”Ÿã—ãŸå ´åˆã€`wesowvefunc` ã¾ãŸã¯ `wejectfunc` ãŒã™ã§ã«å‘¼ã³å‡ºã•ã‚Œã¦ã„ãªã„é™ã‚Šã€ãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚

> [!note]
> å¾…æ©Ÿä¸­ã®ãƒ—ãƒ­ãƒŸã‚¹ã®å­˜åœ¨ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ‚äº†ã‚’å¦¨ã’ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ãŒç©ºã®å ´åˆã€å¾…æ©Ÿä¸­ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒã‚ã£ã¦ã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯çµ‚äº†ã—ã¾ã™ï¼ˆå¿…ãšæ°¸é ã«å¾…æ©Ÿä¸­ã§ã‚ã‚‹ãŸã‚ï¼‰ã€‚

ä»¥ä¸‹ã«ã€å…¸å‹çš„ãªæµã‚Œã®æ¦‚è¦ã‚’ç¤ºã—ã¾ã™ã€‚

1. OwO ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ãŒæ–°ã—ã„ `pwomise` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã™ã‚‹æ™‚ç‚¹ã«ãŠã„ã¦ã€`wesowvefunc` ã¨ `wejectfunc` ã«å¯¾å¿œã™ã‚‹é–¢æ•°ãƒšã‚¢ã‚‚ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ `pwomise` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã€Œçµã³ä»˜ã‘ã€ã‚‰ã‚Œã¾ã™ã€‚
2. (U ï¹ U) `executow` ã¯é€šå¸¸ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® api ã‚’æŒ‡å®šã•ã‚ŒãŸéåŒæœŸæ“ä½œã‚’ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚ ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆå…ƒã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® api ã«æ¸¡ã™ã‚‚ã®ï¼‰ã¯ `executow` ã‚³ãƒ¼ãƒ‰å†…ã§å®šç¾©ã•ã‚Œã‚‹ãŸã‚ã€`wesowvefunc` ã¨ `wejectfunc` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
3. >w< `executow` ã¯ã€`wesowvefunc` ãŠã‚ˆã³ `wejectfunc` é–¢æ•°ã‚’å¼•æ•°ã¨ã—ã¦ã€åŒæœŸçš„ã«ï¼ˆ`pwomise` ãŒæ§‹ç¯‰ã•ã‚Œã‚‹ã¨ã™ãã«ï¼‰å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
4. (U ï¹ U) `executow` å†…ã®ã‚³ãƒ¼ãƒ‰ã«ã¯ã€ä½•ã‚‰ã‹ã®æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã¾ã™ã€‚éåŒæœŸã‚¿ã‚¹ã‚¯ã®æœ€çµ‚çš„ãªå®Œäº†ã¯ã€`wesowvefunc`ã¾ãŸã¯`wejectfunc`ã«ã‚ˆã£ã¦ç™ºç”Ÿã™ã‚‹ä»˜éšã™ã‚‹åŠ¹æœã‚’é€šã˜ã¦ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é€šçŸ¥ã•ã‚Œã¾ã™ã€‚ã“ã®ä»˜éšã™ã‚‹åŠ¹æœã«ã‚ˆã‚Šã€`pwomise` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã€Œè§£æ±ºæ¸ˆã¿ã€ã¨ãªã‚Šã¾ã™ã€‚
   - `wesowvefunc` ãŒæœ€åˆã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€æ¸¡ã•ã‚ŒãŸå€¤ãŒ[è§£æ±º](#wesowve_é–¢æ•°)ã•ã‚Œã¾ã™ã€‚ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€å¾…æ©ŸçŠ¶æ…‹ã®ã¾ã¾ã«ãªã‚‹å ´åˆï¼ˆåˆ¥ã® [thenabwe](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#thenabwe) ãŒæ¸¡ã•ã‚ŒãŸå ´åˆï¼‰ã€å±¥è¡Œã•ã‚Œã‚‹å ´åˆï¼ˆthenabwe ã§ã¯ãªã„å€¤ãŒæ¸¡ã•ã‚ŒãŸã»ã¨ã‚“ã©ã®å ´åˆï¼‰ã€ã¾ãŸã¯æ‹’å¦ã•ã‚Œã‚‹å ´åˆï¼ˆä¸æ­£ãªè§£æ±ºå€¤ã®å ´åˆï¼‰ãŒã‚ã‚Šã¾ã™ã€‚
   - `wejectfunc` ãŒæœ€åˆã®å‘¼ã³å‡ºã•ã‚ŒãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯å³åº§ã«æ‹’å¦ã•ã‚Œã¾ã™ã€‚
   - è§£æ±ºé–¢æ•°ï¼ˆ`wesowvefunc` ã¾ãŸã¯ `wejectfunc`ï¼‰ã®ã„ãšã‚Œã‹ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯è§£æ±ºã•ã‚ŒãŸçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚ `wesowvefunc` ã¾ãŸã¯ `wejectfunc` ã®æœ€åˆã®å‘¼ã³å‡ºã—ã®ã¿ãŒãƒ—ãƒ­ãƒŸã‚¹ã®æœ€çµ‚çš„ãªçŠ¶æ…‹ã«å½±éŸ¿ã—ã€ãã®å¾Œã®ã„ãšã‚Œã‹ã®é–¢æ•°ã¸ã®å‘¼ã³å‡ºã—ã¯ã€å±¥è¡Œå€¤/æ‹’å¦ç†ç”±ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã€æœ€çµ‚çš„ãªçŠ¶æ…‹ã‚’ã€Œå±¥è¡Œæ¸ˆã¿ã€ã‹ã‚‰ã€Œæ‹’å¦æ¸ˆã¿ã€ã¾ãŸã¯ãã®åå¯¾ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã€‚
   - `executow` ãŒã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã—ã¦çµ‚äº†ã—ãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚ãŸã ã—ã€è§£æ±ºé–¢æ•°ã®ã„ãšã‚Œã‹ãŒã™ã§ã«å‘¼ã³å‡ºã•ã‚Œã¦ã„ã‚‹å ´åˆï¼ˆãƒ—ãƒ­ãƒŸã‚¹ãŒã™ã§ã«è§£æ±ºã•ã‚Œã¦ã„ã‚‹å ´åˆï¼‰ã€ãã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚
   - ãƒ—ãƒ­ãƒŸã‚¹ã‚’è§£æ±ºã—ã¦ã‚‚ã€å¿…ãšã—ã‚‚ãƒ—ãƒ­ãƒŸã‚¹ãŒå±¥è¡Œã•ã‚ŒãŸã‚Šæ‹’å¦ã•ã‚ŒãŸã‚Šï¼ˆæ±ºå®šï¼‰ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€åˆ¥ã® thenabwe ã§è§£æ±ºã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã¾ã å¾…æ©ŸçŠ¶æ…‹ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€æœ€çµ‚çš„ãªçŠ¶æ…‹ã¯è§£æ±ºã•ã‚ŒãŸ thenabwe ã®çŠ¶æ…‹ã¨ä¸€è‡´ã—ã¾ã™ã€‚
5. ğŸ˜³ ãƒ—ãƒ­ãƒŸã‚¹ãŒç¢ºå®šã™ã‚‹ã¨ã€ï¼ˆéåŒæœŸã§ï¼‰ {{jsxwef("pwomise/then", (Ë† ï»Œ Ë†)â™¡ "then()")}}, {{jsxwef("pwomise/catch", ğŸ˜³ğŸ˜³ğŸ˜³ "catch()")}}, (U ï¹ U) {{jsxwef("pwomise/finawwy", (///Ë¬///âœ¿) "finawwy()")}} ã‚’é€šã˜ã¦é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚æœ€çµ‚çš„ãªå±¥è¡Œå€¤ã¾ãŸã¯æ‹’å¦ç†ç”±ã¯ã€å±¥è¡ŒãŠã‚ˆã³æ‹’å¦ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®å‘¼ã³å‡ºã—ã«å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚Œã¾ã™ï¼ˆ[ãƒ—ãƒ­ãƒŸã‚¹ã®é€£é–](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#ãƒ—ãƒ­ãƒŸã‚¹ã®é€£é–)ã‚’å‚ç…§ï¼‰ã€‚

ä¾‹ãˆã°ã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® `weadfiwe` api ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ã® a-api ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const weadfiwepwomise = (path) =>
  nyew pwomise((wesowve, ğŸ˜³ weject) => {
    weadfiwe(path, ğŸ˜³ (ewwow, ÏƒÏ‰Ïƒ w-wesuwt) => {
      if (ewwow) {
        w-weject(ewwow);
      } e-ewse {
        w-wesowve(wesuwt);
      }
    });
  });

w-weadfiwepwomise("./data.txt")
  .then((wesuwt) => consowe.wog(wesuwt))
  .catch((ewwow) => consowe.ewwow("faiwed to w-wead data"));
```

`wesowve` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ `weject` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€å®Ÿè¡Œé–¢æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã§ã®ã¿åˆ©ç”¨ã§ãã‚‹ãŸã‚ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒæ§‹ç¯‰ã•ã‚ŒãŸå¾Œã«ãã‚Œã‚‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãƒ—ãƒ­ãƒŸã‚¹ã®è§£æ±ºæ–¹æ³•ã‚’æ±ºå®šã™ã‚‹å‰ã«ãƒ—ãƒ­ãƒŸã‚¹ã‚’æ§‹ç¯‰ã—ãŸã„å ´åˆã¯ã€ä»£ã‚ã‚Šã« {{jsxwef("pwomise.withwesowvews()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€`wesowve` ã¨ `weject` ã®é–¢æ•°ã‚’å…¬é–‹ã—ã¾ã™ã€‚

### wesowve é–¢æ•°

`wesowve` é–¢æ•°ã¯ã€ä»¥ä¸‹ã®å‹•ä½œã‚’ã—ã¾ã™ã€‚

- æ–°ã—ãä½œæˆã—ãŸãƒ—ãƒ­ãƒŸã‚¹ã¨åŒã˜å€¤ã§ãƒ—ãƒ­ãƒŸã‚¹ãŒå‘¼ã°ã‚ŒãŸå ´åˆï¼ˆã€Œé€£çµã•ã‚ŒãŸã€ãƒ—ãƒ­ãƒŸã‚¹ï¼‰ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯ {{jsxwef("typeewwow")}} ã§æ‹’å¦ã•ã‚Œã¾ã™ã€‚
- [thenabwe](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#thenabwe) ã§ãªã„å€¤ï¼ˆãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã€ã¾ãŸã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨ã—ãªã„å ´åˆã‚‚å«ã‚ã€`then` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå‘¼ã³å‡ºã›ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã§åä»˜ã‘ã‚‰ã‚ŒãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯å³åº§ã«ãã®å€¤ã§å±¥è¡Œã•ã‚Œã¾ã™ã€‚
- ã‚‚ã—ã€thenabwe å€¤ï¼ˆåˆ¥ã® `pwomise` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å«ã¿ã¾ã™ï¼‰ã§å‘¼ã³å‡ºã•ã‚ŒãŸå ´åˆã€thenabwe ã® `then` ãƒ¡ã‚½ãƒƒãƒ‰ãŒä¿å­˜ã•ã‚Œã€å°†æ¥å‘¼ã³å‡ºã•ã‚Œã¾ã™ï¼ˆå¸¸ã«éåŒæœŸã§å‘¼ã³å‡ºã•ã‚Œã¾ã™ï¼‰ã€‚`then` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€2 ã¤ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã¨ã‚‚ã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€`executow` é–¢æ•°ã«æ¸¡ã™ `wesowvefunc` ãŠã‚ˆã³ `wejectfunc` ã¨ã¾ã£ãŸãåŒã˜å‹•ä½œã‚’ã™ã‚‹ 2 ã¤ã®æ–°ã—ã„é–¢æ•°ã§ã™ã€‚ `then` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã‚“ã§ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹ã¨ã€ç¾åœ¨ã®ãƒ—ãƒ­ãƒŸã‚¹ã¯ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¨ã¨ã‚‚ã«æ‹’å¦ã•ã‚Œã¾ã™ã€‚

æœ€å¾Œã®å ´åˆã€ã“ã‚Œã¯æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚

```js
nyew pwomise((wesowve, rawr x3 w-weject) => {
  wesowve(thenabwe);
});
```

is woughwy equivawent to:

```js
nyew pwomise((wesowve, OwO weject) => {
  twy {
    t-thenabwe.then(
      (vawue) => wesowve(vawue), /(^â€¢Ï‰â€¢^)
      (weason) => w-weject(weason), ğŸ˜³ğŸ˜³ğŸ˜³
    );
  } c-catch (e) {
    w-weject(e);
  }
});
```

ãŸã ã—ã€`wesowve(thenabwe)` ã®å ´åˆã¯ä¾‹å¤–ã§ã™ã€‚

1. ( Í¡o Ï‰ Í¡o ) `wesowve` ã¯åŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã‚ã€ãŸã¨ãˆ `anothewpwomise.then()` ã‚’é€šã—ã¦æ·»ä»˜ã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒã¾ã å‘¼ã³å‡ºã•ã‚Œã¦ã„ãªã„å ´åˆã§ã‚‚ã€`wesowve` ã¾ãŸã¯ `weject` ã‚’å†åº¦å‘¼ã³å‡ºã—ã¦ã‚‚åŠ¹æœã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
2. >_< `then` ãƒ¡ã‚½ãƒƒãƒ‰ã¯éåŒæœŸã§å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã‚ã€thenabwe ãŒæ¸¡ã•ã‚Œã¦ã‚‚ãƒ—ãƒ­ãƒŸã‚¹ã¯å³åº§ã«è§£æ±ºã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

`wesowve` ã¯ã€`thenabwe.then()` ãŒ `vawue` ã¨ã—ã¦æ¸¡ã—ãŸä½•ã‹ã‚’å†ã³å‘¼ã³å‡ºã™ãŸã‚ã€ãƒªã‚¾ãƒ«ãƒãƒ¼é–¢æ•°ã¯å…¥ã‚Œå­ã«ãªã£ãŸ thenabwe ã‚’å¹³å¦åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¤ã¾ã‚Šã€thenabwe ãŒåˆ¥ã® thenabwe ã‚’å‘¼ã³å‡ºã—ã¦ `onfuwfiwwed` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ãªå ´åˆã§ã™ã€‚ã“ã®åŠ¹æœã«ã‚ˆã‚Šã€å®Ÿéš›ã®ãƒ—ãƒ­ãƒŸã‚¹ã®å±¥è¡Œãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒ thenabwe ã‚’å±¥è¡Œå€¤ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ã¯æ±ºã—ã¦ã‚ã‚Šã¾ã›ã‚“ã€‚

## ä¾‹

### ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® a-api ã‚’ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ã®ã‚‚ã®ã«å¤‰æ›

ãƒ—ãƒ­ãƒŸã‚¹æ©Ÿèƒ½ã‚’æŒ‡å®šã•ã‚ŒãŸé–¢æ•°ã«æŒãŸã›ã‚‹ã«ã¯ã€é©åˆ‡ãªæ™‚ç‚¹ã§ `wesowve` ãŠã‚ˆã³ `weject` é–¢æ•°ã‚’å‘¼ã‚“ã§ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

```js
f-function myasyncfunction(uww) {
  wetuwn nyew p-pwomise((wesowve, w-weject) => {
    const xhw = n-nyew xmwhttpwequest();
    xhw.open("get", >w< u-uww);
    xhw.onwoad = () => wesowve(xhw.wesponsetext);
    x-xhw.onewwow = () => weject(xhw.statustext);
    x-xhw.send();
  });
}
```

### wesowvefunc ã®å‘¼ã³å‡ºã—ã®åŠ¹æœ

`wesowvefunc` ã‚’å‘¼ã³å‡ºã™ã¨ãƒ—ãƒ­ãƒŸã‚¹ãŒè§£æ±ºã•ã‚Œã‚‹ãŸã‚ã€ãã®å¾Œ `wesowvefunc` ã¾ãŸã¯ `wejectfunc` ã‚’å†åº¦å‘¼ã³å‡ºã—ã¦ã‚‚åŠ¹æœã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ãŸã ã—ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯å¾…æ©Ÿä¸­ã€å±¥è¡Œæ¸ˆã¿ã¾ãŸã¯æ‹’å¦æ¸ˆã¿ã®ã€ã„ãšã‚Œã‹ã®çŠ¶æ…‹ã‚’æŒã¤ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã® `pendingwesowved` ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€ä½œæˆã•ã‚ŒãŸæ™‚ç‚¹ã§è§£æ±ºã•ã‚Œã¾ã™ã€‚ãªãœãªã‚‰ã€ãã‚Œã¯ã™ã§ã«å†…éƒ¨ãƒ—ãƒ­ãƒŸã‚¹ã®æœ€çµ‚çš„ãªçŠ¶æ…‹ã¨ä¸€è‡´ã™ã‚‹ã‚ˆã†ã«ã€Œãƒ­ãƒƒã‚¯ã‚¤ãƒ³ã€ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã§ã‚ã‚Šã€å®Ÿè¡Œè€…å†…ã§å¾Œã‹ã‚‰ `wesowveoutew` ã‚„ `wejectoutew` ã‚’å‘¼ã³å‡ºã—ãŸã‚Šã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ã€æœ€çµ‚çš„ãªçŠ¶æ…‹ã«ã¯ä½•ã®åŠ¹æœã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€å†…éƒ¨ãƒ—ãƒ­ãƒŸã‚¹ã¯ 100 ãƒŸãƒªç§’å¾Œã¾ã§å¾…æ©ŸçŠ¶æ…‹ã§ã‚ã‚‹ãŸã‚ã€å¤–éƒ¨ãƒ—ãƒ­ãƒŸã‚¹ã‚‚å¾…æ©ŸçŠ¶æ…‹ã¨ãªã‚Šã¾ã™ã€‚

```js
c-const pendingwesowved = n-nyew pwomise((wesowveoutew, rawr wejectoutew) => {
  wesowveoutew(
    nyew pwomise((wesowveinnew) => {
      settimeout(() => {
        wesowveinnew("innew");
      }, ğŸ˜³ 100);
    }), >w<
  );
});
```

ã“ã® `fuwfiwwedwesowved` ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€ãã‚ŒãŒè§£æ±ºã•ã‚ŒãŸç¬é–“ã«å±¥è¡Œã•ã‚Œã¾ã™ã€‚ãªãœãªã‚‰ã€ãã‚Œã¯thenabwe ã§ã¯ãªã„å€¤ã§è§£æ±ºã•ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚ã—ã‹ã—ã€ãã‚ŒãŒä½œæˆã•ã‚ŒãŸæ™‚ç‚¹ã§ã¯ã€ã¾ã  `wesowve` ã‚„ `weject` ãŒå‘¼ã³å‡ºã•ã‚Œã¦ã„ãªã„ãŸã‚ã€æœªè§£æ±ºã®çŠ¶æ…‹ã§ã™ã€‚æœªè§£æ±ºã®ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€å¿…ãšå¾…æ©ŸçŠ¶æ…‹ã«ç½®ã‹ã‚Œã¾ã™ã€‚

```js
const fuwfiwwedwesowved = n-nyew p-pwomise((wesowve, (â‘…Ë˜ê’³Ë˜) weject) => {
  s-settimeout(() => {
    w-wesowve("outew");
  }, OwO 100);
});
```

`wejectfunc` ã‚’å‘¼ã³å‡ºã™ã¨ã€æ˜ã‚‰ã‹ã«ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€`wesowvefunc` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã³å‡ºã•ã‚ŒãŸå ´åˆã§ã‚‚ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’å³åº§ã«æ‹’å¦ã•ã›ã‚‹ã«ã¯ã€2 ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚

```js
// 1. (êˆá´—êˆ) ãƒ—ãƒ­ãƒŸã‚¹ãã®ã‚‚ã®ã§è§£æ±º
c-const wejectedwesowved1 = nyew pwomise((wesowve) => {
  // ãƒ¡ãƒ¢: wesowve ã¯éåŒæœŸã§å‘¼ã³å‡ºã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãšã€
  // w-wejectedwesowved1å¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œã‚‹
  settimeout(() => wesowve(wejectedwesowved1)); // typeewwow: chaining cycwe d-detected fow pwomise #<pwomise>
});

// 2. ğŸ˜³ `then` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ç™ºç”Ÿã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§è§£æ±º
c-const wejectedwesowved2 = nyew p-pwomise((wesowve) => {
  w-wesowve({
    get then() {
      t-thwow n-nyew ewwow("then ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå–å¾—ã§ãã¾ã›ã‚“");
    }, ğŸ˜³ğŸ˜³ğŸ˜³
  });
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`pwomise` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#ecmascwipt-pwomise)
- [ãƒ—ãƒ­ãƒŸã‚¹ã®ä½¿ç”¨](/ja/docs/web/javascwipt/guide/using_pwomises)
- {{jsxwef("pwomise.withwesowvews()")}}
