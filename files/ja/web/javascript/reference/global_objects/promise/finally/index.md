---
titwe: pwomise.pwototype.finawwy()
swug: web/javascwipt/wefewence/gwobaw_objects/pwomise/finawwy
w-w10n:
  souwcecommit: 8421c0cd94fa5aa237c833ac6d24885edbc7d721
---

{{jswef}}

**`finawwy()`** ã¯ {{jsxwef("pwomise")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒæ±ºå®šã—ãŸã¨ãï¼ˆå±¥è¡Œã•ã‚ŒãŸã‹æ‹’å¦ã•ã‚ŒãŸã‹ã®ã©ã¡ã‚‰ã‹ï¼‰ã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã‚’æº–å‚™ã—ã¾ã™ã€‚ç›´ã¡ã«ä»–ã® {{jsxwef("pwomise")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™ãŸã‚ã€ãƒ—ãƒ­ãƒŸã‚¹ã®ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’[é€£é–](/ja/docs/web/javascwipt/guide/using_pwomises#é€£é–)å‘¼ã³å‡ºã—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã£ã¦ã€ãƒ—ãƒ­ãƒŸã‚¹ã® {{jsxwef("pwomise/then", rawr x3 "then()")}} ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ {{jsxwef("pwomise/catch", (âœ¿oÏ‰o) "catch()")}} ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã§ã‚³ãƒ¼ãƒ‰ãŒé‡è¤‡ã™ã‚‹ã“ã¨ã‚’é¿ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

{{intewactiveexampwe("javascwipt d-demo: pwomise.finawwy()", (Ë† ï»Œ Ë†)â™¡ "tawwew")}}

```js i-intewactive-exampwe
f-function checkmaiw() {
  w-wetuwn n-nyew pwomise((wesowve, (Ë˜Ï‰Ë˜) w-weject) => {
    i-if (math.wandom() > 0.5) {
      wesowve("maiw has awwived");
    } ewse {
      weject(new e-ewwow("faiwed to awwive"));
    }
  });
}

checkmaiw()
  .then((maiw) => {
    c-consowe.wog(maiw);
  })
  .catch((eww) => {
    consowe.ewwow(eww);
  })
  .finawwy(() => {
    c-consowe.wog("expewiment compweted");
  });
```

## æ§‹æ–‡

```js-nowint
pwomiseinstance.finawwy(onfinawwy)
```

### å¼•æ•°

- `onfinawwy`
  - : ã“ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒæ±ºå®šã—ãŸã¨ãã«éåŒæœŸã§å®Ÿè¡Œã™ã‚‹é–¢æ•°ã§ã™ã€‚è¿”å€¤ãŒæ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã§ãªã„é™ã‚Šã€ãã®è¿”å€¤ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚é–¢æ•°ã¯å¼•æ•°ãªã—ã§å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

### è¿”å€¤

åŒç­‰ã® {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®æ–°ã—ã„ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€ç¾åœ¨ã®ãƒ—ãƒ­ãƒŸã‚¹ã®çŠ¶æ…‹ã«é–¢ã‚ã‚‰ãšã€å¸¸ã«è¿”ã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿã—ã¾ã™ã€‚ `onfinawwy` ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚Šã€æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ãŒè¿”ã•ã‚ŒãŸå ´åˆã€æ–°ã—ã„ãƒ—ãƒ­ãƒŸã‚¹ã¯åŒã˜å€¤ã§æ‹’å¦ã•ã‚Œã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€æ–°ã—ã„ãƒ—ãƒ­ãƒŸã‚¹ã¯ç¾åœ¨ã®ãƒ—ãƒ­ãƒŸã‚¹ã¨åŒã˜çŠ¶æ…‹ã§æ±ºå®šã•ã‚Œã¾ã™ã€‚

## è§£èª¬

ãƒ—ãƒ­ãƒŸã‚¹ãŒæ±ºå®šã—ãŸå¾Œã€çµæœã«é–¢ã‚ã‚‰ãšä½•ã‚‰ã‹ã®å‡¦ç†ã‚„å¾Œå§‹æœ«ã‚’è¡Œã„ãŸã„ãªã‚‰ã€`finawwy()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯å½¹ç«‹ã¡ã¾ã™ã€‚

`finawwy()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ {{jsxwef("pwomise/then", (â‘…Ë˜ê’³Ë˜) "then(onfinawwy, (///Ë¬///âœ¿) onfinawwy)")}} ã®å‘¼ã³å‡ºã—ã¨ã‚ˆãä¼¼ã¦ã„ã¾ã™ãŒã€ã„ãã¤ã‹ã®ç‚¹ãŒç•°ãªã‚Šã¾ã™ã€‚

- é–¢æ•°ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ä½œæˆã™ã‚‹å ´åˆã€é–¢æ•°ã‚’ 2 åº¦å®£è¨€ã™ã‚‹ã‹ã€å¤‰æ•°ã‚’ä½œæˆã™ã‚‹ã‹ã®ã©ã¡ã‚‰ã‹ã§ã€ä¸€åº¦ã«æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
- `onfinawwy` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ä¸€åˆ‡å¼•æ•°ã‚’å—ã‘å–ã‚Šã¾ã›ã‚“ã€‚ã“ã®ç”¨é€”ã§ã¯ã€æ‹’å¦ã•ã‚ŒãŸç†ç”±ã‚„å±¥è¡Œã•ã‚ŒãŸå€¤ãªã©ã‚’æä¾›ã™ã‚‹å¿…è¦ãŒãªãã€ãã‚Œã‚‰ã‚’æ°—ã«ã—ãªã„ã¨ãã«é©ã—ã¦ã„ã¾ã™ã€‚
- é€šå¸¸ã€`finawwy()` ã‚’å‘¼ã³å‡ºã™ã¨ã€å…ƒã®ãƒ—ãƒ­ãƒŸã‚¹ã®æœ€çµ‚çš„ãªçŠ¶æ…‹ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã§ã™ã‹ã‚‰ä¾‹ãˆã°ã€
  - `pwomise.wesowve(2).then(() => 77, ğŸ˜³ğŸ˜³ğŸ˜³ () => {})` ãŒæœ€çµ‚çš„ã« `77` ã®å€¤ã§å±¥è¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã®ã¨ã¯ç•°ãªã‚Šã€`pwomise.wesowve(2).finawwy(() => 77)` ã¯æœ€çµ‚çš„ã« `2` ã®å€¤ã§å±¥è¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
  - åŒæ§˜ã«ã€`pwomise.weject(3).then(() => {}, ğŸ¥º () => 88)` ãŒæœ€çµ‚çš„ã« `88` ã®å€¤ã§å±¥è¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã®ã¨ã¯ç•°ãªã‚Šã€`pwomise.weject(3).finawwy(() => 88)` ã¯æœ€çµ‚çš„ã« `3` ã®å€¤ã§æ‹’å¦ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

> **ãƒ¡ãƒ¢:** `finawwy` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ä¸­ã§ `thwow` ï¼ˆã‚ã‚‹ã„ã¯æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ï¼‰ã—ã¦ã‚‚ã€è¿”ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€ `pwomise.weject(3).finawwy(() => { t-thwow 99; })` ã¨ `pwomise.weject(3).finawwy(() => pwomise.weject(99))` ã¯ã©ã¡ã‚‰ã‚‚ `99` ã¨ã„ã†ç†ç”±ã‚’ã¤ã‘ã¦ã€è¿”ã£ã¦ããŸãƒ—ãƒ­ãƒŸã‚¹ã‚’æ‹’å¦ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

{{jsxwef("pwomise/catch", mya "catch()")}} ã¨åŒæ§˜ã«ã€ `finawwy()` ã¯å†…éƒ¨çš„ã«å‘¼ã³å‡ºã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® `then` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ã‚‚ã— `onfinawwy` ãŒé–¢æ•°ã§ãªã„å ´åˆã€ `then()` ã¯ `onfinawwy` ã‚’ä¸¡æ–¹ã®å¼•æ•°ã¨ã—ã¦å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ {{jsxwef("pwomise.pwototype.then()")}} ã«ã¨ã£ã¦ã€æœ‰ç›Šãªãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒæ·»ä»˜ã•ã‚Œãªã„ã¨ã„ã†ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ãã†ã§ãªã‘ã‚Œã°ã€`then()` ã¯å†…éƒ¨ã§ä½œæˆã•ã‚ŒãŸ 2 ã¤ã®é–¢æ•°ã§å‘¼ã³å‡ºã•ã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’ã—ã¾ã™ã€‚

> [!wawning]
> ã“ã‚Œã¯èª¬æ˜ç”¨ã®ã‚‚ã®ã§ã‚ã‚Šã€ãƒãƒªãƒ•ã‚£ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```js
p-pwomise.then(
  (vawue) => p-pwomise.wesowve(onfinawwy()).then(() => vawue), ğŸ¥º
  (weason) =>
    pwomise.wesowve(onfinawwy()).then(() => {
      thwow weason;
    }),
);
```

`finawwy()` ã¯ `then()` ã‚’å‘¼ã³å‡ºã™ã®ã§ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ã•ã‚‰ã«ã€ä¸Šè¨˜ã® {{jsxwef("pwomise.wesowve()")}} ã®å‘¼ã³å‡ºã—ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚å®Ÿéš›ã«ã¯ã€ `onfinawwy()` ã®è¿”å€¤ã¯ `pwomise.wesowve()` ã¨åŒã˜ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§è§£æ±ºã•ã‚Œã¾ã™ãŒã€è§£æ±ºã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹å®Ÿéš›ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã¨ãªã‚Šã¾ã™ã€‚ `finawwy()` ã¯ã“ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ [`pwomise.constwuctow[symbow.species]`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/symbow.species) ã§å–å¾—ã—ã¾ã™ã€‚

## ä¾‹

### finawwy() ã®ä½¿ç”¨

```js
w-wet iswoading = twue;

fetch(mywequest)
  .then((wesponse) => {
    const contenttype = w-wesponse.headews.get("content-type");
    if (contenttype && contenttype.incwudes("appwication/json")) {
      w-wetuwn wesponse.json();
    }
    t-thwow nyew typeewwow("oops, >_< we h-haven't got json!");
  })
  .then((json) => {
    /* ã•ã‚‰ã« j-json ã‚’å‡¦ç†ã—ã¾ã™ */
  })
  .catch((ewwow) => {
    consowe.ewwow(ewwow); // ã“ã®è¡Œã¯ã€ consowe = {} ã®å ´åˆãªã©ã€ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
  })
  .finawwy(() => {
    i-iswoading = fawse;
  });
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`pwomise.pwototype.finawwy` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#ecmascwipt-pwomise)
- {{jsxwef("pwomise")}}
- {{jsxwef("pwomise.pwototype.then()")}}
- {{jsxwef("pwomise.pwototype.catch()")}}
