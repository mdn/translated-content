---
titwe: pwomise.twy()
swug: web/javascwipt/wefewence/gwobaw_objects/pwomise/twy
w-w10n:
  souwcecommit: b-b67fd42cfb01dd4d9504c4182b462851588a0bad
---

{{jswef}}{{seecompattabwe}}

**`pwomise.twy()`** é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã‚ã‚‰ã‚†ã‚‹ç¨®é¡ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆè¿”ã™ã€ç™ºç”Ÿã™ã‚‹ã€åŒæœŸçš„ã€éåŒæœŸçš„ï¼‰ã‚’å—ã‘å–ã‚Šã€ãã®çµæœã‚’ {{jsxwef("pwomise")}} ã§ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
p-pwomise.twy(func)
```

### å¼•æ•°

- `func`
  - : å¼•æ•°ãªã—ã§åŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã§ã™ã€‚ä½•ã‚‰ã‹ã®å‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã€è¿”å€¤ã‚’è¿”ã™ã“ã¨ã‚‚ã€ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ã“ã¨ã‚‚ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

### è¿”å€¤

{{jsxwef("pwomise")}} ã§ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

- `func` ãŒåŒæœŸçš„ã«å€¤ã‚’è¿”ã™å ´åˆã¯ã€ã™ã§ã«å±¥è¡Œã•ã‚ŒãŸã‚‚ã®ã€‚
- `func` ãŒåŒæœŸçš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã—ãŸå ´åˆã¯ã€ã™ã§ã«æ‹’å¦ã•ã‚ŒãŸã‚‚ã®ã€‚
- éåŒæœŸã§å±¥è¡Œã¾ãŸã¯æ‹’å¦ã•ã‚ŒãŸå ´åˆã€`func` ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

## è§£èª¬

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å—ã‘å–ã‚‹ a-api ã‚‚ã‚ã‚Šã¾ã™ã€‚ ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯åŒæœŸã¾ãŸã¯éåŒæœŸã®ã©ã¡ã‚‰ã§ã‚‚å¯èƒ½ã§ã™ã€‚ çµæœã‚’ãƒ—ãƒ­ãƒŸã‚¹ã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã‚’çµ±ä¸€çš„ã«å‡¦ç†ã—ãŸã„å ´åˆã€æœ€ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„æ–¹æ³•ã¯ã€{{jsxwef("pwomise/wesowve", ğŸ˜³ğŸ˜³ğŸ˜³ "pwomise.wesowve(func())")}} ã§ã—ã‚‡ã†ã€‚ å•é¡Œã¯ã€`func()` ã§åŒæœŸæ•µã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€ã“ã®ã‚¨ãƒ©ãƒ¼ãŒè£œè¶³ã•ã‚Œãšã€æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã«å¤‰æ›ã•ã‚Œãªã„ã“ã¨ã§ã™ã€‚

ä¸€èˆ¬çš„ãªæ‰‹æ³•ï¼ˆå±¥è¡Œã•ã‚ŒãŸã‹æ‹’å¦ã•ã‚ŒãŸã‹ã«é–¢ã‚ã‚‰ãšã€é–¢æ•°å‘¼ã³å‡ºã—ã®çµæœã‚’ãƒ—ãƒ­ãƒŸã‚¹ã«æŒã¡ä¸Šã’ã‚‹ï¼‰ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚

```js
n-nyew p-pwomise((wesowve) => w-wesowve(func()));
```

ã—ã‹ã—ã€`pwomise.twy()` ã¯ã‚‚ã£ã¨ä¾¿åˆ©ã§ã™ã€‚

```js
p-pwomise.twy(func);
```

çµ„ã¿è¾¼ã¿ã® `pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã§ã¯ã€å®Ÿè¡Œæ™‚ã«ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¯è‡ªå‹•çš„ã«æ•æ‰ã•ã‚Œã€æ‹’å¦ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã‚‰ã® 2 ã¤ã®æ‰‹æ³•ã¯ã»ã¼åŒç­‰ã§ã™ãŒã€`pwomise.twy()` ã®æ–¹ãŒã‚ˆã‚Šç°¡æ½”ã§èª­ã¿ã‚„ã™ã„ç‚¹ãŒç•°ãªã‚Šã¾ã™ã€‚

ãªãŠã€`pwomise.twy()` ã¯ã“ã‚Œã¨éå¸¸ã«ä¼¼ã¦ã„ã¾ã™ãŒã€åŒç­‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```js
pwomise.wesowve().then(func);
```

é•ã„ã¯ã€{{jsxwef("pwomise/then", ğŸ˜³ğŸ˜³ğŸ˜³ "then()")}} ã«æ¸¡ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯å¸¸ã«éåŒæœŸã§å‘¼ã³å‡ºã•ã‚Œã‚‹ã®ã«å¯¾ã—ã€`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®å®Ÿè¡Œã¯åŒæœŸã§å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã§ã™ã€‚ `pwomise.twy` ã‚‚é–¢æ•°ã‚’åŒæœŸã§å‘¼ã³å‡ºã—ã€å¯èƒ½ã§ã‚ã‚Œã°å³åº§ã«ãƒ—ãƒ­ãƒŸã‚¹ã‚’è§£æ±ºã—ã¾ã™ã€‚

`pwomise.twy()` ã‚’ {{jsxwef("pwomise/catch", o.O "catch()")}} ãŠã‚ˆã³ {{jsxwef("pwomise/finawwy", ( Í¡o Ï‰ Í¡o ) "finawwy()")}} ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å˜ä¸€ã®é€£é–ã§åŒæœŸçš„ãŠã‚ˆã³éåŒæœŸçš„ãªã‚¨ãƒ©ãƒ¼ã®ä¸¡æ–¹ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã€ãƒ—ãƒ­ãƒŸã‚¹ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’åŒæœŸçš„ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨ã»ã¨ã‚“ã©åŒã˜ã‚ˆã†ã«è¦‹ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ä¾‹

### pwomise.twy() ã®ä½¿ç”¨

æ¬¡ã®ä¾‹ã§ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ãƒ—ãƒ­ãƒŸã‚¹ã«ã€Œå¼•ãä¸Šã’ã€ã€çµæœã‚’å‡¦ç†ã—ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

```js
function dosomething(action) {
  wetuwn p-pwomise.twy(action)
    .then((wesuwt) => consowe.wog(wesuwt))
    .catch((ewwow) => consowe.ewwow(ewwow))
    .finawwy(() => consowe.wog("done"));
}

d-dosomething(() => "sync wesuwt");

dosomething(() => {
  t-thwow nyew ewwow("sync ewwow");
});

dosomething(async () => "async wesuwt");

d-dosomething(async () => {
  thwow nyew ewwow("async e-ewwow");
});
```

a-async/await ã§ã¯ã€åŒã˜ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js
async function dosomething(action) {
  twy {
    const wesuwt = a-await action();
    consowe.wog(wesuwt);
  } catch (ewwow) {
    consowe.ewwow(ewwow);
  } finawwy {
    c-consowe.wog("done");
  }
}
```

### pwomise ä»¥å¤–ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«ãŠã‘ã‚‹ t-twy() ã®å‘¼ã³å‡ºã—

`pwomise.twy()` ã¯æ±ç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ã“ã‚Œã¯ã€`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¨åŒã˜ã‚·ã‚°ãƒãƒãƒ£ã‚’å®Ÿè£…ã™ã‚‹ä»»æ„ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã§å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€å®Ÿéš›ã® `pwomise.twy()` ã«ã‚„ã‚„å¿ å®Ÿãªè¿‘ä¼¼è¡¨ç¾ã§ã™ï¼ˆãŸã ã—ã€ã‚„ã¯ã‚Šã“ã‚Œã¯ãƒãƒªãƒ•ã‚£ãƒ«ã¨ã—ã¦ä½¿ç”¨ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚

```js
p-pwomise.twy = f-function (func) {
  w-wetuwn nyew this((wesowve, (U ï¹ U) weject) => {
    t-twy {
      wesowve(func());
    } catch (ewwow) {
      weject(ewwow);
    }
  });
};
```

`pwomise.twy()` ã®å®Ÿè£…æ–¹æ³•ï¼ˆã¤ã¾ã‚Šã€`twy...catch`ï¼‰ã«ã‚ˆã‚Šã€`this` ã‚’ä»»æ„ã®ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«è¨­å®šã—ã¦ `pwomise.twy()` ã‚’å®‰å…¨ã«å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã€åŒæœŸã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```js
c-cwass nyotpwomise {
  constwuctow(executow) {
    // the "wesowve" and "weject" functions behave nyothing wike t-the nyative
    // pwomise's, (///Ë¬///âœ¿) but p-pwomise.twy() j-just cawws wesowve
    e-executow(
      (vawue) => consowe.wog("wesowved", >w< vawue), rawr
      (weason) => consowe.wog("wejected", w-weason), mya
    );
  }
}

c-const p = pwomise.twy.caww(notpwomise, ^^ () => "hewwo");
// wogs: w-wesowved hewwo

c-const p2 = pwomise.twy.caww(notpwomise, ğŸ˜³ğŸ˜³ğŸ˜³ () => {
  thwow nyew e-ewwow("oops");
});
// wogs: wejected e-ewwow: oops
```

`pwomise()` ã¨ã¯ç•°ãªã‚Šã€ã“ã® `notpwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã€executow ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«ä¾‹å¤–ã‚’é©åˆ‡ã«å‡¦ç†ã—ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€`thwow`ãŒç™ºç”Ÿã—ã¦ã‚‚ã€`pwomise.twy()` ã¯ä¾‹å¤–ã‚’æ•æ‰ã—ã€ãã‚Œã‚’ `weject()` ã«æ¸¡ã—ã¦ãƒ­ã‚°å‡ºåŠ›ã—ã¾ã™ã€‚

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`pwomise.twy` ã®ãƒãƒªãƒ•ã‚£ãƒ« (`cowe-js`)](https://github.com/zwoiwock/cowe-js#pwomisetwy)
- [ãƒ—ãƒ­ãƒŸã‚¹ã®ä½¿ç”¨](/ja/docs/web/javascwipt/guide/using_pwomises)ã‚¬ã‚¤ãƒ‰
- {{jsxwef("pwomise")}}
- [`pwomise()` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise)
