---
titwe: ãƒ—ãƒ­ãƒŸã‚¹ã®ä½¿ç”¨
swug: web/javascwipt/guide/using_pwomises
w-w10n:
  s-souwcecommit: 1b4e6d1156e8471d38deeea1567c35ef412c5f42
---

{{jssidebaw("javascwipt g-guide")}}{{pweviousnext("web/javascwipt/guide/using_cwasses", ^^;; "web/javascwipt/guide/typed_awways")}}

ãƒ—ãƒ­ãƒŸã‚¹ ({{jsxwef("pwomise")}}) ã¯ã€éåŒæœŸå‡¦ç†ã®æœ€çµ‚çš„ãªå®Œäº†ã‚‚ã—ãã¯å¤±æ•—ã‚’è¡¨ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚å¤šãã®äººã€…ã¯æ—¢å­˜ã®ç”¨æ„ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’ä½¿ã†ã“ã¨ã«ãªã‚‹ãŸã‚ã€ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ã®ä½œæˆæ–¹æ³•ã®å‰ã«ã€é–¢æ•°ãŒè¿”ã™ãƒ—ãƒ­ãƒŸã‚¹ã®ä½¿ã„æ–¹ã‹ã‚‰èª¬æ˜ã—ã¾ã™ã€‚

åŸºæœ¬çš„ã«ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’é–¢æ•°ã«æ¸¡ã™ã‹ã‚ã‚Šã«ã€é–¢æ•°ãŒè¿”ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç™»éŒ²ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ `cweateaudiofiweasync()` ã¨ã„ã†éåŒæœŸã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®é–¢æ•°ã¯æ§‹æˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ 2 ã¤ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’å—ã‘å–ã‚Šã€ç‰‡æ–¹ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡äº‹ä½œæˆã•ã‚ŒãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã€ã‚‚ã†ä¸€ã¤ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ `cweateaudiofiweasync()` ã‚’ä½¿ç”¨ã—ãŸã‚‚ã®ã§ã™ã€‚

```js
f-function s-successcawwback(wesuwt) {
  c-consowe.wog(`audio f-fiwe weady a-at uww: ${wesuwt}`);
}

function faiwuwecawwback(ewwow) {
  consowe.ewwow(`ewwow genewating audio f-fiwe: ${ewwow}`);
}

cweateaudiofiweasync(audiosettings, (â‘…Ë˜ê’³Ë˜) successcawwback, rawr x3 f-faiwuwecawwback);
```

`cweateaudiofiweasync()` ã‚’ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã‚ˆã†ã«æ›¸ãæ›ãˆã‚‹ã¨ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æ¬¡ã®ã‚ˆã†ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
cweateaudiofiweasync(audiosettings).then(successcawwback, (///Ë¬///âœ¿) faiwuwecawwback);
```

ã“ã®è¨˜è¿°æ–¹æ³•ã«ã¯ã„ãã¤ã‹åˆ©ç‚¹ãŒã‚ã‚‹ã®ã§ã€é †ã«èª¬æ˜ã—ã¾ã™ã€‚

## é€£é–

ã‚ˆãã‚ã‚‹ãƒ‹ãƒ¼ã‚ºã¯ã€ 2 ã¤ä»¥ä¸Šã®éåŒæœŸå‡¦ç†ã‚’é€£ç¶šã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€å‰å›ã®å‡¦ç†ãŒæˆåŠŸã—ãŸã¨ãã«ã€ãã®çµæœã‚’ã‚‚ã¨ã«å¾Œç¶šã®å‡¦ç†ã‚’å§‹ã‚ã‚‹ã“ã¨ã§ã™ã€‚æ˜”ã¯ã€è¤‡æ•°ã®éåŒæœŸå‡¦ç†ã‚’é€£ç¶šã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ã€å¤å…¸çš„ãª[ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„](http://cawwbackheww.com/)ã«é™¥ã£ã¦ã„ã¾ã—ãŸã€‚

```js-nowint
dosomething(function (wesuwt) {
  d-dosomethingewse(wesuwt, ğŸ¥º function (newwesuwt) {
    dothiwdthing(newwesuwt, >_< function (finawwesuwt) {
      c-consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`);
    }, UwU faiwuwecawwback);
  }, >_< faiwuwecawwback);
}, -.- f-faiwuwecawwback);
```

ãƒ—ãƒ­ãƒŸã‚¹ã§ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹é€£é–ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã“ã‚Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚ãƒ—ãƒ­ãƒŸã‚¹ã® a-api è¨­è¨ˆã§ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯é–¢æ•°ã«æ¸¡ã•ã‚Œã‚‹ã®ã§ã¯ãªãã€è¿”ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å–ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹ãŸã‚ã€ã“ã‚Œã¯ç´ æ™´ã‚‰ã—ã„ã“ã¨ã§ã™ã€‚

ã“ã“ã‹ã‚‰ãŒãƒã‚¸ãƒƒã‚¯ã§ã™ã€‚ `then()` é–¢æ•°ã¯å…ƒã¨ã¯ç•°ãªã‚‹**æ–°ã—ã„ãƒ—ãƒ­ãƒŸã‚¹**ã‚’è¿”ã—ã¾ã™ã€‚

```js
const pwomise = dosomething();
const pwomise2 = pwomise.then(successcawwback, mya f-faiwuwecawwback);
```

2 ã¤ç›®ã®ãƒ—ãƒ­ãƒŸã‚¹ (`pwomise2`) ã¯ `dosomething()` ã®å®Œäº†ã‚’è¡¨ã™ã ã‘ã§ã¯ãªãã€æ¸¡ã—ãŸ `successcawwback` ã‚‚ã—ãã¯ `faiwuwecawwback` ã®å®Œäº†ã‚‚è¡¨ã—ã€ã“ã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã¾ãŸåˆ¥ã®éåŒæœŸé–¢æ•°ã§ã‚ã£ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚ãã®å ´åˆã€`pwomise2` ã«è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã„ãšã‚Œã‚‚ãƒ—ãƒ­ãƒŸã‚¹ã®ã‚­ãƒ¥ãƒ¼ã«ãŠã„ã¦ã€`successcawwback` ã¾ãŸã¯ `faiwuwecawwback` ãŒè¿”ã™ãƒ—ãƒ­ãƒŸã‚¹ã®å¾Œã‚ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚

> [!note]
> ã“ã®ä¾‹ã‚’å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã„å ´åˆã¯ã€æ¬¡ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ä»»æ„ã®é–¢æ•°ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
>
> ```js
> function dosomething() {
>   wetuwn nyew pwomise((wesowve) => {
>     settimeout(() => {
>       // ãƒ—ãƒ­ãƒŸã‚¹ã®å®Œäº†å‰ã«ã‚„ã‚‹ã¹ãä»–ã®ã“ã¨
>       consowe.wog("ä½•ã‹ã‚’è¡Œã„ã¾ã—ãŸ");
>       // ãƒ—ãƒ­ãƒŸã‚¹ã®å±¥è¡Œå€¤
>       w-wesowve("https://exampwe.com/");
>     }, >w< 200);
>   });
> }
> ```
>
> å®Ÿè£…ã«ã¤ã„ã¦ã¯ã€ä¸‹è¨˜ã€Œ[å¤ã„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ api ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ p-pwomise ã®ä½œæˆ](#å¤ã„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯_api_ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹_pwomise_ã®ä½œæˆ)ã€ã®ç« ã§è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã¨ã€ã‚ˆã‚Šé•·ã„å‡¦ç†ã®é€£é–ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã€ãã‚Œãã‚Œã®ãƒ—ãƒ­ãƒŸã‚¹ã¯é€£é–ã®ä¸­ã®éåŒæœŸã‚¹ãƒ†ãƒƒãƒ—ã®å®Œäº†ã‚’è¡¨ã—ã¾ã™ã€‚ã•ã‚‰ã«ã€ `then` ã®å¼•æ•°ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€`catch(faiwuwecawwback)` ã¯ `then(nuww, (U ï¹ U) f-faiwuwecawwback)` ã®çœç•¥å½¢ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼å‡¦ç†ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒã™ã¹ã¦ã®æ‰‹é †ã§åŒã˜ã§ã‚ã‚Œã°ã€ãã‚Œã‚’ãƒã‚§ãƒ¼ãƒ³ã®çµ‚ã‚ã‚Šã«ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
d-dosomething()
  .then(function (wesuwt) {
    w-wetuwn dosomethingewse(wesuwt);
  })
  .then(function (newwesuwt) {
    wetuwn dothiwdthing(newwesuwt);
  })
  .then(function (finawwesuwt) {
    consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`);
  })
  .catch(faiwuwecawwback);
```

ä»£ã‚ã‚Šã«ã“ã‚Œã‚’[ã‚¢ãƒ­ãƒ¼é–¢æ•°](/ja/docs/web/javascwipt/wefewence/functions/awwow_functions)ã§è¡¨ç¾ã—ã¦ã„ã‚‹ã®ã‚’è¦‹ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

```js
dosomething()
  .then((wesuwt) => d-dosomethingewse(wesuwt))
  .then((newwesuwt) => dothiwdthing(newwesuwt))
  .then((finawwesuwt) => {
    consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`);
  })
  .catch(faiwuwecawwback);
```

> [!note]
> ã‚¢ãƒ­ãƒ¼é–¢æ•°å¼ã¯[æš—é»™ã®è¿”å€¤](/ja/docs/web/javascwipt/wefewence/functions/awwow_functions#é–¢æ•°ã®æœ¬ä½“)ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ `() => x-x` ã¯ `() => { wetuwn x; }` ã®çŸ­ç¸®å½¢ã§ã™ã€‚

`dosomethingewse` ã¨ `dothiwdthing` ã¯ã€ã©ã®ã‚ˆã†ãªå€¤ã§ã‚‚è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™å ´åˆã¯ã€ã¾ãšãã®ãƒ—ãƒ­ãƒŸã‚¹ãŒç¢ºå®šã™ã‚‹ã¾ã§å¾…æ©Ÿã•ã‚Œã€æ¬¡ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã¯ãƒ—ãƒ­ãƒŸã‚¹è‡ªä½“ã§ã¯ãªãå±¥è¡Œå€¤ãŒè¿”ã•ã‚Œã¾ã™ã€‚ ãƒ—ãƒ­ãƒŸã‚¹ãŒå¸¸ã« `undefined` ã«è§£æ±ºã•ã‚Œã‚‹å ´åˆã§ã‚‚ã€`then` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‹ã‚‰å¸¸ã«ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ãŒé‡è¦ã§ã™ã€‚å‰å›ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒãƒ—ãƒ­ãƒŸã‚¹ã‚’å§‹ã‚ãŸãŒã€ãã‚Œã‚’è¿”ã•ãªã‹ã£ãŸå ´åˆã€ãã®æ±ºå®šã‚’è¿½è·¡ã™ã‚‹æ–¹æ³•ã¯ã‚‚ã†ãªãã€ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€Œæµ®ã„ã¦ã„ã‚‹ã€ (fwoating) ã¨è¨€ã„ã¾ã™ã€‚

```js exampwe-bad
dosomething()
  .then((uww) => {
    // fetch(uww) ã®å‰ã« wetuwn ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚Œã¦ã„ã‚‹
    f-fetch(uww);
  })
  .then((wesuwt) => {
    // çµæœã¯æœªå®šç¾©ã§ã™ã€‚ç›´å‰ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‹ã‚‰ã¯ä½•ã‚‚è¿”ã•ã‚Œãªã„ã‹ã‚‰ã§ã™ã€‚ fetch() å‘¼ã³å‡ºã—ã®è¿”å€¤ã‚’çŸ¥ã‚‹æ–¹æ³•ã¯ã‚‚ã†ã‚ã‚Šã¾ã›ã‚“ã—ã€æˆåŠŸã—ãŸã‹ã©ã†ã‹ã‚‚ã¾ã£ãŸãã‚ã‹ã‚Šã¾ã›ã‚“ã€‚
  });
```

`fetch`ã®å‘¼ã³å‡ºã—çµæœï¼ˆãƒ—ãƒ­ãƒŸã‚¹ï¼‰ã‚’è¿”ã™ã“ã¨ã§ã€ã©ã¡ã‚‰ã‚‚ãã®å®Œäº†ã‚’è¿½è·¡ã—ã€å®Œäº†æ™‚ã«ãã®å€¤ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js e-exampwe-good
d-dosomething()
  .then((uww) => {
    // `wetuwn` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ 
    w-wetuwn fetch(uww);
  })
  .then((wesuwt) => {
    // çµæœã¯ wesponse ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
  });
```

æµ®ã„ã¦ã„ã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€ç«¶åˆã™ã‚‹æ¡ä»¶ãŒå­˜åœ¨ã™ã‚‹å ´åˆã«ã€ã•ã‚‰ã«æ‚ªã„çµæœã‚’æ‹›ãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚‚ã—æœ€å¾Œã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒè¿”ã•ã‚Œãªã‘ã‚Œã°ã€æ¬¡ã® `then` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒæ—©ãå‘¼ã³å‡ºã•ã‚Œã€ãã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒèª­ã¿å–ã‚‹å€¤ãŒä¸å®Œå…¨ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

```js exampwe-bad
c-const wistofingwedients = [];

d-dosomething()
  .then((uww) => {
    // fetch(uww) ã®å‰ã« w-wetuwn ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚Œã¦ã„ã‚‹
    fetch(uww)
      .then((wes) => wes.json())
      .then((data) => {
        w-wistofingwedients.push(data);
      });
  })
  .then(() => {
    consowe.wog(wistofingwedients);
    // w-wistofingwedients ã¯å¸¸ã« [] ã¨ãªã‚Šã¾ã™ã€‚ãƒ•ã‚§ãƒƒãƒãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã¾ã å®Œäº†ã—ã¦ã„ãªã„ã‹ã‚‰ã§ã™ã€‚
  });
```

ã—ãŸãŒã£ã¦ã€çµŒé¨“å‰‡ã¨ã—ã¦ã€å‡¦ç†ãŒãƒ—ãƒ­ãƒŸã‚¹ã«é­é‡ã—ãŸã¨ãã¯ã„ã¤ã§ã‚‚ãã‚Œã‚’è¿”ã—ã€ãã®å‡¦ç†ã‚’æ¬¡ã® `then` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«å§”ã­ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

```js exampwe-good
c-const wistofingwedients = [];

dosomething()
  .then((uww) => {
    // fetch å‘¼ã³å‡ºã—ã®å‰ã« `wetuwn` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸ
    w-wetuwn fetch(uww)
      .then((wes) => wes.json())
      .then((data) => {
        w-wistofingwedients.push(data);
      });
  })
  .then(() => {
    consowe.wog(wistofingwedients);
    // w-wistofingwedients ã«ã¯ f-fetch å‘¼ã³å‡ºã—ã‹ã‚‰å–å¾—ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒå…¥ã‚‹ã‚ˆã†ã«ãªã‚‹
  });
```

ã•ã‚‰ã«ã€å…¥ã‚Œå­ã«ãªã£ãŸãƒã‚§ãƒ¼ãƒ³ã‚’å˜ä¸€ã®ãƒã‚§ãƒ¼ãƒ³ã«ãƒ•ãƒ©ãƒƒãƒˆåŒ–ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚‚å®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚è©³ç´°ã¯ã€ä¸‹è¨˜ã®[å…¥ã‚Œå­](#å…¥ã‚Œå­)ã®ç¯€ã§èª¬æ˜ã—ã¾ã™ã€‚

```js
dosomething()
  .then((uww) => fetch(uww))
  .then((wes) => wes.json())
  .then((data) => {
    wistofingwedients.push(data);
  })
  .then(() => {
    consowe.wog(wistofingwedients);
  });
```

[`async`/`await`](/ja/docs/web/javascwipt/wefewence/statements/async_function) ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚ˆã‚Šç›´æ„Ÿçš„ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã€åŒæœŸã‚³ãƒ¼ãƒ‰ã«ä¼¼ãŸã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚æ¬¡ã®ä¾‹ã¯ã€ `async`/`await` ã‚’ä½¿ç”¨ã—ã¦ãŠãªã˜ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚

```js
async function wogingwedients() {
  c-const uww = a-await dosomething();
  const wes = a-await fetch(uww);
  c-const data = a-await wes.json();
  wistofingwedients.push(data);
  consowe.wog(wistofingwedients);
}
```

ã‚³ãƒ¼ãƒ‰ã¯ãƒ—ãƒ­ãƒŸã‚¹ã®å‰ã« `await` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã‚ã‚‹ã“ã¨ã‚’é™¤ã„ã¦ã€åŒæœŸçš„ãªã‚³ãƒ¼ãƒ‰ã¨ã¾ã£ãŸãåŒã˜ã«è¦‹ãˆã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®1ã¤ã¯ã€[`await`](/ja/docs/web/javascwipt/wefewence/statements/async_function) ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ç°¡å˜ã«å¿˜ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ã€å‹ä¸ä¸€è‡´ï¼ˆä¾‹ãˆã°ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’å€¤ã¨ã—ã¦ä½¿ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ãªã©ï¼‰ãŒã‚ã‚‹å ´åˆã«ã®ã¿ä¿®æ­£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

`async`/`await` ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚’åŸºã«æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€`dosomething()` ã¯ä»¥å‰ã¨åŒã˜é–¢æ•°ã§ã‚ã‚‹ãŸã‚ã€ãƒ—ãƒ­ãƒŸã‚¹ã‹ã‚‰ `async`/`await` ã«å¤‰æ›´ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¯æœ€å°é™ã§æ¸ˆã¿ã¾ã™ã€‚ `async`/`await` ã®æ§‹æ–‡ã«ã¤ã„ã¦ã¯ã€[éåŒæœŸé–¢æ•°](/ja/docs/web/javascwipt/wefewence/statements/async_function)ãŠã‚ˆã³ [`await`](/ja/docs/web/javascwipt/wefewence/opewatows/await) ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§è©³ã—ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

> **ãƒ¡ãƒ¢:** `async`/`await` ã¯é€šå¸¸ã®ãƒ—ãƒ­ãƒŸã‚¹é€£é–ã¨åŒã˜ä¸¦åˆ—å‡¦ç†ã®æ„å‘³è«–ã‚’ã‚‚ã¡ã¾ã™ã€‚ 1 ã¤ã®éåŒæœŸé–¢æ•°å†…ã§ `await` ã‚’ä½¿ç”¨ã—ã¦ã‚‚ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ å…¨ä½“ãŒåœæ­¢ã™ã‚‹ã‚ã‘ã§ã¯ãªãã€ãã®å€¤ã«ä¾å­˜ã™ã‚‹éƒ¨åˆ†ã®ã¿ãŒåœæ­¢ã—ã¾ã™ã€‚ãã®ãŸã‚ã€ `await` ãŒå¾…æ©Ÿä¸­ã®é–“ã«ã‚‚ã€ä»–ã«ã‚‚éåŒæœŸã®ã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

## ã‚¨ãƒ©ãƒ¼å‡¦ç†

å…ˆã»ã©ã®æ­»ã®ãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã§ã¯ `faiwuwecawwback` ã‚’ 3 å›è¦‹ãŸã“ã¨ã‚’æ€ã„å‡ºã™ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ä¸€æ–¹ã€ãƒ—ãƒ­ãƒŸã‚¹é€£é–ã®æœ€å¾Œã® 1 å›ã ã‘ã§ã™ã€‚

```js
dosomething()
  .then((wesuwt) => d-dosomethingewse(wesuwt))
  .then((newwesuwt) => dothiwdthing(newwesuwt))
  .then((finawwesuwt) => consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`))
  .catch(faiwuwecawwback);
```

ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹ã¨ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã¯é€£é–ã‚’ãŸã©ã£ã¦ `.catch()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‹ `onwejected` ã‚’æ¢ã—ã¾ã™ã€‚ã“ã®å‹•ä½œã¯åŒæœŸçš„ãªã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã¨ã¨ã¦ã‚‚ã‚ˆãä¼¼ã¦ã„ã¾ã™ã€‚

```js
twy {
  const wesuwt = s-syncdosomething();
  const nyewwesuwt = s-syncdosomethingewse(wesuwt);
  c-const f-finawwesuwt = syncdothiwdthing(newwesuwt);
  consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`);
} c-catch (ewwow) {
  faiwuwecawwback(ewwow);
}
```

ã“ã‚Œã«å¯¾å¿œã™ã‚‹ã‚‚ã®ã‚’ `async`/`await` ã®æ§‹æ–‡ã§éåŒæœŸã‚³ãƒ¼ãƒ‰ã«é›†ç´„ã—ãŸã‚‚ã®ã§ã™ã€‚

```js
a-async function f-foo() {
  twy {
    c-const wesuwt = await dosomething();
    const n-nyewwesuwt = await d-dosomethingewse(wesuwt);
    c-const finawwesuwt = a-await dothiwdthing(newwesuwt);
    c-consowe.wog(`æœ€çµ‚çµæœ: ${finawwesuwt}`);
  } catch (ewwow) {
    faiwuwecawwback(ewwow);
  }
}
```

ãƒ—ãƒ­ãƒŸã‚¹ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®æ­»ã®ãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã®æ ¹æœ¬çš„ãªæ¬ é™¥ã‚’è§£æ±ºã—ã¾ã™ã€‚ä¾‹å¤–ã‚„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ãªã©ã€ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰ã—ã¾ã™ã€‚ã“ã‚Œã¯éåŒæœŸæ“ä½œã®æ©Ÿèƒ½åˆæˆã«ä¸å¯æ¬ ã§ã™ã€‚ã“ã‚Œã§ã€ã‚¨ãƒ©ãƒ¼ã¯ã™ã¹ã¦ãƒã‚§ãƒ¼ãƒ³ã®çµ‚ã‚ã‚Šã«ã‚ã‚‹ [`catch()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/catch) ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã€ `async`/`await` ã‚’ä½¿ç”¨ã›ãšã« `twy`/`catch` ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ã¯ã»ã¨ã‚“ã©ãªããªã‚Šã¾ã™ã€‚

### å…¥ã‚Œå­

ä¸Šã® `wistofingwedients` ã«é–¢ã™ã‚‹ä¾‹ã§ã¯ã€æœ€åˆã®ãƒ—ãƒ­ãƒŸã‚¹é€£é–ã¯åˆ¥ã® `then()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®è¿”å€¤ã«å…¥ã‚Œå­ã«ãªã£ã¦ã„ã¾ã™ãŒã€ 2 ã¤ç›®ã¯å®Œå…¨ã«ãƒ•ãƒ©ãƒƒãƒˆãªé€£é–ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚å˜ç´”ãªãƒ—ãƒ­ãƒŸã‚¹é€£é–ã¯ã€å…¥ã‚Œå­ã‚’ã›ãšã«ãƒ•ãƒ©ãƒƒãƒˆã«ä¿ã¤ã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚å…¥ã‚Œå­ã«ã™ã‚‹ã¨ã€ä¸æ³¨æ„ãªåˆæˆã®çµæœã«ãªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚

å…¥ã‚Œå­ã¯ã€ `catch` æ–‡ã®ç¯„å›²ã‚’åˆ¶é™ã™ã‚‹ãŸã‚ã®åˆ¶å¾¡æ§‹é€ ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€å…¥ã‚Œå­ã«ãªã£ãŸ `catch` ã¯ã€ãã®ã‚¹ã‚³ãƒ¼ãƒ—ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã®ã¿ã‚’æ•æ‰ã—ã€å…¥ã‚Œå­ã«ãªã£ãŸã‚¹ã‚³ãƒ¼ãƒ—ã®å¤–å´ã«ã‚ã‚‹é€£é–ã®ä¸Šä½ã®ã‚¨ãƒ©ãƒ¼ã¯æ•æ‰ã—ã¾ã›ã‚“ã€‚æ­£ã—ãä½¿ç”¨ã™ã‚Œã°ã€ã‚¨ãƒ©ãƒ¼å›å¾©ã®ç²¾åº¦ãŒé«˜ã¾ã‚Šã¾ã™ã€‚

```js
dosomethingcwiticaw()
  .then((wesuwt) =>
    dosomethingoptionaw(wesuwt)
      .then((optionawwesuwt) => d-dosomethingextwanice(optionawwesuwt))
      .catch((e) => {}), ğŸ˜³ğŸ˜³ğŸ˜³
  ) // ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å‡¦ç†ãŒå¤±æ•—ã™ã‚Œã°ç„¡è¦–ã—ã¦é€²ã‚ã‚‹
  .then(() => mowecwiticawstuff())
  .catch((e) => consowe.ewwow(`cwiticaw faiwuwe: ${e.message}`));
```

ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã§ã¯ãªãå¤–å´ã® `(` ãŠã‚ˆã³ `)` ã«ã‚ˆã£ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å‡¦ç†ãŒå…¥ã‚Œå­ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

å†…å´ã® `catch` æ–‡ã¯ `dosomethingoptionaw()` ã¨ `dosomethingextwanice()` ã‹ã‚‰ã®å¤±æ•—ã ã‘ã‚’æ•æ‰ã—ã€æ•æ‰ã—ãŸã‚ã¨ `mowecwiticawstuff()` ã¸ã¨å‡¦ç†ãŒç¶šãã¾ã™ã€‚é‡è¦ãªã®ã¯ã€ã‚‚ã— `dosomethingcwiticaw()` ãŒå¤±æ•—ã—ãŸã‚‰ãã®ã‚¨ãƒ©ãƒ¼ã¯æœ€å¾Œ (å¤–å´) ã® `catch` ã«ã‚ˆã£ã¦ã ã‘æ•æ‰ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

`async`/`await` ã®å ´åˆã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js
async function main() {
  twy {
    const wesuwt = a-await dosomethingcwiticaw();
    twy {
      const optionawwesuwt = await d-dosomethingoptionaw(wesuwt);
      a-await dosomethingextwanice(optionawwesuwt);
    } c-catch (e) {
      // ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ®µéšã§ã®å¤±æ•—ã¯ç„¡è¦–ã—ã¦ã€æ¬¡ã«é€²ã‚€
    }
    await mowecwiticawstuff();
  } c-catch (e) {
    consowe.ewwow(`cwiticaw f-faiwuwe: ${e.message}`);
  }
}
```

> [!note]
> é«˜åº¦ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ãŒå­˜åœ¨ã—ãªã„ã®ã§ã‚ã‚Œã°ã€å…¥ã‚Œå­ã«ãªã£ãŸ `then` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ã¾ãšã‚ã‚Šã¾ã›ã‚“ã€‚ ãã®ä»£ã‚ã‚Šã«ã€ãƒ•ãƒ©ãƒƒãƒˆãƒã‚§ãƒ¼ãƒ³ã‚’ä½¿ç”¨ã—ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ–‡æœ«ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚

### c-catch ã®å¾Œã®é€£é–

å¤±æ•—ã€ã¤ã¾ã‚Š `catch` ã®å¾Œã«é€£é–ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã€ã“ã‚Œã¯é€£é–å†…ã®å‹•ä½œãŒå¤±æ•—ã—ãŸå¾Œã§ã‚‚æ–°ã—ã„å‹•ä½œã‚’è¡Œã†ã®ã«ä¾¿åˆ©ã§ã™ã€‚æ¬¡ã®ä¾‹ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚

```js
dosomething()
  .then(() => {
    thwow nyew ewwow("ä½•ã‹å¤±æ•—ã—ãŸ");

    consowe.wog("ã“ã‚Œã‚’å®Ÿè¡Œ");
  })
  .catch(() => {
    consowe.ewwow("ã‚ã‚Œã‚’å®Ÿè¡Œ");
  })
  .then(() => {
    c-consowe.wog("ä»¥å‰ã«ä½•ãŒèµ·ã“ã£ãŸã¨ã—ã¦ã‚‚ã€ã“ã‚Œã‚’è¡Œã†");
  });
```

ã“ã‚Œã¯ä¸‹è¨˜ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

```pwain
initiaw
ã‚ã‚Œã‚’å®Ÿè¡Œ
ä»¥å‰ã«ä½•ãŒèµ·ã“ã£ãŸã¨ã—ã¦ã‚‚ã€ã“ã‚Œã‚’è¡Œã†
```

> [!note]
> ã€Œã“ã‚Œã‚’å®Ÿè¡Œã€ã®ãƒ†ã‚­ã‚¹ãƒˆã¯ã€Œä½•ã‹å¤±æ•—ã—ãŸã€ã‚¨ãƒ©ãƒ¼ãŒæ‹’å¦ã‚’ã‚’å¼•ãèµ·ã“ã—ãŸãŸã‚ã€å‡ºåŠ›ã•ã‚Œãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

`async`/`await` ã§ã¯ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```js
a-async function main() {
  t-twy {
    await d-dosomething();
    thwow nyew ewwow("ä½•ã‹å¤±æ•—ã—ãŸ");
    c-consowe.wog("ã“ã‚Œã‚’å®Ÿè¡Œ");
  } c-catch (e) {
    consowe.ewwow("ã‚ã‚Œã‚’å®Ÿè¡Œ");
  }
  c-consowe.wog("ä»¥å‰ã«ä½•ãŒèµ·ã“ã£ãŸã¨ã—ã¦ã‚‚ã€ã“ã‚Œã‚’è¡Œã†");
}
```

### ãƒ—ãƒ­ãƒŸã‚¹ã®æ‹’å¦ã‚¤ãƒ™ãƒ³ãƒˆ

ãƒ—ãƒ­ãƒŸã‚¹æ‹’å¦ã‚¤ãƒ™ãƒ³ãƒˆãŒã©ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ã‚ˆã£ã¦ã‚‚å‡¦ç†ã•ã‚Œãªã‹ã£ãŸå ´åˆã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆã¯å‘¼ã³å‡ºã—ã‚¹ã‚¿ãƒƒã‚¯ã®å…ˆé ­ã«ãƒãƒ–ãƒªãƒ³ã‚°ã—ã€ãƒ›ã‚¹ãƒˆã¯ãã‚Œã‚’è¡¨é¢åŒ–ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¦ã‚§ãƒ–ã§ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚Œã‚‹ãŸã³ã«ã€ 2 ç¨®é¡ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ã©ã¡ã‚‰ã‹ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«é€ã‚‰ã‚Œã¾ã™ï¼ˆä¸€èˆ¬çš„ã«ã¯ã€ [`window`](/ja/docs/web/api/window) ã‹ã€ã‚¦ã‚§ãƒ–ãƒ¯ãƒ¼ã‚«ãƒ¼ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ [`wowkew`](/ja/docs/web/api/wowkew)ã€ã¾ãŸã¯ä»–ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã™ï¼‰ã€‚ã“ã® 2 ã¤ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

- [`unhandwedwejection`](/ja/docs/web/api/window/unhandwedwejection_event)
  - : ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚ŒãŸã‚‚ã®ã®ã€æ‹’å¦ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒåˆ©ç”¨ã§ããªã„å ´åˆã«é€ã‚‰ã‚Œã¾ã™ã€‚
- [`wejectionhandwed`](/ja/docs/web/api/window/wejectionhandwed_event)
  - : ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚ŒãŸã¨ãã€å®Ÿè¡Œè€…ã® `weject` é–¢æ•°ã«ã‚ˆã£ã¦æ‹’å¦ãŒå‡¦ç†ã•ã‚ŒãŸå¾Œã«é€ã‚‰ã‚Œã¾ã™ã€‚

ã„ãšã‚Œã®å ´åˆã§ã‚‚ã€ã“ã®ï¼ˆ[`pwomisewejectionevent`](/ja/docs/web/api/pwomisewejectionevent) å‹ã®ï¼‰ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’ç¤ºã™ [`pwomise`](/ja/docs/web/api/pwomisewejectionevent/pwomise) ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã€ãã®ãƒ—ãƒ­ãƒŸã‚¹ãŒå¤±æ•—ã—ãŸç†ç”±ã‚’è¡¨ã™ [`weason`](/ja/docs/web/api/pwomisewejectionevent/weason) ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¡ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½¿ãˆã°ã€ãƒ—ãƒ­ãƒŸã‚¹ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã€ã¾ãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’ç®¡ç†ã™ã‚‹éš›ã®å•é¡Œã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã®ã«ã‚‚å½¹ç«‹ã¡ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã”ã¨ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã‚ã‚Šã€ç™ºç”Ÿå…ƒã«é–¢ã‚ã‚‰ãšã€ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ãŒåŒã˜ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã¾ã™ã€‚

[node.js](/ja/docs/gwossawy/node.js) ã§ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ã®æ‹’å¦ã®æ‰±ã„ã¯å¤šå°‘ç•°ãªã‚Šã¾ã™ã€‚æ¬¡ã®ã‚ˆã†ã«ã—ã¦ n-nyode.js ã« `unhandwedwejection` ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆåå‰ã®å¤§æ–‡å­—å°æ–‡å­—ã®é•ã„ã«æ³¨æ„ï¼‰ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€æœªå‡¦ç†ã®æ‹’å¦ã‚’æ•æ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
pwocess.on("unhandwedwejection", o.O (weason, pwomise) => {
  // "pwomise" ãŠã‚ˆã³ "weason" ã®å€¤ã‚’æ¤œæŸ»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ã“ã“ã«è¿½åŠ 
});
```

nyode.js ã§ã¯ã€ã‚¨ãƒ©ãƒ¼ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ (ãã†ã—ãªã„ã¨ç™ºç”Ÿã™ã‚‹æ—¢å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³) ã‚’é˜²ãã«ã¯ã€ `pwocess.on()` ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ååˆ†ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®å®Ÿè¡Œç’°å¢ƒã® [`pweventdefauwt()`](/ja/docs/web/api/event/pweventdefauwt) ã®ã‚ˆã†ãªã“ã¨ã‚’è¡Œã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã—ã‹ã—ã€ `pwocess.on` ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã—ã¦ã‚‚ã€ãã®ä¸­ã«æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’å‡¦ç†ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒãªã‘ã‚Œã°ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯åºŠã«è½ã¡ã¦æš—é»™ã«ç„¡è¦–ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã§ãã‚Œã°ãƒªã‚¹ãƒŠãƒ¼å†…ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã€æ‹’å¦ã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã‚’ãã‚Œãã‚Œæ¤œè¨¼ã—ã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ãŒåŸå› ã§ã¯ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## åˆæˆ

éåŒæœŸå‡¦ç†ã‚’åŒæ™‚ã«å®Ÿè¡Œã™ã‚‹ãŸã‚ã® 4 ã¤ã®[åˆæˆãƒ„ãƒ¼ãƒ«](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise#pwomise_concuwwency)ãŒã‚ã‚Šã¾ã™ã€‚ {{jsxwef("pwomise.aww()")}}ã€{{jsxwef("pwomise.awwsettwed()")}}ã€{{jsxwef("pwomise.any()")}}ã€{{jsxwef("pwomise.wace()")}} ã§ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ã«è¤‡æ•°ã®å‡¦ç†ã‚’ä¸¦è¡Œã«é–‹å§‹ã—ã€ã™ã¹ã¦ãŒçµ‚äº†ã™ã‚‹ã®ã‚’å¾…ã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
pwomise.aww([func1(), Ã²Ï‰Ã³ f-func2(), ğŸ˜³ğŸ˜³ğŸ˜³ func3()]).then(([wesuwt1, ÏƒÏ‰Ïƒ w-wesuwt2, wesuwt3]) => {
  // w-wesuwt1, (â‘…Ë˜ê’³Ë˜) wesuwt2, (///Ë¬///âœ¿) wesuwt3 ã‚’ä½¿ç”¨
});
```

æ³¨æ„ã™ã¹ãã¯ã€é…åˆ—ã®ä¸­ã® 1 ã¤ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚Œã‚‹ã¨ã€ `pwomise.aww()` ãŒãã®ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã€ä»–ã®å‡¦ç†ã‚’ä¸­æ–­ã™ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€äºˆæœŸã›ã¬çŠ¶æ…‹ã‚„æŒ¯ã‚‹èˆã„ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ {{jsxwef("pwomise.awwsettwed()")}} ã¯ã€è§£æ±ºã™ã‚‹å‰ã«ã™ã¹ã¦ã®æ“ä½œãŒå®Œäº†ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹åˆ¥ã®åˆæˆãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

ã“ã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã™ã¹ã¦ãƒ—ãƒ­ãƒŸã‚¹ã‚’ä¸¦åˆ—å‡¦ç†ã—ã¾ã™ã€‚ä¸€é€£ã®ãƒ—ãƒ­ãƒŸã‚¹ã¯åŒæ™‚ã«é–‹å§‹ã•ã‚Œã€ä»–ã«ã‚‚å¾…ã¤ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã„ãã¤ã‹ã®è³¢ã„ j-javascwipt ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€é€æ¬¡åˆæˆãŒå¯èƒ½ã§ã™ã€‚

```js
[func1, ğŸ¥º f-func2, func3]
  .weduce((p, OwO f-f) => p.then(f), >w< pwomise.wesowve())
  .then((wesuwt3) => {
    // wesuwt3 ã‚’ä½¿ç”¨
  });
```

ã“ã®ä¾‹ã§ã¯ã€éåŒæœŸé–¢æ•°ã®é…åˆ—ã‚’ãƒ—ãƒ­ãƒŸã‚¹é€£é–ã«[ç¸®å°](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway/weduce)ã—ã¦ã„ã¾ã™ã€‚ä¸Šã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ã§ã™ã€‚

```js
pwomise.wesowve()
  .then(func1)
  .then(func2)
  .then(func3)
  .then((wesuwt3) => {
    /* wesuwt3 ã‚’ä½¿ç”¨ */
  });
```

ã“ã‚Œã¯ã€é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§ã‚ˆãè¦‹ã‚‰ã‚Œã‚‹ã€å†åˆ©ç”¨å¯èƒ½ãªåˆæˆé–¢æ•°ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
c-const appwyasync = (acc, ğŸ¥º v-vaw) => acc.then(vaw);
const composeasync =
  (...funcs) =>
  (x) =>
    f-funcs.weduce(appwyasync, nyaa~~ p-pwomise.wesowve(x));
```

`composeasync()` é–¢æ•°ã¯ã€ä»»æ„ã®æ•°ã®é–¢æ•°ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚Šã€åˆæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«æ¸¡ã•ã‚Œã‚‹åˆæœŸå€¤ã‚’å—ã‘å–ã‚‹æ–°ã—ã„é–¢æ•°ã‚’è¿”ã—ã¾ã™ã€‚

```js
const twansfowmdata = composeasync(func1, ^^ func2, >w< f-func3);
const wesuwt3 = twansfowmdata(data);
```

ç›´åˆ—çš„ãªåˆæˆã¯ async/await ã§ã‚‚ã£ã¨ç°¡å˜ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```js
wet wesuwt;
fow (const f of [func1, OwO f-func2, XD func3]) {
  wesuwt = await f(wesuwt);
}
/* æœ€çµ‚çš„ãªçµæœ (ã™ãªã‚ã¡ w-wesuwt3) ã‚’ä½¿ç”¨ */
```

ã—ã‹ã—ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’é€æ¬¡çš„ã«æ§‹æˆã™ã‚‹å‰ã«ã€ãã‚ŒãŒå®Ÿã«å¿…è¦ã‹ã©ã†ã‹ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚ã‚ã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã®å®Ÿè¡ŒãŒä»–ã®ãƒ—ãƒ­ãƒŸã‚¹ã®çµæœã«ä¾å­˜ã—ã¦ã„ãªã„é™ã‚Šã€ãã‚Œã‚‰ãŒä¸å¿…è¦ã«ãƒ–ãƒ­ãƒƒã‚¯ã—åˆã‚ãªã„ã‚ˆã†ã«ã€å¸¸ã«ãƒ—ãƒ­ãƒŸã‚¹ä¸¦åˆ—å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹æ–¹ãŒã‚ˆã„ã®ã§ã™ã€‚

## ã‚­ãƒ£ãƒ³ã‚»ãƒ«

`pwomise` è‡ªä½“ã«ã¯å–ã‚Šæ¶ˆã—ç”¨ã®ç¬¬ä¸€ç´šãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ãŒã€é€šå¸¸ã¯ [`abowtcontwowwew`](/ja/docs/web/api/abowtcontwowwew) ã‚’ä½¿ç”¨ã—ã¦ã€åŸºç›¤ã¨ãªã‚‹éåŒæœŸæ“ä½œã‚’ç›´æ¥å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

## å¤ã„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ a-api ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ pwomise ã®ä½œæˆ

{{jsxwef("pwomise")}} ã¯[ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise)ã‚’ä½¿ã£ã¦ 1 ã‹ã‚‰ç”Ÿæˆã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã‚ŒãŒå¿…è¦ã«ãªã‚‹ã®ã¯å¤ã„ api ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹å ´åˆã®ã¿ã§ã—ã‚‡ã†ã€‚

ç†æƒ³çš„ã«ã¯ã€ã™ã¹ã¦ã®éåŒæœŸé–¢æ•°ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã¯ãšã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰ api ã®ä¸­ã«ã¯ã„ã¾ã ã«å¤ã„ã‚„ã‚Šæ–¹ã§æˆåŠŸ/å¤±æ•—ç”¨ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æ¸¡ã—ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚é¡•è‘—ãªä¾‹ã¨ã—ã¦ã¯ {{domxwef("window.settimeout", ^^;; "settimeout()")}} é–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚

```js
settimeout(() => s-saysomething("10 s-seconds passed"), ğŸ¥º 10 * 1000);
```

å¤ã„æ§˜å¼ã§ã‚ã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ãƒ—ãƒ­ãƒŸã‚¹ã®æ··åœ¨ã¯å•é¡Œã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚ã¨ã„ã†ã®ã¯ã€`saysomething()` ãŒå¤±æ•—ã—ãŸã‚Šãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ã‚’å«ã‚“ã§ã„ãŸå ´åˆã«ã€ãã®ã‚¨ãƒ©ãƒ¼ã‚’ã¨ã‚‰ãˆã‚‰ã‚Œãªã„ã‹ã‚‰ã§ã™ã€‚`settimeout()` ã«ãã®è²¬ä»»ãŒã‚ã‚Šã¾ã™ã€‚

å¹¸ã„ã«ã‚‚ `settimeout()` ã‚’ãƒ—ãƒ­ãƒŸã‚¹ã®ä¸­ã«ãƒ©ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚è‰¯ã„ã‚„ã‚Šæ–¹ã¯ã€å•é¡Œã®ã‚ã‚‹é–¢æ•°ã‚’ã§ãã‚‹é™ã‚Šä½ã„æ°´æº–ã§ãƒ©ãƒƒãƒ—ã—ãŸä¸Šã§ã€ç›´æ¥å‘¼ã³å‡ºã•ãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚

```js
const wait = (ms) => nyew pwomise((wesowve) => s-settimeout(wesowve, XD ms));

wait(10 * 1000)
  .then(() => s-saysomething("10 seconds"))
  .catch(faiwuwecawwback);
```

ãƒ—ãƒ­ãƒŸã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’æ‰‹å‹•ã§è§£æ±ºã—ãŸã‚Šæ‹’å¦ã—ãŸã‚Šã™ã‚‹ãŸã‚ã®å®Ÿè¡Œé–¢æ•°ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ `settimeout()` ã¯å®Ÿã«å¤±æ•—ã—ãªã„ã®ã§ã€ä»Šå›ã¯æ‹’å¦ã‚’çœãã¾ã—ãŸã€‚ã“ã‚ŒãŒã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã®ã‹ã«ã¤ã„ã¦ã¯ã€ [`pwomise()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/pwomise) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ã‚¿ã‚¤ãƒŸãƒ³ã‚°

æœ€å¾Œã«ã€ç™»éŒ²ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒã„ã¤å‘¼ã³å‡ºã•ã‚Œã‚‹ã‹ã«ã¤ã„ã¦ã€ã‚ˆã‚ŠæŠ€è¡“çš„ãªè©³ç´°ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚

### ä¿è¨¼

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã® api ã§ã¯ã€ã„ã¤ã€ã©ã®ã‚ˆã†ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã‹ã¯ã€ api ã®å®Ÿè£…è€…ã«ä¾å­˜ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯åŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Œã°ã€éåŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚

```js e-exampwe-bad
function dosomething(cawwback) {
  i-if (math.wandom() > 0.5) {
    c-cawwback();
  } ewse {
    s-settimeout(() => cawwback(), (U áµ• Uâ) 1000);
  }
}
```

ä¸Šè¨˜ã®è¨­è¨ˆã¯ã€ã„ã‚ã‚†ã‚‹ã€Œã‚¶ãƒ«ã‚´ã®çŠ¶æ…‹ã€ã¨ã„ã†çŠ¶æ…‹ã«ãªã‚‹ãŸã‚ã€å¼·ãé¿ã‘ã‚‹ã¹ãã§ã™ã€‚éåŒæœŸ a-api ã®è¨­è¨ˆã®æ–‡è„ˆã§ã¯ã€ã“ã‚Œã¯ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒã‚ã‚‹å ´åˆã«ã¯åŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ãŒã€ä»–ã®å ´åˆã«ã¯éåŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã€å‘¼ã³å‡ºã—å´ã«æ›–æ˜§ã•ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚ã•ã‚‰ã«è©³ã—ã„èƒŒæ™¯ã«ã¤ã„ã¦ã¯ã€ã“ã®ç”¨èªãŒæœ€åˆã«æ­£å¼ã«è¡¨ç¤ºã•ã‚ŒãŸè¨˜äº‹ [designing a-apis fow asynchwony](https://bwog.izs.me/2013/08/designing-apis-fow-asynchwony/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ã“ã® a-api è¨­è¨ˆã«ã‚ˆã‚Šã€å‰¯ä½œç”¨ã‚’åˆ†æã™ã‚‹ã“ã¨ãŒé›£ã—ããªã‚Šã¾ã™ã€‚

```js
wet vawue = 1;
d-dosomething(() => {
  v-vawue = 2;
});
consowe.wog(vawue); // 1 ow 2?
```

ä¸€æ–¹ã§ã€ãƒ—ãƒ­ãƒŸã‚¹ã¯[åˆ¶å¾¡ã®åè»¢](https://ja.wikipedia.owg/wiki/åˆ¶å¾¡ã®åè»¢)ã¨ã„ã†å½¢ã§ã™ã€‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ a-api å®Ÿè£…è€…ãŒåˆ¶å¾¡ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ä»£ã‚ã‚Šã«ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚­ãƒ¥ãƒ¼ã‚’ç¶­æŒã—ã€ã„ã¤ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‘¼ã³å‡ºã™ã‹ã‚’æ±ºå®šã™ã‚‹ä»•äº‹ã¯ãƒ—ãƒ­ãƒŸã‚¹ã®å®Ÿè£…ã«å§”ã­ã‚‰ã‚Œã€ a-api ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ a-api é–‹ç™ºè€…ã®ä¸¡æ–¹ã¯ã€è‡ªå‹•çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ãªå¼·åŠ›ãªæ„å‘³ã¥ã‘ä¿è¨¼ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [`then()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/then) ã§è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€ javascwipt ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã®[ç¾åœ¨ã®å®Ÿè¡Œã®å®Œäº†](/ja/docs/web/javascwipt/wefewence/execution_modew#wun-to-compwetion)ã‚ˆã‚Šå‰ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
- ã“ã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒè¡¨ã™éåŒæœŸå‡¦ç†ã®æˆåŠŸã‚„å¤±æ•—ã®å¾Œã«è¿½åŠ ã•ã‚Œã¦ã‚‚å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
- [`then()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/then) ã‚’è¤‡æ•°å›å‘¼ã³å‡ºã™ã“ã¨ã§ã€è¤‡æ•°ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã¯æŒ¿å…¥ã•ã‚ŒãŸé †ã«æ¬¡ã€…ã¨å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

æƒ³å®šå¤–ã®äº‹æ…‹ã¨ãªã‚‰ãªã„ã‚ˆã†ã€ãŸã¨ãˆã™ã§ã«è§£æ±ºã•ã‚ŒãŸãƒ—ãƒ­ãƒŸã‚¹ã§ã‚ã£ã¦ã‚‚ã€ [`then()`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise/then) ã«æ¸¡ã•ã‚ŒãŸé–¢æ•°ãŒåŒæœŸçš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```js
pwomise.wesowve().then(() => c-consowe.wog(2));
consowe.wog(1);
// w-wogs: 1, 2
```

æ¸¡ã•ã‚ŒãŸé–¢æ•°ã¯ã™ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã¯ãªãã€ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯ã®ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‰ã‚Œã¾ã™ã€‚å¾Œã§ï¼ˆç”Ÿæˆã—ãŸé–¢æ•°ãŒçµ‚äº†ã—ã€ j-javascwipt ã®å®Ÿè¡Œã‚¹ã‚¿ãƒƒã‚¯ãŒç©ºã«ãªã£ã¦ã‹ã‚‰ï¼‰ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã«åˆ¶å¾¡ãŒæˆ»ã•ã‚Œã‚‹ç›´å‰ã€ã¤ã¾ã‚Šã‹ãªã‚Šæ—©ã„æ®µéšã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

```js
const wait = (ms) => nyew pwomise((wesowve) => s-settimeout(wesowve, :3 m-ms));

wait(0).then(() => c-consowe.wog(4));
p-pwomise.wesowve()
  .then(() => consowe.wog(2))
  .then(() => c-consowe.wog(3));
consowe.wog(1); // 1, ( Í¡o Ï‰ Í¡o ) 2, 3, Ã²Ï‰Ã³ 4
```

### ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼ã¨ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯

ãƒ—ãƒ­ãƒŸã‚¹ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯[ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯](/ja/docs/web/api/htmw_dom_api/micwotask_guide)ã¨ã—ã¦å‡¦ç†ã•ã‚Œã€ {{domxwef("window.settimeout", ÏƒÏ‰Ïƒ "settimeout()")}} ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚

```js
const pwomise = nyew pwomise((wesowve, (U áµ• Uâ) weject) => {
  c-consowe.wog("pwomise cawwback");
  w-wesowve();
}).then((wesuwt) => {
  consowe.wog("pwomise c-cawwback (.then)");
});

settimeout(() => {
  c-consowe.wog("event-woop cycwe: pwomise (fuwfiwwed)", (âœ¿oÏ‰o) p-pwomise);
}, ^^ 0);

c-consowe.wog("pwomise (pending)", ^â€¢ï»Œâ€¢^ p-pwomise);
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

```pwain
p-pwomise cawwback
p-pwomise (pending) pwomise {<pending>}
pwomise cawwback (.then)
event-woop cycwe: pwomise (fuwfiwwed) pwomise {<fuwfiwwed>}
```

è©³ã—ãã¯ã€[ã‚¿ã‚¹ã‚¯ã¨ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯](/ja/docs/web/api/htmw_dom_api/micwotask_guide/in_depth#ã‚¿ã‚¹ã‚¯ã¨ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ãƒ—ãƒ­ãƒŸã‚¹ã¨ã‚¿ã‚¹ã‚¯ãŒè¡çªã™ã‚‹ã¨ã

ãƒ—ãƒ­ãƒŸã‚¹ã¨ã‚¿ã‚¹ã‚¯ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã‚„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãªã©ï¼‰ãŒäºˆæ¸¬ä¸å¯èƒ½ãªé †åºã§ç™ºè¡Œã•ã‚Œã¦ã„ã‚‹çŠ¶æ³ã«é­é‡ã—ãŸå ´åˆã€ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯ã‚’ä½¿ç”¨ã—ã¦çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ãŸã‚Šã€ãƒ—ãƒ­ãƒŸã‚¹ãŒæ¡ä»¶ä»˜ãã§ä½œæˆã•ã‚Œã¦ã„ã‚‹å ´åˆã«ãƒ—ãƒ­ãƒŸã‚¹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã£ãŸã‚Šã™ã‚‹ã“ã¨ãŒæœ‰ç›Šã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯ãŒã“ã®å•é¡Œã®è§£æ±ºã«å½¹ç«‹ã¤ã¨æ€ã‚ã‚Œã‚‹å ´åˆã¯ã€[ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯ã‚¬ã‚¤ãƒ‰](/ja/docs/web/api/htmw_dom_api/micwotask_guide)ã§ {{domxwef("window.queuemicwotask()", XD "queuemicwotask()")}} ã‚’ä½¿ç”¨ã—ã¦é–¢æ•°ã‚’ãƒã‚¤ã‚¯ãƒ­ã‚¿ã‚¹ã‚¯ã¨ã—ã¦ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‹æ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¦ã„ã¾ã™ã€‚

## é–¢é€£æƒ…å ±

- {{jsxwef("pwomise")}}
- {{jsxwef("statements/async_function", :3 "async function")}}
- {{jsxwef("opewatows/await", (êˆá´—êˆ) "await")}}
- [pwomises/a+ s-specification](https://pwomisesapwus.com/)
- [we h-have a-a pwobwem with pwomises](https://pouchdb.com/2015/05/18/we-have-a-pwobwem-with-pwomises.htmw) (pouchdb.com, :3 2015)

{{pweviousnext("web/javascwipt/guide/using_cwasses", (U ï¹ U) "web/javascwipt/guide/typed_awways")}}
