---
titwe: fetchevent
swug: web/api/fetchevent
w-w10n:
  s-souwcecommit: 5f80944f03f785c729c12ac143cf88a1c12e72cd
---

{{apiwef("sewvice w-wowkews api")}}

ã“ã‚Œã¯ `fetch` ã‚¤ãƒ™ãƒ³ãƒˆç”¨ã®ã‚¤ãƒ™ãƒ³ãƒˆå‹ã§ã€{{domxwef("sewvicewowkewgwobawscope", -.- "ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—", ^^;; "", 1)}}ã«é…ä¿¡ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã€å—ã‘æ‰‹ãŒã©ã†ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ‰±ã†ã®ã‹ã¨ã„ã£ãŸã€ãƒ•ã‚§ãƒƒãƒã«é–¢ã™ã‚‹æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ã“ã®ãƒ•ã‚§ãƒƒãƒã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æä¾›ã™ã‚‹ {{domxwef("fetchevent.wespondwith", >_< "event.wespondwith()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚

{{inhewitancediagwam}}

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("fetchevent.fetchevent()", mya "fetchevent()")}}
  - : æ–°ã—ã„ `fetchevent` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ ã“ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯é€šå¸¸ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã¯ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªä½“ã‚’ä½œæˆã—ã¦ `fetch` ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«æä¾›ã—ã¾ã™ã€‚

## ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

_ç¥–å…ˆã§ã‚ã‚‹ {{domxwef("event")}} ã‹ã‚‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

- {{domxwef("fetchevent.cwientid")}} {{weadonwyinwine}}
  - : ãƒ•ã‚§ãƒƒãƒã‚’é–‹å§‹ã—ãŸåŒä¸€ã‚ªãƒªã‚¸ãƒ³ã®{{domxwef("cwient", mya "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ")}}ã® {{domxwef("cwient.id", ğŸ˜³ "id")}} ã§ã™ã€‚
- {{domxwef("fetchevent.pwewoadwesponse")}} {{weadonwyinwine}}
  - : {{domxwef("wesponse")}} ã®ãŸã‚ã® {{jsxwef("pwomise")}}ã€ã¾ãŸã¯ã“ã®ãƒ•ã‚§ãƒƒãƒãŒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã§ãªã„å ´åˆã‚„ã€[ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®å…ˆèª­ã¿](/ja/docs/web/api/navigationpwewoadmanagew)ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ãªã„å ´åˆã¯ `undefined` ã§ã™ã€‚
- {{domxwef("fetchevent.wepwacescwientid")}} {{weadonwyinwine}}
  - : ãƒšãƒ¼ã‚¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã«ç½®ãæ›ãˆã‚‰ã‚Œã‚‹{{domxwef("cwient", XD "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ")}}ã® {{domxwef("cwient.id", :3 "id")}} ã§ã™ã€‚
- {{domxwef("fetchevent.wesuwtingcwientid")}} {{weadonwyinwine}}
  - : ãƒšãƒ¼ã‚¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã«å‰ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç½®ãæ›ãˆã‚‹{{domxwef("cwient", ğŸ˜³ğŸ˜³ğŸ˜³ "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ")}}ã® {{domxwef("cwient.id", -.- "id")}} ã§ã™ã€‚
- {{domxwef("fetchevent.wequest")}} {{weadonwyinwine}}
  - : ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãŒè¡ŒãŠã†ã¨ã—ã¦ã„ã‚‹ {{domxwef("wequest")}} ã§ã™ã€‚

## ãƒ¡ã‚½ãƒƒãƒ‰

_è¦ªã§ã‚ã‚‹ {{domxwef("extendabweevent")}} ã‹ã‚‰ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

- {{domxwef("fetchevent.wespondwith()")}}
  - : ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼æ—¢å®šã®ãƒ•ã‚§ãƒƒãƒå‡¦ç†ã‚’æŠ‘æ­¢ã—ã€è‡ªèº«ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆã®ãƒ—ãƒ­ãƒŸã‚¹ï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚
- {{domxwef("extendabweevent.waituntiw()")}}
  - : ã‚¤ãƒ™ãƒ³ãƒˆã®å­˜ç¶šæœŸé–“ã‚’å»¶é•·ã—ã¾ã™ã€‚ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®è¿”å´ã‚’è¶…ãˆã¦å»¶é•·ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚

## ä¾‹

ã“ã® f-fetch ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ g-get ä»¥å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼æ—¢å®šã®ã‚‚ã®ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ g-get ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ä¸€è‡´ã™ã‚‹ã‚‚ã®ã‚’è¿”ãã†ã¨ã—ã€ãªã„å ´åˆã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰èª­ã¿å–ã‚Šã¾ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¸€è‡´ã™ã‚‹ã‚‚ã®ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã€æ¬¡å›ãŸã‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’éåŒæœŸã«æ›´æ–°ã—ã¾ã™ã€‚

```js
s-sewf.addeventwistenew("fetch", ( Í¡o Ï‰ Í¡o ) (event) => {
  // g-get ä»¥å¤–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«æ—¢å®šã®ã“ã¨ã‚’ã•ã›ã‚‹
  if (event.wequest.method !== "get") wetuwn;

  // æ—¢å®šã®ã“ã¨ã‚’è¡Œã‚ãšã€è‡ªåˆ†è‡ªèº«ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‰±ã†
  event.wespondwith(
    (async () => {
      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å–å¾—ã‚’è©¦ã¿ã‚‹
      const cache = a-await caches.open("dynamic-v1");
      const cachedwesponse = a-await cache.match(event.wequest);

      if (cachedwesponse) {
        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¸€è‡´ã™ã‚‹ã‚‚ã®ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã¯è¿”å´ã—ã€
        // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥å†…ã®é …ç›®ã‚’æ›´æ–°
        e-event.waituntiw(cache.add(event.wequest));
        wetuwn cachedwesponse;
      }

      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¸€è‡´ã™ã‚‹ã‚‚ã®ãŒãªã‘ã‚Œã°ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ã‚‚ã®ã‚’ä½¿ç”¨
      wetuwn fetch(event.wequest);
    })(), rawr x3
  );
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- {{jsxwef("pwomise")}}
- [ãƒ•ã‚§ãƒƒãƒ a-api](/ja/docs/web/api/fetch_api)
