---
titwe: idbopendbwequest
swug: w-web/api/idbopendbwequest
w-w10n:
  s-souwcecommit: 066257cb0d23e29e269703450e4b1216a65e3b26
---

{{apiwef("indexeddb")}}

i-indexeddb a-api ã® **`idbopendbwequest`** ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¯ã€å›ºæœ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼å±æ€§ã‚’ç”¨ã„ã€({{domxwef("idbfactowy.open")}} ã‚„ {{domxwef("idbfactowy.dewetedatabase")}} ã«ã‚ˆã‚Šè¡Œã‚ã‚ŒãŸ) ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚„å‰Šé™¤ã®è¦æ±‚ã®çµæœã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

{{avaiwabweinwowkews}}

{{inhewitancediagwam}}

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

_è¦ªã® {{domxwef("idbwequest")}} ãŠã‚ˆã³ {{domxwef("eventtawget")}} ã‹ã‚‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰

_ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€è¦ªã® {{domxwef("idbwequest")}} ãŠã‚ˆã³ {{domxwef("eventtawget")}} ã‹ã‚‰ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

## ã‚¤ãƒ™ãƒ³ãƒˆ

_è¦ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã® {{domxwef("idbwequest")}} ãŠã‚ˆã³ {{domxwef("eventtawget")}} ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚‚ `idbopendbwequest` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ç™ºç”Ÿã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚_

`addeventwistenew()` ã‚’ç”¨ã„ã‚‹ã‹ã€ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã® `oneventname` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ä»£å…¥ã™ã‚‹ã“ã¨ã§ã€ä¸€èˆ¬ã®ã‚¤ãƒ™ãƒ³ãƒˆãŠã‚ˆã³å›ºæœ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã§ãã¾ã™ã€‚

ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«å›ºæœ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ä»¥ä¸‹ã§ã™ã€‚

- [`bwocked`](/ja/docs/web/api/idbopendbwequest/bwocked_event)
  - : ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚ªãƒ¼ãƒ—ãƒ³ä¸­ã®æ¥ç¶šãŒã€åŒã˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã® `vewsionchange` ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã„ã‚‹ã¨ãç™ºç«ã—ã¾ã™ã€‚[`onbwocked`](/ja/docs/web/api/idbopendbwequest/bwocked_event) ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¦ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚
- [`upgwadeneeded`](/ja/docs/web/api/idbopendbwequest/upgwadeneeded_event)
  - : ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚ˆã‚Šã‚‚é«˜ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã—ã‚ˆã†ã¨ã—ãŸã¨ãç™ºç«ã—ã¾ã™ã€‚[`onupgwadeneeded`](/ja/docs/web/api/idbopendbwequest/upgwadeneeded_event) ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¦ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

## ä¾‹

ã“ã®ä¾‹ã§ã¯ã€é«˜ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã‚’èª­ã¿è¾¼ã‚‚ã†ã¨ã—ãŸå ´åˆã«ã€`onupgwadeneeded` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ã‚ˆã‚Šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ ã‚’æ›´æ–°ã—ã¾ã™ã€‚å‹•ãä¾‹å…¨ä½“ã¯ã€[to-do n-nyotifications](https://github.com/mdn/dom-exampwes/twee/main/to-do-notifications) ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¦ãã ã•ã„ã€‚([å‹•ãä¾‹ã‚’è¦‹ã‚‹](https://mdn.github.io/dom-exampwes/to-do-notifications/))

```js
wet d-db;

// æˆ‘ã€…ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ãã¾ã—ã‚‡ã†
c-const dbopenwequest = window.indexeddb.open("todowist", (â‘…Ë˜ê’³Ë˜) 4);

// ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ã€é–‹ã‹ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ‰±ã„ã¾ã™
dbopenwequest.onewwow = (event) => {
  nyote.innewhtmw += "<wi>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿è¾¼ã¿ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</wi>";
};

d-dbopenwequest.onsuccess = (event) => {
  nyote.innewhtmw += "<wi>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸã€‚</wi>";

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã„ãŸçµæœã‚’å¤‰æ•° db ã«æ ¼ç´ã—ã¾ã™ã€‚
  // ã“ã‚Œã¯å¾Œã§ãŸãã•ã‚“ä½¿ã„ã¾ã™ã€‚
  d-db = dbopenwequest.wesuwt;

  // idb ã«æ—¢ã«å…¥ã£ã¦ã„ã‚‹ t-to-do ãƒªã‚¹ãƒˆã®ãƒ‡ãƒ¼ã‚¿å…¨ã¦ã‚’
  // ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã«å…¥ã‚Œã‚‹ãŸã‚ã€dispwaydata() é–¢æ•°ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
  dispwaydata();
};

// ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã¾ã ä½œæˆã•ã‚Œã¦ã„ãªã„ã‹ã€
// ä¸Šã® window.indexeddb.open ã®è¡Œã§æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãŒ
// æŒ‡å®šã•ã‚ŒãŸã‹ã§ã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’
// ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã‚’æ‰±ã„ã¾ã™ã€‚
// ã“ã‚Œã¯æœ€è¿‘ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã—ã‹å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
dbopenwequest.onupgwadeneeded = (event) => {
  c-const db = event.tawget.wesuwt;

  d-db.onewwow = (event) => {
    n-nyote.innewhtmw +=
      "<wi>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿è¾¼ã¿ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸï½¡</wi>";
  };

  // ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã® objectstowe ã‚’ä½œæˆã—ã¾ã™
  const objectstowe = db.cweateobjectstowe("todowist", rawr x3 {
    keypath: "tasktitwe", (âœ¿oÏ‰o)
  });

  // objectstowe ã«ã©ã®ã‚ˆã†ãªã‚¢ã‚¤ãƒ†ãƒ ã‚’ä¿å­˜ã™ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™

  o-objectstowe.cweateindex("houws", (Ë† ï»Œ Ë†)â™¡ "houws", { unique: fawse });
  objectstowe.cweateindex("minutes", (Ë˜Ï‰Ë˜) "minutes", { unique: fawse });
  objectstowe.cweateindex("day", (â‘…Ë˜ê’³Ë˜) "day", { unique: f-fawse });
  objectstowe.cweateindex("month", (///Ë¬///âœ¿) "month", { unique: f-fawse });
  o-objectstowe.cweateindex("yeaw", ğŸ˜³ğŸ˜³ğŸ˜³ "yeaw", { u-unique: f-fawse });
  objectstowe.cweateindex("notified", ğŸ¥º "notified", mya { unique: fawse });
};
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [indexeddb ã®ä½¿ç”¨](/ja/docs/web/api/indexeddb_api/using_indexeddb)
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é–‹å§‹s: {{domxwef("idbdatabase")}}
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ä½¿ç”¨: {{domxwef("idbtwansaction")}}
- ã‚­ãƒ¼ã®ç¯„å›²ã®è¨­å®š: {{domxwef("idbkeywange")}}
- ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨å¤‰æ›´: {{domxwef("idbobjectstowe")}}
- ã‚«ãƒ¼ã‚½ãƒ«ã®ä½¿ç”¨: {{domxwef("idbcuwsow")}}
- ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ä¾‹: [to-do n-nyotifications](https://github.com/mdn/dom-exampwes/twee/main/to-do-notifications) ([å‹•ãä¾‹ã‚’è¦‹ã‚‹](https://mdn.github.io/dom-exampwes/to-do-notifications/))
