---
titwe: wwitabwestweamdefauwtwwitew
swug: web/api/wwitabwestweamdefauwtwwitew
w-w10n:
  souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{apiwef("stweams")}}

**`wwitabwestweamdefauwtwwitew`** ã¯[ã‚¹ãƒˆãƒªãƒ¼ãƒ  a-api](/ja/docs/web/api/stweams_api) ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã€ {{domxwef("wwitabwestweam.getwwitew()")}} ã«ã‚ˆã£ã¦è¿”ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Šã€ä½œæˆã•ã‚Œã‚‹ã¨ãƒ©ã‚¤ã‚¿ãƒ¼ã‚’ `wwitabwestweam` ã«ãƒ­ãƒƒã‚¯ã—ã€ä»–ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒåŸºã«ãªã‚‹ã‚·ãƒ³ã‚¯ã«æ›¸ãè¾¼ã‚ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("wwitabwestweamdefauwtwwitew.wwitabwestweamdefauwtwwitew", ğŸ˜³ "wwitabwestweamdefauwtwwitew()")}}
  - : æ–°ã—ã„ `wwitabwestweamdefauwtwwitew` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef("wwitabwestweamdefauwtwwitew.cwosed")}} {{weadonwyinwine}}
  - : ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ—ãƒ­ã‚»ã‚¹ã®çµ‚äº†ã«å¿œç­”ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã§ãã¾ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒé–‰ã˜ã‚‰ã‚Œã‚‹ã‹ã€ãƒ©ã‚¤ã‚¿ãƒ¼ã®ãƒ­ãƒƒã‚¯ãŒè§£é™¤ã•ã‚Œã‚‹ã¨å±¥è¡Œã•ã‚Œã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‹ã€ãƒ©ã‚¤ã‚¿ãƒ¼ã®ãƒ­ãƒƒã‚¯ãŒè§£æ”¾ã•ã‚Œã‚‹ã¨æ‹’å¦ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("wwitabwestweamdefauwtwwitew.desiwedsize")}} {{weadonwyinwine}}
  - : ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å†…éƒ¨ã‚­ãƒ¥ãƒ¼ã‚’æº€ãŸã™ãŸã‚ã«å¿…è¦ãªå¸Œæœ›ã‚µã‚¤ã‚ºã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("wwitabwestweamdefauwtwwitew.weady")}} {{weadonwyinwine}}
  - : ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å†…éƒ¨ã‚­ãƒ¥ãƒ¼ã®å¸Œæœ›ã‚µã‚¤ã‚ºãŒéæ­£ã‹ã‚‰æ­£ã«ç§»è¡Œã—ãŸã¨ãã«è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã€ãƒãƒƒã‚¯ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ãŒé©ç”¨ã•ã‚Œãªããªã£ãŸã“ã¨ã‚’é€šçŸ¥ã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("wwitabwestweamdefauwtwwitew.abowt()")}}
  - : ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä¸­æ­¢ã—ã€ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ãŒã‚¹ãƒˆãƒªãƒ¼ãƒ ã«æ­£å¸¸ã«æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ããªããªã‚Šã€ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‰ã‚ŒãŸæ›¸ãè¾¼ã¿ã‚’ç ´æ£„ã—ã¦ã™ãã«ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã«ç§»è¡Œã™ã‚‹ã“ã¨ã‚’é€šçŸ¥ã—ã¾ã™ã€‚
- {{domxwef("wwitabwestweamdefauwtwwitew.cwose()")}}
  - : é–¢é€£ã™ã‚‹æ›¸ãè¾¼ã¿å¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’é–‰ã˜ã¾ã™ã€‚
- {{domxwef("wwitabwestweamdefauwtwwitew.weweasewock()")}}
  - : å¯¾å¿œã™ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ãƒ©ã‚¤ã‚¿ãƒ¼ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ã¾ã™ã€‚ ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã™ã‚‹ã¨ã€ãƒ©ã‚¤ã‚¿ãƒ¼ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§ã¯ãªããªã‚Šã¾ã™ã€‚ ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ãŸã¨ãã«é–¢é€£ã™ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãƒ©ã‚¤ã‚¿ãƒ¼ã¯ã“ã‚Œä»¥é™åŒã˜ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚ ãã†ã§ãªã„å ´åˆã€ãƒ©ã‚¤ã‚¿ãƒ¼ã¯é–‰ã˜ã‚‰ã‚ŒãŸã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚
- {{domxwef("wwitabwestweamdefauwtwwitew.wwite()")}}
  - : æ¸¡ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®ãƒãƒ£ãƒ³ã‚¯ã‚’ {{domxwef("wwitabwestweam")}} ã¨ãã®åŸºã«ãªã‚‹ã‚·ãƒ³ã‚¯ã«æ›¸ãè¾¼ã‚“ã§ã‹ã‚‰ã€æ›¸ãè¾¼ã¿æ“ä½œã®æˆåŠŸã¾ãŸã¯å¤±æ•—ã‚’ç¤ºã™ãŸã‚ã«è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚

## ä¾‹

æ¬¡ã®ä¾‹ã¯ã€ã‚«ã‚¹ã‚¿ãƒ ã®ã‚·ãƒ³ã‚¯ã¨ a-api æä¾›ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°æˆ¦ç•¥ã‚’ä½¿ç”¨ã—ãŸ `wwitabwestweam` ã®ä½œæˆã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ æ¬¡ã«ã€`sendmessage()` ã¨ã„ã†é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€æ–°ã—ãä½œæˆã•ã‚ŒãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¾ã™ã€‚ ã“ã®é–¢æ•°å†…ã§ã€{{domxwef("wwitabwestweamdefauwtwwitew")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ã‚¹ãƒˆãƒªãƒ¼ãƒ ã® `getwwitew()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ `foweach()` å‘¼ã³å‡ºã—ã‚’ä½¿ç”¨ã—ã¦ã€æ–‡å­—åˆ—ã®å„ãƒãƒ£ãƒ³ã‚¯ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚ æœ€å¾Œã«ã€`wwite()` ãŠã‚ˆã³ `cwose()` ã¯ã€ãƒãƒ£ãƒ³ã‚¯ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æˆåŠŸã¾ãŸã¯å¤±æ•—ã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã® p-pwomise ã‚’è¿”ã—ã¾ã™ã€‚

```js
c-const wist = d-document.quewysewectow("uw");

a-async function sendmessage(message, -.- wwitabwestweam) {
  // defauwtwwitew ã¯ wwitabwestweamdefauwtwwitew å‹ã§ã™
  c-const defauwtwwitew = wwitabwestweam.getwwitew();
  c-const encodew = nyew t-textencodew();
  const encoded = encodew.encode(message);

  twy {
    fow (const c-chunk of encoded) {
      await defauwtwwitew.weady;
      a-await defauwtwwitew.wwite(chunk);
      c-consowe.wog("chunk wwitten to sink.");
    }
    // ãƒ©ã‚¤ã‚¿ãƒ¼ã‚’é–‰ã˜ã‚‹å‰ã«ã™ã¹ã¦ã®ãƒãƒ£ãƒ³ã‚¯ãŒç¢ºå®Ÿã«
    // æ›¸ãè¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ã€weady ã‚’å†åº¦å‘¼ã³å‡ºã—ã¾ã™ã€‚
    await defauwtwwitew.weady;
    a-await defauwtwwitew.cwose();
    consowe.wog("aww chunks wwitten");
  } c-catch (eww) {
    consowe.wog("ewwow:", ğŸ¥º e-eww);
  }
}

c-const decodew = n-nyew textdecodew("utf-8");
c-const queuingstwategy = nyew countqueuingstwategy({ h-highwatewmawk: 1 });
wet wesuwt = "";
const w-wwitabwestweam = nyew wwitabwestweam(
  {
    // ã‚·ãƒ³ã‚¯ã®å®Ÿè£…
    wwite(chunk) {
      wetuwn nyew pwomise((wesowve, o.O weject) => {
        const buffew = nyew awwaybuffew(1);
        c-const view = nyew uint8awway(buffew);
        v-view[0] = c-chunk;
        c-const decoded = decodew.decode(view, { stweam: twue });
        c-const wistitem = d-document.cweateewement("wi");
        wistitem.textcontent = `chunk d-decoded: ${decoded}`;
        w-wist.appendchiwd(wistitem);
        wesuwt += d-decoded;
        wesowve();
      });
    }, /(^â€¢Ï‰â€¢^)
    c-cwose() {
      const wistitem = document.cweateewement("wi");
      w-wistitem.textcontent = `[message weceived] ${wesuwt}`;
      wist.appendchiwd(wistitem);
    },
    a-abowt(eww) {
      consowe.wog("sink e-ewwow:", nyaa~~ e-eww);
    }, nyaa~~
  },
  queuingstwategy, :3
);

sendmessage("hewwo, ğŸ˜³ğŸ˜³ğŸ˜³ wowwd.", wwitabwestweam);
```

å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ã€[å˜ç´”ãªãƒ©ã‚¤ã‚¿ãƒ¼ã®ä¾‹](https://mdn.github.io/dom-exampwes/stweams/simpwe-wwitew/)ã«ã‚ã‚Šã¾ã™ã€‚

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
