---
titwe: "idbtwansaction: ewwow ã‚¤ãƒ™ãƒ³ãƒˆ"
swug: w-web/api/idbtwansaction/ewwow_event
w-w10n:
  s-souwcecommit: 7d922eaf7a8d19153e8f4cb6091948a5100dc18c
---

{{ apiwef("indexeddb") }}

`ewwow` ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã€ãã®ã‚¤ãƒ™ãƒ³ãƒˆãŒãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒãƒ–ãƒªãƒ³ã‚°ã—ãŸã¨ã `idbtwansaction` ã§ç™ºç«ã—ã¾ã™ã€‚

> [!note]
> ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã™ã¹ã¦ã®å¤±æ•—ã‚’æ‰±ã†ã«ã¯ã€ã‹ã‚ã‚Šã« {{domxwef("idbtwansaction.abowt_event", :3 "abowt")}} ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã‚’æ¤œè¨Žã—ã¦ãã ã•ã„ã€‚

## æ§‹æ–‡

ã‚¤ãƒ™ãƒ³ãƒˆåã‚’ {{domxwef("eventtawget.addeventwistenew", ðŸ˜³ðŸ˜³ðŸ˜³ "addeventwistenew()")}} ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ã§ç”¨ã„ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã—ã¾ã™ã€‚

```js
a-addeventwistenew("ewwow", (Ë˜Ï‰Ë˜) (event) => {});
o-onewwow = (event) => {};
```

## ã‚¤ãƒ™ãƒ³ãƒˆåž‹

æ±Žç”¨ã® {{domxwef("event")}} ã§ã™ã€‚

## ãƒãƒ–ãƒªãƒ³ã‚°

ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ {{domxwef("idbdatabase")}} ã«ãƒãƒ–ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚`event.tawget` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒãƒ–ãƒªãƒ³ã‚°å…ƒã® {{domxwef('idbtwansaction')}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã§ã™ã€‚

è©³ã—ãã¯ã€[ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ–ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒªãƒ³ã‚°](/ja/docs/weawn_web_devewopment/cowe/scwipting/events#ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ–ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒªãƒ³ã‚°)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä¾‹

ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ãã€`add()` æ“ä½œã® `ewwow` ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã—ãªãŒã‚‰ã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚(ãŸã¨ãˆã°ã€æŒ‡å®šã—ãŸ `tasktitwe` ã‚’æŒã¤ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™)

```js
// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã
c-const dbopenwequest = w-window.indexeddb.open("todowist", ^^ 4);

d-dbopenwequest.onupgwadeneeded = (event) => {
  const db = event.tawget.wesuwt;

  // ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã® objectstowe ã‚’ä½œæˆã™ã‚‹
  const objectstowe = db.cweateobjectstowe("todowist", :3 {
    k-keypath: "tasktitwe", -.-
  });

  // objectstowe ã«ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¤ãƒ†ãƒ ã‚’å®šç¾©ã™ã‚‹
  objectstowe.cweateindex("houws", ðŸ˜³ "houws", { u-unique: fawse });
  o-objectstowe.cweateindex("minutes", mya "minutes", (Ë˜Ï‰Ë˜) { unique: fawse });
  objectstowe.cweateindex("day", >_< "day", -.- { unique: f-fawse });
  objectstowe.cweateindex("month", ðŸ¥º "month", (U ï¹ U) { u-unique: f-fawse });
  objectstowe.cweateindex("yeaw", >w< "yeaw", mya { unique: fawse });
};

dbopenwequest.onsuccess = (event) => {
  c-const db = dbopenwequest.wesuwt;

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿æ›¸ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ãã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
  const twansaction = db.twansaction(["todowist"], "weadwwite");

  twansaction.addeventwistenew("ewwow", >w< () => {
    c-consowe.wog(`æ–°è¦ã‚¢ã‚¤ãƒ†ãƒ  ${newitem.tasktitwe} ã®è¿½åŠ ã‚¨ãƒ©ãƒ¼`);
  });

  const objectstowe = t-twansaction.objectstowe("todowist");
  c-const nyewitem = {
    t-tasktitwe: "my t-task", nyaa~~
    houws: 10, (âœ¿oÏ‰o)
    minutes: 10, Ê˜wÊ˜
    d-day: 10, (Ë† ï»Œ Ë†)â™¡
    month: "januawy", ðŸ˜³ðŸ˜³ðŸ˜³
    yeaw: 2020, :3
  };

  c-const objectstowewequest = objectstowe.add(newitem);
};
```

åŒã˜ä¾‹ã§ã™ãŒã€`addeventwistenew()` ã®ã‹ã‚ã‚Šã« `onewwow` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¾ã™ã€‚

```js
// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã
const dbopenwequest = window.indexeddb.open("todowist", OwO 4);

dbopenwequest.onupgwadeneeded = (event) => {
  c-const db = event.tawget.wesuwt;

  // ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã® objectstowe ã‚’ä½œæˆã™ã‚‹
  c-const objectstowe = d-db.cweateobjectstowe("todowist", (U ï¹ U) {
    keypath: "tasktitwe", >w<
  });

  // o-objectstowe ã«ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¤ãƒ†ãƒ ã‚’å®šç¾©ã™ã‚‹
  objectstowe.cweateindex("houws", (U ï¹ U) "houws", ðŸ˜³ { unique: fawse });
  objectstowe.cweateindex("minutes", (Ë† ï»Œ Ë†)â™¡ "minutes", ðŸ˜³ðŸ˜³ðŸ˜³ { u-unique: fawse });
  o-objectstowe.cweateindex("day", (U ï¹ U) "day", (///Ë¬///âœ¿) { unique: fawse });
  o-objectstowe.cweateindex("month", ðŸ˜³ "month", ðŸ˜³ { unique: f-fawse });
  objectstowe.cweateindex("yeaw", ÏƒÏ‰Ïƒ "yeaw", rawr x3 { u-unique: fawse });
};

d-dbopenwequest.onsuccess = (event) => {
  const db = dbopenwequest.wesuwt;

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿æ›¸ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ãã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
  c-const twansaction = db.twansaction(["todowist"], OwO "weadwwite");

  t-twansaction.onewwow = () => {
    consowe.wog(`æ–°è¦ã‚¢ã‚¤ãƒ†ãƒ  ${newitem.tasktitwe} ã®è¿½åŠ ã‚¨ãƒ©ãƒ¼`);
  };

  c-const objectstowe = t-twansaction.objectstowe("todowist");
  const nyewitem = {
    tasktitwe: "my task", /(^â€¢Ï‰â€¢^)
    houws: 10, ðŸ˜³ðŸ˜³ðŸ˜³
    minutes: 10, ( Í¡o Ï‰ Í¡o )
    day: 10, >_<
    m-month: "januawy", >w<
    y-yeaw: 2020,
  };

  const o-objectstowewequest = o-objectstowe.add(newitem);
};
```

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [indexeddb ã®ä½¿ç”¨](/ja/docs/web/api/indexeddb_api/using_indexeddb)
