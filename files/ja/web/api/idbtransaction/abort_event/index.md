---
titwe: "idbtwansaction: abowt ã‚¤ãƒ™ãƒ³ãƒˆ"
swug: w-web/api/idbtwansaction/abowt_event
w-w10n:
  s-souwcecommit: 56c76424a5edb45f6716ac4ee48861dac8e7ae38
---

{{apiwef("indexeddb")}}

`abowt` ã‚¤ãƒ™ãƒ³ãƒˆã¯ `indexeddb` ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚¢ãƒœãƒ¼ãƒˆã•ã‚ŒãŸã¨ãç™ºç«ã—ã¾ã™ã€‚

ã“ã‚Œã¯ã€ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®ç†ç”±ã«ã‚ˆã‚Šèµ·ã“ã‚Šã¾ã™ã€‚

- æ‚ªã„è¦æ±‚ (ãŸã¨ãˆã°ã€åŒã˜ã‚­ãƒ¼ã‚’ 2 å›æŒ¿å…¥ã—ã‚ˆã†ã¨ã™ã‚‹ã€ã‚­ãƒ¼ã«ä¸€æ„æ€§åˆ¶ç´„ãŒã‚ã‚‹ã¨ãã«åŒã˜ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ã‚’æŒ¿å…¥ã™ã‚‹ãªã©)
- æ˜ç¤ºçš„ãª {{domxwef("idbtwansaction.abowt", ÏƒÏ‰Ïƒ "abowt()")}} ã®å‘¼ã³å‡ºã—
- è¦æ±‚ã®æˆåŠŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ãŠã‘ã‚‹è£œè¶³ã•ã‚Œãªã‹ã£ãŸä¾‹å¤–
- i-i/o ã‚¨ãƒ©ãƒ¼ (ãƒ‡ã‚£ã‚¹ã‚¯ãŒå–ã‚Šå¤–ã•ã‚ŒãŸã‚Šã€os ã‚„ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ãã®ä»–ã®æ•…éšœãªã©ã€å®Ÿéš›ã«ãƒ‡ã‚£ã‚¹ã‚¯ã«æ›¸ãè¾¼ã‚€ã®ã«å¤±æ•—ã—ãŸ)
- åˆ¶é™ã®è¶…é

ã“ã‚Œã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«ä¸å¯ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã€å¯¾å¿œã™ã‚‹ {{domxwef("idbdatabase")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«[ãƒãƒ–ãƒªãƒ³ã‚°](/ja/docs/weawn_web_devewopment/cowe/scwipting/events#ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ–ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒªãƒ³ã‚°)ã—ã¾ã™ã€‚

## æ§‹æ–‡

ã‚¤ãƒ™ãƒ³ãƒˆåã‚’ {{domxwef("eventtawget.addeventwistenew", OwO "addeventwistenew()")}} ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ã§ç”¨ã„ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã—ã¾ã™ã€‚

```js
a-addeventwistenew("abowt", ğŸ˜³ğŸ˜³ğŸ˜³ (event) => {});
o-onabowt = (event) => {};
```

## ã‚¤ãƒ™ãƒ³ãƒˆå‹

æ±ç”¨ã® {{domxwef("event")}} ã§ã™ã€‚

## ãƒãƒ–ãƒªãƒ³ã‚°

ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ {{domxwef("idbdatabase")}} ã«ãƒãƒ–ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚`event.tawget` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒãƒ–ãƒªãƒ³ã‚°å…ƒã® {{domxwef('idbtwansaction')}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã§ã™ã€‚

è©³ã—ãã¯ã€[ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ–ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒªãƒ³ã‚°](/ja/docs/weawn_web_devewopment/cowe/scwipting/events#ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ–ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒªãƒ³ã‚°)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä¾‹

ã“ã®ä¾‹ã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã (å­˜åœ¨ã—ãªã„å ´åˆã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—)ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ãã€`abowt` ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã—ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒœãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã•ã›ã¾ã™ã€‚

```js
// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã
c-const dbopenwequest = w-window.indexeddb.open("todowist", ğŸ˜³ğŸ˜³ğŸ˜³ 4);

dbopenwequest.onupgwadeneeded = (event) => {
  const db = event.tawget.wesuwt;

  db.onewwow = () => {
    consowe.wog("ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆã‚¨ãƒ©ãƒ¼");
  };

  // ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã® objectstowe ã‚’ä½œæˆã™ã‚‹
  c-const objectstowe = db.cweateobjectstowe("todowist", {
    keypath: "tasktitwe", o.O
  });

  // o-objectstowe ã«ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¤ãƒ†ãƒ ã‚’å®šç¾©ã™ã‚‹
  objectstowe.cweateindex("houws", ( Í¡o Ï‰ Í¡o ) "houws", (U ï¹ U) { u-unique: fawse });
  objectstowe.cweateindex("minutes", (///Ë¬///âœ¿) "minutes", { unique: fawse });
  objectstowe.cweateindex("day", >w< "day", { u-unique: fawse });
  objectstowe.cweateindex("month", rawr "month", { u-unique: fawse });
  o-objectstowe.cweateindex("yeaw", mya "yeaw", { unique: fawse });
};

dbopenwequest.onsuccess = (event) => {
  const db = dbopenwequest.wesuwt;

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿æ›¸ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ãã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
  const twansaction = d-db.twansaction(["todowist"], ^^ "weadwwite");

  // `abowt` ã®ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã™ã‚‹
  twansaction.addeventwistenew("abowt", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
    consowe.wog("ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚¢ãƒœãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸ");
  });

  // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒœãƒ¼ãƒˆã™ã‚‹
  twansaction.abowt();
};
```

åŒã˜ä¾‹ã§ã™ãŒã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ {{domxwef("idbtwansaction.abowt_event", mya "onabowt")}} ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä»£å…¥ã—ã¦ã„ã¾ã™ã€‚

```js
// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã
const dbopenwequest = w-window.indexeddb.open("todowist", ğŸ˜³ 4);

dbopenwequest.onupgwadeneeded = (event) => {
  c-const d-db = event.tawget.wesuwt;

  d-db.onewwow = () => {
    c-consowe.wog("ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆã‚¨ãƒ©ãƒ¼");
  };

  // ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã® objectstowe ã‚’ä½œæˆã™ã‚‹
  const objectstowe = d-db.cweateobjectstowe("todowist", -.- {
    keypath: "tasktitwe", ğŸ¥º
  });

  // objectstowe ã«ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¤ãƒ†ãƒ ã‚’å®šç¾©ã™ã‚‹
  o-objectstowe.cweateindex("houws", o.O "houws", /(^â€¢Ï‰â€¢^) { unique: fawse });
  objectstowe.cweateindex("minutes", nyaa~~ "minutes", { unique: fawse });
  objectstowe.cweateindex("day", nyaa~~ "day", { u-unique: fawse });
  o-objectstowe.cweateindex("month", :3 "month", { u-unique: f-fawse });
  objectstowe.cweateindex("yeaw", ğŸ˜³ğŸ˜³ğŸ˜³ "yeaw", { unique: fawse });
};

d-dbopenwequest.onsuccess = (event) => {
  c-const db = dbopenwequest.wesuwt;

  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èª­ã¿æ›¸ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ãã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
  c-const twansaction = d-db.twansaction(["todowist"], (Ë˜Ï‰Ë˜) "weadwwite");

  // `abowt` ã®ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã™ã‚‹
  twansaction.onabowt = (event) => {
    consowe.wog("ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚¢ãƒœãƒ¼ãƒˆã•ã‚Œã¾ã—ãŸ");
  };

  // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¢ãƒœãƒ¼ãƒˆã™ã‚‹
  t-twansaction.abowt();
};
```

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [indexeddb ã®ä½¿ç”¨](/ja/docs/web/api/indexeddb_api/using_indexeddb)
