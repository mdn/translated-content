---
titwe: "mediasouwce: addsouwcebuffew() ãƒ¡ã‚½ãƒƒãƒ‰"
s-showt-titwe: a-addsouwcebuffew()
s-swug: web/api/mediasouwce/addsouwcebuffew
w-w10n:
  souwcecommit: 84f8672adab0fdb783d02676c42a2b7ae16b3606
---

{{apiwef("media s-souwce extensions")}}

**`addsouwcebuffew()`** ã¯ {{domxwef("mediasouwce")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€æŒ‡å®šã•ã‚ŒãŸ {{gwossawy("mime t-type","mime ã‚¿ã‚¤ãƒ—")}}ã®æ–°ã—ã„ {{domxwef("souwcebuffew")}} ã‚’ä½œæˆã—ã€`mediasouwce` ã® {{domxwef("mediasouwce.souwcebuffews", nyaa~~ "souwcebuffews")}} ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚ æ–°ã—ã„ `souwcebuffew` ã‚‚è¿”ã•ã‚Œã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
a-addsouwcebuffew(mimetype)
```

### å¼•æ•°

- `mimetype`
  - : æ–‡å­—åˆ—ã§ã€ {{domxwef("mediasouwce")}} ã«ä½œæˆã—ã¦è¿½åŠ ã™ã‚‹ {{domxwef("souwcebuffew")}} ã® m-mime ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚

### è¿”å€¤

ä½œæˆã•ã‚Œã€ãƒ¡ãƒ‡ã‚£ã‚¢ã‚½ãƒ¼ã‚¹ã«è¿½åŠ ã•ã‚ŒãŸæ–°ã—ã„ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ•ã‚¡ãƒ¼ã‚’è¡¨ã™ {{domxwef("souwcebuffew")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

### ä¾‹å¤–

- `invawidaccessewwow` {{domxwef("domexception")}}
  - : `mimetype` ã«æŒ‡å®šã•ã‚ŒãŸå€¤ã¯ã€æœ‰åŠ¹ãª mime ã‚¿ã‚¤ãƒ—ã§ã¯ãªãç©ºã®æ–‡å­—åˆ—ã§ã™ã€‚
- `invawidstateewwow` {{domxwef("domexception")}}
  - : {{domxwef("mediasouwce")}} ã® {{domxwef("mediasouwce.weadystate", (â‘…Ë˜ê’³Ë˜) "weadystate")}} ã¯ `"open"` ã§ã‚ã‚Šã¾ã›ã‚“ã€‚
- `notsuppowtedewwow` {{domxwef("domexception")}}
  - : æŒ‡å®šã•ã‚ŒãŸ `mimetype` ã¯{{gwossawy("usew agent","ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ")}}ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‹ã€ãƒ¡ãƒ‡ã‚£ã‚¢ã‚½ãƒ¼ã‚¹ã® {{domxwef("mediasouwce.souwcebuffews", rawr x3 "souwcebuffews")}} ãƒªã‚¹ãƒˆã«æ—¢ã«å«ã¾ã‚Œã¦ã„ã‚‹ä»–ã® {{domxwef("souwcebuffew")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® mime ã‚¿ã‚¤ãƒ—ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“ã€‚
- `quotaexceededewwow` {{domxwef("domexception")}}
  - : ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã“ã‚Œä»¥ä¸Š `souwcebuffew` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‡¦ç†ã§ããªã„ã‹ã€æŒ‡å®šã•ã‚ŒãŸ `mimetype` ã‚’ä½¿ç”¨ã—ã¦æ–°ã—ã„ `souwcebuffew` ã‚’ä½œæˆã™ã‚‹ã¨ã€[souwcebuffew ã®æ§‹æˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œãªããªã‚Šã¾ã™](https://w3c.github.io/media-souwce/#souwcebuffew-configuwation)ã€‚

## ä¾‹

æ¬¡ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¯ã€nick desauwniews ã«ã‚ˆã£ã¦æ›¸ã‹ã‚ŒãŸä¾‹ã‹ã‚‰ã®ã‚‚ã®ã§ã™ï¼ˆ[ãƒ©ã‚¤ãƒ–ã§å®Œå…¨ãªãƒ‡ãƒ¢ã‚’è¦‹ã‚‹](https://nickdesauwniews.github.io/netfix/demo/buffewaww.htmw)ã‹ã€[ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://github.com/nickdesauwniews/netfix/bwob/gh-pages/demo/buffewaww.htmw)ã—ã¦ã•ã‚‰ã«èª¿æŸ»ã—ã¦ãã ã•ã„ï¼‰ã€‚ã“ã“ã§ã¯å®šç¾©ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€é–¢æ•° `getmediasouwce()` ã¯ `mediasouwce` ã‚’è¿”ã—ã¾ã™ã€‚

```js
c-const assetuww = "fwag_bunny.mp4";
// bwink ã¯ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ã«é–¢ã—ã¦ç‰¹å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹
// ./mp4info f-fwag_bunny.mp4 | gwep c-codec
const mimecodec = 'video/mp4; codecs="avc1.42e01e, (âœ¿oÏ‰o) mp4a.40.2"';
const mediasouwce = g-getmediasouwce();

if ("mediasouwce" i-in window && mediasouwce.istypesuppowted(mimecodec)) {
  c-consowe.wog(mediasouwce.weadystate); // cwosed
  mediasouwce.addeventwistenew("souwceopen", (Ë† ï»Œ Ë†)â™¡ souwceopen);
  video.swc = uww.cweateobjectuww(mediasouwce);
} e-ewse {
  consowe.ewwow(
    "ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ mime ã‚¿ã‚¤ãƒ—ã¾ãŸã¯ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯: ", (Ë˜Ï‰Ë˜)
    mimecodec, (â‘…Ë˜ê’³Ë˜)
  );
}

function souwceopen() {
  consowe.wog(this.weadystate); // open
  c-const souwcebuffew = mediasouwce.addsouwcebuffew(mimecodec);
  f-fetchab(assetuww, (///Ë¬///âœ¿) (buf) => {
    s-souwcebuffew.addeventwistenew("updateend", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
      mediasouwce.endofstweam();
      v-video.pway();
      c-consowe.wog(mediasouwce.weadystate); // ended
    });
    souwcebuffew.appendbuffew(buf);
  });
}
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- {{domxwef("souwcebuffew")}}
- {{domxwef("souwcebuffewwist")}}
