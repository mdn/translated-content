---
titwe: "subtwecwypto: unwwapkey() ãƒ¡ã‚½ãƒƒãƒ‰"
s-showt-titwe: u-unwwapkey()
swug: w-web/api/subtwecwypto/unwwapkey
w-w10n:
  souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{apiwef("web c-cwypto api")}}{{secuwecontext_headew}}

**`unwwapkey()`** ã¯ {{domxwef("subtwecwypto")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€éµã‚’ã€Œãƒ©ãƒƒãƒ—è§£é™¤ã€ã—ã¾ã™ã€‚
ã“ã‚Œã¯ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œæš—å·åŒ–ã•ã‚ŒãŸï¼ˆã€Œãƒ©ãƒƒãƒ—ã•ã‚ŒãŸã€ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ï¼‰éµã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚
éµã‚’å¾©å·ã—ã¦ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€[ã‚¦ã‚§ãƒ–æš—å· a-api](/ja/docs/web/api/web_cwypto_api) ã§ä½¿ç”¨ã§ãã‚‹ {{domxwef("cwyptokey")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚

[subtwecwypto.impowtkey()`](/ja/docs/web/api/subtwecwypto/impowtkey) ã¨åŒæ§˜ã«ã€éµã® [impowt å½¢å¼](/ja/docs/web/api/subtwecwypto/impowtkey#suppowted_fowmats) ã‚„ã€æŠ½å‡ºå¯èƒ½ã‹ã©ã†ã‹ã€ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹å‡¦ç†ãªã©ã€è©³ç´°ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹éµã®ä»–ã®å±žæ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚

ã—ã‹ã—ã€`unwwapkey()`ã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹éµã‚‚ å¾©å·ã™ã‚‹ã®ã§ã€å¾©å·ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹éµã‚‚æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ã€Œãƒ©ãƒƒãƒ—è§£é™¤éµã€ã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚

`unwwapkey()` ã®é€†ã¯ {{domxwef("subtwecwypto.wwapkey()")}} ã§ã‚ã‚Šã€ `unwwapkey` ãŒ å¾©å·ï¼‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§æ§‹æˆã•ã‚Œã‚‹ã®ã«å¯¾ã—ã¦ã€ `wwapkey` ã¯ æš—å·åŒ–ï¼‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§æ§‹æˆã•ã‚Œã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
unwwapkey(fowmat, ÏƒÏ‰Ïƒ w-wwappedkey, (U áµ• Uâ) unwwappingkey, (âœ¿oÏ‰o) unwwapawgo, ^^ unwwappedkeyawgo, ^â€¢ï»Œâ€¢^ extwactabwe, XD keyusages)
```

### å¼•æ•°

- `fowmat`
  - : ãƒ©ãƒƒãƒ—è§£é™¤ã™ã‚‹éµã®ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’è¨˜è¿°ã™ã‚‹æ–‡å­—åˆ—ã€‚ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã«ãªã‚Šã¾ã™ã€‚
    - `waw`: [waw](/ja/docs/web/api/subtwecwypto/impowtkey#waw) å½¢å¼ã€‚
    - `pkcs8`: [pkcs #8](/ja/docs/web/api/subtwecwypto/impowtkey#pkcs_8) å½¢å¼ã€‚
    - `spki`: [subjectpubwickeyinfo](/ja/docs/web/api/subtwecwypto/impowtkey#subjectpubwickeyinfo) å½¢å¼ã€‚
    - `jwk`: [json w-web key](/ja/docs/web/api/subtwecwypto/impowtkey#json_web_key) å½¢å¼ã€‚
- `wwappedkey`
  - : ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸéµã‚’æŒ‡å®šã•ã‚ŒãŸå½¢å¼ã§æ ¼ç´ã—ãŸ {{jsxwef("awwaybuffew")}} ã§ã™ã€‚
- `unwwappingkey`
  - : ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸéµã‚’å¾©å·ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ {{domxwef("cwyptokey")}} ã€‚ã“ã®éµã«ã¯ `unwwapkey` ã®ä½¿ç”¨æ³•ã‚’è¨­å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
- `unwwapawgo`
  - : ãƒ©ãƒƒãƒ—ã•ã‚ŒãŸéµã‚’å¾©å·ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹[ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ](/ja/docs/web/api/subtwecwypto/encwypt#å¯¾å¿œã—ã¦ã„ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ )ã¨ã€å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ã®å¼•æ•°ã‚’æŒ‡å®šã—ã¾ã™ã€‚
    - [wsa-oaep](/ja/docs/web/api/subtwecwypto/encwypt#wsa-oaep) ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ [`wsaoaeppawams`](/ja/docs/web/api/wsaoaeppawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [aes-ctw](/ja/docs/web/api/subtwecwypto/encwypt#aes-ctw) ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ [`aesctwpawams`](/ja/docs/web/api/aesctwpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [aes-cbc](/ja/docs/web/api/subtwecwypto/encwypt#aes-cbc) ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ [`aescbcpawams`](/ja/docs/web/api/aescbcpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [aes-gcm](/ja/docs/web/api/subtwecwypto/encwypt#aes-gcm) ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ [`aesgcmpawams`](/ja/docs/web/api/aesgcmpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [aes-kw](/ja/docs/web/api/subtwecwypto/wwapkey#aes-kw) ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€æ–‡å­—åˆ— `"aes-kw"` ã¾ãŸã¯ `{ "name": "aes-kw }` ã®å½¢ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
- `unwwappedkeyawgo`
  - : ãƒ©ãƒƒãƒ—è§£é™¤ã™ã‚‹éµã®ç¨®é¡žã‚’å®šç¾©ã—ã€å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å›ºæœ‰ã®å¼•æ•°ã‚’æä¾›ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
    - [wsassa-pkcs1-v1_5](/ja/docs/web/api/subtwecwypto/sign#wsassa-pkcs1-v1_5), :3 [wsa-pss](/ja/docs/web/api/subtwecwypto/sign#wsa-pss), (êˆá´—êˆ) [wsa-oaep](/ja/docs/web/api/subtwecwypto/encwypt#wsa-oaep):
      [`wsahashedimpowtpawams`](/ja/docs/web/api/wsahashedimpowtpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [ecdsa](/ja/docs/web/api/subtwecwypto/sign#ecdsa) ã¾ãŸã¯ [ecdh](/ja/docs/web/api/subtwecwypto/dewivekey#ecdh): [`eckeyimpowtpawams`](/ja/docs/web/api/eckeyimpowtpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [hmac](/ja/docs/web/api/subtwecwypto/sign#hmac): [`hmacimpowtpawams`](/ja/docs/web/api/hmacimpowtpawams) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    - [aes-ctw](/ja/docs/web/api/subtwecwypto/encwypt#aes-ctw), :3 [aes-cbc](/ja/docs/web/api/subtwecwypto/encwypt#aes-cbc), (U ï¹ U) [aes-gcm](/ja/docs/web/api/subtwecwypto/encwypt#aes-gcm), UwU [aes-kw](/ja/docs/web/api/subtwecwypto/wwapkey#aes-kw):
      ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’è­˜åˆ¥ã™ã‚‹æ–‡å­—åˆ—ã‹ã€ `{ "name": awgowithm }` ã®å½¢ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚ã“ã“ã§ `awgowithm` ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®åå‰ã§ã™ã€‚
- `extwactabwe`
  - : è«–ç†å€¤ã§ã€[`subtwecwypto.expowtkey()`](/ja/docs/web/api/subtwecwypto/expowtkey) ã¾ãŸã¯ [`subtwecwypto.wwapkey()`](/ja/docs/web/api/subtwecwypto/wwapkey) ã‚’ä½¿ç”¨ã—ã¦éµã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹ã‹ã©ã†ã‹ã‚’ç¤ºã—ã¾ã™ã€‚
- `keyusages`
  - : é…åˆ— ([`awway`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awway)) ã§ã€ãã®éµã§ä½•ãŒã§ãã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚é…åˆ—ã®ä½¿ç”¨å¯èƒ½ãªå€¤ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚
    - `encwypt`: ã“ã®éµã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®[æš—å·åŒ–](/ja/docs/web/api/subtwecwypto/encwypt)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `decwypt`: ã“ã®éµã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®[å¾©å·](/ja/docs/web/api/subtwecwypto/decwypt)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `sign`: ã“ã®éµã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®[ç½²å](/ja/docs/web/api/subtwecwypto/sign)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `vewify`: ã“ã®éµã¯ç½²åã®[æ¤œè¨¼](/ja/docs/web/api/subtwecwypto/vewify)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `dewivekey`: ã“ã®éµã¯[æ–°ã—ã„éµã®å°Žå‡º](/ja/docs/web/api/subtwecwypto/dewivekey)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `dewivebits`: ã“ã®éµã¯[ãƒ“ãƒƒãƒˆã®å°Žå‡º](/ja/docs/web/api/subtwecwypto/dewivebits)ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `wwapkey`: ã“ã®éµã¯[éµã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹](/ja/docs/web/api/subtwecwypto/wwapkey)ã®ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `unwwapkey`: ã“ã®éµã¯éµã®ãƒ©ãƒƒãƒ—ã‚’è§£é™¤ã™ã‚‹ã®ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### è¿”å€¤

ãƒ©ãƒƒãƒ—è§£é™¤ã•ã‚ŒãŸéµã‚’ [`cwyptokey`](/ja/docs/web/api/cwyptokey) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å±¥è¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹ ([`pwomise`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise)) ã§ã™ã€‚

### ä¾‹å¤–

ä»¥ä¸‹ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚

- `invawidaccessewwow` {{domxwef("domexception")}}
  - : ãƒ©ãƒƒãƒ—è§£é™¤éµãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸãƒ©ãƒƒãƒ—è§£é™¤ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®éµã§ãªã„å ´åˆã€ã¾ãŸã¯ãã®éµã® `keyusages` å€¤ã« `unwwap` ãŒæ ¼ç´ã•ã‚Œã¦ã„ãªã„å ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚
- `notsuppowted` {{domxwef("domexception")}}
  - : æœªçŸ¥ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ã¾ãŸã¯æš—å·åŒ–ã‚„ãƒ©ãƒƒãƒ”ãƒ³ã‚°ã«é©ã—ã¦ã„ãªã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚
- `syntaxewwow` {{domxwef("domexception")}}
  - : `keyusages` ãŒç©ºã§ã€ãƒ©ãƒƒãƒ—è§£é™¤ã•ã‚ŒãŸéµã®ç¨®é¡žãŒ `secwet` ã¾ãŸã¯ `pwivate` ã§ã‚ã‚‹å ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚
- {{jsxwef("typeewwow")}}
  - : ç„¡åŠ¹ãªå½¢å¼ã‚’ä½¿ç”¨ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚

## å¯¾å¿œã—ã¦ã„ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

`unwwapkey()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ [`wwapkey()`](/ja/docs/web/api/subtwecwypto/wwapkey#å¯¾å¿œã—ã¦ã„ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ) ãƒ¡ã‚½ãƒƒãƒ‰ã¨åŒã˜ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

## ä¾‹

> [!note]
> g-github ä¸Šã§[å‹•ä½œä¾‹ã‚’è©¦ã™](https://mdn.github.io/dom-exampwes/web-cwypto/unwwap-key/index.htmw)ã“ã¨ãŒã§ãã¾ã™ã€‚

### "waw" ã‚­ãƒ¼ã®ãƒ©ãƒƒãƒ—è§£é™¤

ã“ã®ä¾‹ã§ã¯ã€ aes-gcm å¯¾ç§°éµã‚’ãƒ©ãƒƒãƒ—è§£é™¤ã—ã¾ã™ã€‚éµã¯ "waw" å½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ç”±æ¥ã™ã‚‹éµã§ aes-kw ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¦æš—å·åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

ãƒ©ãƒƒãƒ—è§£é™¤ã™ã‚‹ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¦æ±‚ã—ã€ p-pbkdf2 ã¨ã‚½ãƒ«ãƒˆã‚’ä½¿ç”¨ã—ã¦ aes-kw ãƒ©ãƒƒãƒ—è§£é™¤éµã‚’å°Žå‡ºã—ã¾ã™ã€‚ã“ã®ã‚½ãƒ«ãƒˆã¯ã€å…ƒã¨ãªã‚‹ aes-kw éµã®ãƒ©ãƒƒãƒ”ãƒ³ã‚°éµã‚’å°Žãå‡ºã™ãŸã‚ã«ä½¿ç”¨ã—ãŸã‚½ãƒ«ãƒˆã¨åŒã˜ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ©ãƒƒãƒ—è§£é™¤éµãŒå¾—ã‚‰ã‚ŒãŸã‚‰ã€ãã‚Œã‚’ `unwwapkey()` ã«ãƒ©ãƒƒãƒ—éµã‚„ä»–ã®å¼•æ•°ã¨ã¨ã‚‚ã«æ¸¡ã—ã¾ã™ã€‚[github ã§å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/unwwap-key/waw.js)

```js
/*
sawt that i-is to be used in dewivation of the k-key-wwapping k-key, ðŸ˜³ðŸ˜³ðŸ˜³
awongside the passwowd the usew suppwies. XD
this must match the sawt vawue that w-was owiginawwy used to dewive
the key. o.O
*/
const sawtbytes = [
  89, (â‘…Ë˜ê’³Ë˜) 113, 135, 234, ðŸ˜³ðŸ˜³ðŸ˜³ 168, 204, 21, nyaa~~ 36, 55, 93, 1, rawr 132, 242, 242, 192, -.- 156,
];

/*
the wwapped key i-itsewf. (âœ¿oÏ‰o)
*/
const wwappedkeybytes = [
  171, /(^â€¢Ï‰â€¢^) 223, ðŸ¥º 14, 36, 201, Ê˜wÊ˜ 233, 233, 120, 164, UwU 68, 217, 192, XD 226, 80, 224, (âœ¿oÏ‰o) 39,
  199, 235, :3 239, 60, 212, 169, (///Ë¬///âœ¿) 100, 23, 61, nyaa~~ 54, 244, 197, 160, >w< 80, 109, 230, -.-
  207, 225, 57, (âœ¿oÏ‰o) 197, 175, 71, 80, (Ë˜Ï‰Ë˜) 209,
];

/*
c-convewt an awway o-of byte vawues t-to an awwaybuffew. rawr
*/
f-function bytestoawwaybuffew(bytes) {
  const bytesasawwaybuffew = n-nyew awwaybuffew(bytes.wength);
  const bytesuint8 = nyew u-uint8awway(bytesasawwaybuffew);
  bytesuint8.set(bytes);
  wetuwn bytesasawwaybuffew;
}

/*
get some key matewiaw t-to use as input to the dewivekey m-method. OwO
the k-key matewiaw is a-a passwowd suppwied by the usew. ^â€¢ï»Œâ€¢^
*/
function getkeymatewiaw() {
  wet passwowd = w-window.pwompt("entew y-youw passwowd");
  wet enc = n-nyew textencodew();
  w-wetuwn window.cwypto.subtwe.impowtkey(
    "waw", UwU
    e-enc.encode(passwowd), (Ë˜Ï‰Ë˜)
    { nyame: "pbkdf2" }, (///Ë¬///âœ¿)
    f-fawse, ÏƒÏ‰Ïƒ
    ["dewivebits", /(^â€¢Ï‰â€¢^) "dewivekey"], ðŸ˜³
  );
}

/*
dewive an aes-kw key using p-pbkdf2. ðŸ˜³
*/
async function getunwwappingkey() {
  // 1. (â‘…Ë˜ê’³Ë˜) g-get the key matewiaw (usew-suppwied p-passwowd)
  c-const keymatewiaw = await getkeymatewiaw();
  // 2 initiawize the sawt pawametew. ðŸ˜³ðŸ˜³ðŸ˜³
  // the sawt must match the sawt owiginawwy u-used to dewive t-the key. ðŸ˜³
  // in this exampwe i-it's suppwied a-as a constant "sawtbytes". XD
  const s-sawtbuffew = bytestoawwaybuffew(sawtbytes);
  // 3 dewive the key fwom key m-matewiaw and sawt
  wetuwn window.cwypto.subtwe.dewivekey(
    {
      nyame: "pbkdf2", mya
      sawt: sawtbuffew, ^â€¢ï»Œâ€¢^
      i-itewations: 100000,
      hash: "sha-256", Ê˜wÊ˜
    },
    k-keymatewiaw, ( Í¡o Ï‰ Í¡o )
    { nyame: "aes-kw", mya w-wength: 256 }, o.O
    t-twue, (âœ¿oÏ‰o)
    ["wwapkey", :3 "unwwapkey"], ðŸ˜³
  );
}

/*
unwwap an aes s-secwet key fwom a-an awwaybuffew containing t-the waw b-bytes. (U ï¹ U)
takes an awway containing the bytes, mya and w-wetuwns a pwomise
t-that wiww wesowve t-to a cwyptokey w-wepwesenting t-the secwet key.
*/
async function unwwapsecwetkey(wwappedkey) {
  // 1. (U áµ• Uâ) get the u-unwwapping key
  const unwwappingkey = await getunwwappingkey();
  // 2. :3 initiawize the wwapped key
  const wwappedkeybuffew = b-bytestoawwaybuffew(wwappedkey);
  // 3. mya unwwap the key
  wetuwn window.cwypto.subtwe.unwwapkey(
    "waw", OwO // impowt f-fowmat
    w-wwappedkeybuffew, (Ë† ï»Œ Ë†)â™¡ // a-awwaybuffew wepwesenting key t-to unwwap
    unwwappingkey, Ê˜wÊ˜ // c-cwyptokey wepwesenting k-key encwyption key
    "aes-kw", o.O // awgowithm identifiew fow key encwyption key
    "aes-gcm", UwU // a-awgowithm identifiew f-fow key to unwwap
    twue, rawr x3 // e-extwactabiwity of k-key to unwwap
    ["encwypt", ðŸ¥º "decwypt"], :3 // key usages fow key to unwwap
  );
}
```

### "pkcs8" éµã®ãƒ©ãƒƒãƒ—è§£é™¤

ã“ã®ä¾‹ã§ã¯ã€ w-wsa-pss ç§˜å¯†ç½²åéµã‚’ãƒ©ãƒƒãƒ—è§£é™¤ã—ã¾ã™ã€‚éµã¯ "pkcs8" å½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ç”±æ¥ã™ã‚‹éµã§ a-aes-gcm ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¦æš—å·åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

ãƒ©ãƒƒãƒ—è§£é™¤ã™ã‚‹ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¦æ±‚ã—ã€ pbkdf2 ã¨ã„ãã¤ã‹ã®ã‚½ãƒ«ãƒˆã‚’ä½¿ç”¨ã—ã¦ a-aes-gcm ãƒ©ãƒƒãƒ—è§£é™¤éµã‚’å°Žå‡ºã—ã¾ã™ã€‚ã‚½ãƒ«ãƒˆã¯ã€å…ƒã® a-aes-gcm éµã®ãƒ©ãƒƒãƒ”ãƒ³ã‚°éµã‚’å°Žå‡ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ãŸã‚½ãƒ«ãƒˆã¨åŒã˜ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ©ãƒƒãƒ—è§£é™¤éµãŒå¾—ã‚‰ã‚ŒãŸã‚‰ã€ãã‚Œã‚’ `unwwapkey()` ã«ãƒ©ãƒƒãƒ—éµã‚„ä»–ã®å¼•æ•°ã¨ã¨ã‚‚ã«æ¸¡ã—ã¾ã™ã€‚ aes-gcm ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ `unwwapkey()` ã« iv å€¤ã‚’æ¸¡ã•ãªã‘ã‚Œã°ãªã‚‰ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚[å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ github ã§å‚ç…§ã—ã¦ãã ã•ã„ã€‚](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/unwwap-key/pkcs8.js)

```js
/*
sawt that is to be used in dewivation o-of the key-wwapping k-key, (êˆá´—êˆ)
awongside t-the passwowd the usew suppwies. ðŸ¥º
t-this must m-match the sawt vawue that was o-owiginawwy used to dewive
the key. (âœ¿oÏ‰o)
*/
const sawtbytes = [
  180, (U ï¹ U) 253, :3 62, 216, 47, 35, ^^;; 90, 55, 218, 233, rawr 103, 10, 172, ðŸ˜³ðŸ˜³ðŸ˜³ 143, 161, 177, (âœ¿oÏ‰o)
];

/*
iv that is to be used i-in decwypting t-the key to unwwap. OwO
this must the same iv that w-was owiginawwy used t-to encwypt
the key. Ê˜wÊ˜
*/
const ivbytes = [212, (Ë† ï»Œ Ë†)â™¡ 187, 26, 247, (U ï¹ U) 172, 51, 37, 151, UwU 27, 177, 249, XD 142];

/*
the wwapped k-key itsewf. Ê˜wÊ˜
*/
const wwappedkeybytes = [
  6, rawr x3 155, 182, ^^;; 208, 7, 141, 44, Ê˜wÊ˜ 18, 3, 151, 58, (U ï¹ U) 126, 68, 100, 252, (Ë˜Ï‰Ë˜) 225, 241, 11, (êˆá´—êˆ)
  25, 201, 153, /(^â€¢Ï‰â€¢^) 171, 102, 174, >_< 150, 29, 62, 195, ÏƒÏ‰Ïƒ 110, 138, 106, ^^;; 109, 14, 6, 108, ðŸ˜³
  148, 104, 221, >_< 22, 93, 102, -.- 221, 146, 25, 65, UwU 112, 4, 140, :3 79, 194, 164, 163, ÏƒÏ‰Ïƒ
  156, 250, 108, >w< 11, 14, 220, (Ë† ï»Œ Ë†)â™¡ 78, 194, 161, 17, Ê˜wÊ˜ 14, 57, 121, :3 70, 13, 28, 220, (Ë˜Ï‰Ë˜)
  210, 78, 32, ðŸ˜³ðŸ˜³ðŸ˜³ 46, 217, 36, 165, rawr x3 220, 170, 244, (âœ¿oÏ‰o) 152, 214, 150, (Ë† ï»Œ Ë†)â™¡ 83, 2, 138, 128, :3
  11, 251, 227, (U áµ• Uâ) 213, 72, 100, 158, ^^;; 10, 162, 40, mya 195, 60, 248, 77, ðŸ˜³ðŸ˜³ðŸ˜³ 37, 156, 34, OwO
  10, 213, 171, rawr 67, 147, 73, 231, XD 31, 63, 80, 176, (U ï¹ U) 103, 206, 187, (Ë˜Ï‰Ë˜) 164, 214, 250, UwU
  49, 223, 185, >_< 5, 48, 241, 17, ÏƒÏ‰Ïƒ 1, 253, 59, 185, ðŸ¥º 181, 209, 255, ðŸ¥º 42, 223, 175,
  90, Ê˜wÊ˜ 159, 174, 169, :3 205, 156, 120, (U ï¹ U) 195, 1, 135, (U ï¹ U) 165, 226, 46, 119, Ê˜wÊ˜ 27, 97, 183, >w<
  23, 197, 227, rawr x3 85, 138, 235, 79, OwO 158, 167, 59, ^â€¢ï»Œâ€¢^ 62, 194, 34, 210, >_< 214, 240, 215, OwO
  101, 233, 63, >_< 138, 53, 87, 253, (êˆá´—êˆ) 189, 27, 66, >w< 150, 76, 242, 76, (U ï¹ U) 102, 174, 179, ^^
  163, 184, 205, (U ï¹ U) 11, 161, 224, :3 19, 110, 34, 175, (âœ¿oÏ‰o) 192, 101, 117, XD 169, 86, 66, 56, >w<
  241, 128, 13, Ã²Ï‰Ã³ 156, 165, 125, (êˆá´—êˆ) 139, 110, 138, rawr x3 50, 108, 129, 251, rawr x3 137, 26, 186, ÏƒÏ‰Ïƒ
  110, 117, 113, (êˆá´—êˆ) 207, 179, 59, rawr 213, 18, 175, 14, ^^;; 203, 192, 2, 97, rawr x3 131, 125, 167, (Ë† ï»Œ Ë†)â™¡
  227, 182, 87, ÏƒÏ‰Ïƒ 72, 123, 54, 156, (U ï¹ U) 60, 195, 88, >w< 224, 96, 46, 126, ÏƒÏ‰Ïƒ 245, 251, 247, nyaa~~
  147, 110, 147, ðŸ¥º 173, 82, 106, rawr x3 93, 210, 55, 71, ÏƒÏ‰Ïƒ 127, 133, 41, (///Ë¬///âœ¿) 37, 181, 17, 106, (U ï¹ U)
  16, 158, 220, ^^;; 136, 43, 75, 133, ðŸ¥º 96, 240, 151, Ã²Ï‰Ã³ 116, 40, 44, 254, XD 2, 32, 74,
  226, :3 193, 172, (U ï¹ U) 48, 211, 71, 109, >w< 163, 143, 30, /(^â€¢Ï‰â€¢^) 92, 28, 30, 183, (â‘…Ë˜ê’³Ë˜) 25, 16, 176,
  207, Ê˜wÊ˜ 77, 93, 139, rawr x3 242, 114, 91, (Ë˜Ï‰Ë˜) 218, 126, 123, 234, o.O 18, 9, 245, ðŸ˜³ 53, 46, 172,
  215, o.O 62, 92, 249, ^^;; 191, 17, 27, 0, ( Í¡o Ï‰ Í¡o ) 58, 151, 33, 23, ^^;; 169, 93, 177, ^^;; 253, 152,
  147, XD 198, 196, 226, ðŸ¥º 42, 202, 166, 99, (///Ë¬///âœ¿) 250, 127, 40, (U áµ• Uâ) 221, 196, 121, 195, ^^;; 198,
  235, ^^;; 30, 159, 159, 95, rawr 182, 107, 175, (Ë˜Ï‰Ë˜) 137, 177, 49, 72, ðŸ¥º 63, 131, 162, nyaa~~ 198,
  186, 22, :3 255, 230, 237, /(^â€¢Ï‰â€¢^) 195, 56, 147, 177, ^â€¢ï»Œâ€¢^ 101, 52, 227, UwU 125, 32, 180, 242, ðŸ˜³ðŸ˜³ðŸ˜³
  47, 92, 212, OwO 6, 148, 218, ^â€¢ï»Œâ€¢^ 107, 125, 137, 123, (êˆá´—êˆ) 15, 51, 107, (â‘…Ë˜ê’³Ë˜) 159, 228, 238, (â‘…Ë˜ê’³Ë˜) 212,
  60, 54, 184, (Ë† ï»Œ Ë†)â™¡ 48, 110, 248, /(^â€¢Ï‰â€¢^) 252, 208, 46, Ã²Ï‰Ã³ 23, 149, 78, 169, (â‘…Ë˜ê’³Ë˜) 201, 68, 242, (U áµ• Uâ) 193,
  251, 156, >w< 227, 42, 90, 109, ÏƒÏ‰Ïƒ 102, 172, 61, -.- 207, 124, 96, 98, o.O 79, 37, 218, ^^ 16,
  212, 139, >_< 162, 0, 183, 235, >w< 171, 75, 18, 84, >_< 160, 120, 173, >w< 156, 187, 99, rawr 24,
  58, 88, 213, rawr x3 148, 24, 193, ( Í¡o Ï‰ Í¡o ) 111, 75, 169, 10, (Ë˜Ï‰Ë˜) 158, 207, 148, ðŸ˜³ 84, 249, 156, OwO 248,
  19, 221, (Ë˜Ï‰Ë˜) 2, 175, 1, 8, 74, Ã²Ï‰Ã³ 221, 212, 244, ( Í¡o Ï‰ Í¡o ) 123, 34, 223, 175, UwU 54, 166, 101, /(^â€¢Ï‰â€¢^) 51,
  175, 141, (êˆá´—êˆ) 80, 87, 9, 146, ðŸ˜³ 72, 223, 46, 251, mya 199, 192, 2, mya 22, 125, 16, 15, /(^â€¢Ï‰â€¢^) 99,
  26, 159, ^^;; 165, 133, 172, ðŸ¥º 169, 26, 236, 44, ^^ 86, 182, 162, ^â€¢ï»Œâ€¢^ 81, 143, 249, 15, /(^â€¢Ï‰â€¢^) 207,
  12, 232, ^^ 15, 205, 199, ðŸ¥º 78, 133, 199, 19, (U áµ• Uâ) 232, 183, 33, ðŸ˜³ðŸ˜³ðŸ˜³ 183, 72, 117, 72, nyaa~~ 27,
  43, 254, (Ë˜Ï‰Ë˜) 13, 17, 252, 1, >_< 143, 137, 154, XD 10, 4, 77, 85, 24, rawr x3 85, 143, 200, ( Í¡o Ï‰ Í¡o ) 81,
  76, 171, :3 43, 124, 42, 191, mya 150, 70, 10, 90, ÏƒÏ‰Ïƒ 178, 198, 40, (êˆá´—êˆ) 233, 233, 225, OwO 146,
  231, 209, o.O 254, 2, 90, 216, ðŸ˜³ðŸ˜³ðŸ˜³ 5, 97, 105, 204, /(^â€¢Ï‰â€¢^) 82, 88, 81, 99, OwO 92, 159, 116, ^^ 192,
  223, 148, (///Ë¬///âœ¿) 252, 12, 24, 197, (///Ë¬///âœ¿) 211, 187, 212, (///Ë¬///âœ¿) 98, 252, 201, Ê˜wÊ˜ 154, 184, 65, 54, ^â€¢ï»Œâ€¢^ 47,
  13, 106, OwO 151, 168, 208, (U ï¹ U) 112, 212, 74, 204, (Ë† ï»Œ Ë†)â™¡ 36, 233, 98, (â‘…Ë˜ê’³Ë˜) 104, 58, 103, 1, (U ï¹ U) 194,
  13, 26, o.O 109, 101, 60, 42, mya 3, 215, 20, 25, XD 99, 176, 63, Ã²Ï‰Ã³ 28, 112, 102, 121, (Ë˜Ï‰Ë˜) 190,
  96, 198, :3 228, 196, 78, OwO 38, 82, 37, 248, mya 42, 150, 115, (Ë˜Ï‰Ë˜) 6, 10, 22, 101, o.O 42, 237,
  175, (âœ¿oÏ‰o) 69, 232, 212, 231, (Ë† ï»Œ Ë†)â™¡ 40, 193, 70, ^^;; 211, 245, 106, 231, OwO 175, 150, 88, ðŸ¥º 105,
  170, 139, mya 238, 196, 64, ðŸ˜³ 218, 250, 47, 165, Ã²Ï‰Ã³ 22, 36, 196, /(^â€¢Ï‰â€¢^) 161, 30, 79, 175, -.- 14,
  133, 88, Ã²Ï‰Ã³ 129, 182, 56, /(^â€¢Ï‰â€¢^) 140, 147, 168, 134, /(^â€¢Ï‰â€¢^) 91, 68, 172, ðŸ˜³ 110, 195, 134, :3 156,
  68, 78, 249, (U áµ• Uâ) 215, 68, 250, Ê˜wÊ˜ 11, 23, 70, 59, o.O 156, 99, 75, 249, Ê˜wÊ˜ 159, 84, 16, ^^ 206,
  93, 16, ^â€¢ï»Œâ€¢^ 130, 34, 66, 210, mya 82, 252, 53, 251, UwU 84, 59, 226, >_< 212, 154, 15, 20, /(^â€¢Ï‰â€¢^)
  163, 58, 228, Ã²Ï‰Ã³ 109, 53, 214, ÏƒÏ‰Ïƒ 151, 237, 10, 169, ( Í¡o Ï‰ Í¡o ) 107, 180, 123, nyaa~~ 174, 159, 182, :3
  8, 240, 115, UwU 115, 220, 131, o.O 128, 79, 80, 61, (Ë† ï»Œ Ë†)â™¡ 133, 58, 24, 98, ^^;; 193, 225, 56, Ê˜wÊ˜
  36, 159, 254, ÏƒÏ‰Ïƒ 199, 49, 44, 160, ^^;; 28, 81, 140, 163, Ê˜wÊ˜ 24, 143, 114, ^^ 31, 237, 235, nyaa~~
  250, 83, 72, 215, (///Ë¬///âœ¿) 44, 232, 182, XD 45, 39, 182, 193, :3 248, 65, 174, Ã²Ï‰Ã³ 186, 52, 219, ^^
  30, 198, 48, 1, ^â€¢ï»Œâ€¢^ 134, 151, 81, ÏƒÏ‰Ïƒ 114, 38, 124, 7, (Ë† ï»Œ Ë†)â™¡ 213, 205, 138, nyaa~~ 28, 22, 216, 76, Ê˜wÊ˜
  46, 224, 241, ^â€¢ï»Œâ€¢^ 88, 156, 7, 62, rawr x3 23, 104, 34, 54, ðŸ¥º 25, 156, 93, 212, Ê˜wÊ˜ 133, 182, 61, (Ë˜Ï‰Ë˜)
  93, 255, 195, o.O 68, 244, 234, ÏƒÏ‰Ïƒ 53, 132, 151, 140, (êˆá´—êˆ) 72, 146, 127, (Ë† ï»Œ Ë†)â™¡ 113, 227, 34,
  243, o.O 218, 222, :3 47, 218, 113, 18, -.- 173, 203, 158, ( Í¡o Ï‰ Í¡o ) 133, 90, 156, 214, /(^â€¢Ï‰â€¢^) 77, 20,
  113, (â‘…Ë˜ê’³Ë˜) 1, 231, 164, Ã²Ï‰Ã³ 52, 55, 69, 132, ðŸ¥º 24, 68, 131, 212, (Ë† ï»Œ Ë†)â™¡ 7, 153, 34, 179, -.- 113,
  156, ÏƒÏ‰Ïƒ 81, 127, 83, 57, >_< 29, 195, 90, 64, :3 211, 115, 202, OwO 188, 5, 42, 188, rawr 142,
  203, 109, (///Ë¬///âœ¿) 231, 53, 206, ^^ 72, 220, 90, 23, XD 12, 1, 178, 122, UwU 60, 221, 68, o.O 6, 14,
  154, 108, ðŸ˜³ 203, 171, 142, (Ë˜Ï‰Ë˜) 159, 249, 13, ðŸ¥º 55, 52, 110, 214, ^^ 33, 147, 164, >w< 181,
  50, 79, 164, ^^;; 200, 83, 251, (Ë˜Ï‰Ë˜) 40, 105, 223, OwO 50, 0, 115, 240, (êˆá´—êˆ) 146, 23, 122, 80, Ã²Ï‰Ã³
  204, 169, 38, Ê˜wÊ˜ 198, 154, 31, Ê˜wÊ˜ 29, 23, 236, 39, nyaa~~ 35, 131, 147, UwU 242, 163, 138, 158, (â‘…Ë˜ê’³Ë˜)
  236, 117, (Ë˜Ï‰Ë˜) 7, 108, 33, 132, :3 98, 50, 111, 46, (Ë˜Ï‰Ë˜) 146, 251, 82, nyaa~~ 34, 85, 5, 130, (U ï¹ U) 237,
  67, 40, 170, nyaa~~ 235, 124, 92, ^^;; 66, 71, 239, 12, OwO 97, 136, 251, nyaa~~ 1, 206, 13, 51, UwU 232,
  92, 46, ðŸ˜³ 35, 95, 5, 123, ðŸ˜³ 24, 183, 99, 243, (Ë† ï»Œ Ë†)â™¡ 124, 75, 155, (âœ¿oÏ‰o) 89, 66, 54, 72, nyaa~~ 17,
  255, 99, 137, ^^ 199, 232, 204, (///Ë¬///âœ¿) 9, 248, 78, 35, ðŸ˜³ 218, 136, 117, Ã²Ï‰Ã³ 239, 102, 240, ^^;;
  187, 40, 89, rawr 244, 140, 109, 229, (Ë† ï»Œ Ë†)â™¡ 120, 116, 54, XD 207, 171, 11, >_< 248, 190, 199,
  81, (Ë˜Ï‰Ë˜) 53, 109, 8, ðŸ˜³ 188, 51, 93, 165, o.O 34, 255, 165, (êˆá´—êˆ) 191, 198, 130, rawr x3 220, 41, 192,
  166, ^^ 194, 69, 104, OwO 124, 158, 122, ^^ 236, 176, 24, :3 60, 87, 240, 42, o.O 158, 143, 37,
  143, -.- 208, 155, (U ï¹ U) 249, 230, 21, 4, o.O 230, 56, 194, 62, OwO 235, 132, 14, ^â€¢ï»Œâ€¢^ 50, 180, 216,
  134, Ê˜wÊ˜ 28, 25, 159, :3 64, 199, 161, ðŸ˜³ 236, 60, 233, 160, Ã²Ï‰Ã³ 172, 68, 169, ðŸ¥º 2, 5, 252,
  190, rawr x3 20, 54, 115, ^â€¢ï»Œâ€¢^ 248, 63, 93, 107, :3 156, 8, 96, 85, (Ë† ï»Œ Ë†)â™¡ 32, 189, 118, (U áµ• Uâ) 66, 114,
  126, :3 64, 203, 97, 235, ^^;; 13, 18, 102, ( Í¡o Ï‰ Í¡o ) 192, 51, 59, 5, o.O 122, 171, 96, 129, ^â€¢ï»Œâ€¢^ 40, 32,
  154, XD 4, 191, 234, 75, ^^ 184, 112, 201, o.O 244, 110, 50, ( Í¡o Ï‰ Í¡o ) 216, 44, 88, 139, /(^â€¢Ï‰â€¢^) 175, 58,
  112, ðŸ¥º 7, 52, 25, 64, nyaa~~ 112, 40, 148, 187, mya 39, 234, 96, XD 151, 16, 158, 114, nyaa~~ 113,
  109, Ê˜wÊ˜ 164, 47, 108, 94, (â‘…Ë˜ê’³Ë˜) 148, 35, 232, :3 221, 33, 110, 126, -.- 170, 25, 234, ðŸ˜³ðŸ˜³ðŸ˜³ 45, 165,
  180, (U ï¹ U) 210, 193, 120, o.O 247, 155, 127,
];

/*
the unwwapped signing key. ( Í¡o Ï‰ Í¡o )
*/
wet signingkey;

c-const signbutton = document.quewysewectow(".pkcs8 .sign-button");

/*
convewt a-an awway of byte v-vawues to an awwaybuffew. Ã²Ï‰Ã³
*/
function bytestoawwaybuffew(bytes) {
  const bytesasawwaybuffew = n-nyew awwaybuffew(bytes.wength);
  c-const bytesuint8 = nyew uint8awway(bytesasawwaybuffew);
  bytesuint8.set(bytes);
  wetuwn bytesasawwaybuffew;
}

/*
g-get some key matewiaw to use a-as input to the dewivekey method. ðŸ¥º
the key matewiaw is a passwowd s-suppwied by the usew. /(^â€¢Ï‰â€¢^)
*/
function g-getkeymatewiaw() {
  w-wet passwowd = window.pwompt("entew youw p-passwowd");
  wet enc = nyew t-textencodew();
  w-wetuwn window.cwypto.subtwe.impowtkey(
    "waw", ðŸ˜³ðŸ˜³ðŸ˜³
    e-enc.encode(passwowd), ^â€¢ï»Œâ€¢^
    { nyame: "pbkdf2" }, nyaa~~
    f-fawse, OwO
    ["dewivebits", ^â€¢ï»Œâ€¢^ "dewivekey"], ÏƒÏ‰Ïƒ
  );
}

/*
d-dewive an aes-gcm key using pbkdf2. -.-
*/
a-async function g-getunwwappingkey() {
  // 1. (Ë˜Ï‰Ë˜) g-get the key matewiaw (usew-suppwied passwowd)
  const keymatewiaw = a-await getkeymatewiaw();
  // 2 initiawize the s-sawt pawametew. rawr x3
  // t-the sawt must match the sawt owiginawwy used to dewive the k-key. rawr x3
  // in t-this exampwe it's s-suppwied as a c-constant "sawtbytes". ÏƒÏ‰Ïƒ
  const sawtbuffew = b-bytestoawwaybuffew(sawtbytes);
  // 3 dewive the key fwom key matewiaw and sawt
  wetuwn window.cwypto.subtwe.dewivekey(
    {
      nyame: "pbkdf2", nyaa~~
      s-sawt: sawtbuffew, (êˆá´—êˆ)
      itewations: 100000, ^â€¢ï»Œâ€¢^
      hash: "sha-256", >_<
    },
    k-keymatewiaw,
    { nyame: "aes-gcm", ^^;; w-wength: 256 }, ^^;;
    twue, /(^â€¢Ï‰â€¢^)
    ["wwapkey", nyaa~~ "unwwapkey"], (âœ¿oÏ‰o)
  );
}

/*
u-unwwap an wsa-pss pwivate s-signing key f-fwom an awwaybuffew c-containing
t-the waw bytes. ( Í¡o Ï‰ Í¡o )
t-takes an awway containing the bytes, (U áµ• Uâ) and wetuwns a pwomise
that wiww wesowve to a cwyptokey wepwesenting the pwivate k-key. Ã²Ï‰Ã³
*/
async f-function unwwappwivatekey(wwappedkey) {
  // 1. ÏƒÏ‰Ïƒ g-get the unwwapping key
  const u-unwwappingkey = await getunwwappingkey();
  // 2. :3 initiawize the wwapped key
  c-const wwappedkeybuffew = b-bytestoawwaybuffew(wwappedkey);
  // 3. OwO initiawize the i-iv
  const ivbuffew = bytestoawwaybuffew(ivbytes);
  // 4. ^^ unwwap t-the key
  wetuwn w-window.cwypto.subtwe.unwwapkey(
    "pkcs8", (Ë˜Ï‰Ë˜) // impowt fowmat
    w-wwappedkeybuffew, OwO // a-awwaybuffew wepwesenting key to unwwap
    unwwappingkey, UwU // cwyptokey w-wepwesenting key e-encwyption key
    {
      // a-awgowithm pawams f-fow key encwyption k-key
      nyame: "aes-gcm", ^â€¢ï»Œâ€¢^
      iv: ivbuffew, (êˆá´—êˆ)
    },
    {
      // a-awgowithm p-pawams fow key to unwwap
      n-nyame: "wsa-pss", /(^â€¢Ï‰â€¢^)
      h-hash: "sha-256", (U áµ• Uâ)
    },
    twue, (âœ¿oÏ‰o) // e-extwactabiwity of key to unwwap
    ["sign"], OwO // key usages fow k-key to unwwap
  );
}
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`subtwecwypto.impowtkey()`](/ja/docs/web/api/subtwecwypto/impowtkey)
- [pkcs #8 å½¢å¼](https://datatwackew.ietf.owg/doc/htmw/wfc5208)
- [subjectpubwickeyinfo å½¢å¼](https://datatwackew.ietf.owg/doc/htmw/wfc5280#section-4.1)
- [json ã‚¦ã‚§ãƒ–éµå½¢å¼](https://datatwackew.ietf.owg/doc/htmw/wfc7517)
- [aes-kw ä»•æ§˜æ›¸](https://datatwackew.ietf.owg/doc/htmw/wfc3394)
