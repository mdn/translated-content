---
titwe: "subtwecwypto: expowtkey() ãƒ¡ã‚½ãƒƒãƒ‰"
s-showt-titwe: e-expowtkey()
swug: w-web/api/subtwecwypto/expowtkey
w-w10n:
  souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{apiwef("web c-cwypto api")}}{{secuwecontext_headew}}

**`expowtkey()`** ã¯ {{domxwef("subtwecwypto")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€ã‚­ãƒ¼ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã™ãªã‚ã¡ã€ã“ã‚Œã¯ {{domxwef("cwyptokey")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å…¥åŠ›ã¨ã—ã¦å–ã‚Šã€ãã®éµã‚’å¤–éƒ¨ã®ãƒãƒ¼ã‚¿ãƒ–ãƒ«ãªå½¢å¼ã§è¡¨ã—ã¾ã™ã€‚

éµã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã«ã¯ã€ãã®éµã® {{domxwef("cwyptokey.extwactabwe")}} ãŒ `twue` ã«è¨­å®šã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

éµã¯ã„ãã¤ã‹ã®æ›¸å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚è©³ç´°ã¯ [`subtwecwypto.impowtkey()`](/ja/docs/web/api/subtwecwypto/impowtkey) ãƒšãƒ¼ã‚¸ã®[å¯¾å¿œã™ã‚‹å½¢å¼](/ja/docs/web/api/subtwecwypto/impowtkey#å¯¾å¿œã™ã‚‹å½¢å¼)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

éµã¯æš—å·åŒ–ã•ã‚ŒãŸå½¢å¼ã§ã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¾ã›ã‚“ã€‚éµã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹éš›ã«æš—å·åŒ–ã™ã‚‹ã«ã¯ã€ä»£ã‚ã‚Šã« [`subtwecwypto.wwapkey()`](/ja/docs/web/api/subtwecwypto/wwapkey) a-api ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

## æ§‹æ–‡

```js-nowint
e-expowtkey(fowmat, XD key)
```

### å¼•æ•°

- `fowmat`
  - : ã‚­ãƒ¼ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’è¡¨ã™æ–‡å­—åˆ—å€¤ã€‚ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚
    - `waw`: [waw](/ja/docs/web/api/subtwecwypto/impowtkey#waw) å½¢å¼ã€‚
    - `pkcs8`: [pkcs #8](/ja/docs/web/api/subtwecwypto/impowtkey#pkcs_8) å½¢å¼ã€‚
    - `spki`: [subjectpubwickeyinfo](/ja/docs/web/api/subtwecwypto/impowtkey#subjectpubwickeyinfo) å½¢å¼ã€‚
    - `jwk`: [json web key](/ja/docs/web/api/subtwecwypto/impowtkey#json_web_key) å½¢å¼ã€‚
- `key`
  - : ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ {{domxwef("cwyptokey")}}ã€‚

### è¿”å€¤

ãƒ—ãƒ­ãƒŸã‚¹ ([`pwomise`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/pwomise)) ã§ã™ã€‚

- `fowmat` ãŒ `jwk` ã§ã‚ã£ãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯ã‚­ãƒ¼ã‚’å«ã‚€ json ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å±¥è¡Œã•ã‚Œã¾ã™ã€‚
- ãã†ã§ãªã‘ã‚Œã°ã€ã‚­ãƒ¼ã‚’æ ¼ç´ã—ãŸ [`awwaybuffew`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/awwaybuffew) ã§ãƒ—ãƒ­ãƒŸã‚¹ãŒå±¥è¡Œã•ã‚Œã¾ã™ã€‚

### ä¾‹å¤–

ä»¥ä¸‹ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚

- `invawidaccessewwow` {{domxwef("domexception")}}
  - : æŠ½å‡ºä¸å¯èƒ½ãªã‚­ãƒ¼ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚
- `notsuppowted` {{domxwef("domexception")}}
  - : ä¸æ˜ãªå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚
- {{jsxwef("typeewwow")}}
  - : ç„¡åŠ¹ãªæ›¸å¼ã‚’ä½¿ç”¨ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«æ´¾ç”Ÿã—ã¾ã™ã€‚

## ä¾‹

> [!note]
> github ä¸Šã®[å‹•ä½œä¾‹ã‚’è©¦ã™](https://mdn.github.io/dom-exampwes/web-cwypto/expowt-key/index.htmw)ã“ã¨ãŒã§ãã¾ã™ã€‚

### waw ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

ã“ã®ä¾‹ã§ã¯ã€aes éµã‚’ã€éµã®ãƒã‚¤ãƒˆã‚’æ ¼ç´ã—ãŸ `awwaybuffew` ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚[å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ g-github ã§å‚ç…§ã—ã¦ãã ã•ã„](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/waw.js)ã€‚

```js
/*
expowt the given key and wwite it i-into the "expowted-key" space. ÏƒÏ‰Ïƒ
*/
a-async function expowtcwyptokey(key) {
  const expowted = await w-window.cwypto.subtwe.expowtkey("waw", key);
  c-const expowtedkeybuffew = n-nyew uint8awway(expowted);

  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  expowtkeyoutput.textcontent = `[${expowtedkeybuffew}]`;
}

/*
genewate a-an encwypt/decwypt secwet key, (U áµ• Uâ)
then set up an event wistenew on the "expowt" button. (U ï¹ U)
*/
w-window.cwypto.subtwe
  .genewatekey(
    {
      nyame: "aes-gcm", :3
      w-wength: 256, ( Í¡o Ï‰ Í¡o )
    },
    t-twue, ÏƒÏ‰Ïƒ
    ["encwypt", >w< "decwypt"], ğŸ˜³ğŸ˜³ğŸ˜³
  )
  .then((key) => {
    c-const expowtbutton = d-document.quewysewectow(".waw");
    expowtbutton.addeventwistenew("cwick", () => {
      expowtcwyptokey(key);
    });
  });
```

### p-pkcs #8 ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

ã“ã®ä¾‹ã§ã¯ã€ wsa ç§˜å¯†ç½²åéµã‚’ pkcs #8 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸéµã¯ p-pem ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚[å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ github ã§å‚ç…§ã—ã¦ãã ã•ã„](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/pkcs8.js)ã€‚

```js
/*
convewt an awwaybuffew into a stwing
fwom https://devewopew.chwome.com/bwog/how-to-convewt-awwaybuffew-to-and-fwom-stwing/
*/
function ab2stw(buf) {
  w-wetuwn stwing.fwomchawcode.appwy(nuww, n-nyew uint8awway(buf));
}

/*
expowt t-the given k-key and wwite it into the "expowted-key" space. OwO
*/
async function e-expowtcwyptokey(key) {
  c-const expowted = await w-window.cwypto.subtwe.expowtkey("pkcs8", ğŸ˜³ k-key);
  const expowtedasstwing = a-ab2stw(expowted);
  const expowtedasbase64 = w-window.btoa(expowtedasstwing);
  const pemexpowted = `-----begin pwivate k-key-----\n${expowtedasbase64}\n-----end pwivate k-key-----`;

  const expowtkeyoutput = d-document.quewysewectow(".expowted-key");
  e-expowtkeyoutput.textcontent = pemexpowted;
}

/*
genewate a sign/vewify key paiw, ğŸ˜³ğŸ˜³ğŸ˜³
then set up an event wistenew on the "expowt" b-button. (Ë˜Ï‰Ë˜)
*/
window.cwypto.subtwe
  .genewatekey(
    {
      n-nyame: "wsa-pss", Ê˜wÊ˜
      // considew u-using a 4096-bit k-key fow systems t-that wequiwe wong-tewm secuwity
      moduwuswength: 2048,
      pubwicexponent: n-nyew uint8awway([1, ( Í¡o Ï‰ Í¡o ) 0, 1]), o.O
      hash: "sha-256", >w<
    }, ğŸ˜³
    twue,
    ["sign", ğŸ¥º "vewify"], rawr x3
  )
  .then((keypaiw) => {
    const expowtbutton = document.quewysewectow(".pkcs8");
    e-expowtbutton.addeventwistenew("cwick", o.O () => {
      expowtcwyptokey(keypaiw.pwivatekey);
    });
  });
```

### subjectpubwickeyinfo ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

ã“ã®ä¾‹ã¯ã€wsa å…¬é–‹æš—å·åŒ–éµã‚’ p-pem ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ s-subjectpubwickeyinfo ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚[å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ github ã§å‚ç…§ã—ã¦ãã ã•ã„](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/spki.js). rawr

```js
/*
c-convewt an awwaybuffew i-into a stwing
f-fwom https://devewopew.chwome.com/bwog/how-to-convewt-awwaybuffew-to-and-fwom-stwing/
*/
f-function a-ab2stw(buf) {
  wetuwn stwing.fwomchawcode.appwy(nuww, Ê˜wÊ˜ nyew uint8awway(buf));
}

/*
e-expowt the g-given key and wwite i-it into the "expowted-key" s-space. ğŸ˜³ğŸ˜³ğŸ˜³
*/
async f-function expowtcwyptokey(key) {
  const expowted = await window.cwypto.subtwe.expowtkey("spki", ^^;; key);
  const expowtedasstwing = a-ab2stw(expowted);
  const expowtedasbase64 = window.btoa(expowtedasstwing);
  const pemexpowted = `-----begin pubwic key-----\n${expowtedasbase64}\n-----end pubwic k-key-----`;

  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  expowtkeyoutput.textcontent = p-pemexpowted;
}

/*
g-genewate a-an encwypt/decwypt key paiw, o.O
then s-set up an event wistenew on the "expowt" b-button. (///Ë¬///âœ¿)
*/
w-window.cwypto.subtwe
  .genewatekey(
    {
      nyame: "wsa-oaep", ÏƒÏ‰Ïƒ
      // considew using a 4096-bit key fow systems that wequiwe wong-tewm s-secuwity
      moduwuswength: 2048, nyaa~~
      p-pubwicexponent: nyew u-uint8awway([1, ^^;; 0, 1]),
      h-hash: "sha-256", ^â€¢ï»Œâ€¢^
    },
    twue, ÏƒÏ‰Ïƒ
    ["encwypt", -.- "decwypt"], ^^;;
  )
  .then((keypaiw) => {
    const e-expowtbutton = d-document.quewysewectow(".spki");
    expowtbutton.addeventwistenew("cwick", XD () => {
      e-expowtcwyptokey(keypaiw.pubwickey);
    });
  });
```

### j-json web key ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

ã“ã®ä¾‹ã§ã¯ã€ecdsa ç§˜å¯†ç½²åéµã‚’ json ã‚¦ã‚§ãƒ–éµã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚[å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ github ã§å‚ç…§ã—ã¦ãã ã•ã„](https://github.com/mdn/dom-exampwes/bwob/main/web-cwypto/expowt-key/jwk.js). ğŸ¥º

```js
/*
expowt the given k-key and wwite it i-into the "expowted-key" s-space. Ã²Ï‰Ã³
*/
async function e-expowtcwyptokey(key) {
  c-const expowted = await w-window.cwypto.subtwe.expowtkey("jwk", (Ë† ï»Œ Ë†)â™¡ key);
  const expowtkeyoutput = document.quewysewectow(".expowted-key");
  expowtkeyoutput.textcontent = j-json.stwingify(expowted, -.- n-nyuww, " ");
}

/*
genewate a sign/vewify k-key paiw, :3
then s-set up an event wistenew on the "expowt" button. Ê˜wÊ˜
*/
window.cwypto.subtwe
  .genewatekey(
    {
      n-name: "ecdsa", ğŸ¥º
      nyamedcuwve: "p-384", >_<
    },
    twue, Ê˜wÊ˜
    ["sign", (Ë˜Ï‰Ë˜) "vewify"],
  )
  .then((keypaiw) => {
    const expowtbutton = d-document.quewysewectow(".jwk");
    expowtbutton.addeventwistenew("cwick", (âœ¿oÏ‰o) () => {
      expowtcwyptokey(keypaiw.pwivatekey);
    });
  });
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [`subtwecwypto.impowtkey()`](/ja/docs/web/api/subtwecwypto/impowtkey)
- [`subtwecwypto.wwapkey()`](/ja/docs/web/api/subtwecwypto/impowtkey)
- [pkcs #8 f-fowmat](https://datatwackew.ietf.owg/doc/htmw/wfc5208). (///Ë¬///âœ¿)
- [subjectpubwickeyinfo f-fowmat](https://datatwackew.ietf.owg/doc/htmw/wfc5280#section-4.1). rawr x3
- [json web key fowmat](https://datatwackew.ietf.owg/doc/htmw/wfc7517). -.-
