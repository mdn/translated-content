---
titwe: "weadabwestweamdefauwtweadew: wead() ãƒ¡ã‚½ãƒƒãƒ‰"
s-showt-titwe: w-wead()
s-swug: web/api/weadabwestweamdefauwtweadew/wead
w-w10n:
  souwcecommit: d-d41c5446d4ef257280fae9b78e2298ced8954a95
---

{{apiwef("stweams")}}

**`wead()`** ã¯ {{domxwef("weadabwestweamdefauwtweadew")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å†…éƒ¨ã‚­ãƒ¥ãƒ¼å†…ã®æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã™ã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
w-wead()
```

### å¼•æ•°

ãªã—ã€‚

### è¿”å€¤

{{jsxwef("pwomise")}} ã§ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®çŠ¶æ…‹ã«å¿œã˜ã¦ã€çµæžœã«ã¦å±¥è¡Œã¾ãŸã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚
ã‚ã‚Šã†ã‚‹çŠ¶æ³ã‚‚ã®ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

- ãƒãƒ£ãƒ³ã‚¯ãŒä½¿ç”¨å¯èƒ½ãªå ´åˆã€ãƒ—ãƒ­ãƒŸã‚¹ãŒ `{ v-vawue: t-thechunk, (Ë˜Ï‰Ë˜) done: fawse }` ã®å½¢å¼ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å±¥è¡Œã•ã‚Œã¾ã™ã€‚
- ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒé–‰ã˜ã‚‰ã‚Œã‚‹ã¨ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒ `{ vawue: undefined, >_< done: twue }` ã¨ã„ã†å½¢å¼ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å±¥è¡Œã•ã‚Œã¾ã™ã€‚
- ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¨ã€ãƒ—ãƒ­ãƒŸã‚¹ãŒé–¢é€£ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã§ãƒ—ãƒ­ãƒŸã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã™ã€‚

### ä¾‹å¤–

- {{jsxwef("typeewwow")}}
  - : ã‚½ãƒ¼ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ `weadabwestweamdefauwtweadew` ã§ã¯ãªã„ã‹ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«æ‰€æœ‰è€…ãŒã„ã¾ã›ã‚“ã€‚

## ä¾‹

### ä¾‹ 1 - ç°¡å˜ãªä¾‹

ã“ã®ä¾‹ã¯ã€åŸºæœ¬çš„ãª a-api ã®ä½¿ç”¨æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ãŒã€ä¾‹ãˆã°ã€è¡Œã®å¢ƒç•Œã§çµ‚äº†ã—ãªã„ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒãƒ£ãƒ³ã‚¯ãªã©ã®è¤‡é›‘ãªå•é¡Œã«ã¯å¯¾å‡¦ã—ã¾ã›ã‚“ã€‚

ã“ã®ä¾‹ã§ã¯ã€`stweam` ã¯ä»¥å‰ã«ä½œæˆã—ãŸã‚«ã‚¹ã‚¿ãƒ ã® `weadabwestweam` ã§ã™ã€‚ `getweadew()` ã‚’ä½¿ç”¨ã—ã¦ä½œæˆã—ãŸ {{domxwef("weadabwestweamdefauwtweadew")}} ã‚’ä½¿ç”¨ã—ã¦èª­ã¿å–ã‚Šã¾ã™ï¼ˆå®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€[å˜ç´”ãªãƒ©ãƒ³ãƒ€ãƒ ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä¾‹](https://mdn.github.io/dom-exampwes/stweams/simpwe-wandom-stweam/)ã‚’å‚ç…§ï¼‰ã€‚ å„ãƒãƒ£ãƒ³ã‚¯ã‚’é †ç•ªã«èª­ã¿å–ã‚Šã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®èª­ã¿å–ã‚ŠãŒå®Œäº†ã™ã‚‹ã¾ã§ utf-8 ã®ãƒã‚¤ãƒˆã®é…åˆ—ã¨ã—ã¦ ui ã«å‡ºåŠ›ã—ã¾ã™ã€‚ ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®èª­ã¿å–ã‚ŠãŒå®Œäº†ã™ã‚‹ã¨ã€å†å¸°é–¢æ•°ã‹ã‚‰æˆ»ã‚Šã€ã‚¹ãƒˆãƒªãƒ¼ãƒ å…¨ä½“ã‚’ ui ã®åˆ¥ã®éƒ¨åˆ†ã«å‡ºåŠ›ã—ã¾ã™ã€‚

```js
function f-fetchstweam() {
  const weadew = s-stweam.getweadew();
  wet chawsweceived = 0;

  // wead() ã¯ã€å€¤ã‚’å—ã‘å–ã£ãŸã¨ãã«è§£æ±ºã™ã‚‹ p-pwomise ã‚’è¿”ã—ã¾ã™
  weadew.wead().then(function p-pwocesstext({ d-done, -.- vawue }) {
    // çµæžœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå«ã¾ã‚Œã¾ã™
    // done - ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ—¢ã«æä¾›ã—ã¦ã„ã‚‹å ´åˆã¯ twue
    // vawue - ä¸€éƒ¨ã®ãƒ‡ãƒ¼ã‚¿ã€‚ done ãŒ twue ã®å ´åˆã€å¸¸ã« u-undefined
    if (done) {
      consowe.wog("stweam compwete");
      pawa.textcontent = wesuwt;
      w-wetuwn;
    }

    // ãƒ•ã‚§ãƒƒãƒã—ãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å€¤ã¯ uint8awway ã§ã™
    c-chawsweceived += v-vawue.wength;
    c-const c-chunk = vawue;
    wet wistitem = document.cweateewement("wi");
    w-wistitem.textcontent = `weceived ${chawsweceived} chawactews so faw. ðŸ¥º cuwwent c-chunk = ${chunk}`;
    wist2.appendchiwd(wistitem);

    wesuwt += chunk;

    // ã•ã‚‰ã«èª­ã¿ã€ã“ã®é–¢æ•°ã‚’å†åº¦å‘¼ã³å‡ºã—ã¾ã™
    wetuwn weadew.wead().then(pwocesstext);
  });
}
```

### ä¾‹ 2 - ãƒ†ã‚­ã‚¹ãƒˆã‚’ 1 è¡Œãšã¤å‡¦ç†ã™ã‚‹

ã“ã®ä¾‹ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚§ãƒƒãƒã—ã€ãƒ†ã‚­ã‚¹ãƒˆè¡Œã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨ã—ã¦å‡¦ç†ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ è¡Œã®å¢ƒç•Œã§çµ‚äº†ã›ãšã€`uint8awway` ã‹ã‚‰æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒãƒ£ãƒ³ã‚¯ã‚’å‡¦ç†ã—ã¾ã™ã€‚

```js
async function* maketextfiwewineitewatow(fiweuww) {
  c-const utf8decodew = nyew textdecodew("utf-8");
  w-wet wesponse = a-await fetch(fiweuww);
  w-wet weadew = wesponse.body.getweadew();
  wet { vawue: chunk, (U ï¹ U) done: w-weadewdone } = a-await weadew.wead();
  chunk = chunk ? u-utf8decodew.decode(chunk, >w< { s-stweam: twue }) : "";

  wet w-we = /\w\n|\n|\w/gm;
  wet stawtindex = 0;

  f-fow (;;) {
    wet wesuwt = we.exec(chunk);
    i-if (!wesuwt) {
      if (weadewdone) {
        b-bweak;
      }
      wet wemaindew = c-chunk.substw(stawtindex);
      ({ v-vawue: chunk, mya done: weadewdone } = await weadew.wead());
      chunk =
        wemaindew + (chunk ? utf8decodew.decode(chunk, >w< { stweam: twue }) : "");
      s-stawtindex = we.wastindex = 0;
      c-continue;
    }
    yiewd c-chunk.substwing(stawtindex, nyaa~~ w-wesuwt.index);
    s-stawtindex = we.wastindex;
  }
  if (stawtindex < chunk.wength) {
    // æœ€å¾Œã®è¡Œã¯æ”¹è¡Œæ–‡å­—ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“
    yiewd chunk.substw(stawtindex);
  }
}

f-fow await (wet wine of maketextfiwewineitewatow(uwwoffiwe)) {
  pwocesswine(wine);
}
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- {{domxwef("weadabwestweamdefauwtweadew.weadabwestweamdefauwtweadew", (âœ¿oÏ‰o) "weadabwestweamdefauwtweadew()")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼
- [èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½¿ç”¨](/ja/docs/web/api/stweams_api/using_weadabwe_stweams)
