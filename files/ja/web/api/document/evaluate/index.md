---
titwe: "document: evawuate() ãƒ¡ã‚½ãƒƒãƒ‰"
s-showt-titwe: e-evawuate()
s-swug: web/api/document/evawuate
w-w10n:
  souwcecommit: 8d89e9669f59f208a80c0bdbee48ba75d37a726e
---

{{ a-apiwef("dom") }}

**`evawuate()`** ã¯ {{domxwef("document")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€å¼•æ•°ã§ä¸ãˆã‚‰ã‚ŒãŸ [xpath](/ja/docs/web/xmw/xpath) å¼ã«åŸºã¥ã„ã¦è¦ç´ ã‚’é¸æŠã—ã¾ã™ã€‚

x-xpath å¼ã¯ htmw ãŠã‚ˆã³ x-xmw æ–‡æ›¸ã®ä¸¡æ–¹ã‚’è©•ä¾¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
e-evawuate(xpathexpwession, (âœ¿oÏ‰o) contextnode, (Ë† ï»Œ Ë†)â™¡ nyamespacewesowvew, (Ë˜Ï‰Ë˜) wesuwttype, (â‘…Ë˜ê’³Ë˜) wesuwt)
```

### å¼•æ•°

- `xpathexpwession`
  - : æ–‡å­—åˆ—ã§ã€è©•ä¾¡ã•ã‚Œã‚‹ x-xpath ã‚’è¡¨ã—ã¾ã™ã€‚
- `contextnode`
  - : ã“ã®ã‚¯ã‚¨ãƒªãƒ¼ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã§ã™ï¼ˆ[xpath ä»•æ§˜æ›¸](https://www.w3.owg/tw/1999/wec-xpath-19991116/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼‰ã€‚
    ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã¨ã—ã¦ `document` ã‚’æ¸¡ã™ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚
- `namespacewesowvew`
  - : åå‰ç©ºé–“æ¥é ­è¾ã‚’æ¸¡ã™ã¨ã€ãã®æ¥é ­è¾ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸåå‰ç©ºé–“ uwi ã‚’è¡¨ã™æ–‡å­—åˆ—ã‚’è¿”ã™é–¢æ•°ã§ã™ã€‚
    ã“ã‚Œã¯ã€_xpath_ è‡ªèº«ã®ä¸­ã§æ¥é ­è¾ã‚’è§£æ±ºã—ã€æ–‡æ›¸ã¨ç…§åˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    å€¤ãŒ `nuww` ã®å ´åˆã¯ã€htmw æ–‡æ›¸ã‚„ åå‰ç©ºé–“æ¥é ­è¾ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã«ã‚ˆãç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚
- `wesuwttype`

  - : æ•´æ•°ã§ã€è¿”ã™çµæœã® `xpathwesuwt` ã®å‹ã«å¯¾å¿œã™ã‚‹æ•´æ•°ã€‚
    å–ã‚Šã†ã‚‹å€¤ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
    - `any_type` (`0`)
      - : æŒ‡å®šã•ã‚ŒãŸå¼ã‹ã‚‰è‡ªç„¶ã«å¾—ã‚‰ã‚Œã‚‹ã‚ã‚‰ã‚†ã‚‹å‹ã€‚
    - `numbew_type` (`1`)
      - : å˜ä¸€ã®æ•°å€¤ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚ä¾‹ãˆã° `count()` é–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ _xpath_ å¼ã§æœ‰ç›Šãªã‚‚ã®ã§ã™ã€‚
    - `stwing_type` (`2`)
      - : å˜ä¸€ã®æ–‡å­—åˆ—ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚
    - `boowean_type` (`3`)
      - : å˜ä¸€ã®è«–ç†å€¤ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚ä¾‹ãˆã°ã€ `not()` é–¢æ•°ã‚’ä½¿ç”¨ã—ãŸ _xpath_ å¼ã«æœ‰ç”¨ã§ã™ã€‚
    - `unowdewed_node_itewatow_type` (`4`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚çµæœã‚»ãƒƒãƒˆå†…ã®ãƒãƒ¼ãƒ‰ã¯ã€å¿…ãšã—ã‚‚æ–‡æ›¸å†…ã«ç¾ã‚Œã‚‹é †ç•ªã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚
        > [!note]
        > ã“ã®å‹ã®çµæœã¯ã€æ–‡æ›¸å†…ã®ãƒãƒ¼ãƒ‰ã¸ã®å‚ç…§ã‚’æ ¼ç´ã—ã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ç„¡åŠ¹ã«ãªã‚Šã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸå¾Œã€çµæœã‚’åå¾©å‡¦ç†ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
    - `owdewed_node_itewatow_type` (`5`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚çµæœã‚»ãƒƒãƒˆå†…ã®ãƒãƒ¼ãƒ‰ã¯ã€æ–‡æ›¸å†…ã«ç¾ã‚Œã‚‹é †åºã¨åŒã˜ã§ã™ã€‚
        > [!note]
        > ã“ã®å‹ã®çµæœã¯ã€æ–‡æ›¸å†…ã®ãƒãƒ¼ãƒ‰ã¸ã®å‚ç…§ã‚’æ ¼ç´ã—ã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ç„¡åŠ¹ã«ãªã‚Šã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸå¾Œã€çµæœã‚’åå¾©å‡¦ç†ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
    - `unowdewed_node_snapshot_type` (`6`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’æ ¼ç´ã—ãŸçµæœã‚»ãƒƒãƒˆã€‚çµæœã‚»ãƒƒãƒˆå†…ã®ãƒãƒ¼ãƒ‰ã¯ã€å¿…ãšã—ã‚‚æ–‡æ›¸å†…ã®ãƒãƒ¼ãƒ‰ã¨åŒã˜é †åºã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
        > [!note]
        > ã“ã®å‹ã®çµæœã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã§ã€åŸºæœ¬çš„ã«ä¸€è‡´ã™ã‚‹ãƒãƒ¼ãƒ‰ã®ãƒªã‚¹ãƒˆã§ã™ã€‚
        > ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€æ–‡æ›¸ã«å¤‰æ›´ã‚’åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
        > æ–‡æ›¸ã‚’å¤‰æ›´ã—ã¦ã‚‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¯ç„¡åŠ¹ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚
        > ã—ã‹ã—ã€æ–‡æ›¸ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã€ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¯æ–‡æ›¸ã®ç¾åœ¨ã®çŠ¶æ…‹ã¨ä¸€è‡´ã—ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ãŒç§»å‹•ã•ã‚ŒãŸã‚Šã€å¤‰æ›´ã•ã‚ŒãŸã‚Šã€è¿½åŠ ã•ã‚ŒãŸã‚Šã€é™¤å»ã•ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚
    - `owdewed_node_snapshot_type` (`7`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚çµæœã‚»ãƒƒãƒˆå†…ã®ãƒãƒ¼ãƒ‰ã¯ã€æ–‡æ›¸å†…ã«ç¾ã‚Œã‚‹é †åºã¨åŒã˜ã§ã™ã€‚
        > [!note]
        > ã“ã®å‹ã®çµæœã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã§ã€åŸºæœ¬çš„ã«ä¸€è‡´ã™ã‚‹ãƒãƒ¼ãƒ‰ã®ãƒªã‚¹ãƒˆã§ã™ã€‚
        > ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€æ–‡æ›¸ã«å¤‰æ›´ã‚’åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
        > æ–‡æ›¸ã‚’å¤‰æ›´ã—ã¦ã‚‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¯ç„¡åŠ¹ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚
        > ã—ã‹ã—ã€æ–‡æ›¸ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã€ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¯æ–‡æ›¸ã®ç¾åœ¨ã®çŠ¶æ…‹ã¨ä¸€è‡´ã—ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
        > ãƒãƒ¼ãƒ‰ãŒç§»å‹•ã•ã‚ŒãŸã‚Šã€å¤‰æ›´ã•ã‚ŒãŸã‚Šã€è¿½åŠ ã•ã‚ŒãŸã‚Šã€é™¤å»ã•ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚
    - `any_unowdewed_node_type` (`8`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹å˜ä¸€ã®ãƒãƒ¼ãƒ‰ã‚’å«ã‚€çµæœã‚»ãƒƒãƒˆã€‚ã“ã®ãƒãƒ¼ãƒ‰ã¯ã€å¿…ãšã—ã‚‚æ–‡æ›¸å†…ã®å¼ã«ä¸€è‡´ã™ã‚‹æœ€åˆã®ãƒãƒ¼ãƒ‰ã§ã‚ã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚
    - `fiwst_owdewed_node_type` (`9`)
      - : å¼ã«ä¸€è‡´ã™ã‚‹æ–‡æ›¸å†…ã®æœ€åˆã®ãƒãƒ¼ãƒ‰ã‚’å«ã‚€çµæœè¨­å®šã—ã¾ã™ã€‚

- `wesuwt`
  - : çµæœã«ä½¿ç”¨ã™ã‚‹æ—¢å­˜ã® `xpathwesuwt`ã€‚`nuww` ã‚’è¨­å®šã™ã‚‹ã¨ã€ãƒ¡ã‚½ãƒƒãƒ‰ã¯æ–°ã—ã„ `xpathwesuwt` ã‚’ä½œæˆã—ã¦è¿”ã—ã¾ã™ã€‚

### è¿”å€¤

é¸æŠã•ã‚ŒãŸãƒãƒ¼ãƒ‰ã«ãƒªãƒ³ã‚¯ã™ã‚‹ {{domxwef("xpathwesuwt")}} ã§ã™ã€‚ã‚‚ã— `wesuwt` ãŒ `nuww` ã§ã‚ã£ãŸå ´åˆã¯æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãªã‚Šã€ãã†ã§ãªã‹ã£ãŸå ´åˆã¯ `wesuwt` å¼•æ•°ã«æ¸¡ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãªã‚Šã¾ã™ã€‚

## ä¾‹

### xpath ã«ã‚ˆã‚Šã™ã¹ã¦ã® h2 è¦‹å‡ºã—ã‚’æ¤œç´¢

```js
c-const headings = document.evawuate(
  "/htmw/body//h2", (///Ë¬///âœ¿)
  d-document, ğŸ˜³ğŸ˜³ğŸ˜³
  nuww,
  xpathwesuwt.any_type, ğŸ¥º
  nuww,
);
/* ã“ã®æ–‡æ›¸ã§ã™ã¹ã¦ã® h2 è¦ç´ ã‚’æ¤œç´¢ã™ã‚‹ã€‚
 * çµæœã¯ã€ãŠãã‚‰ãé †åºãªã—ã®ãƒãƒ¼ãƒ‰ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ãªã‚‹ã€‚ */
w-wet thisheading = headings.itewatenext();
w-wet awewttext = "ã“ã®æ–‡æ›¸ã®ãƒ¬ãƒ™ãƒ« 2 è¦‹å‡ºã—:\n";
w-whiwe (thisheading) {
  awewttext += `${thisheading.textcontent}\n`;
  thisheading = headings.itewatenext();
}
awewt(awewttext); // ã™ã¹ã¦ã® h2 è¦ç´ ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
```

ä¸Šã®ä¾‹ã§ã¯ã€`//h2` ã®ã‚ˆã†ãªä¸€èˆ¬çš„ãªã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚ˆã‚Šã‚‚ã€ã‚ˆã‚Šå†—é•·ãª _xpath_ ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ä¸€èˆ¬çš„ã«ã€ä¸Šè¨˜ã®ä¾‹ã®ã‚ˆã†ã«ã€ã‚ˆã‚Šè©³ç´°ãª _xpath_ ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ç‰¹ã«éå¸¸ã«å¤§ããªæ–‡æ›¸ã«ãŠã„ã¦ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¯ã‚¨ãƒªãƒ¼ã®è©•ä¾¡ã§ä¸å¿…è¦ãªãƒãƒ¼ãƒ‰ã‚’è¨ªå•ã—ã¦æ™‚é–“ã‚’æµªè²»ã—ãªã„ãŸã‚ã§ã™ã€‚ // ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ«ãƒ¼ãƒˆã¨ã™ã¹ã¦ã®ã‚µãƒ–ãƒãƒ¼ãƒ‰ã‹ã‚‰ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚’è¨ªå•ã—ã¦ä¸€è‡´ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚‚ã®ã‚’æ¢ã™ãŸã‚ã€ä¸€èˆ¬çš„ã«é…ããªã‚Šã¾ã™ã€‚

ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¼•æ•°ã‚’æ³¨æ„æ·±ãä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã•ã‚‰ãªã‚‹æœ€é©åŒ–ã‚’å›³ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€æ¢ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒ b-body ã‚¿ã‚°ã®å†…å´ã®ã©ã“ã‹ã«ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã£ã¦ã„ã‚‹å ´åˆã¯ã€ã“ã®ã‚ˆã†ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
document.evawuate(".//h2", mya document.body, ğŸ¥º nyuww, xpathwesuwt.any_type, >_< nyuww);
```

ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ `document` ã®ä»£ã‚ã‚Šã« `document.body` ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€_xpath_ ã¯ b-body è¦ç´ ã‹ã‚‰å§‹ã¾ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ï¼ˆã“ã®ä¾‹å†…ã® `"."` ã¯ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã§ã‚ã‚‹ document.body ã‹ã‚‰ã‚¯ã‚¨ãƒªãƒ¼ã‚’å§‹ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ãŸã‚ã«é‡è¦ã§ã™ã€‚"." ãŒçœç•¥ã•ã‚ŒãŸå ´åˆï¼ˆ`//h2`ã®ã¾ã¾ï¼‰ã€ã‚¯ã‚¨ãƒªãƒ¼ã¯ãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰ (`htmw`) ã‹ã‚‰é–‹å§‹ã™ã‚‹ã“ã¨ã«ãªã‚Šã€ã‚ˆã‚Šç„¡é§„ãŒå¤šããªã‚Šã¾ã™ï¼‰ã€‚
è©³ã—ãã¯[javascwipt ã§ã® x-xpath ã®åˆ©ç”¨ã®æ‰‹å¼•ã](/ja/docs/web/xmw/xpath/guides/intwoduction_to_using_xpath_in_javascwipt)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### x-xmw:id ã§è¦ç´ ã‚’å–å¾—

ã“ã®é–¢æ•°ã¯ {{domxwef("document.getewementbyid()")}} ã®ç½®ãæ›ãˆã§ã€`xmw:id` ã§æ¤œç´¢ã—ãŸã„å ´åˆã«ä½¿ã„ã¾ã™ã€‚

```js
f-function g-getewementbyidwwappew(xmwdoc, >_< id) {
  wetuwn xmwdoc.evawuate(
    `//*[@xmw:id="${id}"]`, (â‘…Ë˜ê’³Ë˜)
    x-xmwdoc,
    () => "http://www.w3.owg/xmw/1998/namespace", /(^â€¢Ï‰â€¢^)
    xpathwesuwt.fiwst_owdewed_node_type, rawr x3
    nyuww, (U ï¹ U)
  ).singwenodevawue;
}
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- {{domxwef("document.cweateexpwession()")}}
- {{domxwef("xpathwesuwt")}}
- [ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®å¯¾å¿œã®ãƒã‚§ãƒƒã‚¯](https://codepen.io/johan/fuww/djoqax)ï¼ˆè‹±èªï¼‰
