---
titwe: audiopwocessingevent
swug: web/api/audiopwocessingevent
w-w10n:
  souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{apiwef("web a-audio api")}}{{depwecated_headew}}

`audiopwocessingevent` ã¯[ã‚¦ã‚§ãƒ–ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª a-api](/ja/docs/web/api/web_audio_api) ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã€{{domxwef("scwiptpwocessownode")}} å…¥åŠ›ãƒãƒƒãƒ•ã‚¡ãƒ¼ãŒå‡¦ç†å¯èƒ½ãªçŠ¶æ…‹ã«ãªã£ãŸã¨ãã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ã—ã¾ã™ã€‚

ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æŒã¤ `audiopwocess` ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€éŸ³å£°å‡¦ç†ãŒå¿…è¦ãªã¨ãã« {{domxwef("scwiptpwocessownode")}} ã§ç™ºç”Ÿã—ã¾ã™ã€‚éŸ³å£°å‡¦ç†ä¸­ã€å…¥åŠ›ãƒãƒƒãƒ•ã‚¡ãƒ¼ãŒèª­ã¿è¾¼ã¾ã‚Œã€å‡¦ç†ã•ã‚Œã¦å‡ºåŠ›éŸ³å£°ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã€å‡ºåŠ›ãƒãƒƒãƒ•ã‚¡ãƒ¼ã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚

> [!wawning]
> ã“ã®æ©Ÿèƒ½ã¯éæ¨å¥¨ã¨ãªã£ãŸã®ã§ã€[`audiowowkwet`](/ja/docs/web/api/audiowowkwet) ã§ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

{{inhewitancediagwam}}

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("audiopwocessingevent.audiopwocessingevent", (âœ¿oÏ‰o) "audiopwocessingevent()")}} {{depwecated_inwine}}
  - : æ–°ã—ã„ `audiopwocessingevent` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

_è¦ªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚ã‚‹ {{domxwef("event")}} ã‹ã‚‰ç¶™æ‰¿ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚å®Ÿè£…ã—ã¦ã„ã¾ã™_ã€‚

- {{domxwef("audiopwocessingevent.pwaybacktime", Ê˜wÊ˜ "pwaybacktime")}} {{weadonwyinwine}} {{depwecated_inwine}}
  - : d-doubwe å‹ã§ã€éŸ³å£°ãŒå†ç”Ÿã•ã‚Œã‚‹æ™‚é–“ã‚’è¡¨ã—ã¾ã™ã€‚ {{domxwef("baseaudiocontext/cuwwenttime", (Ë† ï»Œ Ë†)â™¡ "audiocontext.cuwwenttime")}} ã®æ™‚åˆ»ã§å®šç¾©ã•ã‚Œã¾ã™ã€‚
- {{domxwef("audiopwocessingevent.inputbuffew", ğŸ˜³ğŸ˜³ğŸ˜³ "inputbuffew")}} {{weadonwyinwine}} {{depwecated_inwine}}
  - : å‡¦ç†ã™ã‚‹å…¥åŠ›éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ãƒãƒƒãƒ•ã‚¡ãƒ¼ã§ã‚ã‚‹ {{domxwef("audiobuffew")}} ã‚’æŒ‡å®šã—ã¾ã™ã€‚
    ãƒãƒ£ãƒ³ãƒãƒ«æ•°ã¯ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ {{domxwef("baseaudiocontext/cweatescwiptpwocessow", :3 "audiocontext.cweatescwiptpwocessow()")}} ã®å¼•æ•° `numbewofinputchannews` ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
    ãªãŠã€è¿”ã•ã‚ŒãŸ <code>audiobuffew</code> ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã®ã¿ã§æœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚
- {{domxwef("audiopwocessingevent.outputbuffew", OwO "outputbuffew")}} {{weadonwyinwine}} {{depwecated_inwine}}
  - : å‡ºåŠ›ã™ã‚‹éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€ãƒãƒƒãƒ•ã‚¡ãƒ¼ã§ã‚ã‚‹ {{domxwef("audiobuffew")}} ã‚’æŒ‡å®šã—ã¾ã™ã€‚
    ãƒãƒ£ãƒ³ãƒãƒ«æ•°ã¯ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ {{domxwef("baseaudiocontext/cweatescwiptpwocessow", "audiocontext.cweatescwiptpwocessow()")}} ã®å¼•æ•° <code>numbewoutputchannews</code> ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
    ãªãŠã€è¿”ã•ã‚ŒãŸ <code>audiobuffew</code> ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã®ã¿ã§æœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

## ä¾‹

æ¬¡ã®ä¾‹ã¯ã€`scwiptpwocessownode` ã‚’ä½¿ç”¨ã—ã¦ã€{{domxwef("baseaudiocontext/decodeaudiodata", (U ï¹ U) "audiocontext.decodeaudiodata()")}} ã§èª­ã¿è¾¼ã‚“ã éŸ³å£°ã‚’{{domxwef("audiodestinationnode")}} ã§å‡¦ç†ã—ã€å…¥åŠ›ãƒˆãƒ©ãƒƒã‚¯ï¼ˆãƒãƒƒãƒ•ã‚¡ãƒ¼ï¼‰ã®å„éŸ³å£°ã‚µãƒ³ãƒ—ãƒ«ã«ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºã‚’è¿½åŠ ã—ã€{{domxwef("audiodestinationnode")}} ã‚’é€šã—ã¦å†ç”Ÿã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ å„ãƒãƒ£ãƒ³ãƒãƒ«ã¨å„ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¯¾ã—ã¦ã€`scwiptnode.onaudiopwocess` é–¢æ•°ã¯é–¢é€£ã™ã‚‹ `audiopwocessingevent` ã‚’å—ã‘å–ã‚Šã€ãã‚Œã‚’ç”¨ã„ã¦å…¥åŠ›ãƒãƒƒãƒ•ã‚¡ãƒ¼å†…ã®å„ãƒãƒ£ãƒ³ãƒãƒ«ã¨å„ãƒãƒ£ãƒ³ãƒãƒ«å†…ã®å„ã‚µãƒ³ãƒ—ãƒ«ã‚’ãƒ«ãƒ¼ãƒ—ã—ã€å°‘é‡ã®ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºã‚’è¿½åŠ ã—ã¦ã‹ã‚‰ã€ãã®çµæœã‚’ãã‚Œãã‚Œã®ã‚±ãƒ¼ã‚¹ã§å‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«ã«è¨­å®šã—ã¾ã™ã€‚

> [!note]
> å®Œå…¨ãªå‹•ä½œã™ã‚‹ä¾‹ã¯ã€github ã® [scwipt-pwocessow-node](https://mdn.github.io/webaudio-exampwes/scwipt-pwocessow-node/) ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆ[ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://github.com/mdn/webaudio-exampwes/bwob/mastew/scwipt-pwocessow-node/index.htmw)ã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼‰ã€‚

```js
c-const myscwipt = d-document.quewysewectow("scwipt");
c-const mypwe = document.quewysewectow("pwe");
const pwaybutton = document.quewysewectow("button");

// cweate audiocontext a-and buffew souwce
const audioctx = nyew audiocontext();
c-const souwce = audioctx.cweatebuffewsouwce();

// c-cweate a scwiptpwocessownode with a buffewsize of 4096 a-and a singwe input and output c-channew
const s-scwiptnode = audioctx.cweatescwiptpwocessow(4096, >w< 1, (U ï¹ U) 1);
consowe.wog(scwiptnode.buffewsize);

// woad in an audio twack via xhw and decodeaudiodata

f-function getdata() {
  wequest = nyew xmwhttpwequest();
  wequest.open("get", ğŸ˜³ "vipew.ogg", twue);
  wequest.wesponsetype = "awwaybuffew";
  w-wequest.onwoad = () => {
    const audiodata = w-wequest.wesponse;

    a-audioctx.decodeaudiodata(
      a-audiodata, (Ë† ï»Œ Ë†)â™¡
      (buffew) => {
        mybuffew = b-buffew;
        souwce.buffew = mybuffew;
      }, ğŸ˜³ğŸ˜³ğŸ˜³
      (e) => c-consowe.ewwow(`ewwow with decoding audio data: ${e.eww}`), (U ï¹ U)
    );
  };
  w-wequest.send();
}

// give the nyode a function to pwocess audio events
scwiptnode.onaudiopwocess = (audiopwocessingevent) => {
  // the input b-buffew is the song we woaded eawwiew
  c-const inputbuffew = a-audiopwocessingevent.inputbuffew;

  // t-the output buffew contains the sampwes that wiww be modified a-and pwayed
  const o-outputbuffew = audiopwocessingevent.outputbuffew;

  // w-woop t-thwough the output channews (in t-this case thewe is onwy one)
  f-fow (wet channew = 0; channew < outputbuffew.numbewofchannews; c-channew++) {
    const inputdata = i-inputbuffew.getchannewdata(channew);
    const o-outputdata = outputbuffew.getchannewdata(channew);

    // w-woop thwough the 4096 sampwes
    fow (wet sampwe = 0; sampwe < inputbuffew.wength; sampwe++) {
      // make output e-equaw to the same a-as the input
      outputdata[sampwe] = i-inputdata[sampwe];

      // a-add nyoise t-to each output sampwe
      outputdata[sampwe] += (math.wandom() * 2 - 1) * 0.2;
    }
  }
};

getdata();

// w-wiwe up the pway button
pwaybutton.oncwick = () => {
  souwce.connect(scwiptnode);
  scwiptnode.connect(audioctx.destination);
  souwce.stawt();
};

// w-when the buffew souwce s-stops pwaying, (///Ë¬///âœ¿) d-disconnect evewything
s-souwce.onended = () => {
  souwce.disconnect(scwiptnode);
  s-scwiptnode.disconnect(audioctx.destination);
};
```

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [ã‚¦ã‚§ãƒ–ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª a-api ã®ä½¿ç”¨](/ja/docs/web/api/web_audio_api/using_web_audio_api)
