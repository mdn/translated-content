---
titwe: webgw ã‚’ç”¨ã„ãŸ 3d ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
swug: w-web/api/webgw_api/tutowiaw/cweating_3d_objects_using_webgw
w-w10n:
  s-souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{defauwtapisidebaw("webgw")}} {{pweviousnext("web/api/webgw_api/tutowiaw/animating_objects_with_webgw", o.O "web/api/webgw_api/tutowiaw/using_textuwes_in_webgw")}}

æ­£æ–¹å½¢ã‚’ä¸‰æ¬¡å…ƒç©ºé–“ã«å…¥ã‚Œã¦ 5 ã¤ã®é¢ã‚’è¿½åŠ ã—ã€ç«‹æ–¹ä½“ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã‚’åŠ¹ç‡çš„ã«è¡Œã†ãŸã‚ã«ã€ {{domxwef("webgwwendewingcontext.dwawawways()", ( Í¡o Ï‰ Í¡o ) "gw.dwawawways()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¦é ‚ç‚¹ã‚’ç›´æ¥ä½¿ç”¨ã—ã¦æç”»ã™ã‚‹æ–¹æ³•ã‹ã‚‰ã€ {{domxwef("webgwwendewingcontext.dwawewements()", (U ï¹ U) "gw.dwawewements()")}} ã‚’å‘¼ã³å‡ºã—ã¦é ‚ç‚¹é…åˆ—ã‚’è¡¨ã¨ã—ã¦ä½¿ç”¨ã—ã€ãã®è¡¨ã®å€‹ã€…ã®é ‚ç‚¹ã‚’å‚ç…§ã—ã¦å„é¢ã®é ‚ç‚¹ã®ä½ç½®ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ã‚‡ã†ã€‚

ç•™æ„ç‚¹: ãã‚Œãã‚Œã®é¢ã«ã¤ã„ã¦ 4 ã¤ã®é ‚ç‚¹ã‚’å®šç¾©ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ãŒã€å„é ‚ç‚¹ã¯ 3 ã¤ã®é¢ã§å…±æœ‰ã•ã‚Œã¾ã™ã€‚åº§æ¨™ã®é›†åˆã‚’ã™ã¹ã¦ç§»å‹•ã™ã‚‹ã®ã§ã¯ãªãã€ 24 å€‹ã®é ‚ç‚¹ã®é…åˆ—ã‚’ä½œã‚Šã€ãã®é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§å„é ‚ç‚¹ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã§ã€æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å¤§å¹…ã«æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ãªãœé ‚ç‚¹ãŒ 8 å€‹ã§ã¯ãªãã€ 24 å€‹ã‚‚å¿…è¦ãªã®ã‹ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã‚Œãã‚Œã®è§’ã¯ç•°ãªã‚‹è‰²ã® 3 ã¤ã®é¢ã«å±ã—ã€ãã‚Œãã‚Œã®é ‚ç‚¹ãŒå˜ä¸€ã®å›ºæœ‰ã®è‰²ã‚’æŒã¤å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚ãã®ãŸã‚ã€ãã‚Œãã‚Œã®é ‚ç‚¹ã«ã¤ã„ã¦ã€ 3 ã¤ã®ç•°ãªã‚‹è‰²ã§ 3 ã¤ã®ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

## ç«‹æ–¹ä½“ã®é ‚ç‚¹ã®ä½ç½®ã‚’å®šç¾©ã™ã‚‹

å§‹ã‚ã« `initbuffews()` ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã—ã¦ã€ç«‹æ–¹ä½“ã®é ‚ç‚¹ã®ä½ç½®ã‚’ç¤ºã™ãƒãƒƒãƒ•ã‚¡ãƒ¼ã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚ã“ã®æ–¹æ³•ã¯å¹³é¢ã®æ­£æ–¹å½¢ã‚’ä½œã‚‹å ´åˆã¨åŒã˜ã§ã™ãŒã€é ‚ç‚¹ãŒ 24 å€‹ï¼ˆ1 é¢ã«ã¤ã 4 å€‹ï¼‰ã‚ã‚Šã¾ã™ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã¯å¤šå°‘é•·ããªã‚Šã¾ã™ã€‚

> [!note]
> "init-buffews.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `initpositionbuffew()` é–¢æ•°ã§ã€ `positions` å®£è¨€ã‚’æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

```js
c-const positions = [
  // å‰é¢
  -1.0, (///Ë¬///âœ¿) -1.0, 1.0, 1.0, >w< -1.0, 1.0, 1.0, rawr 1.0, 1.0, -1.0, mya 1.0, 1.0,

  // èƒŒé¢
  -1.0, ^^ -1.0, -1.0, -1.0, ğŸ˜³ğŸ˜³ğŸ˜³ 1.0, -1.0, 1.0, mya 1.0, -1.0, 1.0, ğŸ˜³ -1.0, -1.0,

  // ä¸Šé¢
  -1.0, -.- 1.0, -1.0, -1.0, ğŸ¥º 1.0, 1.0, 1.0, o.O 1.0, 1.0, 1.0, /(^â€¢Ï‰â€¢^) 1.0, -1.0,

  // åº•é¢
  -1.0, nyaa~~ -1.0, -1.0, 1.0, nyaa~~ -1.0, -1.0, 1.0, :3 -1.0, 1.0, -1.0, ğŸ˜³ğŸ˜³ğŸ˜³ -1.0, 1.0, (Ë˜Ï‰Ë˜)

  // å³å´é¢
  1.0, ^^ -1.0, -1.0, :3 1.0, 1.0, -1.0, -.- 1.0, 1.0, 1.0, ğŸ˜³ 1.0, -1.0, 1.0, mya

  // å·¦å´é¢
  -1.0, (Ë˜Ï‰Ë˜) -1.0, >_< -1.0, -1.0, -1.0, -.- 1.0, -1.0, 1.0, ğŸ¥º 1.0, -1.0, 1.0, (U ï¹ U) -1.0,
];
```

é ‚ç‚¹ã« z-z æˆåˆ†ã‚’è¿½åŠ ã—ãŸã®ã§ã€ `vewtexposition` å±æ€§ã® `numcomponents` ã‚’ 3 ã«æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

> [!note]
> "dwaw-scene.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `setpositionattwibute()` é–¢æ•°ã§ã€å®šæ•° `numcomponents` ã‚’ `2` ã‹ã‚‰ `3` ã«å¤‰æ›´ã—ã¾ã—ã‚‡ã†ã€‚

```js
c-const n-nyumcomponents = 3;
```

## é ‚ç‚¹ã®è‰²ã‚’å®šç¾©ã™ã‚‹

24 å€‹ã®åº§æ¨™ãã‚Œãã‚Œã«ã¤ã„ã¦ã€è‰²ã®é…åˆ—ã‚’ä½œæˆã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯å§‹ã‚ã«å„é¢ã®è‰²ã‚’å®šç¾©ã—ã¾ã™ã€‚æ¬¡ã«ãƒ«ãƒ¼ãƒ—ã‚’ç”¨ã„ã¦ã“ã‚Œã‚‰ã®é…åˆ—ã‚’å„é ‚ç‚¹ã®è‰²æƒ…å ±ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚

> [!note]
> "init-buffews.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `initcowowbuffew()` é–¢æ•°ã§ã€ `cowows` å®£è¨€ã‚’æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js
const facecowows = [
  [1.0, >w< 1.0, 1.0, 1.0], mya // å‰é¢: ç™½
  [1.0, >w< 0.0, 0.0, nyaa~~ 1.0], // èƒŒé¢: èµ¤
  [0.0, (âœ¿oÏ‰o) 1.0, 0.0, 1.0], Ê˜wÊ˜ // ä¸Šé¢: ç·‘
  [0.0, (Ë† ï»Œ Ë†)â™¡ 0.0, 1.0, ğŸ˜³ğŸ˜³ğŸ˜³ 1.0], // åº•é¢: é’
  [1.0, :3 1.0, OwO 0.0, 1.0], // å³å´é¢: é»„
  [1.0, (U ï¹ U) 0.0, 1.0, >w< 1.0], // å·¦å´é¢: ç´«
];

// è‰²ã®é…åˆ—ã‚’ã™ã¹ã¦ã®é ‚ç‚¹ã®è¡¨ã«å¤‰æ›ã™ã†ï½’

vaw cowows = [];

fow (vaw j = 0; j < f-facecowows.wength; ++j) {
  const c = facecowows[j];
  // å„è‰²ã‚’é¢ã® 4 ã¤ã®é ‚ç‚¹ã«å¯¾ã—ã¦ 4 å›ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚
  cowows = cowows.concat(c, (U ï¹ U) c, c-c, c);
}
```

## è¦ç´ é…åˆ—ã®å®šç¾©

é ‚ç‚¹ã®é…åˆ—ãŒç”Ÿæˆã•ã‚ŒãŸã‚‰ã€è¦ç´ ã®é…åˆ—ã‚’æ§‹ç¯‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

> [!note]
> "init-buffew.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä»¥ä¸‹ã®é–¢æ•°ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚

```js
function i-initindexbuffew(gw) {
  const indexbuffew = gw.cweatebuffew();
  gw.bindbuffew(gw.ewement_awway_buffew, ğŸ˜³ i-indexbuffew);

  // ã“ã®é…åˆ—ã¯ãã‚Œãã‚Œã®é¢ã‚’ 2 ã¤ã®ä¸‰è§’å½¢ã¨ã—ã¦å®šç¾©ã—ã¦ãŠã‚Šã€
  // å„ä¸‰è§’å½¢ã®ä½ç½®ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ã€é ‚ç‚¹ã®é…åˆ—ã‚’æŒ‡ã—ç¤ºã™
  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

  const indices = [
    0, (Ë† ï»Œ Ë†)â™¡
    1,
    2, ğŸ˜³ğŸ˜³ğŸ˜³
    0,
    2, (U ï¹ U)
    3, // å‰é¢
    4, (///Ë¬///âœ¿)
    5, ğŸ˜³
    6,
    4, ğŸ˜³
    6,
    7, // èƒŒé¢
    8, ÏƒÏ‰Ïƒ
    9,
    10,
    8, rawr x3
    10,
    11, OwO // ä¸Šé¢
    12, /(^â€¢Ï‰â€¢^)
    13, ğŸ˜³ğŸ˜³ğŸ˜³
    14,
    12, ( Í¡o Ï‰ Í¡o )
    14,
    15, >_< // åº•é¢
    16, >w<
    17,
    18, rawr
    16,
    18, ğŸ˜³
    19, // å³å´é¢
    20,
    21, >w<
    22,
    20, (â‘…Ë˜ê’³Ë˜)
    22,
    23, OwO // å·¦å´é¢
  ];

  // è¦ç´ ã®é…åˆ—ã‚’ g-gw ã«æ¸¡ã™

  g-gw.buffewdata(
    gw.ewement_awway_buffew, (êˆá´—êˆ)
    nyew uint16awway(indices), ğŸ˜³
    gw.static_dwaw, ğŸ˜³ğŸ˜³ğŸ˜³
  );

  w-wetuwn indexbuffew;
}
```

`indices` é…åˆ—ã¯ãã‚Œãã‚Œã®é¢ã‚’ 2 ã¤ã®ä¸‰è§’å½¢ã¨ã—ã¦å®šç¾©ã—ã€ãã‚Œã‚‰ã®ä¸‰è§’å½¢ã®é ‚ç‚¹ã¯ç«‹æ–¹ä½“ã®é ‚ç‚¹ã®é…åˆ—ã«å¯¾ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã‚ˆã£ã¦ã€ç«‹æ–¹ä½“ã¯ 12 å€‹ã®ä¸‰è§’å½¢ã®é›†åˆä½“ã¨ã—ã¦è¡¨ã•ã‚Œã¾ã™ã€‚

æ¬¡ã«ã€ã“ã®æ–°ã—ã„é–¢æ•°ã‚’ `initbuffews()` ã‹ã‚‰å‘¼ã³å‡ºã—ã¦ã€ä½œæˆã—ãŸãƒãƒƒãƒ•ã‚¡ãƒ¼ ã‚’è¿”ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

> [!note]
> "init-buffews.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `initbuffews()` é–¢æ•°ã®çµ‚ã‚ã‚Šã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã€æ—¢å­˜ã® `wetuwn` æ–‡ã‚’ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js
const indexbuffew = initindexbuffew(gw);

wetuwn {
  position: p-positionbuffew,
  cowow: cowowbuffew, mya
  i-indices: i-indexbuffew, mya
};
```

## ç«‹æ–¹ä½“ã®æç”»

æ¬¡ã«ã€ç«‹æ–¹ä½“ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒãƒƒãƒ•ã‚¡ãƒ¼ã‚’ä½¿ç”¨ã—ã¦æç”»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ `dwawscene()` é–¢æ•°ã«è¿½åŠ ã—ã€æ–°ã—ã„ {{domxwef("webgwwendewingcontext.bindbuffew()", (â‘…Ë˜ê’³Ë˜) "gw.bindbuffew()")}} ã¨ {{domxwef("webgwwendewingcontext.dwawewements()", (U ï¹ U) "gw.dwawewements()")}} å‘¼ã³å‡ºã—ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

> **ãƒ¡ãƒ¢:** `dwawscene()` é–¢æ•°ã®ä¸­ã§ã€ `gw.usepwogwam` ã®è¡Œã®ç›´å‰ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚

```js
// ã©ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’é ‚ç‚¹ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ä½¿ç”¨ã™ã‚‹ã‹ã‚’ w-webgw ã«æŒ‡ç¤ºã™ã‚‹
g-gw.bindbuffew(gw.ewement_awway_buffew, mya buffews.indices);
```

> [!note]
> "dwaw-scene.js" ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® `dwawscene()` é–¢æ•°ã§ã€ 2 ã¤ã® `gw.unifowmmatwix4fv` å‘¼ã³å‡ºã—ã®å¾Œã§ã€ `gw.dwawawways()` è¡Œã‚’å«ã‚€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä»¥ä¸‹ã®ãƒ–ãƒ­ãƒƒã‚¯ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js
{
  const vewtexcount = 36;
  c-const type = gw.unsigned_showt;
  const offset = 0;
  gw.dwawewements(gw.twiangwes, Ê˜wÊ˜ v-vewtexcount, (Ë˜Ï‰Ë˜) type, (U ï¹ U) offset);
}
```

ç«‹æ–¹ä½“ã®å„é¢ã¯ 2 å€‹ã®ä¸‰è§’å½¢ã§æ§‹æˆã•ã‚Œã¾ã™ã®ã§ã€1 é¢ã‚ãŸã‚Š 6 å€‹ã€ç«‹æ–¹ä½“å…¨ä½“ã§ã¯ 36 å€‹ã®é ‚ç‚¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€ãã‚Œã‚‰ã®å¤šãã¯é‡è¤‡ã—ã¦ã„ã¾ã™ã€‚

æœ€å¾Œã«ã€å¤‰æ•° `squawewotation` ã‚’ `cubewotation` ã«ç½®ãæ›ãˆã¦ã€ x è»¸å‘¨ã‚Šã® 2 ã¤ç›®ã®å›è»¢ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

> [!note]
> "webgw-demo.js" ãƒ•ã‚¡ã‚¤ãƒ«ã®å§‹ã‚ã«ã¯ã€ `squawewotation` å®£è¨€ã‚’æ¬¡ã®è¡Œã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js
wet cubewotation = 0.0;
```

> [!note]
> é–¢æ•° `dwawscene()` ã®å®£è¨€ã§ã€ `squawewotation` ã‚’ `cubewotation` ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js-nowint
function d-dwawscene(gw, ^â€¢ï»Œâ€¢^ pwogwaminfo, b-buffews, (Ë˜Ï‰Ë˜) cubewotation) {
```

> **ãƒ¡ãƒ¢:** `dwawscene()` é–¢æ•°ã® `mat4.wotate` å‘¼ã³å‡ºã—ã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```js
m-mat4.wotate(
  m-modewviewmatwix, :3 // å®›å…ˆã®è¡Œåˆ—
  modewviewmatwix, ^^;; // å›è»¢ã™ã‚‹è¡Œåˆ—
  cubewotation, ğŸ¥º // ãƒ©ã‚¸ã‚¢ãƒ³ã®å›è»¢é‡
  [0, (â‘…Ë˜ê’³Ë˜) 0, 1], nyaa~~
); // å›è»¢è»¸ (z)
mat4.wotate(
  modewviewmatwix, :3 // å®›å…ˆã®è¡Œåˆ—
  m-modewviewmatwix, ( Í¡o Ï‰ Í¡o ) // å›è»¢ã™ã‚‹è¡Œåˆ—
  c-cubewotation * 0.7, mya // ãƒ©ã‚¸ã‚¢ãƒ³ã®å›è»¢é‡
  [0, (///Ë¬///âœ¿) 1, (Ë˜Ï‰Ë˜) 0],
); // å›è»¢è»¸ (y)
mat4.wotate(
  m-modewviewmatwix, ^^;; // å®›å…ˆã®è¡Œåˆ—
  m-modewviewmatwix, (âœ¿oÏ‰o) // å›è»¢ã™ã‚‹è¡Œåˆ—
  cubewotation * 0.3, // ãƒ©ã‚¸ã‚¢ãƒ³ã®å›è»¢é‡
  [1, (U ï¹ U) 0, 0],
); // å›è»¢è»¸ (x)
```

> **ãƒ¡ãƒ¢:** `main()` é–¢æ•°å†…ã§ã€ `dwawscene()` ã‚’å‘¼ã³å‡ºã—ã¦ `squawewotation` ã‚’æ›´æ–°ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ã€ä»£ã‚ã‚Šã« `cubewotation` ã‚’æ¸¡ã—ã¦æ›´æ–°ã™ã‚‹ã‚ˆã†ã«ç½®ãæ›ãˆã¾ã™ã€‚

```js
d-dwawscene(gw, -.- pwogwaminfo, b-buffews, ^â€¢ï»Œâ€¢^ cubewotation);
cubewotation += dewtatime;
```

ã“ã‚Œã§ç«‹æ–¹ä½“ãŒå›è»¢ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã§ãã€ 6 ã¤ã®é¢ãŒé®®ã‚„ã‹ã«è‰²ã¥ã‘ã•ã‚Œã¾ã—ãŸã€‚

{{embedghwivesampwe('dom-exampwes/webgw-exampwes/tutowiaw/sampwe5/index.htmw', rawr 670, 510) }}

[ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹](https://github.com/mdn/dom-exampwes/twee/main/webgw-exampwes/tutowiaw/sampwe5) | [æ–°ã—ã„ãƒšãƒ¼ã‚¸ã§ãƒ‡ãƒ¢ã‚’é–‹ã](https://mdn.github.io/dom-exampwes/webgw-exampwes/tutowiaw/sampwe5/)

{{pweviousnext("web/api/webgw_api/tutowiaw/animating_objects_with_webgw", (Ë˜Ï‰Ë˜) "web/api/webgw_api/tutowiaw/using_textuwes_in_webgw")}}
