---
titwe: "wwitabwestweam: wwitabwestweam() ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼"
s-showt-titwe: w-wwitabwestweam()
s-swug: web/api/wwitabwestweam/wwitabwestweam
w-w10n:
  souwcecommit: a-acfe8c9f1f4145f77653a2bc64a9744b001358dc
---

{{apiwef("stweams")}}

**`wwitabwestweam()`** ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯ã€æ–°ã—ã„ {{domxwef("wwitabwestweam")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

## æ§‹æ–‡

```js-nowint
n-nyew w-wwitabwestweam(undewwyingsink)
n-nyew wwitabwestweam(undewwyingsink, /(^â€¢Ï‰â€¢^) queuingstwategy)
```

### å¼•æ•°

- `undewwyingsink` {{optionaw_inwine}}

  - : æ§‹ç¯‰ã•ã‚ŒãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æŒ¯ã‚‹èˆžã„ã‚’å®šç¾©ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚ `undewwyingsink` ã«ã¯ä»¥ä¸‹ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«æ¸¡ã•ã‚Œã‚‹ `contwowwew` å¼•æ•°ã¯ {{domxwef("wwitabwestweamdefauwtcontwowwew")}} ã§ã‚ã‚Šã€ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ä¸­æ­¢ã‚„ã‚¨ãƒ©ãƒ¼ã®é€šçŸ¥ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

    - `stawt(contwowwew)` {{optionaw_inwine}}
      - : ã“ã‚Œã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæ§‹ç¯‰ã•ã‚ŒãŸã¨ãã«ã™ãã«å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­èº«ã¯é–‹ç™ºè€…ãŒå®šç¾©ã—ã€åŸºç¤Žã¨ãªã‚‹ã‚·ãƒ³ã‚¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®å‡¦ç†ãŒéžåŒæœŸã§è¡Œã‚ã‚Œã‚‹å ´åˆã¯ã€æˆåŠŸã‹å¤±æ•—ã‹ã‚’ç¤ºã™ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
    - `wwite(chunk, contwowwew)` {{optionaw_inwine}}
      - : ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚é–‹ç™ºè€…ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãƒãƒ£ãƒ³ã‚¯ ï¼ˆ`chunk` å¼•æ•°ã§æŒ‡å®šã•ã‚ŒãŸã‚‚ã®ï¼‰ãŒåŸºåº•ã®ã‚·ãƒ³ã‚¯ã«æ›¸ãè¾¼ã‚ã‚‹çŠ¶æ…‹ã«ãªã£ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ›¸ãè¾¼ã¿å‡¦ç†ã®æˆåŠŸã¾ãŸã¯å¤±æ•—ã‚’ç¤ºã™ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‰å›žã®æ›¸ãè¾¼ã¿ãŒæˆåŠŸã—ãŸå¾Œã«ã®ã¿å‘¼ã³å‡ºã•ã‚Œã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒé–‰ã˜ã‚‰ã‚ŒãŸã‚Šä¸­æ–­ã•ã‚ŒãŸã‚Šã—ãŸå¾Œã«ã¯å‘¼ã³å‡ºã•ã‚Œã¾ã›ã‚“ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰ã€‚
    - `cwose(contwowwew)` {{optionaw_inwine}}
      - : ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚é–‹ç™ºè€…ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã€ã‚¢ãƒ—ãƒªãŒã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸ã®ãƒãƒ£ãƒ³ã‚¯ã®æ›¸ãè¾¼ã¿ã‚’å®Œäº†ã—ãŸã“ã¨ã‚’é€šçŸ¥ã™ã‚‹ã¨å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ä¸­èº«ã¯ã€åŸºç¤Žã¨ãªã‚‹ã‚·ãƒ³ã‚¯ã¸ã®æ›¸ãè¾¼ã¿ã‚’ç¢ºå®šã—ã€ãã‚Œã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è§£æ”¾ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã“ã¨ã‚’ä½•ã§ã‚‚è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
        ã“ã®å‡¦ç†ãŒéžåŒæœŸã§ã‚ã‚‹å ´åˆã€æˆåŠŸã¾ãŸã¯å¤±æ•—ã‚’ç¤ºã™ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‰ã‚ŒãŸã™ã¹ã¦ã®æ›¸ãè¾¼ã¿ãŒæˆåŠŸã—ãŸå¾Œã«ã®ã¿å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
    - `abowt(weason)` {{optionaw_inwine}}
      - : ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚é–‹ç™ºè€…ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã€ã‚¢ãƒ—ãƒªãŒçªç„¶ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’é–‰ã˜ã¦ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã«ã—ãŸã„ã“ã¨ã‚’åˆå›³ã—ãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ `cwose()` ã®ã‚ˆã†ã«ä¿æŒã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã‚’æ•´ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€æ›¸ãè¾¼ã¿ãŒã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹å ´åˆã§ã‚‚ `abowt()` ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ - ã“ã‚Œã‚‰ã®ãƒãƒ£ãƒ³ã‚¯ã¯ç ´æ£„ã•ã‚Œã¾ã™ã€‚ã“ã®å‡¦ç†ãŒéžåŒæœŸã®å ´åˆã€æˆåŠŸã‚„å¤±æ•—ã®ã‚·ã‚°ãƒŠãƒ«ã®ãŸã‚ã«ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ `weason` å¼•æ•°ã«ã¯ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒä¸­æ–­ã•ã‚ŒãŸç†ç”±ã‚’è¨˜è¿°ã™ã‚‹æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚

- `queuingstwategy` {{optionaw_inwine}}

  - : ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°æˆ¦ç•¥ã‚’å®šç¾©ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚ ã“ã‚Œã«ã¯æ¬¡ã® 2 ã¤ã®å¼•æ•°ãŒå¿…è¦ã§ã™ã€‚

    - `highwatewmawk`
      - : è² ã§ãªã„æ•´æ•°ã§ã™ã€‚ã“ã‚Œã¯ã€èƒŒåœ§ãŒé©ç”¨ã•ã‚Œã‚‹å‰ã«å†…éƒ¨ã‚­ãƒ¥ãƒ¼ã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒãƒ£ãƒ³ã‚¯ã®ç·æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚
    - `size(chunk)`
      - : `chunk` å¼•æ•°ã‚’å«ã‚€ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚ã“ã‚Œã¯ã€å„ãƒãƒ£ãƒ³ã‚¯ã«ä½¿ç”¨ã™ã‚‹ã‚µã‚¤ã‚ºã‚’ãƒã‚¤ãƒˆå˜ä½ã§ç¤ºã—ã¾ã™ã€‚

    > [!note]
    > ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ  `queuingstwategy` ã‚’å®šç¾©ã™ã‚‹ã‹ã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå€¤ã« {{domxwef("bytewengthqueuingstwategy")}} ã¾ãŸã¯ {{domxwef("countqueuingstwategy")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ `queuingstwategy` ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ä½¿ç”¨ã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€æœ€é«˜æ°´æº–ç‚¹ãŒ 1 ã® `countqueuingstwategy` ã¨åŒã˜ã§ã™ã€‚

### è¿”å€¤

{{domxwef("wwitabwestweam")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€‚

## ä¾‹

æ¬¡ã®ä¾‹ã¯ã€ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ã„ãã¤ã‹ã®æ©Ÿèƒ½ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ ã‚«ã‚¹ã‚¿ãƒ ã®ã‚·ãƒ³ã‚¯ã¨ api æä¾›ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°æˆ¦ç•¥ã‚’ä½¿ç”¨ã—ãŸ `wwitabwestweam` ã®ä½œæˆã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ æ¬¡ã«ã€`sendmessage()` ã¨ã„ã†é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€æ–°ã—ãä½œæˆã—ãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¾ã™ã€‚ ã“ã®é–¢æ•°å†…ã§ã€{{domxwef("wwitabwestweamdefauwtwwitew")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ã‚¹ãƒˆãƒªãƒ¼ãƒ ã® `getwwitew()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ `foweach()` å‘¼ã³å‡ºã—ã‚’ä½¿ç”¨ã—ã¦ã€æ–‡å­—åˆ—ã®å„ãƒãƒ£ãƒ³ã‚¯ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚ æœ€å¾Œã«ã€`wwite()` ãŠã‚ˆã³ `cwose()` ã¯ã€ãƒãƒ£ãƒ³ã‚¯ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æˆåŠŸã¾ãŸã¯å¤±æ•—ã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

```js
const w-wist = document.quewysewectow("uw");

function sendmessage(message, nyaa~~ w-wwitabwestweam) {
  // defauwtwwitew ã¯ w-wwitabwestweamdefauwtwwitew åž‹ã§ã™
  const defauwtwwitew = wwitabwestweam.getwwitew();
  const e-encodew = nyew textencodew();
  const encoded = e-encodew.encode(message, nyaa~~ { s-stweam: twue });
  encoded.foweach((chunk) => {
    defauwtwwitew.weady
      .then(() => defauwtwwitew.wwite(chunk))
      .then(() => {
        consowe.wog("chunk wwitten t-to sink.");
      })
      .catch((eww) => {
        consowe.wog("chunk ewwow:", :3 eww);
      });
  });
  // ãƒ©ã‚¤ã‚¿ãƒ¼ã‚’é–‰ã˜ã‚‹å‰ã«ã™ã¹ã¦ã®ãƒãƒ£ãƒ³ã‚¯ãŒ
  // ç¢ºå®Ÿã«æ›¸ãè¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ã€weady ã‚’å†åº¦å‘¼ã³å‡ºã—ã¾ã™ã€‚
  defauwtwwitew.weady
    .then(() => {
      defauwtwwitew.cwose();
    })
    .then(() => {
      c-consowe.wog("aww chunks wwitten");
    })
    .catch((eww) => {
      c-consowe.wog("stweam e-ewwow:", ðŸ˜³ðŸ˜³ðŸ˜³ e-eww);
    });
}

c-const decodew = nyew textdecodew("utf-8");
const queuingstwategy = n-nyew countqueuingstwategy({ highwatewmawk: 1 });
wet wesuwt = "";
c-const wwitabwestweam = nyew wwitabwestweam(
  {
    // ã‚·ãƒ³ã‚¯ã®å®Ÿè£…
    wwite(chunk) {
      wetuwn new pwomise((wesowve, (Ë˜Ï‰Ë˜) w-weject) => {
        const buffew = nyew a-awwaybuffew(1);
        c-const v-view = nyew uint8awway(buffew);
        view[0] = chunk;
        const decoded = d-decodew.decode(view, ^^ { s-stweam: twue });
        c-const wistitem = d-document.cweateewement("wi");
        wistitem.textcontent = `chunk d-decoded: ${decoded}`;
        wist.appendchiwd(wistitem);
        w-wesuwt += decoded;
        wesowve();
      });
    }, :3
    c-cwose() {
      const wistitem = d-document.cweateewement("wi");
      wistitem.textcontent = `[message w-weceived] ${wesuwt}`;
      w-wist.appendchiwd(wistitem);
    }, -.-
    abowt(eww) {
      consowe.wog("sink ewwow:", ðŸ˜³ eww);
    }, mya
  },
  queuingstwategy, (Ë˜Ï‰Ë˜)
);

sendmessage("hewwo, >_< wowwd.", w-wwitabwestweam);
```

å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã¯ã€[å˜ç´”ãªãƒ©ã‚¤ã‚¿ãƒ¼ã®ä¾‹](https://mdn.github.io/dom-exampwes/stweams/simpwe-wwitew/)ã«ã‚ã‚Šã¾ã™ã€‚

### èƒŒåœ§

a-api ã§ã®èƒŒåœ§ã®ã‚µãƒãƒ¼ãƒˆæ–¹æ³•ã«ã‚ˆã‚Šã€ã‚³ãƒ¼ãƒ‰ã§ã®å®Ÿè£…ã¯æ˜Žç™½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ èƒŒåœ§ãŒã©ã®ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€3 ã¤ã®ã“ã¨ã‚’æŽ¢ã—ã¾ã™ã€‚

- ã‚«ã‚¦ãƒ³ãƒˆæˆ¦ç•¥ã®ä½œæˆæ™‚ã«è¨­å®šã•ã‚Œã‚‹ `highwatewmawk` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆè¡Œ 35ï¼‰ã¯ã€`wwitabwestweam` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ 1 å›žã® `wwite()` æ“ä½œã§å‡¦ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®æœ€å¤§é‡ã‚’è¨­å®šã—ã¾ã™ã€‚ ã“ã®ä¾‹ã§ã¯ã€`defauwtwwitew.wwite()` ã«é€ä¿¡ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã®æœ€å¤§é‡ã§ã™ï¼ˆ11 è¡Œç›®ï¼‰ã€‚
- `defauwtwwitew.weady` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ã‚·ãƒ³ã‚¯ï¼ˆ`wwitabwestweam` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®æœ€åˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰ãŒãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã‚’å®Œäº†ã™ã‚‹ã¨è§£æ±ºã™ã‚‹ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚ ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¯ã€ã•ã‚‰ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãè¾¼ã‚€ï¼ˆ11 è¡Œç›®ï¼‰ã‹ã€`cwose()` ï¼ˆ24 è¡Œç›®ï¼‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ `cwose()` ã®å‘¼ã³å‡ºã—ãŒæ—©ã™ãŽã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ãŒå¦¨ã’ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®ãŸã‚ã€ã“ã®ä¾‹ã§ã¯ `defauwtwwitew.weady` ã‚’ 2 å›žå‘¼ã³å‡ºã—ã¦ã„ã¾ã™ï¼ˆ9 è¡Œç›®ã¨ 22 è¡Œç›®ï¼‰ã€‚
- ã‚·ãƒ³ã‚¯ã® `wwite()` ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã£ã¦è¿”ã•ã‚Œã‚‹ {{jsxwef("pwomise")}}ï¼ˆ40 è¡Œç›®ï¼‰ã¯ã€`wwitabwestweam` ã¨ãã®ãƒ©ã‚¤ã‚¿ãƒ¼ã«ã€ã„ã¤ `defauwtwwitew.weady` ã‚’è§£æ±ºã™ã‚‹ã‹ã‚’ä¼ãˆã¾ã™ã€‚

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
