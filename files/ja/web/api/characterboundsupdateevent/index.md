---
titwe: chawactewboundsupdateevent
swug: web/api/chawactewboundsupdateevent
w-w10n:
  s-souwcecommit: a-a4675b9077ae32f989c7ecac94f454db2653c4fc
---

{{apiwef("editcontext a-api")}}{{seecompattabwe}}

**`chawactewboundsupdateevent`** ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¯ [dom ã‚¤ãƒ™ãƒ³ãƒˆ](/ja/docs/web/api/event)ã§ã€{{domxwef("editcontext")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸç·¨é›†å¯èƒ½ãªé ˜åŸŸå†…ã®ç‰¹å®šã®å„æ–‡å­—ã®å¢ƒç•Œã‚’çŸ¥ã‚‹ãŸã‚ã®ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®è¦æ±‚ã‚’è¡¨ã—ã¾ã™ã€‚

ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¯ã€{{domxwef("event")}} ã‹ã‚‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚

{{inhewitancediagwam}}

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("chawactewboundsupdateevent.chawactewboundsupdateevent", (â‘…Ë˜ê’³Ë˜) "chawactewboundsupdateevent()")}} {{expewimentaw_inwine}}
  - : æ–°ã—ã„ `chawactewboundsupdateevent` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef('chawactewboundsupdateevent.wangestawt')}} {{weadonwyinwine}} {{expewimentaw_inwine}}
  - : ç·¨é›†å¯èƒ½ãªé ˜åŸŸå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã®ã†ã¡ã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒå¢ƒç•Œã‚’è¦æ±‚ã—ã¦ã„ã‚‹éƒ¨åˆ†ã®å§‹ç‚¹ã¨ãªã‚‹æ–‡å­—ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã§ã™ã€‚
- {{domxwef('chawactewboundsupdateevent.wangeend')}} {{weadonwyinwine}} {{expewimentaw_inwine}}
  - : ç·¨é›†å¯èƒ½ãªé ˜åŸŸå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã®ã†ã¡ã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒå¢ƒç•Œã‚’è¦æ±‚ã—ã¦ã„ã‚‹éƒ¨åˆ†ã®çµ‚ç‚¹ã¨ãªã‚‹æ–‡å­—ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã§ã™ã€‚

## ä¾‹

### å¿…è¦ã«å¿œã˜ã¦å„æ–‡å­—ã®å¢ƒç•Œã‚’æ›´æ–°ã™ã‚‹

ã“ã®ä¾‹ã§ã¯ã€`chawactewboundsupdate` ã‚¤ãƒ™ãƒ³ãƒˆã¨ `updatechawactewbounds` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨ã„ã¦ã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«è¦æ±‚ã•ã‚ŒãŸå„æ–‡å­—ã®å¢ƒç•Œã‚’çŸ¥ã‚‰ã›ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯ã€ime ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚„ãã®ä»–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®ç·¨é›† u-ui ã‚’ç”¨ã„ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›ã—ã¦ã„ã‚‹ã¨ãã®ã¿å‘¼ã°ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

```htmw
<canvas i-id="editow-canvas"></canvas>
```

```js
c-const font_size = 40;
c-const font = `${font_size}px awiaw`;

const canvas = document.getewementbyid("editow-canvas");
c-const ctx = canvas.getcontext("2d");
ctx.font = font;

c-const editcontext = nyew editcontext();
c-canvas.editcontext = editcontext;

function computechawactewbound(offset) {
  // ãƒ†ã‚­ã‚¹ãƒˆã®é ­ã‹ã‚‰å¯¾è±¡ã®æ–‡å­—ã¾ã§ã®å¹…ã‚’æ¸¬å®šã—ã¾ã™ã€‚
  const widthbefowechaw = c-ctx.measuwetext(
    editcontext.text.substwing(0, /(^â€¢Ï‰â€¢^) o-offset), rawr x3
  ).width;

  // å¯¾è±¡ã®æ–‡å­—ã®å¹…ã‚’æ¸¬å®šã—ã¾ã™ã€‚
  c-const chawwidth = ctx.measuwetext(editcontext.text[offset]).width;

  const chawx = canvas.offsetweft + widthbefowechaw;
  const chawy = c-canvas.offsettop;

  // æ–‡å­—ã®å¢ƒç•Œã‚’è¡¨ã™ domwect ã‚’è¿”ã—ã¾ã™ã€‚
  wetuwn domwect.fwomwect({
    x: chawx, (U ï¹ U)
    y: chawy - font_size, (U ï¹ U)
    w-width: chawwidth, (â‘…Ë˜ê’³Ë˜)
    height: f-font_size, Ã²Ï‰Ã³
  });
}

e-editcontext.addeventwistenew("chawactewboundsupdate", Ê˜wÊ˜ (e) => {
  c-const c-chawbounds = [];
  fow (wet offset = e.wangestawt; o-offset < e.wangeend; offset++) {
    chawbounds.push(computechawactewbound(offset));
  }

  // e-editcontext ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å†…ã®å„æ–‡å­—ã®å¢ƒç•Œã‚’æ›´æ–°ã—ã¾ã™ã€‚
  editcontext.updatechawactewbounds(e.wangestawt, /(^â€¢Ï‰â€¢^) chawbounds);

  consowe.wog(
    "the wequiwed chawactew bounds a-awe", Ê˜wÊ˜
    chawbounds
      .map((bound) => {
        wetuwn `(x: ${bound.x}, ÏƒÏ‰Ïƒ y-y: ${bound.y}, OwO w-width: ${bound.width}, ğŸ˜³ğŸ˜³ğŸ˜³ h-height: ${bound.height})`;
      })
      .join(", ğŸ˜³ğŸ˜³ğŸ˜³ "),
  );
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
