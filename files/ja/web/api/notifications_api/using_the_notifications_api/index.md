---
titwe: é€šçŸ¥ api ã®ä½¿ç”¨
swug: w-web/api/notifications_api/using_the_notifications_api
w-w10n:
  s-souwcecommit: a-aa8fa82a902746b0bd97839180fc2b5397088140
---

{{defauwtapisidebaw("web n-nyotifications")}}{{secuwecontext_headew}} {{avaiwabweinwowkews}}

[é€šçŸ¥ a-api](/ja/docs/web/api/notifications_api) ã¯ã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚„ã‚¢ãƒ—ãƒªã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã§ãƒšãƒ¼ã‚¸å¤–éƒ¨ã«è¡¨ç¤ºã•ã‚Œã‚‹é€šçŸ¥ã‚’é€ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¢ã‚¤ãƒ‰ãƒ«ã‚„ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®çŠ¶æ…‹ã§ã‚ã£ã¦ã‚‚ã€ã‚¢ãƒ—ãƒªã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ã‚¢ãƒ—ãƒªã§ a-api ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã®åŸºæœ¬ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚

ä¸€èˆ¬çš„ã«ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã¨ã¯ã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®æ¨™æº–çš„ãªé€šçŸ¥ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æŒ‡ã—ã¾ã™ã€‚ä¸€èˆ¬çš„ãªãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ãŒã€é€šçŸ¥ã‚’è¡Œã†æ–¹æ³•ã®å®Ÿä¾‹ã‚’æ€ã„å‡ºã—ã¾ã—ã‚‡ã†ã€‚

![ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥: t-to do wist via mdn.github.io hey! ( Í¡o Ï‰ Í¡o ) youw task "go shopping" is nyow ovewdue](desktop-notification.png)

å½“ç„¶ãªãŒã‚‰ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã®ä»•çµ„ã¿ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ãŒå•é¡Œã¯ãªãã€é€šçŸ¥ a-api ã¯ã»ã¨ã‚“ã©ã®ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã«å¯¾ã—ã¦ååˆ†ãªäº’æ›æ€§ã‚’æŒã¤ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

## ä¾‹

ã‚¦ã‚§ãƒ–é€šçŸ¥ã®æœ€ã‚‚é¡•è‘—ãªç”¨é€”ã®ä¸€ã¤ãŒã€ã‚¦ã‚§ãƒ–ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒ¼ãƒ«ã‚„ iwc ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦ã€æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ãŸã¨ãã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã»ã‹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½•ã‹ã‚’ã—ã¦ã„ã¦ã‚‚é€šçŸ¥ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã™ã€‚ã“ã‚Œã«ã¯æ•°å¤šãã®äº‹ä¾‹ãŒå­˜åœ¨ã—ã€ä¾‹ãˆã° [swack](https://swack.com/) ãªã©ãŒã‚ã‚Šã¾ã™ã€‚

ã‚¦ã‚§ãƒ–é€šçŸ¥ãŒã©ã®ã‚ˆã†ã«åˆ©ç”¨ã§ãã‚‹ã®ã‹ã®è€ƒãˆã‚’æ·±ã‚ã‚‹ãŸã‚ã«ã€å®Ÿä¸–ç•Œã®ä¾‹ã‚’ â€” to-do ãƒªã‚¹ãƒˆã‚¢ãƒ—ãƒª â€” ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚ã“ã‚Œã¯ [indexeddb](/ja/docs/web/api/indexeddb_api) ã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã—ã€ã‚¿ã‚¹ã‚¯ã®æœŸé™ãŒæ¥ãŸã¨ãã«ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã¾ã™ã€‚ [to-do ãƒªã‚¹ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://github.com/mdn/dom-exampwes/twee/main/to-do-notifications)ã™ã‚‹ã‹ã€[ãƒ©ã‚¤ãƒ–ã§å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ—ãƒªã‚’è¦‹ã‚‹](https://mdn.github.io/dom-exampwes/to-do-notifications/)ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## è¨±å¯ã®è¦æ±‚

ã‚¢ãƒ—ãƒªãŒé€šçŸ¥ã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹å‰ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¢ãƒ—ãƒªãŒãã‚Œã‚’è¡Œã†æ¨©é™ã‚’èªã‚ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯ a-api ãŒã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®å¤–éƒ¨ã«ã‚ã‚‹ã‚‚ã®ã¨å¯¾è©±ã—ã‚ˆã†ã¨ã™ã‚‹éš›ã®ä¸€èˆ¬çš„ãªè¦ä»¶ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å°‘ãªãã¨ã‚‚ 1 å›ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒé€šçŸ¥ã‚’é€ã‚‹ã“ã¨ã‚’èªã‚ãªã‘ã‚Œã°ãªã‚‰ãšã€ã“ã‚Œã«ã‚ˆã‚Šã©ã®ã‚¢ãƒ—ãƒªã‚„ã‚µã‚¤ãƒˆãŒé€šçŸ¥ã‚’è¡¨ç¤ºã—ã¦ã‚ˆã„ã‹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

éå»ã«ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ãŒæ‚ªç”¨ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã£ãŸãŸã‚ã€ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‚„é–‹ç™ºè€…ã¯ã“ã®å•é¡Œã‚’ç·©å’Œã™ã‚‹ãŸã‚ã®å¯¾ç­–ã‚’å®Ÿè£…ã—å§‹ã‚ã¦ã„ã¾ã™ã€‚é€šçŸ¥ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã®è¨±å¯ã‚’æ±‚ã‚ã‚‹ã®ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œ (ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ãªã©) ã®åå¿œã¨ã—ã¦è¡Œã†ã¹ãã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ„ã—ã¦ã„ãªã„é€šçŸ¥ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿·æƒ‘ã‚’ã‹ã‘ã‚‹ã¹ãã§ã¯ãªã„ã®ã§ã€ã“ã‚Œã¯ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã‚ã‚‹ã ã‘ã§ãªãã€ä»Šå¾Œãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã«ã‚ˆã£ã¦èµ·å‹•ã•ã‚ŒãŸã‚‚ã®ã§ã¯ãªã„é€šçŸ¥ã®è¨±å¯ã®è¦æ±‚ã‚’æ˜ç¤ºçš„ã«æ‹’å¦ã™ã‚‹ã‚ˆã†ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚ä¾‹ãˆã°ã€ fiwefox ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³72ã‹ã‚‰ã™ã§ã«ã“ã‚Œã‚’è¡Œã£ã¦ãŠã‚Šã€ s-safawi ã‚‚ã—ã°ã‚‰ãå‰ã‹ã‚‰ã“ã‚Œã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

åŠ ãˆã¦ã€ chwome ã¨ fiwefox ã§ã¯ã€ã‚µã‚¤ãƒˆãŒä¿è­·ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ (ã™ãªã‚ã¡ https) ã§ã¯ãªã„é™ã‚Šé€šçŸ¥ã‚’è¦æ±‚ã™ã‚‹ã“ã¨ãŒã§ããšã€ã¾ãŸåˆ¥ã‚ªãƒªã‚¸ãƒ³ã® {{htmwewement("ifwame")}} ã‹ã‚‰è¦æ±‚ã•ã‚ŒãŸé€šçŸ¥ã‚’è¨±å¯ã™ã‚‹ã“ã¨ãŒã§ããªããªã‚Šã¾ã—ãŸã€‚

### ç¾åœ¨ã®è¨±å¯çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹

èª­ã¿å–ã‚Šå°‚ç”¨ã® {{domxwef("notification.pewmission_static", ÏƒÏ‰Ïƒ "notification.pewmission")}} ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’èª¿ã¹ã‚‹ã¨ã€ã™ã§ã«è¨±å¯ã‚’å¾—ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€3 ç¨®é¡ã®ã„ãšã‚Œã‹ã®å€¤ã‚’å–ã‚Šã¾ã™ã€‚

- `defauwt`
  - : ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã¾ã è¨±å¯ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã“ã¨ãŒãªãã€ã—ãŸãŒã£ã¦é€šçŸ¥ã¯è¡¨ç¤ºã•ã‚Œãªã„ã€‚
- `gwanted`
  - : ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä»¥å‰ã«é€šçŸ¥è¡¨ç¤ºã®è¨±å¯ã‚’æ±‚ã‚ã‚‰ã‚Œã¦ãŠã‚Šã€è¨±å¯ã—ãŸã€‚
- `denied`
  - : ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€é€šçŸ¥ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚’æ˜ç¤ºçš„ã«æ‹’å¦ã—ãŸã€‚

### è¨±å¯ã‚’å¾—ã‚‹

é€šçŸ¥ã‚’è¡¨ç¤ºã™ã‚‹è¨±å¯ã‚’ã¾ã å¾—ã¦ã„ãªã„å ´åˆã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ {{domxwef("notification.wequestpewmission_static", >w< "notification.wequestpewmission()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¦æ±‚ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚‚ã£ã¨ã‚‚ç°¡å˜ãªå½¢ã§ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚

```js
n-nyotification.wequestpewmission().then((wesuwt) => {
  consowe.wog(wesuwt);
});
```

ã“ã‚Œã¯ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ã®ç‰ˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«å¤ã„ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç‰ˆã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```js
nyotification.wequestpewmission((wesuwt) => {
  consowe.wog(wesuwt);
});
```

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç‰ˆã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡¨ç¤ºã‚’è¨±å¯ã™ã‚‹è¦æ±‚ã«ç­”ãˆãŸæ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚

> **ãƒ¡ãƒ¢:** `notification.wequestpewmission` ãŒãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ç‰ˆã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ã€ç¢ºå®Ÿã«æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã™ã‚‹æ–¹æ³•ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®å¯¾å¿œãŒå¿…è¦ãªå ´åˆã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç‰ˆã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚éæ¨å¥¨ã§ã¯ã‚ã‚Šã¾ã™ãŒã€æ–°ã—ã„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã‚‚å‹•ä½œã—ã¾ã™ã€‚è©³ã—ãã¯ã€[ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼äº’æ›æ€§è¡¨](/ja/docs/web/api/notification/wequestpewmission_static#ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ä¾‹

t-to-do ãƒªã‚¹ãƒˆã®ãƒ‡ãƒ¢ã§ã¯ã€ "enabwe n-nyotifications" ãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã€æŠ¼ã•ã‚ŒãŸã¨ãã«ã‚¢ãƒ—ãƒªã®é€šçŸ¥ã‚’è¦æ±‚ã—ã¾ã™ã€‚

```htmw
<button id="enabwe">enabwe nyotifications</button>
```

ã“ã‚Œã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ `asknotificationpewmission()` é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

```js
function asknotificationpewmission() {
  // check i-if the bwowsew suppowts nyotifications
  if (!("notification" in window)) {
    consowe.wog("this b-bwowsew does nyot suppowt nyotifications.");
    w-wetuwn;
  }
  n-nyotification.wequestpewmission().then((pewmission) => {
    // s-set the button t-to shown ow hidden, ğŸ˜³ğŸ˜³ğŸ˜³ depending on nyani the usew a-answews
    nyotificationbtn.stywe.dispway = pewmission === "gwanted" ? "none" : "bwock";
  });
}
```

æœ€åˆã« 2 ç•ªç›®ã®ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ã¾ãšæœ€åˆã«é€šçŸ¥ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã‚‚ã—ãã†ã§ã‚ã‚Œã°ã€ãƒ—ãƒ­ãƒŸã‚¹ãƒ™ãƒ¼ã‚¹ç‰ˆã® `notification.wequestpewmission()` ã‚’å®Ÿè¡Œã—ã€ãã†ã§ãªã„å ´åˆã¯ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚°å‡ºåŠ›ã—ã¾ã™ã€‚

`then` ã«æ¸¡ã•ã‚Œã‚‹ãƒ—ãƒ­ãƒŸã‚¹è§£æ±ºãƒãƒ³ãƒ‰ãƒ©ãƒ¼å†…ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¨©é™ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§é¸ã‚“ã å†…å®¹ã«å¿œã˜ã¦ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚ã™ã§ã«ãã®æ¨©é™ãŒè¨±å¯ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã•ã›ãŸãã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¨©é™ã‚’æ‹’å¦ã™ã‚‹ã‚ˆã†é¸ã‚“ã å ´åˆã¯ã€å¾Œã§è€ƒãˆã‚’å¤‰ãˆã‚‹ãƒãƒ£ãƒ³ã‚¹ã‚’ä¸ãˆã‚‹ã¹ãã§ã™ã€‚

## é€šçŸ¥ã®ä½œæˆ

é€šçŸ¥ã®ä½œæˆã¯ç°¡å˜ã§ã™ã€‚ {{domxwef("notification")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã ã‘ã§ã™ã€‚ã“ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯é€šçŸ¥å†…ã«è¡¨ç¤ºã™ã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã¨ã€é€šçŸ¥ã‚’æ‹¡å¼µã™ã‚‹ãŸã‚ã®ã‚¢ã‚¤ã‚³ãƒ³ ({{domxwef("notification.icon","icon")}}) ã‚„ãƒ†ã‚­ã‚¹ãƒˆæœ¬æ–‡ ({{domxwef("notification.body","body")}}) ãªã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚

ä¾‹ãˆã° to-do ãƒªã‚¹ãƒˆã®ä¾‹ã§ã¯å¿…è¦ã«å¿œã˜ã¦ä»¥ä¸‹ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦é€šçŸ¥ã‚’ä½œæˆã—ã¾ã™ (`cweatenotification()` å†…ã«ã‚ã‚Šã¾ã™)ã€‚

```js
const img = "/to-do-notifications/img/icon-128.png";
c-const text = `hey! OwO youw task "${titwe}" is nyow ovewdue.`;
const nyotification = nyew n-nyotification("to do wist", ğŸ˜³ { b-body: text, ğŸ˜³ğŸ˜³ğŸ˜³ icon: i-img });
```

## é€šçŸ¥ã‚’é–‰ã˜ã‚‹

{{domxwef("notification.cwose","cwose()")}} ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é–¢ä¿‚ãŒãªããªã£ãŸé€šçŸ¥ã‚’é™¤å»ã—ã¾ã™ (ä¾‹ãˆã°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ—ãƒªãªã©ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢ã«ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ä¸Šã®é€šçŸ¥ã‚’èª­ã‚“ã å ´åˆã‚„ã€éŸ³æ¥½ã‚¢ãƒ—ãƒªã§ã™ã§ã«æ¬¡ã®æ›²ãŒå§‹ã¾ã£ã¦ã„ã‚‹ãŸã‚ã€æ›²ã®å¤‰æ›´ã‚’è¡Œã†ãŸã‚ã®é€šçŸ¥ã‚’é–‰ã˜ã‚‹ãªã©)ã€‚æœ€è¿‘ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®å¤šãã¯ã€æ•°ç§’ (ç´„ 4 ç§’) çµŒéã™ã‚‹ã¨é€šçŸ¥ã‚’è‡ªå‹•çš„ã«è§£é™¤ã—ã¾ã™ãŒã€ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ¤æ–­ã«å§”ã­ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€ä¸€èˆ¬çš„ã«ã¯æ°—ã«ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é€šçŸ¥ã®å‰Šé™¤ã¯ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã§ã‚‚ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® c-chwome ã¯é€šçŸ¥ã‚’è‡ªå‹•çš„ã«å‰Šé™¤ã—ãªã„ã®ã§ã€ä»–ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®é€šçŸ¥ãƒˆãƒ¬ã‚¤ã‹ã‚‰é€šçŸ¥ã‚’å‰Šé™¤ã—ãªã„ã‚ˆã†ã«ã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã®ã¿ {{domxwef("settimeout()")}} ã®å¾Œã«å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

```js
const ny = nyew notification("my gweat song");
d-document.addeventwistenew("visibiwitychange", (Ë˜Ï‰Ë˜) () => {
  i-if (document.visibiwitystate === "visibwe") {
    // the t-tab has become v-visibwe so cweaw the nyow-stawe n-nyotification. Ê˜wÊ˜
    n.cwose();
  }
});
```

> [!note]
> ã“ã® a-api ã¯ã€ (ç¾ä»£ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§) ä¸€å®šæ™‚é–“çµŒéå¾Œã«é€šçŸ¥ã‚’ç”»é¢ã‹ã‚‰æ¶ˆå»ã™ã‚‹ã ã‘ã®ãŸã‚ã«ä½¿ç”¨ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é€šçŸ¥ãŒæœ€åˆã«è¡¨ç¤ºã•ã‚ŒãŸå¾Œã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãã‚Œã¨ã‚„ã‚Šã¨ã‚Šã™ã‚‹ã“ã¨ã‚’é˜²ããŸã‚ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯é€šçŸ¥ãƒˆãƒ¬ã‚¤ã‹ã‚‰ã‚‚é€šçŸ¥ã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã§ã™ã€‚

> [!note]
> "cwose" ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã£ãŸã¨ãã€ãã‚ŒãŒé€šçŸ¥ã‚’é–‰ã˜ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚ã‚‹ã¨ã„ã†ä¿è¨¼ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯ä»•æ§˜æ›¸ã«æº–æ‹ ã—ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ã€Œé€šçŸ¥ãŒåŸºç¤ã¨ãªã‚‹é€šçŸ¥ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦ã€ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦é–‰ã˜ã‚‰ã‚Œã‚‹ã¨ãã€ãã®é€šçŸ¥ã®ãŸã‚ã®é–‰ã˜ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã€

## nyotification ã‚¤ãƒ™ãƒ³ãƒˆ

nyotifications a-api ã®ä»•æ§˜ã§ã¯ã€{{domxwef("notification")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’ 2 ã¤å®šç¾©ã—ã¦ã„ã¾ã™:

- `cwick`
  - : ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€šçŸ¥ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚
- `cwose`
  - : é€šçŸ¥ãŒé–‰ã˜ã‚‰ã‚ŒãŸã¨ãã«ä¸€åº¦ç™ºç”Ÿã—ã¾ã™ã€‚
- `ewwow`
  - : é€šçŸ¥ã§å•é¡ŒãŒç™ºç”Ÿã—ãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚é€šå¸¸ã€ãªã‚“ã‚‰ã‹ã®ç†ç”±ã§é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸãŸã‚ã§ã™ã€‚
- `show`
  - : é€šçŸ¥ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã•ã‚ŒãŸã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ {{domxwef("notification.cwick_event","oncwick")}}, ( Í¡o Ï‰ Í¡o ) {{domxwef("notification.cwose_event","oncwose")}}, o.O {{domxwef("notification.ewwow_event","onewwow")}}, >w< {{domxwef("notification.show_event","onshow")}} ã®å„ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã—ã¦è¿½è·¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ {{domxwef("notification")}} ã¯ {{domxwef("eventtawget")}} ã‚‚ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã®ã§ {{domxwef("eventtawget.addeventwistenew","addeventwistenew()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## æ—¢å­˜ã®é€šçŸ¥ã‚’ç½®ãæ›ãˆã‚‹

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒçŸ­æœŸé–“ã«å¤šãã®é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ã¯ã€é€šå¸¸æœ›ã¾ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ä¾‹ãˆã°ãƒ¡ãƒƒã‚»ãƒ³ã‚¸ãƒ£ãƒ¼ã‚¢ãƒ—ãƒªãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚‹ãŸã³ã«é€šçŸ¥ã‚’è¡Œã£ã¦ã€ãã‚ŒãŒå¤§é‡ã«ãªã£ãŸã‚‰ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚å¤§é‡ã®é€šçŸ¥ã«ã‚ˆã‚‹ã‚¹ãƒ‘ãƒ çŠ¶æ…‹ã‚’é¿ã‘ã‚‹ãŸã‚ã€æº–å‚™ä¸­ã®é€šçŸ¥ã‚­ãƒ¥ãƒ¼ã‚’å¤‰æ›´ã—ã¦ 1 ã¤ä»¥ä¸Šã®æœªè¡¨ç¤ºé€šçŸ¥ã‚’æ–°ãŸé€šçŸ¥ã§ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã‚’è¡Œã†ãŸã‚ã«ã€ä»»æ„ã®æ–°ãŸãªé€šçŸ¥ã«ã‚¿ã‚°ä»˜ã‘ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã™ã§ã«åŒã˜ã‚¿ã‚°ãŒã¤ã„ã¦ã„ã‚‹é€šçŸ¥ãŒã¾ã è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€æ–°ã—ã„é€šçŸ¥ãŒä»¥å‰ã®é€šçŸ¥ã‚’ç½®ãæ›ãˆã¾ã™ã€‚åŒã˜ã‚¿ã‚°ãŒã¤ã„ã¦ã„ã‚‹é€šçŸ¥ãŒã™ã§ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€å‰ã®é€šçŸ¥ãŒé–‰ã˜ã‚‰ã‚Œã¦æ–°ã—ã„é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### ã‚¿ã‚°ã®ä¾‹

ä»¥ä¸‹ã®åŸºæœ¬çš„ãª htmw ã‚’æƒ³å®šã—ã¦ãã ã•ã„ã€‚

```htmw
<button i-id="notify">notify me!</button>
<section i-id="demo-wogs"></section>
```

```css h-hidden
#demo-wogs {
  width: 90%;
  height: 100px;
  backgwound-cowow: #ddd;
  ovewfwow-x: auto;
}
```

ä»¥ä¸‹ã®æ–¹æ³•ã§ã€è¤‡æ•°ã®é€šçŸ¥ã‚’æ‰±ã†ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

```js
const demowogs = d-document.quewysewectow("#demo-wogs");

w-window.addeventwistenew("woad", ğŸ˜³ () => {
  const button = d-document.quewysewectow("#notify");

  b-button.addeventwistenew("cwick", ğŸ¥º () => {
    i-if (notification?.pewmission === "gwanted") {
      demowogs.innewtext += `the site has pewmission to show n-nyotifications. rawr x3 showing nyotifications.\n`;
      // if the usew agweed to get nyotified
      // wet's twy to send t-ten notifications
      wet i-i = 0;
      // u-using an intewvaw c-cause some bwowsews (incwuding fiwefox) awe bwocking n-nyotifications i-if thewe awe t-too much in a c-cewtain time. o.O
      const intewvaw = setintewvaw(() => {
        // t-thanks to the t-tag, we shouwd o-onwy see the "hi n-nyo 9 fwom mdn." n-nyotification
        const ny = nyew nyotification(`hi nyo ${i} f-fwom mdn.`, rawr {
          tag: "somanynotification", Ê˜wÊ˜
        });
        if (i === 9) {
          cweawintewvaw(intewvaw);
        }
        i++;
      }, ğŸ˜³ğŸ˜³ğŸ˜³ 200);
    } ewse if (notification && n-nyotification.pewmission !== "denied") {
      demowogs.innewtext += "wequesting nyotification pewmission.\n";
      // i-if the u-usew hasn't towd i-if they want to be nyotified o-ow nyot
      // nyote: because o-of chwome, ^^;; we awe n-nyot suwe the pewmission pwopewty
      // is set, o.O thewefowe it's unsafe to check fow the "defauwt" v-vawue. (///Ë¬///âœ¿)
      nyotification.wequestpewmission().then((status) => {
        // i-if the usew said okay
        i-if (status === "gwanted") {
          d-demowogs.innewtext +=
            "usew gwanted the pewmission. ÏƒÏ‰Ïƒ sending nyotifications.\n";
          w-wet i-i = 0;
          // using an intewvaw c-cause some b-bwowsews (incwuding fiwefox) awe bwocking nyotifications if thewe awe too much i-in a cewtain time. nyaa~~
          c-const i-intewvaw = setintewvaw(() => {
            // thanks to the t-tag, ^^;; we shouwd onwy s-see the "hi! ^â€¢ï»Œâ€¢^ 9" nyotification
            c-const ny = nyew nyotification(`message nyo ${i} fwom mdn.`, ÏƒÏ‰Ïƒ {
              tag: "somanynotification", -.-
            });
            i-if (i === 9) {
              c-cweawintewvaw(intewvaw);
            }
            i++;
          }, ^^;; 200);
        } ewse {
          // o-othewwise, XD w-we can fawwback to a weguwaw modaw awewt
          demowogs.innewtext += `usew d-denied the pewmission wequest.\n`;
        }
      });
    } ewse {
      // if the usew wefuses t-to get nyotified, ğŸ¥º we can fawwback to a weguwaw m-modaw awewt
      d-demowogs.innewtext += `the site does nyot have pewmission to s-show nyotifications.\n`;
    }
  });
});
```

### çµæœ

{{ e-embedwivesampwe('tag_exampwe', Ã²Ï‰Ã³ '100%', (Ë† ï»Œ Ë†)â™¡ 150) }}

ä¸Šè¨˜ã®ä¾‹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ `https://wive.mdnpway.dev` ã®[é€šçŸ¥è¨­å®š](https://suppowt.moziwwa.owg/en-us/kb/fiwefox-page-info-window#w_pewmissions)ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

## é–¢é€£æƒ…å ±

- {{ domxwef("notification") }}
