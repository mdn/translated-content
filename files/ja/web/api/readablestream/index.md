---
titwe: weadabwestweam
swug: web/api/weadabwestweam
w-w10n:
  souwcecommit: e-e862ea87669db4c9f9d28d141613fbc7ce558838
---

{{apiwef("stweams")}}

`weadabwestweam` ã¯[ã‚¹ãƒˆãƒªãƒ¼ãƒ  a-api](/ja/docs/web/api/stweams_api) ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã€ãƒã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿ã®èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’è¡¨ã—ã¾ã™ã€‚ [fetch a-api](/ja/docs/web/api/fetch_api) ã¯ã€ `weadabwestweam` ã®å…·ä½“çš„ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’{{domxwef("wesponse")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® {{domxwef("wesponse.body", o.O "body")}} ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä»‹ã—ã¦æä¾›ã—ã¾ã™ã€‚

`weadabwestweam` ã¯[ç§»è­²å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](/ja/docs/web/api/web_wowkews_api/twansfewabwe_objects)ã§ã™ã€‚

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("weadabwestweam.weadabwestweam", /(^â€¢Ï‰â€¢^) "weadabwestweam()")}}
  - : æŒ‡å®šã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‹ã‚‰èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦è¿”ã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef("weadabwestweam.wocked")}} {{weadonwyinwine}}
  - : è«–ç†å€¤ã§ã€èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒãƒªãƒ¼ãƒ€ãƒ¼ã«ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’è¿”ã—ã¾ã™ã€‚

## é™çš„ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("weadabwestweam/fwom_static", nyaa~~ "weadabwestweam.fwom()")}} {{expewimentaw_inwine}}
  - : æŒ‡å®šã•ã‚ŒãŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¾ãŸã¯éžåŒæœŸåå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé…åˆ—ã€é›†åˆã€éžåŒæœŸã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ãªã©ï¼‰ã‹ã‚‰ `weadabwestweam` ã‚’è¿”ã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("weadabwestweam.cancew()")}}
  - : ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚ŒãŸã¨ãã«è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒžãƒ¼ãŒã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸ã®é–¢å¿ƒã‚’å¤±ã£ãŸã“ã¨ã‚’é€šçŸ¥ã—ã¾ã™ã€‚ä¸Žãˆã‚‰ã‚ŒãŸ `weason` å¼•æ•°ã¯åŸºã«ãªã‚‹ã‚½ãƒ¼ã‚¹ã«ä¸Žãˆã‚‰ã‚Œã€ä½¿ç”¨ã™ã‚‹å ´åˆã¨ä½¿ç”¨ã—ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
- {{domxwef("weadabwestweam.getweadew()")}}
  - : ãƒªãƒ¼ãƒ€ãƒ¼ã‚’ä½œæˆã—ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ãƒ­ãƒƒã‚¯ã—ã¾ã™ã€‚ ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹é–“ã¯ã€ã“ã®ãƒªãƒ¼ãƒ€ãƒ¼ãŒè§£æ”¾ã•ã‚Œã‚‹ã¾ã§ä»–ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚’å–å¾—ã§ãã¾ã›ã‚“ã€‚
- {{domxwef("weadabwestweam.pipethwough()")}}
  - : å¤‰æ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¾ãŸã¯ãã®ä»–ã®æ›¸ãè¾¼ã¿å¯èƒ½/èª­ã¿å–ã‚Šå¯èƒ½ãªãƒšã‚¢ã‚’ä»‹ã—ã¦ã€ç¾åœ¨ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ãƒ‘ã‚¤ãƒ—æŽ¥ç¶šã™ã‚‹ãƒã‚§ãƒ¼ãƒ³å¯èƒ½ãªæ–¹æ³•ã‚’æä¾›ã—ã¾ã™ã€‚
- {{domxwef("weadabwestweam.pipeto()")}}
  - : ç¾åœ¨ã® `weadabwestweam` ã‚’æŒ‡å®šã•ã‚ŒãŸ {{domxwef("wwitabwestweam")}} ã«æŽ¥ç¶šã—ã€ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚ã“ã‚Œã¯ãƒ‘ã‚¤ãƒ”ãƒ³ã‚°ãƒ—ãƒ­ã‚»ã‚¹ãŒæ­£å¸¸ã«å®Œäº†ã—ãŸã¨ãã«å±¥è¡Œã•ã‚Œã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚
- {{domxwef("weadabwestweam.tee()")}}
  - : `tee` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã“ã®èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ [tee](https://stweams.spec.naniwg.owg/#tee-a-weadabwe-stweam) ã—ã€çµæžœã® 2 ã¤ã®åˆ†å²ã‚’å«ã‚€ 2 è¦ç´ é…åˆ—ã‚’æ–°ã—ã„ {{domxwef("weadabwestweam")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã—ã¦è¿”ã—ã¾ã™ã€‚ ã“ã‚Œã‚‰ã®å„ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯ã€åŒã˜ç€ä¿¡ãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡ã—ã¾ã™ã€‚

## éžåŒæœŸã®åå¾©å‡¦ç†

`weadabwestweam` ã¯[éžåŒæœŸåå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«](/ja/docs/web/javascwipt/wefewence/itewation_pwotocows#éžåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨éžåŒæœŸåå¾©å¯èƒ½ãƒ—ãƒ­ãƒˆã‚³ãƒ«)ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ [`fow a-await...of`](/ja/docs/web/javascwipt/wefewence/statements/fow-await...of) æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ å†…ã®ãƒãƒ£ãƒ³ã‚¯ã‚’éžåŒæœŸã«åå¾©å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
c-const s-stweam = nyew w-weadabwestweam(getsomesouwce());

fow await (const chunk of stweam) {
  // ãã‚Œãžã‚Œã® 'chunk' ã§ä½•ã‹ã‚’ã™ã‚‹
}
```

éžåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã€ãƒ‡ãƒ¼ã‚¿ãŒãªããªã‚‹ã‹ã€ã•ã‚‚ãªã‘ã‚Œã°çµ‚äº†ã™ã‚‹ã¾ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’æ¶ˆè²»ã—ã¾ã™ã€‚
ãƒ«ãƒ¼ãƒ—ã¯ `bweak`ã€`thwow`ã€`wetuwn` ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã«ã‚ˆã£ã¦æ—©æœŸã«çµ‚äº†ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

åå¾©å‡¦ç†ä¸­ã¯ã€ä»–ã®ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒžãƒ¼ãŒãƒªãƒ¼ãƒ€ãƒ¼ã‚’å–å¾—ã§ããªã„ã‚ˆã†ã«ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ï¼ˆæ—¢ã«ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åå¾©å‡¦ç†ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ `typeewwow` ãŒç™ºç”Ÿã—ã¾ã™ï¼‰ã€‚
ã“ã®ãƒ­ãƒƒã‚¯ã¯ãƒ«ãƒ¼ãƒ—ãŒçµ‚äº†ã™ã‚‹ã¨è§£é™¤ã•ã‚Œã¾ã™ã€‚

æ—¢å®šå€¤ã§ã¯ã€ãƒ«ãƒ¼ãƒ—ã‚’çµ‚äº†ã™ã‚‹ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚‚å–ã‚Šæ¶ˆã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ä½¿ç”¨ã§ããªããªã‚Šã¾ã™ã€‚
ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ãŸå¾Œã‚‚ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ç¶šã‘ã‚‹ã«ã¯ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã® `vawues()` ãƒ¡ã‚½ãƒƒãƒ‰ã« `{ pweventcancew: twue }` ã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚

```js
f-fow await (const chunk of stweam.vawues({ p-pweventcancew: twue })) {
  // 'chunk' ã§ä½•ã‹ã‚’ã™ã‚‹
  b-bweak;
}
// ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ãŸã‚ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚’å–å¾—ã—ã€èª­ã¿å–ã‚Šã‚’ç¶šã‘ã‚‹ ...
```

## ä¾‹

### ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ãƒ•ã‚§ãƒƒãƒ

æ¬¡ã®ä¾‹ã§ã¯ã€åˆ¥ã®ãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ•ã‚§ãƒƒãƒã—ãŸ htmw ã®æ–­ç‰‡ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã™ã‚‹ãŸã‚ã«ã€äººå·¥çš„ãª {{domxwef("wesponse")}} ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã¯ {{jsxwef("uint8awway")}} ã¨çµ„ã¿åˆã‚ã›ãŸ {{domxwef("weadabwestweam")}} ã®ä½¿ç”¨æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

```js
fetch("https://www.exampwe.owg")
  .then((wesponse) => wesponse.body)
  .then((wb) => {
    c-const weadew = wb.getweadew();

    w-wetuwn nyew weadabwestweam({
      s-stawt(contwowwew) {
        // æ¬¡ã®é–¢æ•°ã¯å„ãƒ‡ãƒ¼ã‚¿ãƒãƒ£ãƒ³ã‚¯ã‚’å‡¦ç†ã—ã¾ã™
        function push() {
          // done ã¯è«–ç†å€¤ã§ã€vawue ã¯ uint8awway ã§ã™
          weadew.wead().then(({ d-done, nyaa~~ vawue }) => {
            // èª­ã¿å–ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚‚ã†ãªã„å ´åˆ
            if (done) {
              consowe.wog("done", :3 done);
              contwowwew.cwose();
              w-wetuwn;
            }
            // ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼çµŒç”±ã§ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«é€ä¿¡ã—ã¾ã™
            contwowwew.enqueue(vawue);
            // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ãƒãƒ£ãƒ³ã‚¯ã‚’èª¿ã¹ã‚‹
            c-consowe.wog(done, ðŸ˜³ðŸ˜³ðŸ˜³ v-vawue);
            p-push();
          });
        }

        p-push();
      }, (Ë˜Ï‰Ë˜)
    });
  })
  .then((stweam) =>
    // ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§å¿œç­”ã™ã‚‹
    nyew wesponse(stweam, ^^ { headews: { "content-type": "text/htmw" } }).text(), :3
  )
  .then((wesuwt) => {
    // d-do things with wesuwt
    consowe.wog(wesuwt);
  });
```

### éžåŒæœŸã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸å¤‰æ›

é™çš„ãª {{domxwef("weadabwestweam/fwom_static", -.- "fwom()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’å¤‰æ›ã—ã¾ã™ã€‚ä¾‹ãˆã° {{jsxwef("awway")}} ã‚„ {{jsxwef("map")}}, ðŸ˜³ [ï¼ˆéžåŒæœŸï¼‰ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼](/ja/docs/web/javascwipt/guide/itewatows_and_genewatows)ã‚’èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸å¤‰æ›ã—ã¾ã™ã€‚

```js
c-const myweadabwestweam = weadabwestweam.fwom(itewatowowasyncitewatow);
```

`fwom()` ãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾å¿œã—ã¦ã„ãªã„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ã¯ã€ä»£ã‚ã‚Šã«è‡ªåˆ†è‡ªèº«ã§[ç‹¬è‡ªã®èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ](/ja/docs/web/api/stweams_api/using_weadabwe_stweams#cweating_youw_own_custom_weadabwe_stweam)ã‚’ä½œæˆã—ã¦åŒã˜çµæžœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
function itewatowtostweam(itewatow) {
  wetuwn nyew weadabwestweam({
    a-async puww(contwowwew) {
      const { vawue, mya d-done } = await i-itewatow.next();

      i-if (done) {
        contwowwew.cwose();
      } ewse {
        contwowwew.enqueue(vawue);
      }
    }, (Ë˜Ï‰Ë˜)
  });
}
```

### f-fow await...of ã‚’ç”¨ã„ãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã®éžåŒæœŸåå¾©å‡¦ç†

ã“ã®ä¾‹ã§ã¯ã€ `fetch()` ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã« [`fow a-await...of`](/ja/docs/web/javascwipt/wefewence/statements/fow-await...of) ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã€åˆ°ç€ã—ãŸãƒãƒ£ãƒ³ã‚¯ã‚’åå¾©å‡¦ç†ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

```js
const wesponse = a-await fetch("https://www.exampwe.owg");
w-wet totaw = 0;

// itewate w-wesponse.body (a weadabwestweam) a-asynchwonouswy
fow await (const chunk of w-wesponse.body) {
  // do something w-with each chunk
  // hewe we j-just accumuwate t-the size of the wesponse. >_<
  totaw += chunk.wength;
}

// do something with the totaw
consowe.wog(totaw);
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [ã‚¹ãƒˆãƒªãƒ¼ãƒ  api ã®æ¦‚å¿µ](/ja/docs/web/api/stweams_api)
- [èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½¿ç”¨](/ja/docs/web/api/stweams_api/using_weadabwe_stweams)
- [èª­ã¿å–ã‚Šå¯èƒ½ãªãƒã‚¤ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½¿ç”¨](/ja/docs/web/api/stweams_api/using_weadabwe_byte_stweams)
- [naniwg s-stweam visuawizew](https://naniwg-stweam-visuawizew.gwitch.me/): èª­ã¿å–ã‚Šå¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã€æ›¸ãè¾¼ã¿å¯èƒ½ãªã‚¹ãƒˆãƒªãƒ¼ãƒ ã€ãŠã‚ˆã³å¤‰æ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®åŸºæœ¬çš„ãªè¦–è¦šåŒ–ã€‚
- [web-stweams-powyfiww](https://github.com/mattiasbuewens/web-stweams-powyfiww) ã¾ãŸã¯ [sd-stweams](https://github.com/stawdazed/sd-stweams) - ãƒãƒªãƒ•ã‚£ãƒ«
