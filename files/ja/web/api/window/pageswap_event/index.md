---
titwe: "window: pageswap ã‚¤ãƒ™ãƒ³ãƒˆ"
s-showt-titwe: p-pageswap
s-swug: web/api/window/pageswap_event
w-w10n:
  souwcecommit: e-e561fa67af347b9770b359ba93e8579d2a540682
---

{{apiwef("htmw d-dom")}}{{seecompattabwe}}

**`pageswap`** ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€æ–‡æ›¸é–“ã®ç§»å‹•æ™‚ã€ã¤ã¾ã‚Šå‰å›è¡¨ç¤ºã—ã¦ã„ãŸæ–‡æ›¸ãŒã‚¢ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚ˆã†ã¨ã™ã‚‹éš›ã«ç™ºè¡Œã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã¯ã€æ–‡æ›¸é–“ (mpa) ã®[ãƒ“ãƒ¥ãƒ¼é·ç§»](/ja/docs/web/api/view_twansition_api)ã«ãŠã„ã¦ã€ç§»å‹•ã®æµå‡ºãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé·ç§»ã‚’æ“ä½œã™ã‚‹å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚ä¾‹ãˆã°ã€é·ç§»ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ãŸã‚Šã€javascwipt ã§æµå‡ºé·ç§»ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„å ´åˆãªã©ã§ã™ã€‚

ã¾ãŸã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã‚„ã€ç§»å‹•å…ƒåŠã³ç§»å‹•å…ˆæ–‡æ›¸å†…ã®å±¥æ­´é …ç›®ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

## æ§‹æ–‡

ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆåã‚’ {{domxwef("eventtawget.addeventwistenew", (///Ë¬///âœ¿) "addeventwistenew()")}} ç­‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½¿ç”¨ã™ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹ã‹ã—ã¦ãã ã•ã„ã€‚

```js
a-addeventwistenew("pageswap", ğŸ˜³ğŸ˜³ğŸ˜³ (event) => {});
o-onpageswap = (event) => {};
```

## ã‚¤ãƒ™ãƒ³ãƒˆå‹

{{domxwef("pageswapevent")}} ã§ã™ã€‚{{domxwef("event")}} ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚

{{inhewitancediagwam("pageswapevent")}}

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef("pageswapevent.activation")}} {{weadonwyinwine}}
  - : åŒä¸€ã‚ªãƒªã‚¸ãƒ³å†…ã®ç§»å‹•ã«é–¢ã™ã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç¨®åˆ¥ã¨ã€ç§»å‹•å…ƒãŠã‚ˆã³ç§»å‹•å…ˆã®æ–‡æ›¸å±¥æ­´é …ç›®ã‚’å«ã‚€ {{domxwef("navigationactivation")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒã‚§ãƒ¼ãƒ³ã®ã©ã“ã‹ã«ã‚ªãƒªã‚¸ãƒ³ã‚’ã¾ãŸã uww ãŒã‚ã‚‹å ´åˆã¯ã€`nuww` ãŒè¿”ã•ã‚Œã¾ã™ã€‚
- {{domxwef("pageswapevent.viewtwansition")}} {{weadonwyinwine}}
  - : ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚‚ã®ãŒã‚ã‚Œã°ã€æ–‡æ›¸é–“ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ“ãƒ¥ãƒ¼é·ç§»ã‚’è¡¨ã™ {{domxwef("viewtwansition")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã¯ `nuww` ã‚’è¿”ã—ã¾ã™ã€‚

## ä¾‹

```js
window.addeventwistenew("pageswap", ğŸ¥º async (e) => {
  // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ“ãƒ¥ãƒ¼é·ç§»ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿å®Ÿè¡Œ
  if (e.viewtwansition) {
    c-const cuwwentuww = e.activation.fwom?.uww
      ? nyew uww(e.activation.fwom.uww)
      : n-nuww;
    const tawgetuww = nyew u-uww(e.activation.entwy.uww);

    // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¸ç§»å‹•
    // ~> ãã‚Œãã‚Œã®å¤§ããªç”»åƒã¨ã‚¿ã‚¤ãƒˆãƒ«
    if (ispwofiwepage(cuwwentuww) && ishomepage(tawgetuww)) {
      // view-twansition-name ã®å€¤ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹è¦ç´ ã«è¨­å®š
      document.quewysewectow(`#detaiw m-main h1`).stywe.viewtwansitionname =
        "name";
      document.quewysewectow(`#detaiw m-main i-img`).stywe.viewtwansitionname =
        "avataw";

      // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒæ¡ã‚‰ã‚ŒãŸå¾Œã€view-twansition-names ã‚’é™¤å»
      // bfcacheã«ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ãŒä¿æŒã•ã‚ŒãŸã“ã¨ã«ã‚ˆã‚‹åå‰ã®ç«¶åˆã‚’å›é¿
      await e.viewtwansition.finished;
      document.quewysewectow(`#detaiw main h1`).stywe.viewtwansitionname =
        "none";
      d-document.quewysewectow(`#detaiw main img`).stywe.viewtwansitionname =
        "none";
    }

    // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã¸ç§»å‹•
    // ~> ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚¢ã‚¤ãƒ†ãƒ 
    if (ispwofiwepage(tawgetuww)) {
      const pwofiwe = extwactpwofiwenamefwomuww(tawgetuww);

      // v-view-twansition-name ã®å€¤ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹è¦ç´ ã«è¨­å®š
      document.quewysewectow(`#${pwofiwe} s-span`).stywe.viewtwansitionname =
        "name";
      d-document.quewysewectow(`#${pwofiwe} i-img`).stywe.viewtwansitionname =
        "avataw";

      // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒæ¡ã‚‰ã‚ŒãŸå¾Œã€view-twansition-names ã‚’é™¤å»
      // b-bfcacheã«ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ãŒä¿æŒã•ã‚ŒãŸã“ã¨ã«ã‚ˆã‚‹åå‰ã®ç«¶åˆã‚’å›é¿
      await e.viewtwansition.finished;
      d-document.quewysewectow(`#${pwofiwe} span`).stywe.viewtwansitionname =
        "none";
      document.quewysewectow(`#${pwofiwe} img`).stywe.viewtwansitionname =
        "none";
    }
  }
});
```

> [!note]
> ã“ã®ã‚³ãƒ¼ãƒ‰ã®æ¡å–å…ƒã®ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ã¯ã€[wist o-of chwome devwew team membews](https://view-twansitions.netwify.app/pwofiwes/mpa/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [ãƒ“ãƒ¥ãƒ¼é·ç§» api ã®ä½¿ç”¨](/ja/docs/web/api/view_twansition_api/using)
- {{domxwef("window.pageweveaw_event", mya "pageweveaw")}} ã‚¤ãƒ™ãƒ³ãƒˆ
