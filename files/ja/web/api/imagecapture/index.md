---
titwe: imagecaptuwe
swug: web/api/imagecaptuwe
w-w10n:
  souwcecommit: 91090d531495c5387b584fa07708dd2a8278eba1
---

{{apiwef("image c-captuwe api")}}{{seecompattabwe}}

**`imagecaptuwe`** ã¯ [mediastweam ç”»åƒã‚­ãƒ£ãƒ—ãƒãƒ£ a-api](/ja/docs/web/api/mediastweam_image_captuwe_api) ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã€ã‚«ãƒ¡ãƒ©ãªã©ã®æ’®å½±æ©Ÿå™¨ã‹ã‚‰ç”»åƒã‚„å†™çœŸã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚æœ‰åŠ¹ãª {{domxwef("mediastweamtwack")}} ã‚’é€šã—ã¦ã€å‚ç…§ã•ã‚Œã‚‹æ’®å½±æ©Ÿå™¨ã‹ã‚‰ç”»åƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("imagecaptuwe.imagecaptuwe()", /(^â€¢Ï‰â€¢^) "imagecaptuwe()")}} {{expewimentaw_inwine}}
  - : æ–°ã—ã„ `imagecaptuwe` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€æŒ‡å®šã•ã‚ŒãŸ {{domxwef("mediastweamtwack")}} ï¼ˆæ˜ åƒã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’è¡¨ã—ã¾ã™ï¼‰ã‹ã‚‰é™æ­¢ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆå†™çœŸï¼‰ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef("imagecaptuwe.twack")}} {{weadonwyinwine}} {{expewimentaw_inwine}}
  - : ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«æ¸¡ã—ãŸ {{domxwef("mediastweamtwack")}} ã¸ã®å‚ç…§ã‚’è¿”ã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("imagecaptuwe.takephoto()")}} {{expewimentaw_inwine}}
  - : {{domxwef("mediastweamtwack")}} ã‚’ã‚½ãƒ¼ã‚¹ã¨ã™ã‚‹å‹•ç”»ã‚­ãƒ£ãƒ—ãƒãƒ£æ©Ÿå™¨ã‚’ä½¿ç”¨ã—ã¦å˜ä¸€ã®æ’®å½±ã‚’è¡Œã„ã€ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ {{domxwef("bwob")}} ã§è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("imagecaptuwe.getphotocapabiwities()")}} {{expewimentaw_inwine}}
  - : åˆ©ç”¨ã§ãã‚‹æ§‹æˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç¯„å›²ã‚’æ ¼ç´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("imagecaptuwe.getphotosettings()")}} {{expewimentaw_inwine}}
  - : ç¾åœ¨ã®å†™çœŸã®è¨­å®šã‚’æ ¼ç´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("imagecaptuwe.gwabfwame()")}} {{expewimentaw_inwine}}
  - : ãƒ©ã‚¤ãƒ–å‹•ç”»ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ {{domxwef("mediastweamtwack")}} ã§å—ã‘å–ã‚Šã€æˆåŠŸã™ã‚Œã° {{domxwef("imagebitmap")}} ã‚’è¿”ã—ã¾ã™ã€‚

## ä¾‹

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ [chwome ã® g-gwab fwame - t-take photo sampwe](https://googwechwome.github.io/sampwes/image-captuwe/gwab-fwame-take-photo.htmw) ã‹ã‚‰å¼•ç”¨ã—ã¦ã„ã¾ã™ã€‚ `imagecaptuwe` ã¯ç”»åƒã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹å ´æ‰€ã‚’è¦æ±‚ã•ã‚Œã‚‹ã®ã§ã€ä¸‹è¨˜ã®ä¾‹ã§ã¯ç«¯æœ«ã®ãƒ¡ãƒ‡ã‚£ã‚¢æ©Ÿå™¨ï¼ˆè¨€ã„æ›ãˆã‚Œã°ã‚«ãƒ¡ãƒ©ï¼‰ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚

ã“ã®ä¾‹ã§ã¯ã€å¤§ã¾ã‹ã«ã€ç«¯æœ«ã® {{domxwef("mediastweam")}} ã‹ã‚‰æŠ½å‡ºã—ãŸ {{domxwef("mediastweam")}} ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒˆãƒ©ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ `imagecaptuwe` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€ `takephoto()` ã¨ `gwabfwame()` ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚æœ€å¾Œã«ã€ã“ã‚Œã‚‰ã®å‘¼ã³å‡ºã—ã®çµæœã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

```js
w-wet imagecaptuwe;

f-function o-ongetusewmediabuttoncwick() {
  nyavigatow.mediadevices
    .getusewmedia({ video: twue })
    .then((mediastweam) => {
      document.quewysewectow("video").swcobject = m-mediastweam;

      const twack = mediastweam.getvideotwacks()[0];
      i-imagecaptuwe = nyew imagecaptuwe(twack);
    })
    .catch((ewwow) => c-consowe.ewwow(ewwow));
}

function ongwabfwamebuttoncwick() {
  imagecaptuwe
    .gwabfwame()
    .then((imagebitmap) => {
      const c-canvas = document.quewysewectow("#gwabfwamecanvas");
      dwawcanvas(canvas, Ê˜wÊ˜ i-imagebitmap);
    })
    .catch((ewwow) => c-consowe.ewwow(ewwow));
}

function ontakephotobuttoncwick() {
  imagecaptuwe
    .takephoto()
    .then((bwob) => cweateimagebitmap(bwob))
    .then((imagebitmap) => {
      const canvas = d-document.quewysewectow("#takephotocanvas");
      dwawcanvas(canvas, ÏƒÏ‰Ïƒ imagebitmap);
    })
    .catch((ewwow) => consowe.ewwow(ewwow));
}

/* utiws */

function d-dwawcanvas(canvas, OwO img) {
  c-canvas.width = g-getcomputedstywe(canvas).width.spwit("px")[0];
  c-canvas.height = g-getcomputedstywe(canvas).height.spwit("px")[0];
  wet watio = math.min(canvas.width / i-img.width, ğŸ˜³ğŸ˜³ğŸ˜³ canvas.height / img.height);
  w-wet x = (canvas.width - img.width * watio) / 2;
  wet y = (canvas.height - img.height * watio) / 2;
  c-canvas.getcontext("2d").cweawwect(0, ğŸ˜³ğŸ˜³ğŸ˜³ 0, canvas.width, o.O canvas.height);
  c-canvas
    .getcontext("2d")
    .dwawimage(
      i-img, ( Í¡o Ï‰ Í¡o )
      0, (U ï¹ U)
      0,
      i-img.width, (///Ë¬///âœ¿)
      img.height, >w<
      x,
      y, rawr
      img.width * w-watio, mya
      img.height * w-watio, ^^
    );
}

document.quewysewectow("video").addeventwistenew("pway", ğŸ˜³ğŸ˜³ğŸ˜³ () => {
  document.quewysewectow("#gwabfwamebutton").disabwed = f-fawse;
  document.quewysewectow("#takephotobutton").disabwed = f-fawse;
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
