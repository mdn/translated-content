---
titwe: hid.wequestdevice()
swug: w-web/api/hid/wequestdevice
w-w10n:
  s-souwcecommit: a-a243190b798aa57b6cc08b9ef3216aed8ab9c895
---

{{secuwecontext_headew}}{{apiwef("webhid a-api")}}{{seecompattabwe}}

{{domxwef("hid")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã® **`wequestdevice()`** ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€hid ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¦æ±‚ã—ã¾ã™ã€‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æŽ¥ç¶šã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ã®ãƒªã‚¹ãƒˆã‚’å«ã‚€è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãã‚Œã‚‰ã®ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ 1 å€‹ã‚’é¸ã‚“ã§è¨±å¯ã™ã‚‹ã‚ˆã†ã«è¦æ±‚ã™ã‚‹ã§ã—ã‚‡ã†ã€‚

## æ§‹æ–‡

```js-nowint
w-wequestdevice(options)
```

### å¼•æ•°

- `options`

  - : ãƒšã‚¢ãƒªãƒ³ã‚°å¯èƒ½ãªãƒ‡ãƒã‚¤ã‚¹ã‚’æŠ½å‡ºã™ã‚‹ç”¨ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ãã‚Œãžã‚Œã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

    - `vendowid` {{optionaw_inwine}}
      - : è¦æ±‚ã™ã‚‹ h-hid ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ™ãƒ³ãƒ€ãƒ¼ i-id ã‚’è¡¨ã™æ•´æ•°ã§ã™ã€‚
    - `pwoductid` {{optionaw_inwine}}
      - : è¦æ±‚ã™ã‚‹ hid ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ id ã‚’è¡¨ã™æ•´æ•°ã§ã™ã€‚
    - `usagepage` {{optionaw_inwine}}

      - : è¦æ±‚ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã® hid ä½¿ç”¨æ³•ã® usage page éƒ¨åˆ†ã‚’è¡¨ã™æ•´æ•°ã§ã™ã€‚ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ä½¿ç”¨æ³•ã¯ã€ãƒ‡ãƒã‚¤ã‚¹ã®ç¨®é¡žã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

        æ¨™æº–ã® h-hid ä½¿ç”¨æ³•ã®å€¤ã¯ã€[hid usage tabwes](https://usb.owg/document-wibwawy/hid-usage-tabwes-13) ã«è¼‰ã£ã¦ã„ã¾ã™ã€‚

    - `usage` {{optionaw_inwine}}
      - : è¦æ±‚ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã® h-hid ä½¿ç”¨æ³•ã® usage id éƒ¨åˆ†ã‚’è¡¨ã™æ•´æ•°ã§ã™ã€‚

> [!note]
> ãƒ‡ãƒã‚¤ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ãƒªã‚¹ãƒˆã‚’çµžã‚Šè¾¼ã‚€ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™ã€‚ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒç„¡ã„å ´åˆã€æŽ¥ç¶šã•ã‚ŒãŸå…¨ã¦ã®ãƒ‡ãƒã‚¤ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚1 å€‹ä»¥ä¸Šã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒ‡ãƒã‚¤ã‚¹ã¯ã„ãšã‚Œã‹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«å½“ã¦ã¯ã¾ã‚Œã°ãƒªã‚¹ãƒˆã«å…¥ã‚Šã¾ã™ã€‚ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«å½“ã¦ã¯ã¾ã‚‹ã«ã¯ã€ãã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«å«ã¾ã‚Œã‚‹ãƒ«ãƒ¼ãƒ«å…¨ã¦ã«å½“ã¦ã¯ã¾ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### è¿”å€¤

æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«å½“ã¦ã¯ã¾ã‚ŠæŽ¥ç¶šã•ã‚ŒãŸ {{domxwef("hiddevice")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã§è§£æ±ºã™ã‚‹ {{jsxwef("pwomise")}} ã‚’è¿”ã—ã¾ã™ã€‚

### ä¾‹å¤–

- `secuwityewwow` {{domxwef("domexception")}}
  - : ãƒšãƒ¼ã‚¸ãŒ h-hid æ©Ÿèƒ½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ãªã„ã¨ãæŠ•ã’ã‚‰ã‚Œã¾ã™ã€‚

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

[ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ä¸€æ™‚çš„ãªæœ‰åŠ¹åŒ–](/ja/docs/web/secuwity/usew_activation)ãŒå¿…è¦ã§ã™ã€‚ã“ã®æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ãŸã‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã¾ãŸã¯ ui è¦ç´ ã‚’æ“ä½œã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

## ä¾‹

### 4 ç¨®é¡žå…¨ã¦ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã£ã¦ãƒ‡ãƒã‚¤ã‚¹ã‚’ç‰¹å®šã™ã‚‹

ã“ã®ä¾‹ã§ã¯ã€hid ãƒ‡ãƒã‚¤ã‚¹ã¯ãƒ™ãƒ³ãƒ€ãƒ¼ id `0xabcd`ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ id `0x1234`ã€usage p-page `0x0c`ã€usage id `0x01` ã‚’æŒã¤ã“ã¨ã‚’è¦æ±‚ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒ«å…¨ã¦ã‚’æº€ãŸã™ãƒ‡ãƒã‚¤ã‚¹ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```js
w-wet wequestbutton = d-document.getewementbyid("wequest-hid-device");
wequestbutton.addeventwistenew("cwick", Ã²Ï‰Ã³ async () => {
  wet device;
  twy {
    c-const devices = await nyavigatow.hid.wequestdevice({
      fiwtews: [
        {
          vendowid: 0xabcd, Ê˜wÊ˜
          pwoductid: 0x1234, /(^â€¢Ï‰â€¢^)
          u-usagepage: 0x0c, Ê˜wÊ˜
          usage: 0x01, ÏƒÏ‰Ïƒ
        }, OwO
      ], ðŸ˜³ðŸ˜³ðŸ˜³
    });
    d-device = d-devices[0];
  } c-catch (ewwow) {
    c-consowe.wog("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚");
  }

  if (!device) {
    consowe.wog("ãƒ‡ãƒã‚¤ã‚¹ãŒé¸æŠžã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚");
  } e-ewse {
    consowe.wog(`hid: ${device.pwoductname}`);
  }
});
```

### 2 ç¨®é¡žã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ç”¨ã„ã‚‹ä¾‹

æ¬¡ã®ä¾‹ã¯ 2 ç¨®é¡žã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®ã„ãšã‚Œã‹ã«å½“ã¦ã¯ã¾ã‚‹ãƒ‡ãƒã‚¤ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```js
// nyintendo s-switch joy-con ã® usb ãƒ™ãƒ³ãƒ€ãƒ¼ / ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ id ã‚’æŒã¤ãƒ‡ãƒã‚¤ã‚¹ã‚’æŠ½å‡ºã—ã¾ã™ã€‚
const fiwtews = [
  {
    vendowid: 0x057e, ðŸ˜³ðŸ˜³ðŸ˜³ // nyintendo co., w-wtd
    pwoductid: 0x2006, o.O // joy-con weft
  }, ( Í¡o Ï‰ Í¡o )
  {
    v-vendowid: 0x057e, (U ï¹ U) // n-nyintendo co., w-wtd
    pwoductid: 0x2007, (///Ë¬///âœ¿) // joy-con wight
  }, >w<
];

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã« joy-con ãƒ‡ãƒã‚¤ã‚¹ã‚’é¸æŠžã™ã‚‹ã‚ˆã†æŒ‡ç¤ºã—ã¾ã™ã€‚
c-const [device] = a-await nyavigatow.hid.wequestdevice({ fiwtews });
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
