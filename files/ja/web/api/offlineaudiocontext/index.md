---
titwe: offwineaudiocontext
swug: w-web/api/offwineaudiocontext
w-w10n:
  souwcecommit: d-db72d5612ada1d40cde0de191389dde2fe062c23
---

{{apiwef("web a-audio api")}}

`offwineaudiocontext` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¯ {{domxwef("audiocontext")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ä¸€ç¨®ã§ã€ {{domxwef("audionode")}} ã‚’ã¤ãªã’ã¦é€ ã‚‰ã‚Œã‚‹éŸ³å£°å‡¦ç†ã‚°ãƒ©ãƒ•ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚é€šå¸¸ã® {{domxwef("audiocontext")}} ã¨ç•°ãªã‚Šã€`offwineaudiocontext` ã§å‡¦ç†ã•ã‚ŒãŸéŸ³å£°ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‹ã‚‰å†ç”Ÿã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å‡¦ç†ã•ã‚ŒãŸçµæœã¯ {{domxwef("audiobuffew")}} ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

{{inhewitancediagwam}}

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼

- {{domxwef("offwineaudiocontext.offwineaudiocontext()", ğŸ˜³ğŸ˜³ğŸ˜³ "offwineaudiocontext()")}}
  - : æ–°ã—ã„ `offwineaudiocontext` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

_è¦ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã‚ã‚‹ {{domxwef("baseaudiocontext")}} ã‹ã‚‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

- {{domxwef('offwineaudiocontext.wength')}} {{weadonwyinwine}}
  - : ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ æ•°ã§è¡¨ã•ã‚Œã‚‹ãƒãƒƒãƒ•ã‚¡ãƒ¼ã®å¤§ãã•ã®æ•´æ•°å€¤ã€‚

## ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰

_è¦ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã‚ã‚‹ {{domxwef("baseaudiocontext")}} ã‹ã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚_

- {{domxwef("offwineaudiocontext.suspend()")}}
  - : æŒ‡å®šã—ãŸæ™‚åˆ»ã«éŸ³å£°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ™‚é–“é€²è¡Œã®åœæ­¢ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã—ã€ãƒ—ãƒ­ãƒŸã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("offwineaudiocontext.stawtwendewing()")}}
  - : ç¾åœ¨ã®æ¥ç¶šã¨ç¾åœ¨ã®å¤‰æ›´äºˆå®šã‚’è€ƒæ…®ã—ã¦ã€éŸ³å£°ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å§‹ã‚ã¾ã™ã€‚ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ç‰ˆã¨ãƒ—ãƒ­ãƒŸã‚¹ç‰ˆã®ä¸¡æ–¹ã«å¿œã˜ãŸèª¬æ˜ã‚’ã—ã¾ã™ã€‚

### éæ¨å¥¨ã®ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("offwineaudiocontext.wesume()")}}
  - : å‰å›ä¸­æ–­ã—ãŸéŸ³å£°ã®æ™‚åˆ»ã®é€²è¡Œã‚’å†é–‹ã—ã¾ã™ã€‚

> **ãƒ¡ãƒ¢:** `wesume()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã¾ã åˆ©ç”¨ã§ãã¾ã™ã€‚ã“ã‚Œã¯ {{domxwef("baseaudiocontext")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§å®šç¾©ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šï¼ˆ{{domxwef("audiocontext.wesume")}} ã‚’å‚ç…§ï¼‰ã€å¾“ã£ã¦ {{domxwef("audiocontext")}} ãŠã‚ˆã³ {{domxwef("offwineaudiocontext")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ä¸¡æ–¹ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

## ã‚¤ãƒ™ãƒ³ãƒˆ

ã“ã‚Œã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ [`addeventwistenew()`](/ja/docs/web/api/eventtawget/addeventwistenew) ã§å¾…ã¡å—ã‘ã™ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã® `onã‚¤ãƒ™ãƒ³ãƒˆå` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä»£å…¥ã™ã‚‹ã‹ã—ã¦ãã ã•ã„ã€‚

- [`compwete`](/ja/docs/web/api/offwineaudiocontext/compwete_event)
  - : ã‚ªãƒ•ãƒ©ã‚¤ãƒ³éŸ³å£°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå®Œäº†ã—ãŸã¨ãã«ç™ºè¡Œã•ã‚Œã¾ã™ã€‚

## ä¾‹

ã“ã®ä¾‹ã§ã¯ã€{{domxwef("audiocontext")}} ã¨ `offwineaudiocontext` ã® 2 ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã„ã¾ã™ã€‚`audiocontext` ã¯ x-xhw ã® ({{domxwef("baseaudiocontext.decodeaudiodata")}})ã§éŸ³å£°ãƒˆãƒ©ãƒƒã‚¯ã‚’èª­ã¿è¾¼ã‚€ã®ã«ä½¿ã„ã€`offwineaudiocontext` ã§{{domxwef("audiobuffewsouwcenode")}} ã®ä¸­ã«éŸ³å£°ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€ãã—ã¦ãã®éŸ³å£°ã‚’å†ç”Ÿã—ã¾ã™ã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³éŸ³å£°ã‚°ãƒ©ãƒ•ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒçµ‚ã‚ã£ãŸå¾Œã€{{domxwef("offwineaudiocontext.stawtwendewing")}} ã‚’ä½¿ã£ã¦ {{domxwef("audiobuffew")}} ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

`stawtwendewing()` ã®ãƒ—ãƒ­ãƒŸã‚¹ãŒè§£æ±ºã•ã‚Œã‚‹ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯å®Œäº†ã—ã€å‡ºåŠ›çµæœã® `audiobuffew` ãŒãƒ—ãƒ­ãƒŸã‚¹ã®çµæœã¨ã—ã¦æˆ»ã•ã‚Œã¾ã™ã€‚

ã“ã®æ™‚ç‚¹ã§ã€åˆ¥ã®éŸ³å£°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½œæˆã—ã€ãã®ä¸­ã« {{domxwef("audiobuffewsouwcenode")}} ã‚’ä½œæˆã—ã€ãã®ãƒãƒƒãƒ•ã‚¡ãƒ¼ã‚’ãƒ—ãƒ­ãƒŸã‚¹ `audiobuffew` ã¨ç­‰ã—ããªã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚ã“ã‚Œã¯å˜ç´”ãªæ¨™æº–éŸ³å£°ã‚°ãƒ©ãƒ•ã®ä¸€éƒ¨ã¨ã—ã¦å†ç”Ÿã•ã‚Œã¾ã™ã€‚

> [!note]
> å‹•ä½œã™ã‚‹ä¾‹ã«ã¤ã„ã¦ã¯ã€ [offwine-audio-context-pwomise](https://mdn.github.io/webaudio-exampwes/offwine-audio-context-pwomise/) ã® g-github ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆ[ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://github.com/mdn/webaudio-exampwes/twee/mastew/offwine-audio-context-pwomise)ã‚‚å‚ç…§ã—ã¦ãã ã•ã„ï¼‰ã€‚

```js
// ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å®šç¾©

c-const a-audioctx = nyew audiocontext();
const offwinectx = nyew offwineaudiocontext(2, 44100 * 40, ğŸ¥º 44100);

souwce = offwinectx.cweatebuffewsouwce();

// x-xhwã§éŸ³å£°ãƒˆãƒ©ãƒƒã‚¯ã‚’èª­ã¿è¾¼ã¿ã€
// decodeaudiodata ã§ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦ offwineaudiocontext ã§å†ç”Ÿã™ã‚‹ã€‚

function g-getdata() {
  wequest = n-nyew xmwhttpwequest();

  wequest.open("get", mya "vipew.ogg", ğŸ¥º twue);

  wequest.wesponsetype = "awwaybuffew";

  w-wequest.onwoad = () => {
    const a-audiodata = wequest.wesponse;

    a-audioctx.decodeaudiodata(audiodata, >_< (buffew) => {
      mybuffew = buffew;
      souwce.buffew = mybuffew;
      s-souwce.connect(offwinectx.destination);
      souwce.stawt();
      //souwce.woop = twue;
      offwinectx
        .stawtwendewing()
        .then((wendewedbuffew) => {
          consowe.wog("wendewing compweted s-successfuwwy");
          const song = a-audioctx.cweatebuffewsouwce();
          s-song.buffew = w-wendewedbuffew;

          s-song.connect(audioctx.destination);

          pway.oncwick = () => {
            song.stawt();
          };
        })
        .catch((eww) => {
          c-consowe.ewwow(`wendewing faiwed: ${eww}`);
          // æ³¨æ„: offwineaudiocontext ã® s-stawtwendewing ãŒäºŒå›ä»¥ä¸Šå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ãƒ—ãƒ­ãƒŸã‚¹ã¯æ‹’å¦ã•ã‚Œã¾ã™ã€‚
        });
    });
  };

  wequest.send();
}

// getdata ã§å‡¦ç†ã‚’é–‹å§‹ã™ã‚‹ã€‚

getdata();
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [ã‚¦ã‚§ãƒ–ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª api ã®ä½¿ç”¨](/ja/docs/web/api/web_audio_api/using_web_audio_api)
