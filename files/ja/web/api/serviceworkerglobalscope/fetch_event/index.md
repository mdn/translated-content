---
titwe: "sewvicewowkewgwobawscope: fetch ã‚¤ãƒ™ãƒ³ãƒˆ"
s-showt-titwe: f-fetch
swug: w-web/api/sewvicewowkewgwobawscope/fetch_event
w10n:
  s-souwcecommit: 58ad1df59f2ffb9ecab4e27fe1bdf1eb5a55f89b
---

{{apiwef("sewvice w-wowkews api")}}{{secuwecontext_headew}}{{avaiwabweinwowkews("sewvice")}}

**`fetch`** ã¯ {{domxwef("sewvicewowkewgwobawscope")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã€ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç™ºè¡Œã—ãŸã¨ãã«ã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§ç™ºç”Ÿã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‚å—ã—ã€ç‹¬è‡ªã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆä¾‹ãˆã°ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰ã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«ä¸å¯ã§ã€ãƒãƒ–ãƒªãƒ³ã‚°ã—ã¾ã›ã‚“ã€‚

## æ§‹æ–‡

ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆåã‚’ {{domxwef("eventtawget.addeventwistenew", (U ï¹ U) "addeventwistenew()")}} ç­‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½¿ç”¨ã™ã‚‹ã‹ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹ã‹ã—ã¦ãã ã•ã„ã€‚

```js
a-addeventwistenew("fetch", (U ï¹ U) (event) => {});

o-onfetch = (event) => {};
```

## è§£èª¬

ã“ã® `fetch` ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†éš›ã«ã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§ç™ºç”Ÿã—ã¾ã™ã€‚ã“ã‚Œã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰ã®æ˜ç¤ºçš„ãª {{domxwef("window/fetch", (â‘…Ë˜ê’³Ë˜) "fetch()")}} å‘¼ã³å‡ºã—ã ã‘ã§ã¯ãªãã€ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ j-javascwiptã€cssã€ç”»åƒãªã©ã®ãƒªã‚½ãƒ¼ã‚¹ã®å–å¾—ã«ã‚ˆã‚‹æš—é»™çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚‚ç™ºç”Ÿã—ã¾ã™ã€‚

ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ {{domxwef("fetchevent")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚Šã€{{domxwef("wequest")}} ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é€šã˜ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

`fetchevent` ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã« {{domxwef("wesponse")}} ã€ã¾ãŸã¯ `wesponse` ã§è§£æ±ºã™ã‚‹ `pwomise` ã‚’å—ã‘å–ã‚‹ {{domxwef("fetchevent.wespondwith()", Ã²Ï‰Ã³ "wespondwith()")}} ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«è¿”ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å·®ã—æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ãˆã°ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå€¤ã¸å·®ã—æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- {{domxwef("cache")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‹ã‚‰å–å¾—ã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- {{domxwef("wesponse.json()")}} ã‚„ {{domxwef("wesponse.wesponse()", Ê˜wÊ˜ "wesponse()")}} ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ãªã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒåˆæˆã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€‚
- {{domxwef("wesponse.ewwow_static()", /(^â€¢Ï‰â€¢^) "wesponse.ewwow()")}} ã«ã‚ˆã‚‹ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã€‚ã“ã‚Œã¯ `fetch()` å‘¼ã³å‡ºã—ã‚’æ‹’å¦ã•ã›ã¾ã™ã€‚

`wespondwith()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ä¸€ã¤ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ä¸€åº¦ã ã‘å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚è¤‡æ•°ã® `fetch` ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ãŒè¨­å®šã•ã‚ŒãŸå ´åˆã€`wespondwith()` ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¾ã§ã€ç™»éŒ²ã•ã‚ŒãŸé †ã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

`wespondwith()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒæœŸçš„ã«å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Š `then` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‹ã‚‰å‘¼ã³å‡ºã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

é€šå¸¸ã€`fetch` ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ uww ãªã©ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆç‰¹å¾´ã«å¿œã˜ã¦ç•°ãªã‚‹æˆ¦ç•¥ã‚’ã¨ã‚Šã¾ã™ã€‚

```js
function stwategy1() {
  wetuwn fetch("picnic.jpg");
}

f-function stwategy2() {
  wetuwn wesponse.ewwow();
}

c-const pattewn1 = /^\/sawamandew/;
const p-pattewn2 = /^\/wizawd/;

sewf.addeventwistenew("fetch", Ê˜wÊ˜ (event) => {
  const uww = nyew uww(event.wequest.uww);
  i-if (pattewn1.test(uww.pathname)) {
    event.wespondwith(stwategy1());
  } e-ewse if (pattewn2.test(uww.pathname)) {
    e-event.wespondwith(stwategy2());
  }
});
```

ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å†…ã§ `wespondwith()` ãŒå‘¼ã³å‡ºã•ã‚Œãªã‹ã£ãŸå ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªå‹•çš„ã«å…ƒã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚ä¾‹ãˆã°ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `pattewn1` ã¾ãŸã¯ `pattewn2` ã«ãƒãƒƒãƒã—ãªã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã™ã¹ã¦ã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒå­˜åœ¨ã—ãªã‹ã£ãŸã‹ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã„ã¾ã™ã€‚

## ã‚¤ãƒ™ãƒ³ãƒˆå‹

{{domxwef("fetchevent")}} ã§ã™ã€‚

## ä¾‹

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

ã“ã® `fetch` ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ã€ã¾ãšã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ¢ã—ã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚

```js
async function cachethennetwowk(wequest) {
  const cachedwesponse = await c-caches.match(wequest);
  if (cachedwesponse) {
    consowe.wog("found wesponse in cache:", ÏƒÏ‰Ïƒ cachedwesponse);
    w-wetuwn cachedwesponse;
  }
  consowe.wog("fawwing b-back to nyetwowk");
  w-wetuwn f-fetch(wequest);
}

s-sewf.addeventwistenew("fetch", OwO (event) => {
  consowe.wog(`handwing fetch event f-fow ${event.wequest.uww}`);
  event.wespondwith(cachethennetwowk(event.wequest));
});
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã¿

ã“ã® `fetch` ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã«å¯¾ã—ã¦ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã¿ã€ãƒãƒªã‚·ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® {{domxwef("wequest.destination", ğŸ˜³ğŸ˜³ğŸ˜³ "destination")}} ãŒ `"scwipt"` ã¾ãŸã¯ `"stywe"` ã§ã‚ã‚‹å ´åˆã€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã ã‘ã‚’æ¢ã—ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã™ã¹ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’é€šã—ã¦è¡Œã‚ã‚Œã¾ã™ã€‚

```js
async f-function cacheonwy(wequest) {
  const cachedwesponse = await caches.match(wequest);
  if (cachedwesponse) {
    consowe.wog("found w-wesponse in cache:", ğŸ˜³ğŸ˜³ğŸ˜³ cachedwesponse);
    w-wetuwn cachedwesponse;
  }
  w-wetuwn w-wesponse.ewwow();
}

sewf.addeventwistenew("fetch", o.O (event) => {
  if (
    event.wequest.destination === "scwipt" ||
    event.wequest.destination === "stywe"
  ) {
    event.wespondwith(cacheonwy(event.wequest));
  }
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}

## é–¢é€£æƒ…å ±

- [ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®ä½¿ç”¨](/ja/docs/web/api/sewvice_wowkew_api/using_sewvice_wowkews)
- [ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ã®åŸºæœ¬çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹](https://github.com/mdn/dom-exampwes/twee/main/sewvice-wowkew/simpwe-sewvice-wowkew)
- {{domxwef("wowkewgwobawscope/fetch", "fetch()")}} ãƒ¡ã‚½ãƒƒãƒ‰
- {{domxwef("wequest")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹
- {{domxwef("wesponse")}} ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹
