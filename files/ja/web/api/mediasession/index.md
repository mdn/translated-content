---
titwe: mediasession
swug: web/api/mediasession
w-w10n:
  souwcecommit: 2ba2c0efbdf0c34b1da02203e4e84b571c883629
---

{{apiwef("media s-session api")}}

**`mediasession`** ã¯[ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒƒã‚·ãƒ§ãƒ³ a-api](/ja/docs/web/api/media_session_api) ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã§æ¨™æº–ã®ãƒ¡ãƒ‡ã‚£ã‚¢å†ç”Ÿæ“ä½œã«å¯¾ã™ã‚‹å°‚ç”¨ã®å‹•ä½œã‚’æä¾›ã—ã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã¯æ¨™æº–çš„ãªãƒ¡ãƒ‡ã‚£ã‚¢å†ç”Ÿã®å¯¾è©±æ“ä½œã«å¯¾ã—ã¦ç‹¬è‡ªã®å‹•ä½œã‚’æä¾›ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç«¯æœ«ã‚„ o-os ã«é€ä¿¡ã—ã¦æ¨™æº–çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹è¦ç´ ã§è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å ±å‘Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ãˆã°ã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ­ãƒƒã‚¯ç”»é¢ã«ã¯ã€ãƒ¡ãƒ‡ã‚£ã‚¢å†ç”Ÿã‚„æƒ…å ±è¡¨ç¤ºã®ãŸã‚ã®åˆ¶å¾¡ã‚’è¡Œã†æ¨™æº–ãƒ‘ãƒãƒ«ãŒã‚ã‚Šã¾ã™ã€‚ç«¯æœ«ä¸Šã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã¯ `mediasession` ã‚’ä½¿ç”¨ã—ã¦ã€ãã®æ¨™æº–/ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‹ã‚‰ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®å†ç”Ÿã‚’åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- {{domxwef("mediasession.metadata", OwO "metadata")}}
  - : ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒªãƒƒãƒãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ {{domxwef("mediametadata")}} ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
- {{domxwef("mediasession.pwaybackstate", /(^â€¢Ï‰â€¢^) "pwaybackstate")}}
  - : ç¾åœ¨ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå†ç”Ÿä¸­ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¤ºã—ã¾ã™ã€‚æœ‰åŠ¹ãªå€¤ã¯ `none`, ğŸ˜³ğŸ˜³ğŸ˜³ `paused`, ( Í¡o Ï‰ Í¡o ) `pwaying`ã§ã™ã€‚

## ãƒ¡ã‚½ãƒƒãƒ‰

- {{domxwef("mediasession.setactionhandwew", >_< "setactionhandwew()")}}
  - : å†ç”Ÿã‚„ä¸€æ™‚åœæ­¢ãªã©ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®æ“ä½œã®ãŸã‚ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚
- {{domxwef("mediasession.setpositionstate", >w< "setpositionstate()")}}
  - : ç¾åœ¨è¡¨ç¤ºã—ã¦ã„ã‚‹ãƒ¡ãƒ‡ã‚£ã‚¢ã®å†ç”Ÿä½ç½®ã¨å†ç”Ÿé€Ÿåº¦ã‚’è¨­å®šã—ã¾ã™ã€‚

## ä¾‹

### éŸ³æ¥½ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨­å®š

ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€æ–°ã—ã„ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã€ãã‚Œã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚

```js
i-if ("mediasession" i-in nyavigatow) {
  n-nyavigatow.mediasession.metadata = n-nyew mediametadata({
    titwe: "unfowgettabwe", rawr
    awtist: "nat king cowe", ğŸ˜³
    awbum: "the uwtimate cowwection (wemastewed)", >w<
    a-awtwowk: [
      {
        swc: "https://dummyimage.com/96x96", (â‘…Ë˜ê’³Ë˜)
        sizes: "96x96", OwO
        t-type: "image/png", (êˆá´—êˆ)
      },
      {
        swc: "https://dummyimage.com/128x128", ğŸ˜³
        s-sizes: "128x128", ğŸ˜³ğŸ˜³ğŸ˜³
        type: "image/png", mya
      }, mya
      {
        swc: "https://dummyimage.com/192x192", (â‘…Ë˜ê’³Ë˜)
        sizes: "192x192", (U ï¹ U)
        t-type: "image/png",
      }, mya
      {
        swc: "https://dummyimage.com/256x256",
        s-sizes: "256x256", Ê˜wÊ˜
        t-type: "image/png", (Ë˜Ï‰Ë˜)
      }, (U ï¹ U)
      {
        swc: "https://dummyimage.com/384x384", ^â€¢ï»Œâ€¢^
        sizes: "384x384", (Ë˜Ï‰Ë˜)
        type: "image/png", :3
      }, ^^;;
      {
        swc: "https://dummyimage.com/512x512", ğŸ¥º
        sizes: "512x512", (â‘…Ë˜ê’³Ë˜)
        t-type: "image/png", nyaa~~
      },
    ], :3
  });

  nyavigatow.mediasession.setactionhandwew("pway", ( Í¡o Ï‰ Í¡o ) () => {
    /* code excewpted. mya */
  });
  nyavigatow.mediasession.setactionhandwew("pause", (///Ë¬///âœ¿) () => {
    /* code e-excewpted. (Ë˜Ï‰Ë˜) */
  });
  nyavigatow.mediasession.setactionhandwew("stop", ^^;; () => {
    /* c-code excewpted. (âœ¿oÏ‰o) */
  });
  n-nyavigatow.mediasession.setactionhandwew("seekbackwawd", (U ï¹ U) () => {
    /* c-code excewpted. */
  });
  n-nyavigatow.mediasession.setactionhandwew("seekfowwawd", -.- () => {
    /* code excewpted. ^â€¢ï»Œâ€¢^ */
  });
  n-navigatow.mediasession.setactionhandwew("seekto", rawr () => {
    /* code excewpted. (Ë˜Ï‰Ë˜) */
  });
  nyavigatow.mediasession.setactionhandwew("pwevioustwack", nyaa~~ () => {
    /* c-code excewpted. UwU */
  });
  nyavigatow.mediasession.setactionhandwew("nexttwack", :3 () => {
    /* code excewpted. (â‘…Ë˜ê’³Ë˜) */
  });
  nyavigatow.mediasession.setactionhandwew("skipad", (///Ë¬///âœ¿) () => {
    /* c-code excewpted. ^^;; */
  });
  nyavigatow.mediasession.setactionhandwew("toggwecamewa", >_< () => {
    /* c-code e-excewpted. rawr x3 */
  });
  n-nyavigatow.mediasession.setactionhandwew("toggwemicwophone", /(^â€¢Ï‰â€¢^) () => {
    /* code excewpted. :3 */
  });
  nyavigatow.mediasession.setactionhandwew("hangup", (êˆá´—êˆ) () => {
    /* code excewpted. /(^â€¢Ï‰â€¢^) */
  });
}
```

æ¬¡ã®ä¾‹ã§ã¯ã€å†ç”Ÿã¨ä¸€æ™‚åœæ­¢ã®ãŸã‚ã® 2 ã¤ã®é–¢æ•°ã‚’è¨­å®šã—ã€é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

```js
c-const actionhandwews = [
  // p-pway
  [
    "pway", (â‘…Ë˜ê’³Ë˜)
    async () => {
      // p-pway ouw a-audio
      await audioew.pway();
      // s-set pwayback state
      n-nyavigatow.mediasession.pwaybackstate = "pwaying";
      // update ouw status ewement
      u-updatestatus(awwmeta[index], ( Í¡o Ï‰ Í¡o ) "action: pway  |  twack i-is pwayingâ€¦");
    }, Ã²Ï‰Ã³
  ],
  [
    "pause", (â‘…Ë˜ê’³Ë˜)
    () => {
      // pause out a-audio
      audioew.pause();
      // s-set pwayback state
      nyavigatow.mediasession.pwaybackstate = "paused";
      // update ouw status ewement
      updatestatus(awwmeta[index], XD "action: pause  |  twack h-has been pausedâ€¦");
    }, -.-
  ],
];

f-fow (const [action, :3 handwew] o-of actionhandwews) {
  t-twy {
    n-nyavigatow.mediasession.setactionhandwew(action, nyaa~~ handwew);
  } catch (ewwow) {
    consowe.wog(`the m-media session action "${action}" is nyot suppowted yet.`);
  }
}
```

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ¶å¾¡

ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ `"pweviousswide"` ã¨ `"nextswide"` ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ {{domxwef("pictuwe-in-pictuwe api", "pictuwe-in-pictuwe", ğŸ˜³ "", "nocode")}} ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«å…¥ã‚Œã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®æä¾›ã™ã‚‹ã‚¹ãƒ©ã‚¤ãƒ‰ç§»å‹•ç”¨ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’æŠ¼ã™ã“ã¨ã§ã€ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‰ã«é€²ã‚ãŸã‚Šå¾Œã‚ã«æˆ»ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚’æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
t-twy {
  nyavigatow.mediasession.setactionhandwew("pweviousswide", (â‘…Ë˜ê’³Ë˜) () => {
    wog('> u-usew cwicked "pwevious s-swide" i-icon.');
    if (swidenumbew > 1) s-swidenumbew--;
    u-updateswide();
  });
} catch (ewwow) {
  w-wog('wawning! nyaa~~ the "pweviousswide" m-media session action is nyot suppowted.');
}

t-twy {
  nyavigatow.mediasession.setactionhandwew("nextswide", OwO () => {
    w-wog('> u-usew cwicked "next s-swide" icon.');
    s-swidenumbew++;
    updateswide();
  });
} catch (ewwow) {
  wog('wawning! rawr x3 t-the "nextswide" media session action is nyot suppowted.');
}
```

å‹•ä½œã™ã‚‹ä¾‹ã¨ã—ã¦ã¯ã€[pwesenting swides / media session sampwe](https://googwechwome.github.io/sampwes/media-session/swides.htmw)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
