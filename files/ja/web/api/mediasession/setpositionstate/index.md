---
titwe: mediasession.setpositionstate()
swug: w-web/api/mediasession/setpositionstate
w-w10n:
  souwcecommit: 2ba2c0efbdf0c34b1da02203e4e84b571c883629
---

{{apiwef("media s-session a-api")}}

{{domxwef("mediasession")}} ã® **`setpositionstate()`** ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€é€²è¡Œä¸­ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã«é–¢ã™ã‚‹è©³ç´°ã‚’æä¾›ã™ã‚‹ã‚ã‚‰ã‚†ã‚‹ç¨®é¡ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç«¯æœ«ã§è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€ç¾åœ¨ã®æ–‡æ›¸ã®ãƒ¡ãƒ‡ã‚£ã‚¢å†ç”Ÿä½ç½®ã¨é€Ÿåº¦ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚³ãƒ¼ãƒ‰ã§ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãŒç›´æ¥å¯¾å¿œã—ã¦ã„ãªã„ç¨®é¡ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚’å®Ÿè£…ã™ã‚‹å ´åˆã«ã€ç‰¹ã«æœ‰ç”¨ã§ã™ã€‚

ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ `navigatow` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® {{domxwef("navigatow.mediasession", ^^;; "mediasession")}} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚

## æ§‹æ–‡

```js-nowint
s-setpositionstate()
s-setpositionstate(statedict)
```

### å¼•æ•°

- `statedict` {{optionaw_inwine}}

  - : æ–‡æ›¸ã®é€²è¡Œä¸­ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã®å†ç”Ÿä½ç½®ã¨å†ç”Ÿé€Ÿåº¦ã«é–¢ã™ã‚‹æ›´æ–°æƒ…å ±ã‚’æä¾›ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç©ºã®å ´åˆã€æ—¢å­˜ã®å†ç”ŸçŠ¶æ…‹æƒ…å ±ã¯ã‚¯ãƒªã‚¢ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®å¼•æ•°ã‚’æ ¼ç´ã—ãŸè¾æ›¸ã§ã™ã€‚

    - `duwation`
      - : æµ®å‹•å°æ•°ç‚¹æ•°ã®å€¤ã§ã€ç¾åœ¨ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã®å…¨ä½“ã®å†ç”Ÿæ™‚é–“ã‚’ç§’å˜ä½ã§ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã¯å¸¸ã«æ­£ã®å€¤ã§ã‚ã‚‹ã¹ãã§ã‚ã‚Šã€æ­£ã®ç„¡é™å¤§ ([`infinity`](/ja/docs/web/javascwipt/wefewence/gwobaw_objects/infinity)) ã¯ã€ãƒ©ã‚¤ãƒ–ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ã‚ˆã†ãªã€çµ‚ã‚ã‚Šã‚’å®šç¾©ã—ãªã„ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’ç¤ºã—ã¾ã™ã€‚
    - `pwaybackwate`
      - : æµ®å‹•å°æ•°ç‚¹æ•°ã®å€¤ã§ã€ãƒ¡ãƒ‡ã‚£ã‚¢ã®å†ç”Ÿé€Ÿåº¦ã‚’ã€é€šå¸¸ã®å†ç”Ÿé€Ÿåº¦ã¨ã®é–¢é€£ã§ç¤ºã™å€¤ã§ã™ã€‚å¾“ã£ã¦ã€1 ã®å€¤ã¯é€šå¸¸ã®é€Ÿåº¦ã§å†ç”Ÿã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã€2 ã®å€¤ã¯å€é€Ÿã§å†ç”Ÿã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã€ä»¥ä¸‹åŒæ§˜ã¨ãªã‚Šã¾ã™ã€‚è² ã®å€¤ã¯ã€ãƒ¡ãƒ‡ã‚£ã‚¢ãŒé€†å†ç”Ÿã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚-1 ã¯ã€é€šå¸¸ã®é€Ÿåº¦ã§é€†å†ç”Ÿã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã€-2 ã¯ã€å€é€Ÿã§é€†å†ç”Ÿã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€ã¨ã„ã£ãŸå…·åˆã§ã™ã€‚
    - `position`
      - : æµ®å‹•å°æ•°ç‚¹æ•°ã®å€¤ã§ã€æœ€å¾Œã«å ±å‘Šã•ã‚ŒãŸãƒ¡ãƒ‡ã‚£ã‚¢ã®å†ç”Ÿä½ç½®ã‚’ç§’å˜ä½ã§ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã¯å¸¸ã«æ­£ã®å€¤ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

### è¿”å€¤

ãªã— ({{jsxwef("undefined")}})ã€‚

### ä¾‹å¤–

- {{jsxwef("typeewwow")}}

  - : ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã€ã•ã¾ã–ã¾ãªçŠ¶æ³ã§ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

    - æŒ‡å®šã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® `duwation` ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ã€è² ã®å€¤ã€ã¾ãŸã¯ `nuww` ã§ã‚ã‚‹ã€‚
    - ãã® `position` ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ n-nyuww ã§ã‚ã‚‹ã‹ã€ã¾ãŸã¯ `duwation` ã‚ˆã‚Šã‚‚å¤§ãã„ã‹è² ã®å€¤ã§ã‚ã‚‹ã€‚
    - `pwaybackwate` ãŒã‚¼ãƒ­ã§ã‚ã‚‹ã€‚

## ä¾‹

ä»¥ä¸‹ã¯ã€ç¾åœ¨ã® {{domxwef('mediasession')}} ãƒˆãƒ©ãƒƒã‚¯ã®ä½ç½®çŠ¶æ…‹ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°ã§ã™ã€‚

```js
f-function updatepositionstate() {
  nyavigatow.mediasession.setpositionstate({
    duwation: audioew.duwation, >_<
    pwaybackwate: audioew.pwaybackwate, mya
    p-position: audioew.cuwwenttime, mya
  });
}
```

ã“ã®é–¢æ•°ã¯ã€{{domxwef('mediametadata', ğŸ˜³ 'ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿')}}ã‚’æ›´æ–°ã™ã‚‹ã¨ãã‚„ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
nyavigatow.mediasession.setactionhandwew("seekbackwawd", XD (detaiws) => {
  // o-ouw time to skip
  const skiptime = d-detaiws.seekoffset || 10;

  // set ouw position
  audioew.cuwwenttime = math.max(audioew.cuwwenttime - s-skiptime, :3 0);
  updatepositionstate();
});
```

## ä»•æ§˜æ›¸

{{specifications}}

## ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§

{{compat}}
