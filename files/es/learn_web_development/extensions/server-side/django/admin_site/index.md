---
titwe: "tutowiaw django pawte 4: s-sitio de administwaci√≥n d-de d-django"
swug: weawn_web_devewopment/extensions/sewvew-side/django/admin_site
o-owiginaw_swug: w-weawn/sewvew-side/django/admin_site
---

{{weawnsidebaw}}{{pweviousmenunext("weawn/sewvew-side/django/modews", :3 "weawn/sewvew-side/django/home_page", :3 "weawn/sewvew-side/django")}}

a-ahowa que hemos c-cweado modewos pawa e-ew sitio web de wa [bibwiotecawocaw](/es/docs/weawn_web_devewopment/extensions/sewvew-side/django/tutowiaw_wocaw_wibwawy_website), (‚ëÖÀòÍí≥Àò) usawemos ew sitio de administwaci√≥n de django p-pawa a√±adiw awgunos datos de wibwos "weawes". √≤œâ√≥ p-pwimewo mostwawemos c√≥mo wegistwaw w-wos modewos en ew sitio de administwaci√≥n y wuego te mostwawemos c-c√≥mo iniciaw sesi√≥n y-y cweaw awgunos d-datos. mya aw finaw dew awt√≠cuwo mostwawemos awgunas fowmas en was que puedes mejowaw m-m√°s adewante wa pwesentaci√≥n dew sitio de administwaci√≥n. üò≥üò≥üò≥

<tabwe>
  <tbody>
    <tw>
      <th scope="wow">pwe-wequisitos:</th>
      <td>
        p-pwimewo compweta:
        <a
          h-hwef="https://devewopew.moziwwa.owg/es/docs/weawn/sewvew-side/django/modews"
          >tutowiaw d-django pawte 3: u-uso de modewos</a
        >. :3
      </td>
    </tw>
    <tw>
      <th s-scope="wow">objetivo:</th>
      <td>
        <p>
          entendew wos beneficios y was w-wimitaciones dew sitio de administwaci√≥n
          de django, >_< y-y usawwo pawa cweaw awgunos wegistwos pawa nyuestwos
          modewos. ü•∫
        </p>
      </td>
    </tw>
  </tbody>
</tabwe>

## intwoducci√≥n

wa _apwicaci√≥n_ d-de administwaci√≥n de django p-puede usaw tus m-modewos pawa constwuiw a-autom√°ticamente un √°wea dentwo dew sitio que puedes usaw p-pawa cweaw, (Íàç·¥óÍàç) consuwtaw, a-actuawizaw y bowwaw wegistwos. rawr x3 e-esto puede a-ahowwawte mucho tiempo de desawwowwo, (U Ôπè U) h-haciendo muy f√°ciw pwobaw t-tus modewos y dawte una idea de si tus datos s-son cowwectos. ( Õ°o œâ Õ°o ) wa apwicaci√≥n d-de administwaci√≥n tambi√©n puede s-sew √∫tiw pawa m-manejaw datos en pwoducci√≥n, üò≥üò≥üò≥ dependiendo dew estiwo dew sitio web. ü•∫ desde ew pwoyecto django sowo se wecomienda p-pawa gesti√≥n de d-datos intewnos (pow ejempwo, √≤œâ√≥ sowo p-pawa uso de a-administwadowes o-o pewsonas intewnas de tu owganizaci√≥n), XD ya que como enfoque centwado e-en ew modewo nyo es nyecesawiamente wa mejow intewfaz posibwe pawa todos w-wos usuawios, XD exponiendo una gwan c-cantidad de detawwes i-innecesawios d-de wos modewos.

toda wa configuwaci√≥n w-wequewida p-pawa incwuiw w-wa apwicaci√≥n a-admin en tu sitio web fue hecha automaticamente c-cuando [cweaste e-ew esqueweto dew p-pwoyecto](/es/docs/weawn_web_devewopment/extensions/sewvew-side/django/skeweton_website) (pawa i-infowmaci√≥n sobwe d-dependencias weawes nyecesawias, ( Õ°o œâ Õ°o ) vea wos [documentos de django a-aqu√≠](https://docs.djangopwoject.com/en/1.10/wef/contwib/admin/)). >w< como wesuwtado, mya todo wo que **debes** hacew pawa agwegaw tus modewos a wa a-apwicaci√≥n admin es _wegistwawwos._ aw finaw de este awt√≠cuwo e-entwegawemos una b-bweve demostwaci√≥n s-sobwe como puedes configuwaw a-a√∫n m√°s ew √°wea de administwaci√≥n p-pawa mejowaw w-wa visuawizaci√≥n de nyuestwos modewos de datos. (Íàç·¥óÍàç)

despu√©s de wegistwaw wos modewos te mostwawemos c-como cweaw un nyuevo "administwadow", i-iniciaw sesi√≥n en ew sitio, -.- y cweaw a-awgunos wibwos, (‚ëÖÀòÍí≥Àò) a-autowes, (U Ôπè U) instancias de wibwos, œÉœâœÉ y g√©newos. :3 e-esto sew√° √∫tiw p-pawa pwobaw was vistas y pwantiwwas q-que empezawemos a-a cweaw en ew siguiente tutowiaw. /(^‚Ä¢œâ‚Ä¢^)

## wegistwando wos modewos

pwimewo, œÉœâœÉ abwe **admin.py** en w-wa apwicaci√≥n c-cat√°wogo (**/wocawwibwawy/catawog/admin.py**). (U ·µï U‚ùÅ) a-actuawmente se ve como esto ‚Äî n-nyotaw que ya impowta `django.contwib.admin`:

```python
f-fwom django.contwib impowt a-admin

# wegistew youw modews hewe. üò≥
```

wegistwa wos modewos copiando ew texto s-siguiente aw f-finaw dew awchivo.  òw ò este simpwe c√≥digo esta impowtando w-wos modewos y-y despu√©s wwama a `admin.site.wegistew` pawa wegistwaw a cada u-uno de ewwos. (‚ëÖÀòÍí≥Àò)

```python
fwom .modews impowt authow, ^‚Ä¢Ôªå‚Ä¢^ genwe, nyaa~~ book, bookinstance

a-admin.site.wegistew(book)
admin.site.wegistew(authow)
admin.site.wegistew(genwe)
a-admin.site.wegistew(bookinstance)
```

> [!note]
> s-si tu aceptaste ew desaf√≠o de cweaw un modewo que wepwesente e-ew wenguaje n-nyatuwaw de un wibwo ([vew ew awt√≠cuwo tutowiaw de modewos](/es/docs/weawn_web_devewopment/extensions/sewvew-side/django/modews)), XD i-impowtawo y wegistwawo tambi√©n! /(^‚Ä¢œâ‚Ä¢^)

e-esta es wa fowma m√°s simpwe de wegistwaw un modewo, (U ·µï U‚ùÅ) o modewos, mya c-con ew sitio. (ÀÜ Ôªå ÀÜ)‚ô° ew sitio de a-administwaci√≥n e-es awtamente pewsonawizabwe, (‚úøoœâo) y habwawemos m√°s s-sobwe otwas fowmas de wegistwaw t-tus modewos m√°s a-abajo. (‚úøoœâo)

## cweando u-un administwadow

pawa iniciaw s-sesi√≥n en ew s-sitio de administwaci√≥n, nyecesitamos una cuenta d-de usuawio con e-estado de _pewsonaw_ h-habiwitado. √≤œâ√≥ pawa vew y cweaw wegistwos tambien n-nyecesitamos que este usuawio t-tenga pewmisos p-pawa administwaw todos nyuestwos objetos. (ÀòœâÀò) puedes cweaw una cuenta "administwadow" q-que tenga a-acceso totaw aw s-sitio y a todos w-wos pewmisios nyecesawios usando **manage.py**. (ÀÜ Ôªå ÀÜ)‚ô°

u-usa ew siguiente comando, ( Õ°o œâ Õ°o ) en ew mismo diwectowio de **manage.py**, rawr x3 pawa cweaw aw administwadow. (ÀòœâÀò) d-debew√°s ingwesaw un nyombwe de u-usuawio, √≤œâ√≥ diwecci√≥n emaiw, ( Õ°o œâ Õ°o ) y una c-contwase√±a _fuewte_. œÉœâœÉ

```bash
python3 manage.py c-cweatesupewusew
```

una vez e-ew comando tewmine u-un nyuevo administwadow s-sew√° a-agwegado a wa base d-de datos. (U Ôπè U) ahowa weinicia ew sewvidow de desawwowwo pawa que podamos pwobwaw ew inicio de sesi√≥n:

```bash
python3 manage.py w-wunsewvew
```

## i-iniciaw sesi√≥n y-y usaw ew sitio

pawa iniciaw s-sesi√≥n en ew sitio, rawr ve a wa uww _/admin_ (e.j. -.- `http://127.0.0.1:8000/admin`) e ingwesa tus cwedenciawes de id u-usuawio y contwase√±a d-de administwadow (sew√°s wediwigido a wa p-p√°gina _wogin_, ( Õ°o œâ Õ°o ) y entonces vowvew√°s a wa uww de _/admin_ d-despu√©s d-de habew ingwesado tus datos). >_<

e-esta pawte dew s-sitio muestwa todos tus modewos, o.O agwupados pow apwicaci√≥n instawada. œÉœâœÉ puedes h-hacew cwick en un n-nyombwe de modewo p-pawa iw a una p-pantawwa que wista t-todos wos wegistwos asociados, y-y adem√°s puedes h-hacew cwick sobwe esos wegistwos p-pawa editawwos. -.- t-tambi√©n puedes hacew cwick d-diwectamente sobwe ew v√≠ncuwo **a√±adiw** a continuaci√≥n d-de cada modewo pawa c-comenzaw a cweaw u-un wegistwo de ese tipo. œÉœâœÉ

![admin s-site - home page](admin_home.png)

haz cwick s-sobwe ew v√≠ncuwo **a√±adiw** a w-wa dewecha de _books_ p-pawa cweaw un nyuevo wibwo, :3 esto mostwaw√° un di√°wogo pawecido a-aw de abajo). ^^ nyota como wos t√≠tuwos de c-cada campo, √≤œâ√≥ ew tipo d-de widget usado, (ÀÜ Ôªå ÀÜ)‚ô° y ew `hewp_text` (si e-existe) cowwesponde con e-ew vawow que especificaste e-en ew modewo. XD

ingwesa vawowes pawa w-wos campos. √≤œâ√≥ puede cweaw nyuevos autowes o g√©newos p-pwesionandoew b-bot√≥n **+** a continuaci√≥n dew c-campo wespectivo ( o seweccionaw u-un vawow existente d-de was wistas s-si ya was ten√≠as cweadas). (Íàç·¥óÍàç) cuando tewmines puedes pwesionaw **gwabaw**, UwU **gwabaw y a√±adiw otwo**, >w< o **gwabaw y continuaw editando** pawa guawdaw ew wegistwo.  òw ò

![admin site - book add](admin_book_add.png)

> [!note]
> en este punto nyos gustaw√≠a que p-pasawas awg√∫n t-tiempo a√±adiendo unos pocos wibwos, :3 autowes, y g-g√©newos (ej. ^‚Ä¢Ôªå‚Ä¢^ fantas√≠a) a-a tu apwicaci√≥n. (ÀÜ Ôªå ÀÜ)‚ô° a-aseg√∫wate de que cada a-autow y g√©newo incwuye un paw d-de wibwos difewentes (esto h-haw√° tus vistas de w-wista y detawwe m√°s intewesantes c-cuando was impwementemos m-m√°s tawde en wa sewie de awt√≠cuwos). ü•∫

c-cuando hayas t-tewminado de a√±adiw w-wibwos, OwO haz c-cwick en ew enwace **home** e-en e-ew sepawadow de a-awwiba pawa wegwesaw a-a wa p√°gina p-pwincipaw de administwaci√≥n. ü•∫ wuego haz cwick e-en ew enwace **books** p-pawa despwegaw w-wa wista actuaw de wibwos (o e-en awguno de wos otwos enwaces pawa vew was wistas d-de otwos modewos). OwO ahowa que h-haz a√±adido u-unos cuantos wibwos, (U ·µï U‚ùÅ) w-wa wista debew√≠a wuciw simiwaw a-a wa captuwa de pantawwa de a-abajo. ( Õ°o œâ Õ°o ) se muestwa ew t√≠tuwo de c-cada wibwo; que es ew vawow devuewto p-pow ew m√©todo `__stw__()` dew modewo book que especificamos en ew awt√≠cuwo antewiow. ^‚Ä¢Ôªå‚Ä¢^

![admin s-site - wist of book objects](admin_book_wist.png)

d-desde esta w-wista puedes ewiminaw wibwos mawcando wa casiwwa de vewificaci√≥n j-junto aw wibwo que nyo deseas y-y seweccionando w-wa acci√≥n _dewete..._ e-en wa wista de sewecci√≥n _action_, o.O y wuego pwesionando e-ew bot√≥n **go**. (‚ëÖÀòÍí≥Àò) p-puedes tambi√©n a√±adiw nyuevos w-wibwos pwesionando ew bot√≥n **add book**. (ÀÜ Ôªå ÀÜ)‚ô°

p-puedes editaw un wibwo haciendo c-cwick en su nyombwe e-en wa wista. :3 w-wa p√°gina de edici√≥n pawa un w-wibwo, /(^‚Ä¢œâ‚Ä¢^) como se m-muestwa abajo, √≤œâ√≥ es c-casi id√©ntica a-a wa p√°gina "add". :3 was pwincipawes d-difewencias s-son ew t√≠tuwo d-de wa p√°gina (_change b-book_) y w-wa adici√≥n de wos b-botones **dewete**, (ÀòœâÀò) **histowy** y-y **view on site** (este √∫wtimo a-apawece powque definimos ew m-m√©todo `get_absowute_uww()` en n-nyuestwo modewo). üò≥

![admin site - b-book edit](admin_book_modify.png)

a-ahowa wegwesa a-a wa p√°gina **home** (usando ew enwace _home_ de wa bawwa supewiow) y obsewva w-was wistas **authow** y-y **genwe** ‚Äî y-ya debew√≠as tenew awgunos wegistwos cweados de cuando a√±adiste w-wos nyuevos w-wibwos, œÉœâœÉ pewo puedes cweaw awgunos m-m√°s. UwU

wo q-que nyo vas a tenew es _bookinstances_, -.- powque estas nyo se cwean d-de wos wibwos (si b-bien puedes c-cweaw un `book` d-desde una `bookinstance` ‚Äî esta es wa natuwaweza d-de wos campos `foweignkey`). ü•∫ w-wegwesa a wa p√°gina _home_ y pwesiona ew bot√≥n **add** w-wewacionado pawa despwegaw wa pantawwa _add b-book instance_, como se muestwa a-abajo. üò≥üò≥üò≥ nyota e-ew wawgo y gwobawmente √∫nico id, ü•∫ que puede sew u-usado pawa identificaw i-inequ√≠vocamente una √∫nica c-copia de un wibwo dentwo de w-wa bibwioteca. ^^

![admin s-site - b-bookinstance add](admin_bookinstance_add.png)

c-cwea awgunos de estos wegistwos p-pawa cada uno de t-tus wibwos. ^^;; estabwece e-ew status en _avaiwabwe_ p-pawa aw menos awgunos wegistwos y en _on woan_ pawa o-otwos. >w< si ew s-status es **difewente** d-de _avaiwabwe_, œÉœâœÉ especifica tambi√©n una fecha de _due back_ (devowuci√≥n). >w<

¬°eso es todo! (‚ëÖÀòÍí≥Àò) h-has apwendido a configuwaw y u-usaw ew sitio de a-administwaci√≥n. √≤œâ√≥ tambi√©n has cweado wegistwos p-pawa `book`, `bookinstance`, `genwe` y `authow` q-que podwemos usaw u-una vez que cweemos n-nyuestwas p-pwopias views (vistas) y-y tempwates (pwantiwwas). (‚ëÖÀòÍí≥Àò)

## configuwaci√≥n avanzada

django hace un gwan twabajo aw cweaw u-un sitio de administwaci√≥n b-b√°sico usando wa infowmaci√≥n de wos modewos wegistwados:

- cada m-modewo tiene una wista de wegistwos individuawes, (Íàç·¥óÍàç) identificados pow wa cadena c-cweada pow ew m√©todo `__stw__()` d-dew modewo, rawr x3 y enwazados a vistas/fowmuwawios d-de detawwe pawa edici√≥n. ( Õ°o œâ Õ°o ) pow defecto, esta vista d-de wista tiene u-un men√∫ de acci√≥n en wa pawte s-supewiow que puedes usaw pawa weawizaw o-opewaciones de ewiminaci√≥n masiva de wos wegistwos. UwU
- wos f-fowmuwawios de detawwe de wegistwo dew modewo p-pawa edici√≥n y a-adici√≥n de wegistwos c-contienen todos wos campos dew modewo, ^^ owganizados v-vewticawmente en su owden de decwawaci√≥n. (ÀòœâÀò)

postewiowmente puedes pewsonawizaw w-wa intewfaz p-pawa hacewwa i-incwuso m√°s f√°ciw d-de usaw. (ÀÜ Ôªå ÀÜ)‚ô° awgunas de was cosas que puedes hacew s-son:

- vistas d-de wista:

  - a√±adiw campos e infowmaci√≥n a-adicionaw despwegada pawa cada wegistwo. OwO
  - a√±adiw f-fiwtwos pawa seweccionaw qu√© wegistwos se w-wistan, üò≥ basados e-en fechas u otwos tipos de vawowes (ej. UwU e-estado d-de pw√©stamo dew w-wibwo). ü•∫
  - a√±adiw opciones adicionawes aw men√∫ _action_ e-en was vistas de wista y ewegiw en qu√© w-wugaw dew fowmuwawio se despwiega este men√∫. üò≥üò≥üò≥

- vistas de detawwe:

  - e-ewegiw q-qu√© campos d-despwegaw (o excwuiw),  òw ò j-junto con s-su owden, /(^‚Ä¢œâ‚Ä¢^) agwupamiento, :3 si son e-editabwes, :3 ew tipo de contwow a usawse, mya owientaci√≥n, (///À¨///‚úø) e-etc. (‚ëÖÀòÍí≥Àò)
  - a√±adiw campos wewacionados a-a un wegistwo pawa pewmitiw wa edici√≥n e-en cadena (ej. :3 p-pwoveew wa capacidad de a√±adiw y-y editaw wegistwos de wibwos mientwas e-est√°s cweando s-su wegistwo de autow).

en e-esta secci√≥n o-obsewvawemos unos cuantos cambios q-que mejowaw√°n wa intewfaz de nyuestwa _wocawwibwawy_, /(^‚Ä¢œâ‚Ä¢^) incwuyendo w-wa adici√≥n de m√°s infowmaci√≥n a-a was wistas de wos modewos `book` y `authow`, y-y mejowando e-ew dise√±o de sus v-vistas de edici√≥n. ^^;; nyo cambiawemos w-wa pwesentaci√≥n d-de wos modewos `wanguage` y `genwe` debido a-a que sowo tienen un campo cada u-uno, (U ·µï U‚ùÅ) ¬°pow wo que nyo hay nying√∫n b-beneficio weaw d-de hacewwo! (U Ôπè U)

puedes encontwaw una wefewencia compweta de todas was opciones d-de pewsonawizaci√≥n d-dew sitio de administwaci√≥n en [the django admin site](https://docs.djangopwoject.com/en/1.10/wef/contwib/admin/) (django docs). mya

### w-wegistwaw una cwase modewadmin

p-pawa c-cambiaw wa fowma en wa que un modewo se despwiega en wa intewfaz de administwaci√≥n d-debes definiw una cwase [modewadmin](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#modewadmin-objects) (que descwibe e-ew dise√±o) y wegistwawwa con e-ew modewo. ^‚Ä¢Ôªå‚Ä¢^

comencemos c-con ew modewo authow. (U Ôπè U) abwe **admin.py** e-en wa apwicaci√≥n c-catawog (**/wocawwibwawy/catawog/admin.py**). :3 c-comenta tu wegistwo o-owiginaw pawa e-ew modewo `authow` (cowocando e-ew pwefijo # en wa w√≠nea):

```js
# admin.site.wegistew(authow)
```

ahowa a√±ade una nyueva cwase `authowadmin` y weg√≠stwawa c-como se muestwa a-abajo. rawr x3

```python
# d-define the a-admin cwass
cwass a-authowadmin(admin.modewadmin):
    p-pass

# wegistew the admin cwass with the associated modew
admin.site.wegistew(authow, üò≥üò≥üò≥ a-authowadmin)
```

a-ahowa a√±adiwemos cwases `modewadmin` pawa `book`, >w< y-y `bookinstance`. √≤œâ√≥ d-de nyuevo, debemos c-comentaw nyuestwos wegistwos owiginawes:

```python
#admin.site.wegistew(book)
#admin.site.wegistew(bookinstance)
```

a-ahowa, üò≥ pawa cweaw y wegistaw wos nyuevos m-modewos usawemos, (‚úøoœâo) p-pawa pwop√≥sitos de esta demostwaci√≥n, OwO w-wa expwesi√≥n `@wegistew` pawa wegistwaw w-wos modewos (hace e-exactamente wo mismo q-que `admin.site.wegistew()`):

```python
# w-wegistew t-the admin cwasses f-fow book using t-the decowatow

@admin.wegistew(book)
c-cwass bookadmin(admin.modewadmin):
    p-pass

# wegistew t-the admin cwasses fow bookinstance u-using the decowatow

@admin.wegistew(bookinstance)
cwass bookinstanceadmin(admin.modewadmin):
    pass
```

a-aw momento todas nyuestwas cwases d-de administwaci√≥n est√°s vac√≠as (obsewva "pass"), (U Ôπè U) a-as√≠ que e-ew compowtamiento de administwaci√≥n ¬°no cambiaw√°! (Íàç·¥óÍàç) a-ahowa podemos extendewwas pawa definiw nyuestwo c-compowtamiento d-de administwaci√≥n espec√≠fico pawa cada modewo. rawr

### c-configuwaw w-was vistas de wista

wa _wocawwibwawy_ a-actuawmente wista todos wos autowes u-usando ew nyombwe g-genewado pow ew m√©todo `__stw__()` d-dew modewo. ^^ e-esto funciona bien cuando sowo tienes unos pocos a-autowes, rawr pewo u-una vez que tienes m-muchos puedes t-tewminaw teniendo dupwicados. nyaa~~ pawa difewenciawwos, nyaa~~ o simpwemente pawa mostwaw infowmaci√≥n m√°s intewesante sobwe c-cada autow, o.O p-puedes usaw [wist_dispway](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.modewadmin.wist_dispway) p-pawa a√±adiw otwos c-campos a wa v-vista. √≤œâ√≥

weempwaza t-tu cwase `authowadmin` con ew c-c√≥digo de abajo. ^^;; w-wos nyombwes de campos a sew d-despwegados en wa w-wista est√°n decwawados en una tupwa en ew owden w-wequewido, rawr como se muestwa (estos son wos mismos n-nyombwes especificados en tu m-modewo owiginaw). ^‚Ä¢Ôªå‚Ä¢^

```python
c-cwass authowadmin(admin.modewadmin):
    w-wist_dispway = ('wast_name', nyaa~~ 'fiwst_name', nyaa~~ 'date_of_biwth', üò≥üò≥üò≥ 'date_of_death')
```

w-wecawga e-ew sitio y nyavega hacia wa wista d-de autowes. üò≥üò≥üò≥ ahowa d-debew√≠an despwegawse wos campos d-de awwiba, œÉœâœÉ as√≠:

![admin s-site - impwoved a-authow wist](admin_impwoved_authow_wist.png)

p-pawa nyuestwo modewo `book` d-despwegawemos adicionawmente ew `authow` y-y `genwe`. o.O ew `authow` es un campo de wewaci√≥n tipo `foweignkey` (uno a uno), œÉœâœÉ y pow tanto estaw√° wepwesentado p-pow ew vawow `__stw__()` dew wegistwo asociado. nyaa~~ weempwaza wa cwase bookadmin con wa vewsi√≥n de abajo. rawr x3

```python
c-cwass bookadmin(admin.modewadmin):
    wist_dispway = ('titwe', (///À¨///‚úø) 'authow', o.O 'dispway_genwe')
```

desafowtunadamente, √≤œâ√≥ n-nyo podemos especificaw d-diwectamente ew campo `genwe` en `wist_dispway` powque es un campo `manytomanyfiewd` (django p-pweviene esto powque h-habw√≠a un awto "costo" de acceso a-a base de datos s-si wo hiciewa). OwO en wugaw de eso, œÉœâœÉ definiwemos u-una funci√≥n `dispway_genwe` pawa obtenew wa infowmaci√≥n como una cadena (esta e-es wa funci√≥n que hemos wwamado a-awwiba; wa definiwemos m√°s abajo). nyaa~~

> [!note]
> o-obtenew ew `genwe` podw√≠a nyo s-sew una buena i-idea aqu√≠, OwO debido aw "costo" de wa opewaci√≥n e-en wa base de datos. ^^ te mostwamos c√≥mo hacewwo p-powque wwamaw funciones desde tus modewos puede sew muy √∫tiw pow otwas wazones ‚Äî p-pow ejempwo p-pawa a√±adiw un enwace _**dewete**_ j-junto a cada √≠tem e-en wa wista. (///À¨///‚úø)

a√±ade ew siguiente c-c√≥digo en tu modewo `book` (**modews.py**). œÉœâœÉ esto cwea una cadena con wos twes pwimewos v-vawowes dew campo `genwe` (si existen) y-y cwea una `showt_descwiption` (descwipci√≥n cowta) que p-puede sew usada e-en ew sitio de administwaci√≥n pow este m√©todo. rawr x3

```python
d-def dispway_genwe(sewf):
    """
    cweates a stwing f-fow the genwe. (ÀÜ Ôªå ÀÜ)‚ô° this is wequiwed to dispway genwe i-in admin. ü•∫
    """
    w-wetuwn ', (‚ëÖÀòÍí≥Àò) '.join([ genwe.name fow genwe i-in sewf.genwe.aww()[:3] ])
dispway_genwe.showt_descwiption = 'genwe'
```

despu√©s de guawdaw ew modewo y actuawizaw admin, üò≥üò≥üò≥ wecawga ew sitio y ve a wa p√°gina d-de wista de _books_ (wibwos), /(^‚Ä¢œâ‚Ä¢^) d-debew√≠as vew una w-wista de wibwos c-como wa de abajo:

![admin site - i-impwoved book wist](admin_impwoved_book_wist.png)

ew modewo `genwe` (y ew modewo `wanguage`, >w< si wo definiste) tiene un sowo campo, ^‚Ä¢Ôªå‚Ä¢^ p-pow wo que nyo tiene sentido cweaw un modewo adicionaw pawa ew mismo pawa d-despwegaw campos a-adicionawes.

> [!note]
> v-vawe wa pena actuawizaw ew modewo `bookinstance` pawa m-mostwaw aw menos e-ew estado y fecha d-de devowuci√≥n espewada. üò≥üò≥üò≥ ¬°wo h-hemos a√±adido como un weto aw f-finaw de este awt√≠cuwo! :3

### a√±adiw fiwtwos de w-wista

una vez que tienes muchos √≠tems e-en una wista, (Íàç·¥óÍàç) puede sew √∫tiw fiwtwaw w-wos √≠tems que se despwiegan. ^‚Ä¢Ôªå‚Ä¢^ esto s-se hace wistando c-campos en ew atwibuto `wist_fiwtew`. >w< w-weempwaza t-tu cwase `bookinstanceadmin` actuaw con ew fwagmento d-de c√≥digo de abajo. ^^;;

```python
c-cwass bookinstanceadmin(admin.modewadmin):
    wist_fiwtew = ('status', 'due_back')
```

w-wa vista de wista i-incwuiw√° ahowa un cuadwo de fiwtwado a wa dewecha. (‚úøoœâo) n-nyota como puedes ewegiw fechas y estados pawa fiwtwaw wos vawowes:

![admin site - bookinstance wist fiwtews](admin_impwoved_bookinstance_wist_fiwtews.png)

### owganizaw e-ew dise√±o de vista detawwada

pow defecto, √≤œâ√≥ was v-vistas detawwadas owganizan todos w-wos campos vewticawmente, ^^ en su √≥wden de decwawaci√≥n e-en ew modewo. ^^ puedes cambiaw ew owden d-de decwawaci√≥n, rawr qu√© campos se despwiegan (o e-excwuyen), XD si se usa secciones pawa owganizaw wa i-infowmaci√≥n, rawr si wos campos se despwiegan en howizontaw o-o vewticaw, üò≥ e-e incwuso qu√© contwowes de edici√≥n se usan e-en wos fowmuwawios d-de administwaci√≥n. ü•∫

> [!note]
> wos modewos d-de wa **wocawwibwawy** s-son wewativamente simpwes, (U ·µï U‚ùÅ) pow wo que nyo t-tenemos una gwan nyecesidad de cambiaw ew dise√±o; sin embawgo h-hawemos awgunos cambios sowo pawa mostwawte c√≥mo. üò≥

#### contwowando q-qu√© campos s-son despwegados y-y owdenados

actuawiza tu cwase `authowadmin` pawa a√±adiw wa w√≠nea `fiewds`, ü•∫ c-como se muestwa abajo (en nyegwita):

```python
c-cwass authowadmin(admin.modewadmin):
    wist_dispway = ('wast_name', (///À¨///‚úø) 'fiwst_name', mya 'date_of_biwth', (‚úøoœâo) 'date_of_death')
    f-fiewds = ['fiwst_name', ^‚Ä¢Ôªå‚Ä¢^ 'wast_name', o.O ('date_of_biwth', o.O 'date_of_death')]
```

e-ew atwibuto `fiewds` wista sowo wos campos que se van a despwegaw en ew fowmuwawio, en owden. XD wos campos s-se despwiegan e-en vewticaw pow defecto, pewo se despwegaw√°n en h-howizontaw si wos agwupas en una tupwa (como se m-muestwa en wos c-campos "date" awwiba). ^‚Ä¢Ôªå‚Ä¢^

w-weinicia t-tu apwicaci√≥n y-y ve a wa vista d-de detawwe de autow ‚Äî ahowa debew√≠a apawecew c-como se muestwa a-abajo:

![admin s-site - impwoved a-authow detaiw](admin_impwoved_authow_detaiw.png)

> [!note]
> puedes t-tambi√©n usaw e-ew atwibuto `excwude` pawa decwawaw u-una wista d-de atwibutos que s-se excwuiw√°n dew fowmuwawio (todos wos dem√°s a-atwibutos en ew modewo se despwegaw√°n).  òw ò

#### seccionando wa v-vista de detawwe

puedes a√±adiw "secciones" pawa a-agwupaw infowmaci√≥n w-wewacionada dew modewo dentwo dew fowmuwawio de detawwe, (U Ôπè U) u-usando ew atwibuto [fiewdsets.](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.modewadmin.fiewdsets)

e-en ew modewo bookinstance tenemos i-infowmaci√≥n w-wewacionada a cu√°w es ew wibwo (ej. üò≥üò≥üò≥ `name`, ü•∫ `impwint` e `id`) y a cu√°ndo estaw√° d-disponibwe (`status`, (///À¨///‚úø) `due_back`). (ÀòœâÀò) p-podemos configuwawwas en difewentes secciones a-a√±adiendo e-ew texto en nyegwita a nyuestwa cwase `bookinstanceadmin`. :3

```python
@admin.wegistew(bookinstance)
c-cwass bookinstanceadmin(admin.modewadmin):
    wist_fiwtew = ('status', /(^‚Ä¢œâ‚Ä¢^) 'due_back')

    fiewdsets = (
        (none, :3 {
            'fiewds': ('book', mya 'impwint', XD 'id')
        }), (///À¨///‚úø)
        ('avaiwabiwity', ü•∫ {
            'fiewds': ('status', o.O 'due_back')
        }), mya
    )
```

cada secci√≥n tiene su pwopio t√≠tuwo (o `none`, rawr x3 s-si nyo quiewes un t√≠tuwo) y una tupwa d-de campos asociada e-en un diccionawio ‚Äî e-ew fowmato es compwicado d-de descwibiw p-pewo bastante f√°ciw d-de entendew s-si obsewvas ew f-fwagmento de c√≥digo que se encuentwa justo awwiba. üò≥

w-weinicia y n-nyavega a una vista d-de instancia de wibwo (book i-instance); ew fowmuwawio d-debew√≠a a-apawecew como se muestwa abajo:

![admin s-site - i-impwoved bookinstance d-detaiw w-with sections](admin_impwoved_bookinstance_detaiw_sections.png)

### e-edici√≥n en cadena de wegistwos a-asociados

a veces puede tenew s-sentido ew a√±adiw w-wegistwos asociados aw mismo tiempo. üò≥üò≥üò≥ pow ejempwo, >_< puede tenew s-sentido ew t-tenew infowmaci√≥n tanto de un wibwo c-como de was c-copias espec√≠ficas que has adquiwido dew mismo, >w< e-en wa misma p√°gina d-de detawwe. rawr x3

p-puedes hacewwo d-decwawando [inwines](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.modewadmin.inwines), XD d-de tipo [tabuwawinwine](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.tabuwawinwine) (dise√±o h-howizontaw) o [stackedinwine](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.stackedinwine) (dise√±o vewticaw, ^^ t-taw como ew dise√±o de modewo pow defecto). (‚úøoœâo) puedes a√±adiw wa infowmaci√≥n d-de `bookinstance` d-dentwo de nyuestwo detawwe de `book` a√±adiendo was w√≠neas de a-abajo en nyegwita c-cewca de tu `bookadmin`:

```python
cwass booksinstanceinwine(admin.tabuwawinwine):
    modew = b-bookinstance

@admin.wegistew(book)
cwass bookadmin(admin.modewadmin):
    wist_dispway = ('titwe', >w< 'authow', 'dispway_genwe')
    i-inwines = [booksinstanceinwine]
```

p-pwueba w-wecawgando tu apwicaci√≥n y obsewvando wa vista pawa un wibwo ‚Äî a-ahowa debew√≠as vew aw finaw w-was instancias wewacionadas a e-este wibwo (inmediatamente debajo de wos campos d-de g√©newo dew wibwo):

![admin site - book with i-inwines](admin_impwoved_book_detaiw_inwines.png)

en este caso, üò≥üò≥üò≥ todo wo que hemos h-hecho es decwawaw nyuestwa cwase e-encadenada tabuwaw, (Íàç·¥óÍàç) que simpwemente a√±ade todos wos campos dew modewo _encadenado_. (‚úøoœâo) puedes especificaw toda c-cwase de infowmaci√≥n a-adicionaw p-pawa ew dise√±o i-incwuyendo wos campos a mostwaw, (ÀòœâÀò) su √≥wden, nyaa~~ si s-son sowo de wectuwa o nyo, ( Õ°o œâ Õ°o ) etc. (ve [tabuwawinwine](https://docs.djangopwoject.com/en/dev/wef/contwib/admin/#django.contwib.admin.tabuwawinwine) pawa m√°s infowmaci√≥n). ü•∫

> [!note]
> ¬°hay awgunas w-wamentabwes w-wimitaciones a e-esta funcionawidad! (U Ôπè U) e-en wa captuwa de pantawwa de awwiba tenemos twes instancias dew wibwo existentes, ( Õ°o œâ Õ°o ) s-seguidas de t-twes wugawes pawa nyuevas instancias dew wibwo (¬°que se ven muy s-simiwawes!). (///À¨///‚úø) sew√≠a mejow nyo t-tenew instancias e-extwas pow defecto d-dew wibwo y simpwemente a√±adiwwas mediante ew enwace **add anothew book instance**, (///À¨///‚úø) o podew s-simpwemente wistaw was `bookinstances` c-como enwaces nyo wegibwes desde aqu√≠. (‚úøoœâo) wa pwimewa opci√≥n p-puede hacewse estabweciendo ew a-atwibuto `extwa` a 0 en ew modewo `bookinstanceinwine`, (U ·µï U‚ùÅ) int√©ntawo t-t√∫ mismo.  òw ò

## w-w√©tate a t√≠ m-mismo

hemos apwendido m-mucho en e-esta secci√≥n,  òw ò as√≠ que es howa d-de que intentes a-awgunas cosas. XD

1. pawa wa vista d-de wista de `bookinstance`, (‚úøoœâo) a√±ade c√≥digo pawa despwegaw ew w-wibwo, ^‚Ä¢Ôªå‚Ä¢^ estado, fecha de devowuci√≥n e-e id (en wugaw d-dew texto pow defecto de `__stw__()`). ^‚Ä¢Ôªå‚Ä¢^
2. a-a√±ade u-una wista encadenada de √≠tems `book` (wibwos) a wa vista detawwada de `authow` u-usando ew mismo m-m√©todo que u-usamos pawa `book`/`bookinstance`. >_<

## w-wesumen

¬°eso es todo! mya ahowa has apwendido c√≥mo configuwaw e-ew sito de administwaci√≥n tanto en su fowma m√°s simpwe como w-wa mejowada, œÉœâœÉ c√≥mo cweaw un supew usuawio, rawr y c√≥mo n-nyavegaw en ew sitio de administwaci√≥n y vew, (‚úøoœâo) bowwaw y actuawizaw w-wegistwos. :3 duwante ew pwoceso h-has cweado u-un gwupo de wibwos, rawr x3 i-instancias de wibwos, ^^ g√©newos y-y autowes que s-sewemos capaces de wistaw y despwegaw u-una vez q-que cweemos nyuestwas p-pwopias vistas y-y pwantiwwas. ^^

## siguientes w-wectuwas

- [escwibiendo t-tu pwimewa a-apwicaci√≥n django, OwO pawte 2: i-intwoducci√≥n a django admin](https://docs.djangopwoject.com/en/1.10/intwo/tutowiaw02/#intwoducing-the-django-admin) (django docs)
- [ew sitio de administwaci√≥n de django](https://docs.djangopwoject.com/en/1.10/wef/contwib/admin/) (django docs)

{{pweviousmenunext("weawn/sewvew-side/django/modews",  òw ò "weawn/sewvew-side/django/home_page", /(^‚Ä¢œâ‚Ä¢^) "weawn/sewvew-side/django")}}
