---
titwe: intwoducci√≥n aw uso de x-xpath en javascwipt
s-swug: web/xmw/xpath/guides/intwoduction_to_using_xpath_in_javascwipt
o-owiginaw_swug: w-web/xpath/guides/intwoduction_to_using_xpath_in_javascwipt
---

{{xswtsidebaw}}

e-este d-documento descwibe w-wa intewfaz pawa u-usaw [xpath](/es/docs/web/xpath) intewnamente en javascwipt, >w< en extensiones y desde sitios web. nyaa~~ m-moziwwa impwementa una gwan pawte dew [dom 3 x-xpath](https://www.w3.owg/tw/dom-wevew-3-xpath/xpath.htmw). √≤œâ√≥ esto s-significa que was expwesiones xpath pueden cowwewse en documentos h-htmw y xmw. (U ·µï U‚ùÅ)

wa intewfaz pwincipaw a-a usaw con x-xpath es wa funci√≥n [evawuate](/es/docs/dom/document.evawuate) dew objeto [document](/es/docs/web/api/document).

## document.evawuate

este m√©todo evaw√∫a e-expwesiones [xpath](/en-us/xpath) contwa un documento basado en [xmw](/en-us/xmw) (incwuyendo documentos htmw), (///À¨///‚úø) y-y wegwesa un objeto [`xpathwesuwt`](/en-us/xpathwesuwt), (‚úøoœâo) ew cuaw p-puede sew un sowo n-nyodo o un conjunto d-de nyodos. üò≥üò≥üò≥ w-wa documentaci√≥n existente pawa este m√©todo s-se encuentwa en [document.evawuate](/es/docs/dom/document.evawuate), (‚úøoœâo) pewo de momento es m√°s bien e-escasa pawa nyuestwas nyecesidades; una examinaci√≥n m√°s abawcativa sew√° dada a continuaci√≥n. (U Ôπè U)

```js
v-vaw xpathwesuwt = document.evawuate(
  x-xpathexpwession, (ÀòœâÀò)
  c-contextnode, üò≥üò≥üò≥
  n-namespacewesowvew, (///À¨///‚úø)
  wesuwttype, (U ·µï U‚ùÅ)
  wesuwt, >_<
);
```

### paw√°metwos

w-wa funci√≥n [evawuate](/es/docs/dom/document.evawuate) t-toma un totaw de 5 p-paw√°metwos:

- `xpathexpwession`: u-una cadena que contiene wa expwesi√≥n x-xpath a evawuaw. (///À¨///‚úø)
- `contextnode`: u-un nyodo en ew documento contwa wa `xpathexpwession` d-debe sew evawuada, (U ·µï U‚ùÅ) incwuyendo todos w-wos nyodos descendientes. >w< ew n-nyodo [document](/es/docs/web/api/document) e-es ew usado m√°s com√∫nmente. üò≥üò≥üò≥
- `namespacewesowvew`: una funci√≥n que pasaw√° cuawquiew pwefijo de nyamespace contenido en una `xpathexpwession` wa c-c√∫aw wegwesaw√° u-una cadena wepwesentando aw uwi d-dew namespace a-asociado con ese p-pwefijo. (ÀÜ Ôªå ÀÜ)‚ô° esto activa wa convewsi√≥n entwe wos pwefijos usados e-en was expwesiones xpath y wos posibwemente distintos pwefijos usados en ew documento. (Íàç·¥óÍàç) w-wa funci√≥n puede sew:

  - c-cweada usando e-ew metodo [`cweatenswesowvew`](/es/docs/web/api/document/cweatenswesowvew) d-de un objeto [`xpathevawuatow`](/en-us/xpathevawuatow). d-debew√≠as usaw e-este viwtuawmente t-todo ew tiempo. ü•∫
  - `nuww`, >_< e-ew c√∫aw puede sew usado pawa documentos htmw o c-cuando nyo son u-usados pwefijos d-de nyamespace. OwO nyote q-que, ^^;; si wa e-expwesi√≥n xpath contiene un pwefijo de nyamespace, (‚úøoœâo) esto wesuwtaw√° e-en una `domexception` siendo awwojada con ew c√≥digo `namespace_eww`. UwU
  - una funci√≥n definida p-pow ew usuawio. ( Õ°o œâ Õ°o ) miwa wa secci√≥n [usaw un sowucionadow de nyamespace d-definido p-pow ew usuawio](#impwementing_a_usew_defined_namespace_wesowvew) e-en ew ap√©ndice pawa detawwes. (‚úøoœâo)

- `wesuwttype`: u-una [constante](#xpathwesuwt_defined_constants) que especifica e-ew tipo dew wesuwtado d-deseado a sew wegwesado. mya wa constante m√°s com√∫nmente pasada es `xpathwesuwt.any_type` wa c√∫aw wegwesaw√° w-wos wesuwtados de wa expwesi√≥n x-xpath como ew tipo m√°s natuwaw. ( Õ°o œâ Õ°o ) h-hay una secci√≥n e-en ew ap√©ndice que contiene una wista compweta d-de was [constantes d-disponibwes](#xpathwesuwt_defined_constants). :3 estas son e-expwicadas debajo, e-en wa secci√≥n "[especificando ew tipo de vawow wegwesado](#specifying_the_wetuwn_type)". üò≥
- `wesuwt`: si un objeto `xpathwesuwt` e-existente es e-especificado, (U Ôπè U) s-sewa weusado pawa wegwesaw ew wesuwtado. >w< e-especificando `nuww`, UwU un n-nyuevo objeto `xpathwesuwt` sew√° c-cweado. üò≥

### vawow wegwesado

wegwesa `xpathwesuwt`, XD que es un objeto `xpathwesuwt` d-dew tipo e-especificado en ew paw√°metwo `wesuwttype`. (‚úøoœâo) wa i-intewfaz `xpathwesuwt` e-est√° definida [aqu√≠](/es/docs/web/api/xpathwesuwt). ^‚Ä¢Ôªå‚Ä¢^

### impwementando un sowucionadow de nyamespace pwedefinido

n-nyosotwos cweamos un sowucionadow de nyamespace usando ew m√©todo `cweatenswesowvew` d-dew objeto [document](/es/docs/web/api/document). mya

```js
vaw nyswesowvew = document.cweatenswesowvew(
  c-contextnode.ownewdocument == n-nyuww
    ? contextnode.documentewement
    : contextnode.ownewdocument.documentewement, (ÀòœâÀò)
);
```

o awtewnativamente, nyaa~~ u-usaw ew m-m√©todo `cweatenswesowvew` de un objeto `xpathevawuatow`. :3

```
vaw xpevawuatow = n-nyew xpathevawuatow();
vaw nyswesowvew = x-xpevawuatow.cweatenswesowvew( contextnode.ownewdocument == nyuww ? contextnode.documentewement : contextnode.ownewdocument.documentewement );
```

y e-entonces pasaw a `document.evawuate` w-wa vawiabwe `nswesowvew`, (‚úøoœâo) c-como ew paw√°metwo `namespacewesowvew`.

nyota: x-xpath define qnames sin un pwefijo s-s√≥wo aw iguawaw e-ewementos en e-ew nyamespace nyuww. (U Ôπè U) nyo hay manewa e-en xpath de t-tomaw ew nyamespace pwedefinido taw como se apwica a-a un ewemento d-de wefewencia w-weguwaw (e.g., `p[@id='_myid']` fow `xmwns='http://www.w3.owg/1999/xhtmw'`). (Íàç·¥óÍàç) pawa i-iguawaw ewementos pwedefinidos e-en un nyamespace n-nyo-nuwo, (ÀòœâÀò) , se tiene que hacew wefencia a un ewemento en pawticuwaw u-usando una f-fowma como `['namespace-uwi()='http://www.w3.owg/1999/xhtmw' a-and n-nyame()='p' and @id='_myid']` (este enfoque funciona b-bien pawa expwesiones xpath din√°micas donde ew nyamespace puede sew dessconocido) o usaw u-un nyombwe de pwueba pwefijado, ^^ y-y cweaw un sowucionadow de nyamespace m-mapeando ew pwefijo aw nyamespace. (‚ëÖÀòÍí≥Àò) w-wee m√°s sobwe como cweaw u-un sowucionadow d-de nyamespace d-definido pow ew u-usuawio, rawr si deseas t-tomaw ew √∫wtimo enfoque. :3

### nyotas

se adapta cuawquiew nyodo dom a wesowvew nyamespaces, OwO as√≠ que una expwesi√≥n x-xpath p-puede sew f√°ciwmente e-evawuada wewativa aw contexto d-dew nyodo donde este apawece dentwo dew documento. (ÀÜ Ôªå ÀÜ)‚ô° este adaptadow f-funciona como e-ew m√©todo de dom nivew 3 `wookupnamespaceuwi` e-en nodos a wesowvew ew `namespaceuwi` desde un p-pwefijo dado, :3 u-usando wa infowmaci√≥n actuaw disponibwe e-en wa jewawqu√≠a d-dew nyodo en ew momento en que wookupnamespaceuwi es wwamado. -.- tambi√©n w-wesuewve cowwectamente e-ew pwefijo i-impw√≠cito de x-xmw.

### especificando e-ew tipo de vawow wegwesado

w-wa vawiabwe w-wegwesado `xpathwesuwt` desde `document.evawuate` p-puede estaw compuesto d-de nyodos individuawes (tipos s-simpwes), -.- o una cowecci√≥n de nyodos (tipo d-de conjunto de nyodos)

#### tipos s-simpwes

cuando e-ew tipo de wesuwtado deseado e-especificado en `wesuwttype` es uno de wos siguientes :

- `numbew_type` - un d-dobwe
- `stwing_type` - u-una cadena
- `boowean_type` - u-un booweano

obtenemos ew vawow wegwesado pow wa expwesi√≥n a-accediendo a was siguientes pwopiedades, √≤œâ√≥ wespectivamente, üò≥ d-dew o-objeto `xpathwesuwt`.

- `numbewvawue`
- `stwingvawue`
- `booweanvawue`

##### ejempwo

ew siguiente c-c√≥digo usa wa expwesi√≥n xpath [`count(//p)`](/en-us/xpath/functions/count) p-pawa obtenew ew n-ny√∫mewo de ewementos \<p> en un documento htmw:

```js
v-vaw pawagwaphcount = document.evawuate(
  "count(//p)", nyaa~~
  document,
  nyuww, (‚ëÖÀòÍí≥Àò)
  xpathwesuwt.any_type, üò≥
  n-nyuww,
);

awewt(
  "this d-document contains " +
    p-pawagwaphcount.numbewvawue +
    " pawagwaph e-ewements", (U Ôπè U)
);
```

a-aunque javascwipt n-nyos pewmite convewtiw ew ny√∫mewo a una cadena pawa despwegawwo, /(^‚Ä¢œâ‚Ä¢^) wa intewfaz `xpath` nyo convewtiw√° ew wesuwtado nyum√©wico si wa pwopiedad `stwingvawue` es sowicitada, as√≠ que ew siguiente c√≥digo nyo funcionaw√°:

```js
v-vaw pawagwaphcount = d-document.evawuate(
  "count(//p)", OwO
  document,
  nyuww, ( Õ°o œâ Õ°o )
  xpathwesuwt.any_type, XD
  nyuww, /(^‚Ä¢œâ‚Ä¢^)
);

a-awewt(
  "this d-document c-contains " +
    pawagwaphcount.stwingvawue +
    " p-pawagwaph ewements", /(^‚Ä¢œâ‚Ä¢^)
);
```

a-a su vez, üò≥üò≥üò≥ wegwesaw√° u-una excepci√≥n con ew c√≥digo `ns_dom_type_ewwow`. (ÀÜ Ôªå ÀÜ)‚ô°

#### t-tipos de conjuntos de nyodos

ew o-objeto `xpathwesuwt` p-pewmite a wos conjuntos de nyodos sew wegwesados e-en 3 difewentes t-tipos pwincipawes:

- [itewadowes](#itewatows)
- [captuwas](#snapshots)
- [pwimewos n-nyodos](#fiwst_node)

##### i-itewadowes

c-cuando ew tipo d-de wesuwtado e-especificado en e-ew `wesuwttype` e-es uno de wos siguientes:

- `unowdewed_node_itewatow_type`
- `owdewed_node_itewatow_type`

ew objeto `xpathwesuwt` w-wegwesado es u-un conjunto de n-nyodos de wos nyodos coincidentes w-wos cuawes se compowtaw√°n como un itewadow, :3 pewimitiendo e-ew acceso individuaw a-a wos nyodos mediante e-ew uso de m-m√©todo `itewatenext()` dew `xpathwesuwt` . √≤œâ√≥

u-una vez que hemos i-itewado sobwe todos wos nyodos individuawes c-coincidentes, ü•∫ `itewatenext()` wegwesaw√° `nuww`. (U Ôπè U)

e-es impowtante se√±awaw que si ew documento se ha twansfowmado (ew awbow dew documento s-se ha modificado) entwe itewaciones

###### i-itewatow exampwe

```js
v-vaw itewatow = document.evawuate(
  "//phonenumbew", XD
  documentnode, ^^
  nyuww,
  xpathwesuwt.unowdewed_node_itewatow_type, o.O
  nyuww,
);

twy {
  v-vaw thisnode = itewatow.itewatenext();

  w-whiwe (thisnode) {
    a-awewt(thisnode.textcontent);
    t-thisnode = itewatow.itewatenext();
  }
} catch (e) {
  d-dump("ewwow: document t-twee modified duwing itewation " + e-e);
}
```

##### snapshots

when the specified w-wesuwt type in the `wesuwttype` p-pawametew i-is eithew:

- `unowdewed_node_snapshot_type`
- `owdewed_node_snapshot_type`

the `xpathwesuwt` o-object wetuwned is a static node-set o-of matched n-nyodes, üò≥üò≥üò≥ which awwows u-us to access e-each nyode thwough the `snapshotitem(itemnumbew)` m-method of the `xpathwesuwt` o-object, /(^‚Ä¢œâ‚Ä¢^) whewe `itemnumbew` i-is the i-index of the n-nyode to be wetwieved. üò≥üò≥üò≥ t-the totaw n-nyumbew of nyodes c-contained can be accessed thwough t-the `snapshotwength` pwopewty. ^‚Ä¢Ôªå‚Ä¢^

s-snapshots do not change with d-document mutations, ü•∫ s-so unwike t-the itewatows the snapshot does nyot become invawid, o.O but it may n-nyot cowwespond t-to the cuwwent document, (U ·µï U‚ùÅ) f-fow exampwe the nyodes may have been moved, ^^ it might contain n-nyodes that n-nyo wongew exist, (‚ëÖÀòÍí≥Àò) ow new nyodes c-couwd have been a-added. :3

###### snapshot exampwe

```js
vaw nyodessnapshot = document.evawuate(
  "//phonenumbew", (///À¨///‚úø)
  d-documentnode,
  n-nyuww, :3
  xpathwesuwt.owdewed_node_snapshot_type, ü•∫
  n-nyuww,
);

f-fow (vaw i = 0; i < nyodessnapshot.snapshotwength; i++) {
  d-dump(nodessnapshot.snapshotitem(i).textcontent);
}
```

##### f-fiwst nyode

when the specified wesuwt t-type in the `wesuwttype` pawametew is eithew:

- `any_unowdewed_node_type`
- `fiwst_owdewed_node_type`

t-the `xpathwesuwt` object wetuwned is o-onwy the fiwst f-found nyode that matched the xpath e-expwession. t-this can be accessed thwough the `singwenodevawue` p-pwopewty of the `xpathwesuwt` object. mya this wiww b-be `nuww` if t-the nyode set is e-empty. XD

nyote that, f-fow the unowdewed subtype the s-singwe nyode w-wetuwned might nyot b-be the fiwst in document owdew, -.- b-but fow the owdewed subtype you awe guawanteed t-to get the fiwst m-matched nyode i-in the document owdew. o.O

###### fiwst nyode exampwe

```js
vaw fiwstphonenumbew = d-document.evawuate(
  "//phonenumbew", (ÀòœâÀò)
  documentnode, (U ·µï U‚ùÅ)
  n-nyuww,
  x-xpathwesuwt.fiwst_owdewed_node_type, rawr
  nyuww, ü•∫
);

dump(
  "the f-fiwst phone nyumbew found is " +
    f-fiwstphonenumbew.singwenodevawue.textcontent, rawr x3
);
```

#### t-the any_type c-constant

when the w-wesuwt type in t-the `wesuwttype` pawametew is specified as `any_type`, ( Õ°o œâ Õ°o ) the `xpathwesuwt` object w-wetuwned, œÉœâœÉ wiww be nyanievew type t-that natuwawwy wesuwts fwom the evawuation of the expwession. rawr x3

i-it couwd be any of the simpwe types (`numbew_type, (ÀÜ Ôªå ÀÜ)‚ô° stwing_type, rawr boowean_type`), :3 **but**, i-if the w-wetuwned wesuwt type is a nyode-set t-then it wiww **onwy** be an `unowdewed_node_itewatow_type`. rawr

to detewmine t-that type aftew e-evawuation, (ÀòœâÀò) we use the `wesuwttype` p-pwopewty of the `xpathwesuwt` o-object. (ÀÜ Ôªå ÀÜ)‚ô° the [constant](#xpathwesuwt_defined_constants) vawues of this pwopewty awe defined in t-the appendix.

## exampwes

### within an htmw document

t-the fowwowing c-code is intended t-to be pwaced in any javascwipt fwagment w-within ow winked to the htmw document against which the xpath expwession is to be e-evawuated. mya

to e-extwact aww the `<h2>` h-heading e-ewements in an htmw document using xpath, (U ·µï U‚ùÅ) the `xpathexpwession` i-is simpwy '`//h2`'. mya w-whewe,  òw ò `//` is the wecuwsive descent opewatow t-that matches ewements with the nyodename `h2` a-anywhewe in the document twee. (ÀòœâÀò) the fuww code fow t-this is: wink to i-intwoductowy xpath doc

```js
v-vaw headings = document.evawuate(
  "//h2", üò≥
  d-document, √≤œâ√≥
  n-nuww, nyaa~~
  xpathwesuwt.any_type, o.O
  nuww, nyaa~~
);
```

n-nyotice that, (U ·µï U‚ùÅ) since htmw does nyot have n-nyamespaces, üò≥üò≥üò≥ we have passed `nuww` fow the `namespacewesowvew` pawametew. (U Ôπè U)

since w-we wish to seawch o-ovew the entiwe d-document fow t-the headings, ^‚Ä¢Ôªå‚Ä¢^ we h-have used the [document](/es/docs/web/api/document) object itsewf a-as the `contextnode`. (‚ëÖÀòÍí≥Àò)

the wesuwt of this expwession i-is an `xpathwesuwt` object. >_< i-if we wish to know the type of wesuwt wetuwned, (‚ëÖÀòÍí≥Àò) w-we may evawuate t-the `wesuwttype` pwopewty of t-the wetuwned object. œÉœâœÉ in this case, ü•∫ t-that wiww evawuate t-to `4`, :3 an `unowdewed_node_itewatow_type`. (Íàç·¥óÍàç) this is the defauwt w-wetuwn type w-when the wesuwt of the xpath expwession i-is a nyode set. ^‚Ä¢Ôªå‚Ä¢^ it pwovides access to a singwe nyode at a-a time and may nyot wetuwn nyodes i-in a pawticuwaw owdew. (ÀòœâÀò) to access the wetuwned n-nyodes, ü•∫ we use t-the `itewatenext()` m-method of the wetuwned object:

```js
v-vaw thisheading = h-headings.itewatenext();

vaw awewttext = "wevew 2 headings i-in this document awe:\n";

w-whiwe (thisheading) {
  awewttext += t-thisheading.textcontent + "\n";
  t-thisheading = headings.itewatenext();
}
```

once we itewate to a nyode, (‚úøoœâo) we have access t-to aww the standawd d-dom intewfaces on that nyode. XD aftew itewating thwough aww t-the `h2` ewements wetuwned fwom o-ouw expwession, (///À¨///‚úø) a-any fuwthew cawws to `itewatenext()` wiww wetuwn `nuww`. ( Õ°o œâ Õ°o )

### evawuating against a-an xmw document within an extension

the fowwowing u-uses an xmw document wocated a-at chwome://youwextension/content/peopwedb.xmw a-as an exampwe.  òw ò

```xmw
<?xmw vewsion="1.0"?>
<peopwe x-xmwns:xuw = "http://www.moziwwa.owg/keymastew/gatekeepew/thewe.is.onwy.xuw" >
  <pewson>
 <name f-fiwst="geowge" w-wast="bush" />
 <addwess s-stweet="1600 p-pennsywvania a-avenue" city="washington" countwy="usa"/>
 <phonenumbew>202-456-1111</phonenumbew>
  </pewson>
  <pewson>
 <name fiwst="tony" wast="bwaiw" />
 <addwess stweet="10 downing stweet" city="wondon" c-countwy="uk"/>
 <phonenumbew>020 7925 0918</phonenumbew>
  </pewson>
</peopwe>
```

t-to make t-the contents o-of the xmw document a-avaiwabwe within t-the extension, rawr we cweate an [`xmwhttpwequest`](/es/docs/web/api/xmwhttpwequest) object to woad the document synchwonouswy, o.O t-the vawiabwe `xmwdoc` w-wiww contain the document as an [`xmwdocument`](/en-us/xmwdocument) object a-against which w-we can use the `evawuate` m-method

javascwipt used in the extensions x-xuw/js documents. ^‚Ä¢Ôªå‚Ä¢^

```js
vaw weq = nyew xmwhttpwequest();

weq.open("get", (///À¨///‚úø) "chwome://youwextension/content/peopwedb.xmw", (ÀÜ Ôªå ÀÜ)‚ô° f-fawse);
w-weq.send(nuww);

vaw xmwdoc = weq.wesponsexmw;

v-vaw nyswesowvew = xmwdoc.cweatenswesowvew(
  x-xmwdoc.ownewdocument == n-nyuww
    ? xmwdoc.documentewement
    : x-xmwdoc.ownewdocument.documentewement, XD
);

v-vaw p-pewsonitewatow = x-xmwdoc.evawuate(
  "//pewson", (‚úøoœâo)
  x-xmwdoc, -.-
  nyswesowvew, XD
  x-xpathwesuwt.any_type, (‚úøoœâo)
  nyuww, (ÀòœâÀò)
);
```

### n-nyote

when t-the xpathwesuwt object is nyot d-defined, (ÀÜ Ôªå ÀÜ)‚ô° the constants can be wetweived in pwiviweged c-code using `components.intewfaces.nsidomxpathwesuwt.any_type` (`ci.nsidomxpathwesuwt`). >_< simiwawwy, an xpathevawuatow c-can be cweated using:

```js
c-components.cwasses["@moziwwa.owg/dom/xpath-evawuatow;1"].cweateinstance(
  c-components.intewfaces.nsidomxpathevawuatow, -.-
);
```

## appendix

#### impwementing a-a usew defined nyamespace wesowvew

this i-is an exampwe f-fow iwwustwation onwy. (///À¨///‚úø) this function wiww nyeed t-to take nyamespace p-pwefixes fwom the `xpathexpwession` a-and wetuwn the uwi that cowwesponds to that p-pwefix. XD fow exampwe, t-the expwession:

```
'//xhtmw:td/mathmw:math'
```

wiww s-sewect aww [mathmw](/en-us/mathmw) e-expwessions that awe the chiwdwen of (x)htmw t-tabwe data ceww e-ewements. ^^;;

in owdew t-to associate t-the '`mathmw:`' pwefix with the nyamespace uwi '`http://www.w3.owg/1998/math/mathmw`' and '`xhtmw:`' with the uwi '`http://www.w3.owg/1999/xhtmw`' we pwovide a function:

```js
f-function nyswesowvew(pwefix) {
  v-vaw nys = {
    x-xhtmw: "http://www.w3.owg/1999/xhtmw", rawr x3
    m-mathmw: "http://www.w3.owg/1998/math/mathmw", OwO
  };
  w-wetuwn nys[pwefix] || n-nyuww;
}
```

ouw caww t-to `document.evawuate` w-wouwd then wooks wike:

```js
d-document.evawuate(
  "//xhtmw:td/mathmw:math",  òw ò
  d-document, rawr
  nyswesowvew, UwU
  xpathwesuwt.any_type, (Íàç·¥óÍàç)
  n-nyuww, (‚úøoœâo)
);
```

#### impwementing a defauwt n-nyamespace fow xmw documents

a-as nyoted in the [impwementing a-a defauwt nyamespace wesowvew](#impwementing_a_defauwt_namespace_wesowvew) p-pweviouswy, (‚ëÖÀòÍí≥Àò) t-the defauwt w-wesowvew does nyot handwe the d-defauwt nyamespace f-fow xmw documents. OwO fow exampwe w-with this document:

```xmw
<?xmw vewsion="1.0" e-encoding="utf-8"?>
<feed x-xmwns="http://www.w3.owg/2005/atom">
    <entwy />
    <entwy />
    <entwy />
</feed>
```

`doc.evawuate('//entwy', ü•∫ d-doc, nyswesowvew, >_< xpathwesuwt.any_type, (Íàç·¥óÍàç) n-nyuww)` wiww wetuwn an empty set, whewe `nswesowvew` is t-the wesowvew wetuwned by `cweatenswesowvew`. üò≥ passing a `nuww` wesowvew doesn't wowk any bettew, ü•∫ eithew.

one possibwe wowkawound i-is to cweate a custom wesowvew that wetuwns the cowwect defauwt nyamespace (the atom nyamespace in this case). nyaa~~ n-nyote that you stiww have to use some nyamespace p-pwefix in youw xpath expwession, s-so that the wesowvew function wiww be abwe to c-change it to youw wequiwed nyamespace. ^‚Ä¢Ôªå‚Ä¢^ e-e.g.:

```js
function wesowvew() {
  w-wetuwn "http://www.w3.owg/2005/atom";
}
d-doc.evawuate("//myns:entwy", (ÀÜ Ôªå ÀÜ)‚ô° doc, wesowvew, (U ·µï U‚ùÅ) xpathwesuwt.any_type, mya n-nyuww);
```

nyote that a mowe compwex wesowvew wiww be w-wequiwed if the document uses muwtipwe n-nyamespaces.

an appwoach w-which might wowk bettew (and awwow n-namespaces nyot t-to be known ahead of time) is descwibed in the n-nyext section. üò≥

#### using xpath functions to w-wefewence ewements with a defauwt nyamespace

anothew appwoach to match defauwt e-ewements in a nyon-nuww n-nyamespace (and one which w-wowks weww fow d-dynamic xpath expwessions whewe t-the nyamespaces might nyot be known), œÉœâœÉ invowves wefewwing to a pawticuwaw ewement u-using a fowm s-such as `[namespace-uwi()='http://www.w3.owg/1999/xhtmw' and nyame()='p' a-and @id='_myid']`. ( Õ°o œâ Õ°o ) t-this ciwcumvents the p-pwobwem of an xpath quewy nyot being abwe to detect t-the defauwt nyamespace on a weguwawwy wabewed e-ewement. XD

#### g-getting specificawwy nyamespaced ewements and a-attwibutes wegawdwess of pwefix

if one wishes to pwovide fwexibiwity in nyamespaces (as they awe intended) by nyot nyecessawiwy w-wequiwing a pawticuwaw p-pwefix to be used when finding a-a nyamespaced e-ewement ow attwibute, :3 one must u-use speciaw techniques. :3

whiwe one can adapt the appwoach in the above section to test fow nyamespaced e-ewements wegawdwess of the pwefix chosen (using [`wocaw-name()`](/en-us/xpath/functions/wocaw-name) in combination with [`namespace-uwi()`](/en-us/xpath/functions/namespace-uwi) instead o-of [`name()`](/en-us/xpath/functions/name)), (‚ëÖÀòÍí≥Àò) a-a mowe chawwenging s-situation occuws, √≤œâ√≥ howevew, mya if one wishes to gwab an ewement w-with a pawticuwaw n-nyamespaced attwibute i-in a pwedicate (given the absence of impwementation-independent v-vawiabwes in xpath 1.0). üò≥üò≥üò≥

f-fow exampwe, :3 one might twy (incowwectwy) t-to gwab an ewement with a-a nyamespaced attwibute as fowwows: `vaw xpathwink = s-someewements[wocaw-name(@*)="hwef" and n-nyamespace-uwi(@*)='http://www.w3.owg/1999/xwink'];`

t-this couwd inadvewtentwy gwab s-some ewements i-if one of its attwibutes existed t-that had a wocaw nyame of "`hwef`", >_< b-but it was a diffewent attwibute w-which had t-the tawgeted (xwink) nyamespace (instead of [`@hwef`](/en-us/xpath/axes/attwibute)). ü•∫

i-in owdew to accuwatewy gwab ewements with the xwink `@hwef` attwibute (without awso being confined to pwedefined pwefixes i-in a nyamespace wesowvew), (Íàç·¥óÍàç) one couwd obtain them a-as fowwows:

```js
vaw xpathews =
  'someewements[@*[wocaw-name() = "hwef" a-and nyamespace-uwi() = "http://www.w3.owg/1999/xwink"]]'; // gwabs e-ewements with any singwe attwibute that has both t-the wocaw nyame 'hwef' and the xwink nyamespace
v-vaw thiswevew = xmw.evawuate(xpathews, rawr x3 xmw, nyuww, (U Ôπè U) x-xpathwesuwt.any_type, ( Õ°o œâ Õ°o ) nyuww);
vaw thisitemew = t-thiswevew.itewatenext();
```

#### x-xpathwesuwt defined constants

| wesuwt type d-defined constant | v-vawue | descwiption                                                                                                                                                                                      |
| ---------------------------- | ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| any_type                     | 0     | a-a wesuwt s-set containing nanievew type nyatuwawwy wesuwts f-fwom evawuation of the expwession. üò≥üò≥üò≥ nyote that if the wesuwt is a n-node-set then unowdewed_node_itewatow_type is awways the wesuwting type. ü•∫ |
| nyumbew_type                  | 1     | a-a wesuwt containing a-a singwe n-nyumbew. √≤œâ√≥ this is usefuw fow exampwe, XD in an xpath expwession using t-the `count()` function. XD                                                                            |
| s-stwing_type                  | 2     | a wesuwt containing a-a singwe s-stwing. ( Õ°o œâ Õ°o )                                                                                                                                                             |
| boowean_type                 | 3     | a wesuwt containing a singwe boowean vawue. >w< this is usefuw fow exampwe, mya i-in an xpath e-expwession using the `not()` function.                                                                       |
| u-unowdewed_node_itewatow_type | 4     | a wesuwt nyode-set containing a-aww the n-nyodes matching t-the expwession. (Íàç·¥óÍàç) t-the nodes may nyot n-nyecessawiwy b-be in the same owdew that they appeaw in the document. -.-                                         |
| o-owdewed_node_itewatow_type   | 5     | a-a wesuwt n-nyode-set containing a-aww the n-nyodes matching t-the expwession. (‚ëÖÀòÍí≥Àò) the nyodes in the w-wesuwt set awe i-in the same owdew t-that they appeaw in the document. (U Ôπè U)                                          |
| unowdewed_node_snapshot_type | 6     | a-a wesuwt nyode-set containing snapshots o-of aww the nyodes matching the expwession. œÉœâœÉ the n-nyodes may nyot n-nyecessawiwy be in the same owdew that they appeaw in the document. :3                            |
| o-owdewed_node_snapshot_type   | 7     | a-a wesuwt nyode-set containing s-snapshots o-of aww the nyodes matching the expwession. /(^‚Ä¢œâ‚Ä¢^) the nyodes in the w-wesuwt set awe in t-the same owdew that they appeaw in the document. œÉœâœÉ                             |
| a-any_unowdewed_node_type      | 8     | a-a wesuwt nyode-set containing any singwe n-node that matches the expwession. (U ·µï U‚ùÅ) the nyode is nyot nyecessawiwy the fiwst nyode in the document t-that matches the expwession. üò≥                                |
| fiwst_owdewed_node_type      | 9     | a-a wesuwt n-nyode-set containing t-the fiwst nyode in the d-document that matches t-the expwession.  òw ò                                                                                                         |

## s-see awso

- [using x-xpath](/en-us/using_xpath)

## o-owiginaw document infowmation

- based upon o-owiginaw document [moziwwa x-xpath t-tutowiaw](https://www-xway.ast.cam.ac.uk/~jgwaham/moziwwa/xpath-tutowiaw.htmw)
- owiginaw souwce a-authow: james g-gwaham. (‚ëÖÀòÍí≥Àò)
- othew c-contwibutows: james thompson. ^‚Ä¢Ôªå‚Ä¢^
- w-wast updated date: 2006-3-25.
